import"./chunk-ETWBA36E.js";import{a as Ye}from"./chunk-TUXCUB2M.js";import{e as $e,h as Qe}from"./chunk-4QSNUENH.js";import{a as $,c as Q,d as je}from"./chunk-QWUG6NOH.js";import{a as j}from"./chunk-7BOCCQK3.js";import{a as Le}from"./chunk-CRNSR3XA.js";import"./chunk-DRF767GS.js";import"./chunk-IJTEU5B7.js";import"./chunk-PSWJZLWW.js";import"./chunk-RAOONKKW.js";import"./chunk-O75Y6YHR.js";import{$c as Oe,Ac as Fe,Bb as pe,Cb as A,Eb as de,Hb as S,Ib as R,Uc as Se,Vb as q,Vc as ye,Wb as V,Wc as xe,Xc as Me,Yc as Pe,ad as Ge,bd as we,f as ie,gd as Ee,h as b,hd as ke,id as Ie,jd as Te,kb as T,kd as Ne,lc as ce,ld as De,mb as f,mc as fe,md as Ae,nc as ue,nd as Re,ob as N,od as qe,pb as _,pd as Ve,qc as ge,rb as D,rc as he,sc as Ce,sd as U,tb as d,td as L,u as ae,v as le,vc as z,w as se,wb as me,wc as B,xc as ve,xd as ze,yc as be,yd as Be,zb as F,zc as _e,zd as Ue}from"./chunk-VBRQHIHF.js";import{Ab as w,Bb as E,Cb as H,Db as J,Eb as Z,Fb as p,Gb as e,Hb as o,Ib as m,Mb as K,Nb as W,Pb as k,Sb as g,Tb as v,Va as oe,Xa as s,d as te,da as M,ec as l,gc as x,hb as C,ia as c,lc as re,na as P,oa as O,pc as X,qc as I,ra as G,rc as ne,sc as ee}from"./chunk-MOKV6GK3.js";import"./chunk-OY7QI42D.js";var He=(()=>{let t=class t{constructor(){this.toastService=c(ze)}show(a){let r=this.toastService.show({message:`${a}`,actionHandler:()=>r.close(),placement:"bottom",duration:3e3})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var h=(()=>{let t=class t{constructor(){this.formGroup=new D({personalFormGroup:new D({firstName:new d(null,{validators:[f.required]}),lastName:new d(null,{validators:[f.required]}),gender:new d(null),email:new d(null,{validators:[f.required]}),phone:new d(null,{validators:[f.required]}),dateOfBirth:new d(null),comment:new d(null),rank:new d(5),size:new d(null),citizen:new d(!1),entryDate:new d(null),friends:new de([])}),addressFormGroup:new D({name:new d(null,{validators:[f.required]}),street:new d(null,{validators:[f.required]}),city:new d(null,{validators:[f.required]}),state:new d(null,{validators:[f.required]}),zip:new d(null,{validators:[f.required]})})})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:t.\u0275fac});let i=t;return i})();var Je=(i,t)=>[i,t];function tt(i,t){if(i&1){let u=k();e(0,"img",14),g("error",function(r){P(u);let n=v();return O(n.onImageError(r))}),o()}if(i&2){let u=v();p("src",u.imageUrl,oe)}}function ot(i,t){i&1&&m(0,"forge-icon",8)}function rt(i,t){i&1&&m(0,"forge-icon",8)}var We=(()=>{let t=class t{constructor(){this.destroyRef=c(G),this.router=c(se),this.route=c(ae),this.appDataService=c(j),this.dialogService=c(ge),this.appToastService=c(He),this.cache=c(h),this.noImageUrl="mock-data/no-image.png",this.activeTab=0}get personalFormGroup(){return this.cache.formGroup.controls.personalFormGroup}get addressFormGroup(){return this.cache.formGroup.controls.addressFormGroup}ngOnInit(){this.cache.profile&&this.loadForm(this.cache.profile),this.route.snapshot.children.map(a=>a.url.map(r=>r.path)).flat().includes("address")&&(this.activeTab=1)}canDeactivate(){return this.cache.formGroup.dirty?new te(a=>{this.dialogService.open($e,{options:{persistent:!0},data:{title:"Unsaved changes",message:"You have unsaved changes which will be lost, do you want to continue?"}}).afterClosed.subscribe({next:r=>{r&&this.cache.formGroup.reset(),a.next(r)}})}):!0}onLoadProfile(){this.appDataService.getProfile().pipe(R(this.destroyRef)).subscribe({next:a=>{this.cache.formGroup.reset(),this.cache.profile=a,this.loadForm(this.cache.profile)}})}onTabSelected(a){switch(this.activeTab){case 0:this.personalFormGroup.markAsTouched();break;case 1:this.addressFormGroup.markAsTouched();break}switch(a){case"personal":this.activeTab=0;break;case"address":this.activeTab=1;break}this.router.navigate([`profile/${a}`])}onSave(){this.cache.formGroup.invalid||(this.cache.profile=this.parseForm(this.cache.profile?.id),this.cache.formGroup.markAsPristine(),this.appToastService.show("Profile saved."))}onCancel(){this.cache.formGroup.reset(),this.cache.formGroup.markAsPristine(),this.imageUrl=void 0,this.cache.profile=void 0}onImageError(a){let r=a.target;r.src.includes(this.noImageUrl)||(r.src=this.noImageUrl,r.onerror=null)}isInvalid(a){return a.every(r=>r===!0)}loadForm(a){this.imageUrl=`mock-data/${Le.formatNumber(this.cache.profile?.id,"2.0-0")}-small.png`,this.personalFormGroup.controls.friends?.clear(),this.personalFormGroup.patchValue(a),this.addressFormGroup.patchValue(a.address)}parseForm(a){return{id:a||-1,firstName:this.personalFormGroup.value.firstName,lastName:this.personalFormGroup.value.lastName,gender:this.personalFormGroup.value.gender,email:this.personalFormGroup.value.email,phone:this.personalFormGroup.value.phone,dateOfBirth:this.personalFormGroup.value.dateOfBirth,address:this.addressFormGroup.value}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=C({type:t,selectors:[["app-profile"]],decls:29,vars:21,consts:[[1,"header"],["slot","start"],[1,"forge-typography--subheading4"],["alt","",3,"src"],["slot","end"],["variant","outlined",3,"click"],["secondary","",3,"activeTab"],["aria-controls","app--profile--personal",3,"forge-tab-select"],["slot","end","name","error"],["aria-controls","app--profile--address",3,"forge-tab-select"],[1,"body"],["novalidate","","autocomplete","off",3,"formGroup"],["inverted","",1,"footer"],["variant","filled",3,"click","disabled"],["alt","",3,"error","src"]],template:function(r,n){r&1&&(e(0,"forge-toolbar",0)(1,"div",1)(2,"h2",2),l(3,"Profile"),o(),w(4,tt,1,1,"img",3),o(),e(5,"div",4)(6,"forge-button",5),g("click",function(){return n.onLoadProfile()}),l(7," Load profile "),o()()(),e(8,"forge-tab-bar",6)(9,"forge-tab",7),g("forge-tab-select",function(){return n.onTabSelected("personal")}),l(10," Personal "),w(11,ot,1,0,"forge-icon",8),I(12,"appCallback"),o(),e(13,"forge-tab",9),g("forge-tab-select",function(){return n.onTabSelected("address")}),l(14," Address "),w(15,rt,1,0,"forge-icon",8),I(16,"appCallback"),o()(),e(17,"div",10)(18,"form",11),m(19,"router-outlet"),e(20,"p"),l(21),I(22,"json"),o()()(),e(23,"forge-toolbar",12)(24,"div",4)(25,"forge-button",5),g("click",function(){return n.onCancel()}),l(26,"Cancel"),o(),e(27,"forge-button",13),g("click",function(){return n.onSave()}),l(28," Save "),o()()()),r&2&&(s(4),E(n.imageUrl?4:-1),s(4),p("activeTab",n.activeTab),s(3),E(ee(12,7,X(15,Je,n.personalFormGroup.invalid,n.personalFormGroup.touched),n.isInvalid)?11:-1),s(4),E(ee(16,10,X(18,Je,n.addressFormGroup.invalid,n.addressFormGroup.touched),n.isInvalid)?15:-1),s(3),p("formGroup",n.cache.formGroup),s(3),x(" ",ne(22,13,n.cache.formGroup.getRawValue())," "),s(6),p("disabled",n.cache.formGroup.invalid||!n.cache.formGroup.dirty))},dependencies:[b,le,S,me,_,F,V,q,B,z,Ve,qe,Ae,Re,Ue,Be,ie,Ye],styles:[`[_nghost-%COMP%]{display:grid;grid-template-rows:auto auto 1fr auto;overflow:hidden;background-color:var(--forge-theme-surface)}.header[_ngcontent-%COMP%]{overflow:hidden;--forge-toolbar-border-bottom: none}.header[_ngcontent-%COMP%]   [slot=end][_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center}.header[_ngcontent-%COMP%]   [slot=end][_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin:0 16px}forge-tab-bar[_ngcontent-%COMP%]::part(container){justify-items:flex-start}forge-tab-bar[_ngcontent-%COMP%]   forge-tab[_ngcontent-%COMP%]{min-width:240px}forge-tab-bar[_ngcontent-%COMP%]   forge-tab[_ngcontent-%COMP%]   forge-icon[_ngcontent-%COMP%]{color:var(--forge-theme-error)}.body[_ngcontent-%COMP%]{padding:24px;overflow:auto}.footer[_ngcontent-%COMP%]   [slot=end][_ngcontent-%COMP%]   forge-button[_ngcontent-%COMP%]{margin-left:16px}






/*# sourceMappingURL=profile.component-FYDJOH5O.css.map */`]});let i=t;return i})();var Xe=(()=>{let t=class t{constructor(){this.cache=c(h)}get formGroup(){return this.cache.formGroup.controls.addressFormGroup}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=C({type:t,selectors:[["app-profile-address"]],hostAttrs:["role","tabpanel","id","app--profile--address"],decls:32,vars:6,consts:[[1,"form-grid",3,"formGroup"],["required","",1,"form-grid--row-break",3,"appFormControlInvalid"],["type","text","id","profile--address--name","formControlName","name","appAutoFocus",""],["for","profile--address--name","slot","label"],["slot","support-text",1,"app--form-control-invalid"],["type","text","id","profile--address--street","formControlName","street"],["for","profile--address--street","slot","label"],["required","",3,"appFormControlInvalid"],["type","text","id","profile--address-city","formControlName","city"],["for","profile--address--city","slot","label"],[1,"form-grid__state-zip"],["type","text","id","profile--address--state","formControlName","state"],["for","profile--address--state","slot","label"],["type","text","id","profile--address--zip","formControlName","zip"],["for","profile--address--zip","slot","label"]],template:function(r,n){r&1&&(e(0,"div",0)(1,"forge-text-field",1),m(2,"input",2),e(3,"label",3),l(4,"Name"),o(),e(5,"span",4),l(6,"Name is required"),o()(),e(7,"forge-text-field",1),m(8,"input",5),e(9,"label",6),l(10,"Street"),o(),e(11,"span",4),l(12,"Street is required"),o()(),e(13,"forge-text-field",7),m(14,"input",8),e(15,"label",9),l(16,"City"),o(),e(17,"span",4),l(18,"City is required"),o()(),e(19,"div",10)(20,"forge-text-field",7),m(21,"input",11),e(22,"label",12),l(23,"State"),o(),e(24,"span",4),l(25,"State is required"),o()(),e(26,"forge-text-field",7),m(27,"input",13),e(28,"label",14),l(29,"Zip code"),o(),e(30,"span",4),l(31,"Zip code is required"),o()()()()),r&2&&(p("formGroup",n.formGroup),s(),p("appFormControlInvalid",n.formGroup.controls.name),s(6),p("appFormControlInvalid",n.formGroup.controls.street),s(6),p("appFormControlInvalid",n.formGroup.controls.city),s(7),p("appFormControlInvalid",n.formGroup.controls.state),s(6),p("appFormControlInvalid",n.formGroup.controls.zip))},dependencies:[b,S,T,N,_,F,A,L,U,Q,$],styles:[`[_nghost-%COMP%]{display:block}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,320px);gap:16px}.form-grid--row-break[_ngcontent-%COMP%]{grid-column-start:1}.form-grid--col-span[_ngcontent-%COMP%]{grid-column:1/-1}.form-grid--col-span.form-grid--col-span[_ngcontent-%COMP%]{width:auto}.form-grid--col-span2[_ngcontent-%COMP%]{grid-column:span 2}.form-grid--col-span2.form-grid--col-span2[_ngcontent-%COMP%]{width:656px}.form-grid--col-span3[_ngcontent-%COMP%]{grid-column:span 3}.form-grid--col-span3.form-grid--col-span3[_ngcontent-%COMP%]{width:992px}.form-grid[_ngcontent-%COMP%]   [slot=value][_ngcontent-%COMP%]:empty:before{content:"n/a";color:var(--forge-theme-text-medium);font-style:italic}.form-grid__name[_ngcontent-%COMP%], .form-grid__street[_ngcontent-%COMP%]{grid-column:1/-1}.form-grid__state-zip[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;column-gap:16px}






/*# sourceMappingURL=address.component-SGQ4QNBV.css.map */`]});let i=t;return i})();function nt(i,t){if(i&1&&(e(0,"forge-radio",24),l(1),o()),i&2){let u=t.$implicit;p("value",re(u.value)),s(),x(" ",u.label," ")}}function it(i,t){if(i&1){let u=k();e(0,"div",29)(1,"forge-select",31)(2,"span",5),l(3,"A friend is required"),o(),e(4,"forge-icon-button",32),g("click",function(){let r=P(u).$index,n=v();return O(n.onDeleteFriend(r))}),m(5,"forge-icon",33),o()()()}if(i&2){let u=t.$index,a=v();s(),p("options",a.friendOptions)("formControlName",u)("appFormControlInvalid",a.formGroup.controls.friends.controls[u])}}var et=(()=>{let t=class t{constructor(){this.destroyRef=c(G),this.cache=c(h),this.appDataService=c(j),this.genderOptions=[{label:"",value:null},{label:"Male",value:"M"},{label:"Female",value:"F"},{label:"Undecided",value:"U"}],this.friendOptions=[],this.sizeOptions=[{label:"Small",value:"sm"},{label:"Medium",value:"md"},{label:"Large",value:"lg"}]}get formGroup(){return this.cache.formGroup.controls.personalFormGroup}get friendsFormArray(){return this.formGroup.controls.friends}ngOnInit(){this.appDataService.getPeople().pipe(R(this.destroyRef)).subscribe({next:a=>{this.friendOptions=a.data.map(r=>({label:`${r.firstName} ${r.lastName}`,value:r.id}))}})}onAddFriend(){this.friendsFormArray.push(new d(null,{validators:[f.required]}))}onDeleteFriend(a){this.friendsFormArray.removeAt(a)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=C({type:t,selectors:[["app-profile-personal"]],hostAttrs:["role","tabpanel","id","app--profile--personal"],decls:60,vars:8,consts:[[3,"formGroup"],[1,"form-grid"],["required","",3,"appFormControlInvalid"],["type","text","id","profile--personal--first-name","formControlName","firstName","appAutoFocus","",3,"appInputCasing"],["for","profile--personal--first-name","slot","label"],["slot","support-text",1,"app--form-control-invalid"],["type","text","id","profile--personal--last-name","formControlName","lastName"],["for","profile--personal--last-name","slot","label"],["label","Gender","formControlName","gender",3,"options"],["type","text","id","profile--personal--email","formControlName","email"],["for","profile--personal--email","slot","label"],["type","text","id","profile--personal--phone","formControlName","phone"],["for","profile--personal--phone","slot","label"],["formControlName","dateOfBirth"],["type","text","id","profile--personal--dob"],["for","profile--personal--dob"],[1,"form-grid__comment","form-grid--col-span"],["type","text","id","profile--personal--comment","formControlName","comment","rows","4"],["for","profile--personal--comment"],[2,"--forge-label-value-align","stretch"],["slot","label"],["slot","value"],["data-aria-label","Rank","min","0","max","10","formControlName","rank"],["slot","value","aria-label","Choose a size option","name","profile--personal--size"],["name","profile--personal--size","formControlName","size",3,"value"],["formControlName","citizen","aria-label","Is a citizen"],["label","Entry date","formControlName","entryDate"],[1,"friends"],["formArrayName","friends"],[1,"friend"],["variant","filled",3,"click"],["label","Friend",3,"options","formControlName","appFormControlInvalid"],["slot","accessory","density","medium","aria-label","Delete",3,"click"],["name","delete"]],template:function(r,n){r&1&&(K(0,0),e(1,"div",1)(2,"forge-text-field",2),m(3,"input",3),e(4,"label",4),l(5,"First name"),o(),e(6,"span",5),l(7,"First name is required"),o()(),e(8,"forge-text-field",2),m(9,"input",6),e(10,"label",7),l(11,"Last name"),o(),e(12,"span",5),l(13,"Last name is required"),o()(),m(14,"forge-select",8),e(15,"forge-text-field",2),m(16,"input",9),e(17,"label",10),l(18,"Email"),o(),e(19,"span",5),l(20,"Email is required"),o()(),e(21,"forge-text-field",2),m(22,"input",11),e(23,"label",12),l(24,"Phone"),o(),e(25,"span",5),l(26,"Phone number is required"),o()(),e(27,"forge-date-picker",13)(28,"forge-text-field"),m(29,"input",14),e(30,"label",15),l(31,"Date of birth"),o()()(),e(32,"forge-text-field",16),m(33,"textarea",17),e(34,"label",18),l(35,"Comment"),o()(),e(36,"forge-label-value",19)(37,"span",20),l(38),o(),e(39,"div",21),m(40,"forge-slider",22),o()(),e(41,"forge-label-value")(42,"span",20),l(43,"Size"),o(),e(44,"forge-radio-group",23),J(45,nt,2,3,"forge-radio",24,H),o()(),e(47,"forge-label-value")(48,"span",20),l(49,"Citizen"),o(),e(50,"div",21),m(51,"forge-switch",25),o()(),m(52,"app-date-time",26),o(),m(53,"forge-divider"),e(54,"div",27),K(55,28),J(56,it,6,3,"div",29,H),e(58,"forge-button",30),g("click",function(){return n.onAddFriend()}),l(59," Add friend"),o(),W(),o(),W()),r&2&&(p("formGroup",n.formGroup),s(2),p("appFormControlInvalid",n.formGroup.controls.firstName),s(),p("appInputCasing","upper"),s(5),p("appFormControlInvalid",n.formGroup.controls.lastName),s(6),p("options",n.genderOptions),s(),p("appFormControlInvalid",n.formGroup.controls.email),s(6),p("appFormControlInvalid",n.formGroup.controls.phone),s(17),x("Rank ",n.formGroup.value.rank),s(7),Z(n.sizeOptions),s(11),Z(n.formGroup.controls.friends.controls))},dependencies:[b,S,T,N,_,F,A,pe,V,q,ue,fe,ce,Ce,he,be,ve,z,B,Fe,_e,Pe,Me,ye,xe,Se,we,Ge,Oe,Ie,ke,Ee,De,Ne,Te,L,U,Q,je,Qe,$],styles:[`[_nghost-%COMP%]{display:block}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,320px);gap:16px}.form-grid--row-break[_ngcontent-%COMP%]{grid-column-start:1}.form-grid--col-span[_ngcontent-%COMP%]{grid-column:1/-1}.form-grid--col-span.form-grid--col-span[_ngcontent-%COMP%]{width:auto}.form-grid--col-span2[_ngcontent-%COMP%]{grid-column:span 2}.form-grid--col-span2.form-grid--col-span2[_ngcontent-%COMP%]{width:656px}.form-grid--col-span3[_ngcontent-%COMP%]{grid-column:span 3}.form-grid--col-span3.form-grid--col-span3[_ngcontent-%COMP%]{width:992px}.form-grid[_ngcontent-%COMP%]   [slot=value][_ngcontent-%COMP%]:empty:before{content:"n/a";color:var(--forge-theme-text-medium);font-style:italic}.form-grid__comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}forge-divider[_ngcontent-%COMP%]{margin:16px 0}.friends[_ngcontent-%COMP%]   .friend[_ngcontent-%COMP%]{padding-bottom:16px}.friends[_ngcontent-%COMP%]   .friend[_ngcontent-%COMP%]   forge-select[_ngcontent-%COMP%]{width:320px}






/*# sourceMappingURL=personal.component-QCOQFYFF.css.map */`]});let i=t;return i})();var Kt=[{path:"",component:We,canDeactivate:[i=>i.canDeactivate()],providers:[h],children:[{path:"address",component:Xe},{path:"personal",component:et},{path:"",redirectTo:"personal",pathMatch:"full"}]}];export{Kt as PROFILE_ROUTES};
//# sourceMappingURL=chunk-MRK2G35Z.js.map
