{
  "version": 3,
  "sources": ["src/app/table-demo/table-demo.service.ts"],
  "sourcesContent": ["import { Injectable, signal } from '@angular/core';\r\nimport { FormArray, FormControl, FormGroup } from '@angular/forms';\r\nimport { SortDirection } from '@tylertech/forge';\r\n\r\nimport { FilterOperator, IFilter, IFilterState, IPerson } from 'src/app/shared/interfaces';\r\n\r\nexport interface IRecordsetFilterForm {\r\n  firstName: FormGroup<{ value: FormControl<string | null>; operator: FormControl<FilterOperator | null> }>;\r\n  lastName: FormGroup<{ value: FormControl<string | null>; operator: FormControl<FilterOperator | null> }>;\r\n  gender: FormControl<string[] | null>;\r\n  occupation: FormGroup<{ value: FormControl<string | null>; operator: FormControl<FilterOperator | null> }>;\r\n}\r\n\r\nexport interface ITableColumnState {\r\n  property: string;\r\n  order: string | number;\r\n  width?: string | number;\r\n  hidden?: boolean;\r\n}\r\n\r\nexport interface ITableFilterState {\r\n  sort?: { property: string; direction: SortDirection };\r\n  filters?: IFilter[];\r\n  skip?: number;\r\n  take?: number;\r\n}\r\n\r\nexport interface ITableState {\r\n  columns: ITableColumnState[];\r\n  sort: { property: string; direction: SortDirection };\r\n  take: number;\r\n}\r\n\r\n@Injectable()\r\nexport class TableDemoService {\r\n  public filter: ITableFilterState = {\r\n    sort: {\r\n      property: 'lastName',\r\n      direction: SortDirection.Ascending\r\n    },\r\n    filters: [] as IFilter[],\r\n    skip: 0,\r\n    take: 25\r\n  };\r\n  public userFilters: IFilterState[] = [];\r\n  public activeUserFilter: IFilterState;\r\n  public totalRecords = 0;\r\n  public recordset = signal<IPerson[]>([]);\r\n\r\n  public expandedRows: string[] = [];\r\n  public selectedRows: string[] = [];\r\n  public recordsetFilterFormGroup = new FormGroup<IRecordsetFilterForm>({\r\n    firstName: new FormGroup({\r\n      value: new FormControl<string | null>(null),\r\n      operator: new FormControl<FilterOperator | null>(null)\r\n    }),\r\n    lastName: new FormGroup({\r\n      value: new FormControl<string | null>(null),\r\n      operator: new FormControl<FilterOperator | null>(null)\r\n    }),\r\n    gender: new FormControl<string[] | null>(null),\r\n    occupation: new FormGroup({\r\n      value: new FormControl<string | null>(null),\r\n      operator: new FormControl<FilterOperator | null>(null)\r\n    })\r\n  });\r\n  public filterStorageKey = 'app--table-demo--filters';\r\n  public convertRecordsetFilterFormGroup(): IFilter[] {\r\n    const filters: IFilter[] = [];\r\n    if (this.recordsetFilterFormGroup.controls.firstName.value?.value?.length) {\r\n      filters.push({\r\n        property: 'firstName',\r\n        value: this.recordsetFilterFormGroup.controls.firstName.value?.value,\r\n        operator: this.recordsetFilterFormGroup.controls.firstName.value?.operator\r\n      });\r\n    }\r\n    if (this.recordsetFilterFormGroup.controls.lastName.value?.value?.length) {\r\n      filters.push({\r\n        property: 'lastName',\r\n        value: this.recordsetFilterFormGroup.controls.lastName.value?.value,\r\n        operator: this.recordsetFilterFormGroup.controls.lastName.value?.operator\r\n      });\r\n    }\r\n    if (this.recordsetFilterFormGroup.controls.gender.value?.length) {\r\n      filters.push({\r\n        property: 'gender',\r\n        value: this.recordsetFilterFormGroup.controls.gender.value,\r\n        operator: null,\r\n        strict: true\r\n      });\r\n    }\r\n    if (this.recordsetFilterFormGroup.controls.occupation.value?.value?.length) {\r\n      filters.push({\r\n        property: 'occupation',\r\n        value: this.recordsetFilterFormGroup.controls.occupation.value?.value,\r\n        operator: this.recordsetFilterFormGroup.controls.occupation.value?.operator\r\n      });\r\n    }\r\n    return filters;\r\n  }\r\n}\r\n"],
  "mappings": "yGAkCA,IAAaA,GAAgB,IAAA,CAAvB,MAAOA,CAAgB,CAD7BC,aAAA,CAES,KAAAC,OAA4B,CACjCC,KAAM,CACJC,SAAU,WACVC,UAAWC,EAAcC,WAE3BC,QAAS,CAAA,EACTC,KAAM,EACNC,KAAM,IAED,KAAAC,YAA8B,CAAA,EAE9B,KAAAC,aAAe,EACf,KAAAC,UAAYC,EAAkB,CAAA,CAAE,EAEhC,KAAAC,aAAyB,CAAA,EACzB,KAAAC,aAAyB,CAAA,EACzB,KAAAC,yBAA2B,IAAIC,EAAgC,CACpEC,UAAW,IAAID,EAAU,CACvBE,MAAO,IAAIC,EAA2B,IAAI,EAC1CC,SAAU,IAAID,EAAmC,IAAI,EACtD,EACDE,SAAU,IAAIL,EAAU,CACtBE,MAAO,IAAIC,EAA2B,IAAI,EAC1CC,SAAU,IAAID,EAAmC,IAAI,EACtD,EACDG,OAAQ,IAAIH,EAA6B,IAAI,EAC7CI,WAAY,IAAIP,EAAU,CACxBE,MAAO,IAAIC,EAA2B,IAAI,EAC1CC,SAAU,IAAID,EAAmC,IAAI,EACtD,EACF,EACM,KAAAK,iBAAmB,2BACnBC,iCAA+B,CACpC,IAAMnB,EAAqB,CAAA,EAC3B,OAAI,KAAKS,yBAAyBW,SAAST,UAAUC,OAAOA,OAAOS,QACjErB,EAAQsB,KAAK,CACX1B,SAAU,YACVgB,MAAO,KAAKH,yBAAyBW,SAAST,UAAUC,OAAOA,MAC/DE,SAAU,KAAKL,yBAAyBW,SAAST,UAAUC,OAAOE,SACnE,EAEC,KAAKL,yBAAyBW,SAASL,SAASH,OAAOA,OAAOS,QAChErB,EAAQsB,KAAK,CACX1B,SAAU,WACVgB,MAAO,KAAKH,yBAAyBW,SAASL,SAASH,OAAOA,MAC9DE,SAAU,KAAKL,yBAAyBW,SAASL,SAASH,OAAOE,SAClE,EAEC,KAAKL,yBAAyBW,SAASJ,OAAOJ,OAAOS,QACvDrB,EAAQsB,KAAK,CACX1B,SAAU,SACVgB,MAAO,KAAKH,yBAAyBW,SAASJ,OAAOJ,MACrDE,SAAU,KACVS,OAAQ,GACT,EAEC,KAAKd,yBAAyBW,SAASH,WAAWL,OAAOA,OAAOS,QAClErB,EAAQsB,KAAK,CACX1B,SAAU,aACVgB,MAAO,KAAKH,yBAAyBW,SAASH,WAAWL,OAAOA,MAChEE,SAAU,KAAKL,yBAAyBW,SAASH,WAAWL,OAAOE,SACpE,EAEId,CACT,iDAjEWR,EAAgB,CAAA,iCAAhBA,EAAgBgC,QAAhBhC,EAAgBiC,SAAA,CAAA,CAAA,SAAhBjC,CAAgB,GAAA",
  "names": ["TableDemoService", "constructor", "filter", "sort", "property", "direction", "SortDirection", "Ascending", "filters", "skip", "take", "userFilters", "totalRecords", "recordset", "signal", "expandedRows", "selectedRows", "recordsetFilterFormGroup", "FormGroup", "firstName", "value", "FormControl", "operator", "lastName", "gender", "occupation", "filterStorageKey", "convertRecordsetFilterFormGroup", "controls", "length", "push", "strict", "factory", "\u0275fac"]
}
