import{Qb as I,pb as p,rb as M}from"./chunk-WGIND62E.js";import{Aa as l,B as C,Ec as o,L as R,Lc as c,M as A,R as g,Rb as u,Wa as E,Y as h,ca as s,cb as d,la as D,lc as m,na as S,nb as n,pb as F,u as b,v as y,ya as x}from"./chunk-UXY6XTJ4.js";var T={provide:p,useExisting:h(()=>k),multi:!0},k=(()=>{class t{constructor(){this.renderer=s(d),this.elementRef=s(l),this.threeStateEnabled=!1,this.onChange=e=>{},this.onTouched=()=>{}}hostChange(e){this.threeStateEnabled?(this.value=this.value===!0?!1:this.value===!1?null:!0,this.setCheckboxState()):this.value=this.elementRef.nativeElement.checked,this.onChange(this.value),this.onTouched()}hostBlur(){this.onTouched()}set threeState(e){this.threeStateEnabled!==e&&(this.threeStateEnabled=e,!this.threeStateEnabled&&this.elementRef.nativeElement.indeterminate&&(this.renderer.setProperty(this.elementRef.nativeElement,"indeterminate",!1),this.value=!1),this.setCheckboxState())}writeValue(e){this.value!==e&&(this.value=e,this.setCheckboxState())}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.renderer.setProperty(this.elementRef.nativeElement,"disabled",e)}setCheckboxState(){this.threeStateEnabled?this.value===!0?(this.renderer.setProperty(this.elementRef.nativeElement,"indeterminate",!1),requestAnimationFrame(()=>{this.renderer.setProperty(this.elementRef.nativeElement,"checked",!0)})):this.value===!1?(this.renderer.setProperty(this.elementRef.nativeElement,"indeterminate",!1),requestAnimationFrame(()=>{this.renderer.setProperty(this.elementRef.nativeElement,"checked",!1)})):(this.renderer.setProperty(this.elementRef.nativeElement,"checked",!1),requestAnimationFrame(()=>{this.renderer.setProperty(this.elementRef.nativeElement,"indeterminate",!0)})):this.renderer.setProperty(this.elementRef.nativeElement,"checked",!!this.value)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=n({type:t,selectors:[["forge-checkbox","formControlName",""],["forge-checkbox","formControl",""],["forge-checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&u("change",function(v){return r.hostChange(v)})("blur",function(){return r.hostBlur()})},inputs:{threeState:[2,"threeState","threeState",c]},features:[m([T])]})}}return t})();var U=(()=>{class t{constructor(){this.renderer=s(d),this.destroyRef=s(D),this.elementRef=s(l),this.invalidMessageElement=document.createElement("span"),this.control=o.required({alias:"appFormControlInvalid"}),this.invalidMessage=o(),this.renderer.setAttribute(this.invalidMessageElement,"slot","support-text"),this.renderer.setAttribute(this.invalidMessageElement,"aria-live","polite")}ngAfterViewInit(){this.tagName=this.elementRef.nativeElement.tagName,this.inputElement=this.elementRef.nativeElement.querySelector("input"),this.inputElement||(this.inputElement=this.elementRef.nativeElement.querySelector("textarea")),this.tagName==="FORGE-TEXT-FIELD"?(this.elementRef.nativeElement.hasAttribute("required")&&this.renderer.setAttribute(this.inputElement,"required",""),this.renderer.setAttribute(this.invalidMessageElement,"id",`${this.inputElement.id}--error`),this.renderer.setAttribute(this.inputElement,"aria-describedby",this.invalidMessageElement.id)):(this.renderer.setAttribute(this.invalidMessageElement,"id",`${this.elementRef.nativeElement.id}--error`),this.renderer.setAttribute(this.elementRef.nativeElement,"aria-describedby",this.invalidMessageElement.id)),this.renderer.appendChild(this.elementRef.nativeElement,this.invalidMessageElement);let e=C(this.elementRef.nativeElement,"focusout").pipe(R(0)),i=this.control().statusChanges.pipe(g(this.control().status)),r=this.control().valueChanges.pipe(g(this.control().value));this.setValidity(this.control().invalid&&this.control().touched),y({event:e,status:i,value:r}).pipe(b(a=>({invalid:a.status==="INVALID"&&this.control().touched,value:a.value})),A(),I(this.destroyRef)).subscribe({next:a=>{this.setValidity(a.invalid)}})}setValidity(e){e?(this.renderer.setAttribute(this.elementRef.nativeElement,"invalid",""),this.tagName==="FORGE-TEXT-FIELD"?this.renderer.setAttribute(this.inputElement,"aria-invalid","true"):this.renderer.setAttribute(this.elementRef.nativeElement,"aria-invalid","true")):(this.renderer.removeAttribute(this.elementRef.nativeElement,"invalid"),this.tagName==="FORGE-TEXT-FIELD"?this.renderer.setAttribute(this.inputElement,"aria-invalid","false"):this.renderer.setAttribute(this.elementRef.nativeElement,"aria-invalid","false")),this.setErrorDisplay()}setErrorDisplay(){this.control().invalid&&this.control().touched?(this.renderer.removeStyle(this.invalidMessageElement,"display"),this.renderer.removeStyle(this.elementRef.nativeElement,"--forge-field-support-text-margin-block",E.DashCase),typeof this.invalidMessage()=="string"?this.renderer.setProperty(this.invalidMessageElement,"innerText",this.invalidMessage()):this.renderer.setProperty(this.invalidMessageElement,"innerText",this.invalidMessage().get(Object.keys(this.control().errors).at(0)))):(this.renderer.setStyle(this.invalidMessageElement,"display","none"),this.renderer.setStyle(this.elementRef.nativeElement,"--forge-field-support-text-margin-block","0",E.DashCase),this.renderer.setProperty(this.invalidMessageElement,"innerText",""))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=n({type:t,selectors:[["","appFormControlInvalid",""]],inputs:{control:[1,"appFormControlInvalid","control"],invalidMessage:[1,"invalidMessage"]}})}}return t})();var K=(()=>{class t{constructor(){this.loaded=new S}ngAfterViewInit(){this.loaded.emit()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=n({type:t,selectors:[["","appOnLoad",""]],outputs:{loaded:"loaded"}})}}return t})();var Q=(()=>{class t{constructor(){this.element=s(l),this.appAutoFocus=o(void 0,{transform:c})}ngAfterViewInit(){this.appAutoFocus()!==!1&&window.requestAnimationFrame(()=>{this.element.nativeElement.focus()})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=n({type:t,selectors:[["","appAutoFocus",""]],inputs:{appAutoFocus:[1,"appAutoFocus"]}})}}return t})();var re=(()=>{class t extends M{constructor(){super(...arguments),this.appInputCasing=o("upper")}inputHandler(e){let i=e.target,r=i.selectionStart;i.value=this.appInputCasing()==="lower"?i.value.toLowerCase():i.value.toUpperCase(),i.setSelectionRange(r,r),this.onChange(i.value)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=x(t)))(r||t)}})()}static{this.\u0275dir=n({type:t,selectors:[["","appInputCasing",""]],hostBindings:function(i,r){i&1&&u("input",function(v){return r.inputHandler(v)})},inputs:{appInputCasing:[1,"appInputCasing"]},features:[m([{provide:p,multi:!0,useExisting:h(()=>t)}]),F]})}}return t})();export{Q as a,k as b,U as c,re as d,K as e};
//# sourceMappingURL=chunk-OHW3R4WQ.js.map
