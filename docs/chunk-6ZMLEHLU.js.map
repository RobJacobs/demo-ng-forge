{
  "version": 3,
  "sources": ["src/app/tanstack-table-demo/tanstack-table-demo.service.ts"],
  "sourcesContent": ["import { Injectable, signal } from '@angular/core';\r\nimport { FormControl, FormGroup } from '@angular/forms';\r\nimport { ColumnDef, ColumnOrderState, ColumnPinningState, ColumnSizingState, SortingState, VisibilityState } from '@tanstack/angular-table';\r\nimport { CellAlign, IOption, SortDirection } from '@tylertech/forge';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { FilterOperator, IFilter, IFilterState, IPerson } from 'src/app/shared/interfaces';\r\n\r\nexport type ComponentColumnDef = ColumnDef<IPerson> & {\r\n  dataType?: 'string' | 'number' | 'date' | 'boolean';\r\n  controlType?: 'autocomplete' | 'datepicker' | 'checkbox' | 'select' | 'textfield';\r\n  enableOrdering?: boolean;\r\n  enableEditing?: boolean;\r\n  enableMobile?: boolean;\r\n  frozen?: 'left' | 'right';\r\n  align?: CellAlign;\r\n  headerText?: string;\r\n  options?: ReturnType<typeof signal<IOption[]>>;\r\n};\r\n\r\nexport interface IRecordsetFilterForm {\r\n  firstName: FormGroup<{ value: FormControl<string | null>; operator: FormControl<FilterOperator | null> }>;\r\n  lastName: FormGroup<{ value: FormControl<string | null>; operator: FormControl<FilterOperator | null> }>;\r\n  gender: FormControl<string[] | null>;\r\n  occupation: FormGroup<{ value: FormControl<string | null>; operator: FormControl<FilterOperator | null> }>;\r\n}\r\n\r\nexport interface ITableFilterState {\r\n  sort?: { property: string; direction: SortDirection };\r\n  filters?: IFilter[];\r\n  skip?: number;\r\n  take?: number;\r\n}\r\n\r\nexport interface ITableState {\r\n  columns: {\r\n    order?: ColumnOrderState;\r\n    pinning?: ColumnPinningState;\r\n    sizing?: ColumnSizingState;\r\n    visibility?: VisibilityState;\r\n  };\r\n  sorting?: SortingState;\r\n  take: number;\r\n}\r\n\r\n@Injectable()\r\nexport class TanStackTableDemoService {\r\n  public filter: ITableFilterState = {\r\n    sort: {\r\n      property: 'lastName',\r\n      direction: SortDirection.Ascending\r\n    },\r\n    filters: [] as IFilter[],\r\n    skip: 0,\r\n    take: 25\r\n  };\r\n  public userFilters: IFilterState[] = [];\r\n  public activeUserFilter: IFilterState;\r\n  public totalRecords = 0;\r\n  public recordset = signal<IPerson[]>([]);\r\n\r\n  public recordsetFilterFormGroup = new FormGroup<IRecordsetFilterForm>({\r\n    firstName: new FormGroup({\r\n      value: new FormControl<string | null>(null),\r\n      operator: new FormControl<FilterOperator | null>(null)\r\n    }),\r\n    lastName: new FormGroup({\r\n      value: new FormControl<string | null>(null),\r\n      operator: new FormControl<FilterOperator | null>(null)\r\n    }),\r\n    gender: new FormControl<string[] | null>(null),\r\n    occupation: new FormGroup({\r\n      value: new FormControl<string | null>(null),\r\n      operator: new FormControl<FilterOperator | null>(null)\r\n    })\r\n  });\r\n\r\n  public columnOrder = signal<ColumnOrderState>([]);\r\n  public columnPinning = signal<ColumnPinningState>({ left: ['selector'], right: ['actions'] });\r\n  public columnSizing = signal<ColumnSizingState>({});\r\n  public columnVisibility = signal<VisibilityState>({});\r\n  public sorting = signal<SortingState>([{ desc: false, id: 'lastName' }]);\r\n\r\n  public convertRecordsetFilterFormGroup(): IFilter[] {\r\n    const filters: IFilter[] = [];\r\n    if (this.recordsetFilterFormGroup.controls.firstName.value?.value?.length) {\r\n      filters.push({\r\n        property: 'firstName',\r\n        value: this.recordsetFilterFormGroup.controls.firstName.value?.value,\r\n        operator: this.recordsetFilterFormGroup.controls.firstName.value?.operator\r\n      });\r\n    }\r\n    if (this.recordsetFilterFormGroup.controls.lastName.value?.value?.length) {\r\n      filters.push({\r\n        property: 'lastName',\r\n        value: this.recordsetFilterFormGroup.controls.lastName.value?.value,\r\n        operator: this.recordsetFilterFormGroup.controls.lastName.value?.operator\r\n      });\r\n    }\r\n    if (this.recordsetFilterFormGroup.controls.gender.value?.length) {\r\n      filters.push({\r\n        property: 'gender',\r\n        value: this.recordsetFilterFormGroup.controls.gender.value,\r\n        operator: null,\r\n        strict: true\r\n      });\r\n    }\r\n    if (this.recordsetFilterFormGroup.controls.occupation.value?.value?.length) {\r\n      filters.push({\r\n        property: 'occupation',\r\n        value: this.recordsetFilterFormGroup.controls.occupation.value?.value,\r\n        operator: this.recordsetFilterFormGroup.controls.occupation.value?.operator\r\n      });\r\n    }\r\n    return filters;\r\n  }\r\n}\r\n"],
  "mappings": "yGA8CA,IAAaA,GAAwB,IAAA,CAA/B,MAAOA,CAAwB,CADrCC,aAAA,CAES,KAAAC,OAA4B,CACjCC,KAAM,CACJC,SAAU,WACVC,UAAWC,EAAcC,WAE3BC,QAAS,CAAA,EACTC,KAAM,EACNC,KAAM,IAED,KAAAC,YAA8B,CAAA,EAE9B,KAAAC,aAAe,EACf,KAAAC,UAAYC,EAAkB,CAAA,CAAE,EAEhC,KAAAC,yBAA2B,IAAIC,EAAgC,CACpEC,UAAW,IAAID,EAAU,CACvBE,MAAO,IAAIC,EAA2B,IAAI,EAC1CC,SAAU,IAAID,EAAmC,IAAI,EACtD,EACDE,SAAU,IAAIL,EAAU,CACtBE,MAAO,IAAIC,EAA2B,IAAI,EAC1CC,SAAU,IAAID,EAAmC,IAAI,EACtD,EACDG,OAAQ,IAAIH,EAA6B,IAAI,EAC7CI,WAAY,IAAIP,EAAU,CACxBE,MAAO,IAAIC,EAA2B,IAAI,EAC1CC,SAAU,IAAID,EAAmC,IAAI,EACtD,EACF,EAEM,KAAAK,YAAcV,EAAyB,CAAA,CAAE,EACzC,KAAAW,cAAgBX,EAA2B,CAAEY,KAAM,CAAC,UAAU,EAAGC,MAAO,CAAC,SAAS,CAAC,CAAE,EACrF,KAAAC,aAAed,EAA0B,CAAA,CAAE,EAC3C,KAAAe,iBAAmBf,EAAwB,CAAA,CAAE,EAC7C,KAAAgB,QAAUhB,EAAqB,CAAC,CAAEiB,KAAM,GAAOC,GAAI,UAAU,CAAE,CAAC,EAEhEC,iCAA+B,CACpC,IAAMzB,EAAqB,CAAA,EAC3B,OAAI,KAAKO,yBAAyBmB,SAASjB,UAAUC,OAAOA,OAAOiB,QACjE3B,EAAQ4B,KAAK,CACXhC,SAAU,YACVc,MAAO,KAAKH,yBAAyBmB,SAASjB,UAAUC,OAAOA,MAC/DE,SAAU,KAAKL,yBAAyBmB,SAASjB,UAAUC,OAAOE,SACnE,EAEC,KAAKL,yBAAyBmB,SAASb,SAASH,OAAOA,OAAOiB,QAChE3B,EAAQ4B,KAAK,CACXhC,SAAU,WACVc,MAAO,KAAKH,yBAAyBmB,SAASb,SAASH,OAAOA,MAC9DE,SAAU,KAAKL,yBAAyBmB,SAASb,SAASH,OAAOE,SAClE,EAEC,KAAKL,yBAAyBmB,SAASZ,OAAOJ,OAAOiB,QACvD3B,EAAQ4B,KAAK,CACXhC,SAAU,SACVc,MAAO,KAAKH,yBAAyBmB,SAASZ,OAAOJ,MACrDE,SAAU,KACViB,OAAQ,GACT,EAEC,KAAKtB,yBAAyBmB,SAASX,WAAWL,OAAOA,OAAOiB,QAClE3B,EAAQ4B,KAAK,CACXhC,SAAU,aACVc,MAAO,KAAKH,yBAAyBmB,SAASX,WAAWL,OAAOA,MAChEE,SAAU,KAAKL,yBAAyBmB,SAASX,WAAWL,OAAOE,SACpE,EAEIZ,CACT,iDArEWR,EAAwB,CAAA,iCAAxBA,EAAwBsC,QAAxBtC,EAAwBuC,SAAA,CAAA,CAAA,SAAxBvC,CAAwB,GAAA",
  "names": ["TanStackTableDemoService", "constructor", "filter", "sort", "property", "direction", "SortDirection", "Ascending", "filters", "skip", "take", "userFilters", "totalRecords", "recordset", "signal", "recordsetFilterFormGroup", "FormGroup", "firstName", "value", "FormControl", "operator", "lastName", "gender", "occupation", "columnOrder", "columnPinning", "left", "right", "columnSizing", "columnVisibility", "sorting", "desc", "id", "convertRecordsetFilterFormGroup", "controls", "length", "push", "strict", "factory", "\u0275fac"]
}
