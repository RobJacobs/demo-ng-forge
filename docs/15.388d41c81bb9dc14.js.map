{"version":3,"file":"15.388d41c81bb9dc14.js","mappings":"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","names":["AppDataService","constructor","httpClient","this","getProfile","get","getPeople","filter","pipe","map","r","count","length","filters","Utils","filterData","f","key","property","value","strict","sort","sortData","direction","isNumber","skip","take","slice","data","getPerson","id","find","p","toString","getSearches","Observable","o","searches","localStorage","getItem","isDefined","JSON","parse","next","complete","saveSearches","setItem","stringify","getLongRequest","t","i0","i1","_angular_core__WEBPACK_IMPORTED_MODULE_4__","Yz7","factory","ɵfac","providedIn","AppFormsModule","_angular_core__WEBPACK_IMPORTED_MODULE_0__","oAB","cJS","CommonModule","FormsModule","ReactiveFormsModule","ForgeModule","ctx_r4","rangeMessage","option_r6","_r8","$implicit","ctx_r7","onDeleteRangeOption","label","$event","_r10","ctx_r9","rangeMin","ctx_r11","rangeMax","ctx_r12","onAddRangeOption","AutocompleteRangeComponent_ng_template_8_div_14_Template","AutocompleteRangeComponent_ng_template_8_forge_list_item_16_Template","ctx_r3","maxlength","rangeOptions","AutocompleteRangeComponent","values","writeValue","ngZone","viewContainerRef","valueChange","EventEmitter","elementId","uniqueId","onChange","fn","onTouched","onFilter","Promise","resolve","reject","optionFilter","subscribe","response","options","forEach","isArray","push","error","optionHeaderBuilder","run","undefined","rangeRef","rootNodes","selectedTextBuilder","selectedOptions","autocompleteRef","nativeElement","open","optionCount","rangeOptionCount","rangeOption","window","requestAnimationFrame","ngAfterViewInit","createEmbeddedView","rangeTemplateRef","remove","ngOnDestroy","destroy","registerOnChange","registerOnTouched","onAutocompleteChange","emitChangeEvents","autocompleteBlur","isString","trim","comp","comparator","findIndex","filterInputRef","option","focus","optionIndex","splice","emit","Xpm","selectors","viewQuery","rf","ctx","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","decls","vars","consts","template","AutocompleteRangeComponent_ng_template_8_Template","i2","styles","static","type","a","b","getPropertyValue","reduce","previousValue","currentValue","operator","substring","Object","defineProperty","toLowerCase","rec","every","indexOf","Date","getTime","isNaN","parseFloat","localeCompare","navigator","language","numeric","location","router","fallbackRoute","getState","navigationId","navigate","back","prefix","Math","random","replace","format","formatDate","formatNumber","params","search","httpParams","HttpParams","fromString","keys","k","getAll","enumerable","writable","object","reduced"],"sourceRoot":"webpack:///","sources":["./src/app/app-data.service.ts","./src/app/shared/app-forms.module.ts","./src/app/shared/components/autocomplete-range/autocomplete-range.component.html","./src/app/shared/components/autocomplete-range/autocomplete-range.component.ts","./src/utils.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { map, delay } from 'rxjs/operators';\r\nimport { isDefined, isNumber } from '@tylertech/forge-core';\r\nimport { IPerson, IProfile } from 'src/app/shared/interfaces/person.interface';\r\nimport { ISearch } from 'src/app/shared/interfaces/search.interface';\r\nimport { IFilterParameter } from 'src/app/shared/interfaces/filter.interface';\r\nimport { Utils } from 'src/utils';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AppDataService {\r\n  constructor(private httpClient: HttpClient) { }\r\n\r\n  public getProfile(): Observable<IProfile> {\r\n    return this.httpClient.get<IProfile>('mock-data/profile.json');\r\n  }\r\n\r\n  public getPeople(filter?: IFilterParameter): Observable<{ count: number; data: Array<IPerson> }> {\r\n    return this.httpClient.get<Array<IPerson>>('mock-data/people.json').pipe(\r\n      // delay(2000),\r\n      map((r) => {\r\n        let count = r.length;\r\n        if (filter) {\r\n          if (filter.filters?.length) {\r\n            r = Utils.filterData(\r\n              r,\r\n              filter.filters.map((f) => ({ key: f.property, value: f.value, strict: f.property === 'gender' || f.property === 'id' }))\r\n            );\r\n            count = r.length;\r\n          }\r\n\r\n          if (filter.sort) {\r\n            r = Utils.sortData(r, filter.sort.property, 'string', filter.sort.direction);\r\n          }\r\n\r\n          if (isNumber(filter.skip) && isNumber(filter.take)) {\r\n            r = r.slice(filter.skip, filter.skip + filter.take);\r\n          }\r\n        }\r\n        return { count, data: r };\r\n      })\r\n    );\r\n  }\r\n\r\n  public getPerson(id: number): Observable<IPerson | undefined> {\r\n    return this.httpClient.get('mock-data/people.json').pipe(map((r) => (r as IPerson[]).find((p) => p.id.toString() === id.toString())));\r\n  }\r\n\r\n  public getSearches(key: string): Observable<ISearch[]> {\r\n    return new Observable<ISearch[]>((o) => {\r\n      let searches = localStorage.getItem(key);\r\n      if (isDefined(searches)) {\r\n        searches = JSON.parse(searches as string);\r\n      }\r\n      o.next(searches as any);\r\n      o.complete();\r\n    });\r\n  }\r\n\r\n  public saveSearches(key: string, searches: ISearch[]): Observable<boolean> {\r\n    return new Observable<boolean>((o) => {\r\n      localStorage.setItem(key, JSON.stringify(searches));\r\n      o.next(true);\r\n      o.complete();\r\n    });\r\n  }\r\n\r\n  public getLongRequest(): Observable<string> {\r\n    return this.httpClient.get<string>('http://localhost:5000/long-request');\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { ForgeModule } from '@tylertech/forge-angular';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  exports: [FormsModule, ReactiveFormsModule, ForgeModule],\r\n  providers: []\r\n})\r\nexport class AppFormsModule { }","<forge-autocomplete #rangeAutocomplete [filter]=\"onFilter\" [selectedTextBuilder]=\"selectedTextBuilder\" [popupHeaderBuilder]=\"optionHeaderBuilder\" multiple (forge-autocomplete-change)=\"onAutocompleteChange()\">\r\n  <forge-text-field>\r\n    <input #filterInput type=\"text\" [attr.id]=\"elementId\" />\r\n    <label [attr.for]=\"elementId\">{{label}}</label>\r\n    <forge-icon slot=\"trailing\" class=\"forge-dropdown-icon\" name=\"arrow_drop_down\"></forge-icon>\r\n  </forge-text-field>\r\n</forge-autocomplete>\r\n\r\n<ng-template #rangeTemplate>\r\n  <div class=\"range\" tabindex=\"-1\">\r\n    <div class=\"range__input\">\r\n      <span class=\"forge-typography--subtitle1 range__input__header\">Enter a search range</span>\r\n      <div class=\"range__input__body\">\r\n        <forge-text-field>\r\n          <input type=\"text\" placeholder=\"min\" [attr.maxlength]=\"maxlength\" [(ngModel)]=\"rangeMin\" />\r\n        </forge-text-field>\r\n        <span>to</span>\r\n        <forge-text-field>\r\n          <input type=\"text\" placeholder=\"max\" [attr.maxlength]=\"maxlength\" [(ngModel)]=\"rangeMax\" />\r\n        </forge-text-field>\r\n        <forge-icon-button>\r\n          <button type=\"button\" aria-label=\"add search range\" (click)=\"onAddRangeOption()\">\r\n            <forge-icon name=\"add\"></forge-icon>\r\n          </button>\r\n        </forge-icon-button>\r\n      </div>\r\n      <div *ngIf=\"rangeMessage\" class=\"forge-typography--caption\">{{rangeMessage}}</div>\r\n    </div>\r\n    <forge-list class=\"range__options\">\r\n      <forge-list-item *ngFor=\"let option of rangeOptions\">\r\n        <forge-icon-button slot=\"leading\">\r\n          <button type=\"button\" aria-label=\"delete search range\" (click)=\"onDeleteRangeOption(option)\">\r\n            <forge-icon name=\"delete\"></forge-icon>\r\n          </button>\r\n        </forge-icon-button>\r\n        {{option.label}}\r\n      </forge-list-item>\r\n    </forge-list>\r\n    <forge-divider></forge-divider>\r\n  </div>\r\n</ng-template>","import {\r\n  AfterViewInit,\r\n  Component,\r\n  EmbeddedViewRef,\r\n  Input,\r\n  OnDestroy,\r\n  TemplateRef,\r\n  ViewChild,\r\n  ViewContainerRef,\r\n  forwardRef,\r\n  ElementRef,\r\n  Output,\r\n  EventEmitter,\r\n  HostListener,\r\n  CUSTOM_ELEMENTS_SCHEMA,\r\n  NgZone\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor, FormsModule } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport {\r\n  AutocompleteFilterCallback,\r\n  IOption,\r\n  IAutocompleteOptionGroup,\r\n  AutocompleteSelectedTextBuilder,\r\n  AutocompleteComponent\r\n} from '@tylertech/forge';\r\nimport { isArray, isString, isDefined } from '@tylertech/forge-core';\r\n\r\nimport { Utils } from 'src/utils';\r\nimport { ListDropdownHeaderBuilder } from '@tylertech/forge/esm/list-dropdown';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-autocomplete-range',\r\n  templateUrl: './autocomplete-range.component.html',\r\n  styleUrls: ['./autocomplete-range.component.scss'],\r\n  standalone: true,\r\n  imports: [CommonModule, FormsModule],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n  providers: [{ provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => AutocompleteRangeComponent), multi: true }]\r\n})\r\nexport class AutocompleteRangeComponent implements ControlValueAccessor, AfterViewInit, OnDestroy {\r\n  @ViewChild('rangeAutocomplete') autocompleteRef?: ElementRef;\r\n  @ViewChild('rangeTemplate') rangeTemplateRef?: TemplateRef<any>;\r\n  @ViewChild('filterInput') filterInputRef?: ElementRef;\r\n\r\n  @Input()\r\n  public optionFilter?: (filter: string) => Observable<IOption[]>;\r\n\r\n  @Input()\r\n  public set value(values: Array<IOption> | Array<string | string[] | number>) {\r\n    this.writeValue(values);\r\n  }\r\n  @Output()\r\n  public valueChange = new EventEmitter<Array<string | string[] | number>>();\r\n\r\n  @Input()\r\n  public label?: string;\r\n  @Input()\r\n  public maxlength: number | null = null;\r\n\r\n  public rangeOptions: IOption[] = [];\r\n  public rangeMin?: string;\r\n  public rangeMax?: string;\r\n  public rangeMessage?: string;\r\n  public elementId = Utils.uniqueId();\r\n\r\n  private rangeRef?: EmbeddedViewRef<any>;\r\n  private filter = '';\r\n\r\n  constructor(\r\n    private ngZone: NgZone,\r\n    private viewContainerRef: ViewContainerRef\r\n  ) { }\r\n\r\n  public onChange = (fn: any) => { };\r\n  public onTouched = () => { };\r\n\r\n  public onFilter: AutocompleteFilterCallback = (filter: string): Promise<IOption[] | IAutocompleteOptionGroup[]> => {\r\n    this.filter = filter;\r\n    return new Promise((resolve, reject) => {\r\n      if (this.optionFilter) {\r\n        this.optionFilter(this.filter).subscribe(\r\n          {\r\n            next: (response) => {\r\n              const options: IOption[] = [];\r\n              response.forEach((o) => (isArray(o.value) ? this.rangeOptions.push(o) : options.push(o)));\r\n              resolve(options);\r\n            },\r\n            error: () => reject()\r\n          }\r\n        );\r\n      }\r\n\r\n    });\r\n  };\r\n\r\n  public optionHeaderBuilder: ListDropdownHeaderBuilder = (): HTMLElement => {\r\n    this.ngZone.run(() => {\r\n      this.rangeMin = undefined;\r\n      this.rangeMax = undefined;\r\n      this.rangeMessage = undefined;\r\n    });\r\n\r\n    return this.rangeRef?.rootNodes[0] as HTMLElement\r\n  };\r\n\r\n  public selectedTextBuilder: AutocompleteSelectedTextBuilder = (selectedOptions: IOption[]): string => {\r\n    if (this.autocompleteRef?.nativeElement.open && this.filter.length) {\r\n      return this.filter;\r\n    }\r\n\r\n    const optionCount = selectedOptions?.length;\r\n    const rangeOptionCount = this.rangeOptions?.length;\r\n\r\n    if (optionCount > 0 && rangeOptionCount > 0) {\r\n      return `${optionCount} option(s) selected, ${rangeOptionCount} range(s)`;\r\n    } else if (optionCount > 0) {\r\n      return `${optionCount} option(s) selected`;\r\n    } else if (rangeOptionCount > 0) {\r\n      return `${rangeOptionCount} range(s)`;\r\n    }\r\n\r\n    return '';\r\n  };\r\n\r\n  writeValue(values: Array<IOption> | Array<string | string[] | number>): void {\r\n    const options: IOption[] = [];\r\n    this.rangeOptions.length = 0;\r\n    if (isArray(values)) {\r\n      values.forEach((o) => {\r\n        if (isArray(o) || isArray((o as IOption).value)) {\r\n          const rangeOption = isDefined((o as IOption).value) ? (o as IOption).value : o;\r\n          this.rangeOptions.push({ label: `${rangeOption[0]} to ${rangeOption[1]}`, value: rangeOption });\r\n        } else {\r\n          options.push(o as IOption);\r\n        }\r\n      });\r\n    }\r\n    window.requestAnimationFrame(() => {\r\n      ((this.autocompleteRef as ElementRef).nativeElement as AutocompleteComponent).value = options;\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    window.requestAnimationFrame(() => {\r\n      this.rangeRef = this.viewContainerRef.createEmbeddedView(this.rangeTemplateRef as TemplateRef<any>);\r\n      (this.rangeRef.rootNodes[0] as HTMLElement).remove();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.rangeRef?.destroy();\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  public onAutocompleteChange(): void {\r\n    this.emitChangeEvents();\r\n  }\r\n\r\n  // eslint-disable-next-line @typescript-eslint/member-ordering\r\n  @HostListener('focusout', ['$event'])\r\n  public autocompleteBlur(): void {\r\n    this.onTouched();\r\n  }\r\n\r\n  public onAddRangeOption(): void {\r\n    if (!this.rangeMin?.length && !this.rangeMax?.length) {\r\n      this.rangeMessage = 'A min or max value is required.';\r\n      return;\r\n    }\r\n\r\n    this.rangeMin = isString(this.rangeMin) ? this.rangeMin?.trim() : this.rangeMin;\r\n    this.rangeMax = isString(this.rangeMax) ? this.rangeMax?.trim() : this.rangeMax;\r\n\r\n    if (this.rangeMin?.length && this.rangeMax?.length) {\r\n      const comp = Utils.comparator(this.rangeMin, this.rangeMax, 'string');\r\n      if (comp === 0) {\r\n        this.rangeMessage = 'Min and Max cannot be the same value.';\r\n        return;\r\n      }\r\n      if (comp === 1) {\r\n        this.rangeMessage = 'Min value cannot be greater than Max value.';\r\n        return;\r\n      }\r\n    }\r\n\r\n    const optionIndex = this.rangeOptions.findIndex((o) => o.value[0] === this.rangeMin && o.value[1] === this.rangeMax);\r\n    if (optionIndex !== -1) {\r\n      this.rangeMessage = 'This range is already defined.';\r\n      return;\r\n    }\r\n\r\n    this.rangeMessage = undefined;\r\n\r\n    const label =\r\n      this.rangeMin?.length && this.rangeMax?.length\r\n        ? `${this.rangeMin} to ${this.rangeMax}`\r\n        : this.rangeMin?.length\r\n          ? `Greater than ${this.rangeMin}`\r\n          : `Less than ${this.rangeMax}`;\r\n\r\n    this.rangeOptions.push({ label, value: [this.rangeMin, this.rangeMax] });\r\n    this.emitChangeEvents();\r\n    this.rangeMin = undefined;\r\n    this.rangeMax = undefined;\r\n\r\n    (this.filterInputRef as ElementRef).nativeElement.value = this.selectedTextBuilder(this.autocompleteRef?.nativeElement.value);\r\n  }\r\n\r\n  public onDeleteRangeOption(option: IOption): void {\r\n    (this.rangeRef?.rootNodes[0] as HTMLElement).focus();\r\n    const optionIndex = this.rangeOptions.findIndex((o) => o.value === option.value);\r\n    if (optionIndex !== -1) {\r\n      this.rangeOptions.splice(optionIndex, 1);\r\n      (this.filterInputRef as ElementRef).nativeElement.value = this.selectedTextBuilder(this.autocompleteRef?.nativeElement.value);\r\n      this.emitChangeEvents();\r\n    }\r\n  }\r\n\r\n  private emitChangeEvents(): void {\r\n    const options = [];\r\n    if (isArray(this.rangeOptions) && this.rangeOptions.length) {\r\n      options.push(...this.rangeOptions.map((o) => o.value));\r\n    }\r\n\r\n    const values = this.autocompleteRef?.nativeElement.value;\r\n    if (isArray(values) && values.length) {\r\n      options.push(...values);\r\n    }\r\n\r\n    this.onChange(options);\r\n    this.valueChange.emit(options);\r\n  }\r\n}\r\n","import { formatDate, formatNumber, Location } from '@angular/common';\r\nimport { HttpParams } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { isArray, getPropertyValue, isDefined, isString } from '@tylertech/forge-core';\r\nimport { SortDirection } from '@tylertech/forge';\r\n\r\nexport class Utils {\r\n  public static sortData(data: any[], key: string, type: 'string' | 'number' | 'boolean' | 'date', direction: 'ASC' | 'DESC' | SortDirection): any[] {\r\n    if (!data || !data.length) {\r\n      return data;\r\n    }\r\n\r\n    type = type || 'string';\r\n\r\n    if (direction !== 'DESC') {\r\n      direction = 'ASC';\r\n    }\r\n\r\n    return data.slice().sort((a, b): number => {\r\n      a = getPropertyValue(a, key);\r\n      b = getPropertyValue(b, key);\r\n\r\n      if (direction === 'DESC') {\r\n        return this.comparator(b, a, type);\r\n      } else {\r\n        return this.comparator(a, b, type);\r\n      }\r\n    });\r\n  }\r\n\r\n  public static groupData(data: any[], property: string): any[] {\r\n    if (!isArray(data) || !data.length || !property?.length) {\r\n      return data;\r\n    }\r\n\r\n    return data.reduce((previousValue, currentValue) => {\r\n      const key = currentValue[property];\r\n      if (!previousValue[key]) {\r\n        previousValue[key] = [];\r\n      }\r\n      previousValue[key].push(currentValue);\r\n      return previousValue;\r\n    }, {});\r\n  }\r\n\r\n  public static filterData(data: any[], filters: { key: string; value: string; type?: 'string' | 'number' | 'boolean' | 'date'; strict?: boolean }[]): any[] {\r\n    if (!isArray(data) || !data.length || !isArray(filters) || !filters.length) {\r\n      return data;\r\n    }\r\n\r\n    filters = filters.map((f) => {\r\n      if (isString(f.value) && f.value.length) {\r\n        let operator;\r\n        if (f.value.substring(0, 2) === '<>') {\r\n          if (f.value.length === 2) {\r\n            f.value = '';\r\n            return f;\r\n          }\r\n          operator = f.value.substring(0, 2);\r\n          f.value = f.value.substring(2);\r\n        } else if (f.value.substring(0, 1) === '<' || f.value.substring(0, 1) === '>') {\r\n          if (f.value.length === 1) {\r\n            f.value = '';\r\n            return f;\r\n          }\r\n          operator = f.value.substring(0, 1);\r\n          f.value = f.value.substring(1);\r\n        }\r\n\r\n        if (operator) {\r\n          Object.defineProperty(f, 'operator', { value: operator });\r\n        }\r\n      }\r\n\r\n      f.value = ('' + f.value).toLowerCase();\r\n      return f;\r\n    });\r\n\r\n    const filter = (rec: any) =>\r\n      filters.every((f) => {\r\n        if (!f.value.length) {\r\n          return true;\r\n        }\r\n\r\n        const value = ('' + getPropertyValue(rec, f.key)).toLowerCase();\r\n        if (!value.length) {\r\n          return false;\r\n        }\r\n\r\n        if (f.strict) {\r\n          return value === f.value;\r\n        }\r\n\r\n        switch ((f as any).operator) {\r\n          case '<>':\r\n            return this.comparator(value, f.value, f.type) !== 0;\r\n          case '>':\r\n            return this.comparator(value, f.value, f.type) > 0;\r\n          case '<':\r\n            return this.comparator(value, f.value, f.type) < 0;\r\n          default:\r\n            return value.indexOf(f.value) > -1;\r\n        }\r\n      });\r\n\r\n    return data.filter((rec) => filter(rec));\r\n  }\r\n\r\n  public static comparator(a: any, b: any, type: 'string' | 'number' | 'boolean' | 'date' = 'string'): number {\r\n    // eslint-disable-next-line eqeqeq\r\n    if (a == b) {\r\n      return 0;\r\n    }\r\n    if (!isDefined(a)) {\r\n      return -1;\r\n    }\r\n    if (!isDefined(b)) {\r\n      return 1;\r\n    }\r\n\r\n    switch (type) {\r\n      case 'boolean':\r\n        return a ? -1 : 1;\r\n      case 'date':\r\n        a = new Date(a).getTime();\r\n        if (isNaN(a)) {\r\n          return -1;\r\n        }\r\n        b = new Date(b).getTime();\r\n        if (isNaN(b)) {\r\n          return 1;\r\n        }\r\n        break;\r\n      case 'number':\r\n        a = parseFloat(a);\r\n        if (isNaN(a)) {\r\n          return -1;\r\n        }\r\n        b = parseFloat(b);\r\n        if (isNaN(b)) {\r\n          return 1;\r\n        }\r\n        break;\r\n      default:\r\n        if (!isNaN(parseFloat(a)) && !isNaN(parseFloat(b))) {\r\n          return ('' + a).localeCompare('' + b, navigator.language, { numeric: true });\r\n        } else {\r\n          return ('' + a).localeCompare('' + b);\r\n        }\r\n    }\r\n\r\n    return a < b ? -1 : a > b ? 1 : 0;\r\n  }\r\n\r\n  public static navigateBack(location: Location, router: Router, fallbackRoute: any[]): void {\r\n    if ((location.getState() as any)?.navigationId === 1) {\r\n      router.navigate(fallbackRoute);\r\n    } else {\r\n      location.back();\r\n    }\r\n  }\r\n\r\n  public static elementId(prefix: string): string {\r\n    return (\r\n      prefix +\r\n      Math.random()\r\n        .toString(36)\r\n        .replace(/[^a-z]+/g, '')\r\n    );\r\n  }\r\n\r\n  public static formatDate(value: Date, format = 'MM/dd/yyyy'): string {\r\n    if (!isDefined(value)) {\r\n      return '';\r\n    }\r\n    return formatDate(value, format, navigator.language);\r\n  }\r\n\r\n  public static formatNumber(value: number, format = '1.2-2'): string {\r\n    return formatNumber(value, navigator.language, format);\r\n  }\r\n\r\n  public static uniqueId(): string {\r\n    return Math.random().toString(36).substring(2);\r\n  }\r\n\r\n  public static parseQueryStringParameters(): any {\r\n    const params = {};\r\n\r\n    if (window.location.search.length) {\r\n      const httpParams = new HttpParams({ fromString: window.location.search.substring(1) });\r\n      httpParams.keys().forEach(k => {\r\n        const value = httpParams.getAll(k) as string[];\r\n        if (value.length) {\r\n          Object.defineProperty(params, k.toLowerCase(), { value: value.length === 1 ? value[0] : value, enumerable: true, writable: true });\r\n        }\r\n      });\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  public static reduceObject(object: any): any {\r\n    const reduced: any = {};\r\n\r\n    Object.keys(object).forEach(key => {\r\n      if (isDefined(object[key])) {\r\n        if (isArray(object[key])) {\r\n          if (object[key].length) {\r\n            reduced[key] = object[key];\r\n          }\r\n        } else if ((object[key] + '').trim().length) {\r\n          reduced[key] = typeof object[key] === 'string' ? object[key].trim() : object[key];\r\n        }\r\n      }\r\n    });\r\n\r\n    return reduced;\r\n  }\r\n}\r\n"],"x_google_ignoreList":[]}