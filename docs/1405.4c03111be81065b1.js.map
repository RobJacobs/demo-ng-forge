{"version":3,"file":"1405.4c03111be81065b1.js","mappings":"kRAIogB,SAASA,EAAEC,EAAEC,GAAG,MAAMC,EAAED,EAAEE,OAAO,GAAGH,EAAEC,EAAE,GAAGG,OAAO,IAAIF,EAAE,OAAOD,EAAE,GAAGI,KAAK,QAAQC,EAAE,EAAEA,EAAEJ,EAAEI,IAAI,GAAGN,EAAEC,EAAEK,GAAGF,MAA0D,OAAOH,EAAEK,EAAE,GAAGD,MAAxDL,EAAEC,EAAEK,EAAE,GAAGF,QAAQH,EAAEK,GAAGF,MAAMH,EAAEK,EAAE,GAAGF,QAA6BH,EAAEK,GAAGD,KAAKJ,EAAEK,EAAE,GAAGD,MAAM,OAAOJ,EAAEC,EAAE,GAAGG,IAAI,CAAC,MAAME,EAAEC,cAAcC,KAAKC,aAAa,GAAGD,KAAKE,cAAc,IAAIC,aAAa,GAAGH,KAAKI,SAAS,IAAID,aAAa,IAAIH,KAAKK,gBAAgB,IAAIF,aAAa,GAAGH,KAAKM,YAAY,IAAIH,aAAa,GAAGH,KAAKO,kBAAkB,IAAIJ,aAAa,GAAGH,KAAKQ,sBAAqB,EAAGR,KAAKS,sBAAsB,CAACC,eAAc,EAAGC,gBAAe,EAAGC,mBAAkB,EAAGC,eAAe,aAAaC,kBAAiB,GAAId,KAAKe,WAAWC,GAAC,CAACC,oBAAoBxB,GAAG,MAAMI,EAAEG,KAAKkB,kBAAkB,GAAGrB,EAAE,OAAOA,EAAEsB,MAAM,IAAI,SAAS,OAAOtB,EAAE,IAAI,kBAAkB,SAAON,MAAEM,EAAEuB,OAAO3B,GAAI,KAAK,IAAIF,EAAE,IAAI8B,EAAE,EAAE,UAAU7B,KAAKK,EAAEuB,OAAO,CAAC,MAAMvB,EAAEyB,WAAW9B,GAAG+B,EAAEC,KAAKC,IAAIhC,EAAEI,GAAG0B,EAAEhC,IAAIA,EAAEgC,EAAEF,EAAExB,GAAG,GAAGN,IAAI,IAAI,MAAM,CAACmC,MAAM,IAAIvB,aAAa,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,IAAIwB,OAAO,IAAIxB,aAAa,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,KAAK,MAAMoB,EAAE,KAAK9B,EAAE4B,GAAG,GAAGO,KAAEpC,MAAEK,EAAEuB,OAAOC,IAAIQ,EAAE,IAAI1B,aAAayB,EAAED,QAAQ,OAAOE,EAAE,IAAIN,EAAEM,EAAE,IAAIN,EAAE,CAACG,SAAMlC,MAAEoC,EAAEF,OAAOC,OAAOE,EAAC,GAAK,QAAQ,OAAO,CAAKC,2BAAuB,OAAO9B,KAAKS,qBAAqB,CAACsB,OAAOxC,IAAGE,QAAEO,KAAKgC,UAAUhC,KAAKiC,uBAAuBjC,KAAKgC,QAAQE,SAAS3C,EAAE,CAAC4C,QAAQ5C,EAAEC,EAAEC,GAAGO,KAAKoC,eAAe3C,GAAGO,KAAKgC,QAAQxC,EAAEQ,KAAKe,cAAWsB,MAAE9C,GAAGS,KAAKsC,eAAetC,KAAKe,WAAWwB,6BAA6BvC,KAAKsC,eAAe/C,EAAE,CAACiD,eAAe,MAAM,IAAIxC,KAAKe,WAAWyB,aAAaxC,KAAKsC,gBAAgB9B,qBAAqBR,KAAKQ,qBAAqBiC,wBAAqBC,MAAE,MAAMD,qBAAqB,CAACE,mBAAmB,OAAO3C,KAAKe,WAAW4B,iBAAiB3C,KAAKsC,iBAAiB,GAAGtC,KAAKQ,qBAAqB,EAAE,EAAE,CAAC4B,eAAe7C,GAAQS,KAAKQ,wBAAVf,QAAEF,IAA6BA,EAAEqD,qBAAkD,CAACX,uBAAuB1C,EAAEC,GAAG,MAAMC,EAAEO,KAAKS,sBAAsB,GAAGhB,EAAEqB,kBAAiB,EAAGrB,EAAEiB,eAAc,EAAGjB,EAAEkB,gBAAe,EAAGlB,EAAEmB,mBAAkB,GAAIrB,EAAE,OAAO,MAAMyB,EAAEzB,EAAEK,KAAK,GAAGoB,EAAE,CAAC,GAAGvB,EAAEiB,eAAc,EAAGM,EAAE6B,YAAY,CAAC,MAAMtD,EAAEyB,EAAE6B,YAAY,IAAIpD,EAAE4B,EAAE,MAAGO,MAAErC,EAAEuD,WAAO,EAAGlB,MAAErC,EAAEwD,SAAS,MAAGlB,MAAEtC,EAAEuD,WAAO,EAAGjB,MAAEtC,EAAEwD,SAAStD,KAAEI,MAAEN,EAAEuD,SAASzB,KAAExB,MAAEN,EAAEwD,aAAa,CAAC,MAAMxB,EAAE/B,EAAEwD,MAAMvD,KAAEI,MAAEP,EAAEiC,EAAEhC,EAAEuD,QAAQG,QAAQ5B,KAAExB,MAAEP,EAAEiC,EAAEhC,EAAEwD,QAAQE,OAAM,CAAEjD,KAAKO,kBAAkB2C,IAAI,CAAC3D,EAAE4D,aAAa5D,EAAE6D,aAAa3D,EAAE4B,GAAE,CAAE,GAAGL,EAAEqC,aAAarD,KAAKsD,yBAAsBzD,MAAEP,EAAEE,EAAEwD,MAAMhC,EAAEqC,WAAWJ,SAASjC,EAAEuC,UAAU,CAAC,MAAMhE,KAAE8B,MAAE7B,EAAEgE,kBAAkBjC,IAAEP,EAAEuC,UAAUE,MAAMzD,KAAK0D,6BAA6BnE,EAAEC,EAAEmE,WAAW3C,EAAE4C,aAAa5D,KAAKkB,kBAAkBF,EAAE4C,YAAY,MAAMvB,EAAE9C,EAAEsE,MAAMxB,IAAI5C,EAAEkB,gBAAe,EAAGX,KAAKE,cAAcgD,IAAIb,EAAEV,QAAQ3B,KAAKI,SAAS8C,IAAIb,EAAEyB,SAAS,MAAMpB,EAAEnD,EAAEwE,QAAQrB,IAAIjD,EAAEqB,kBAAiB,EAAGd,KAAKK,gBAAgB6C,IAAIR,EAAEf,QAAQ3B,KAAKM,YAAY4C,IAAIR,EAAEsB,YAAY,MAAMlE,EAAEP,EAAE0E,SAASnE,IAAIL,EAAEmB,mBAAkB,EAAGnB,EAAEoB,eAAef,EAAEqB,KAAK,ECAj/F,MAAMU,UAAUhC,IAAEE,YAAYR,GAAG2E,MAAM3E,GAAGS,KAAKmE,cAAc,IAAI1E,EAAEO,KAAKoE,2BAA2B,IAAI5E,IAAEQ,KAAKqE,cAAc,IAAI9C,IAAG,IAAIvB,KAAKsE,yBAA0B,CAACC,UAAUvE,KAAKwE,SAASC,QAASlF,GAAGA,EAAEgF,WAAYvE,KAAK0E,oBAAoB1E,KAAKqE,cAAcE,UAAUvE,KAAKoE,2BAA2BO,OAAO,CAACC,gBAAgBrF,EAAEC,EAAE+B,GAAGvB,KAAKmE,cAAchC,QAAQ5C,EAAEC,EAAE+B,GAAGvB,KAAK6E,eAAe,CAAOC,iBAAiBtF,EAAE+B,GAAE,IAAAwD,EAAA/E,KAAA,SAAAgF,KAAA,YAAC,IAAIxF,GAAG,IAAIA,EAAEE,OAAO,MAAM,GAAG,MAAMG,KAAEN,QAAI,OAAOwF,EAAKX,2BAA2Ba,KAAK,CAACC,MAAM1F,EAAE2F,aAAa5D,EAAE6D,SAASvF,IAAIkF,EAAKF,gBAAgBhF,EAAEwF,OAAO,EAAzJ,EAAyJ,CAACC,SAAS/F,GAAG,GAAGA,EAAEgG,QAAQC,aAAaC,OAAO,gBAAgBlG,EAAEgG,QAAQC,aAAaC,OAAO,OAAOzF,KAAKoE,2BAA2B1E,OAAO,EAAE,CAAC,IAAIF,EAAEQ,KAAKoE,2BAA2BsB,MAAM,KAAKlG,GAAGQ,KAAK2F,4BAA4BpG,EAAEC,GAAGA,EAAEQ,KAAKoE,2BAA2BsB,KAAG,CAAGxB,MAAMoB,SAAS/F,EAAE,CAACqG,eAAerG,GAAG,UAAUC,KAAKQ,KAAKwE,SAAShF,EAAEqG,OAAOtG,GAAGS,KAAKmE,cAAcpC,OAAOxC,EAAEuG,OAAO5B,MAAM0B,eAAerG,EAAE,CAACwG,iBAAiBxG,GAAG,GAAGS,KAAKwE,SAASwB,KAAMzG,GAAGA,EAAE0G,SAAU,UAAUzG,KAAKQ,KAAKwE,SAAShF,EAAE0G,aAAa3G,EAAE,CAAC4G,mBAAmB5G,GAAG,MAAMC,EAAE0E,MAAMiC,mBAAmB5G,GAAG,OAAOC,EAAE4G,aAAapG,KAAKmE,cAAc3E,EAAE6E,cAAcrE,KAAKqE,cAAc7E,CAAC,CAAC8E,yBAAyB,CAACqB,4BAA4BpG,GAAG2F,MAAM1F,EAAE2F,aAAa5D,EAAE6D,SAASvF,IAAI,MAAMwG,QAAQ5G,EAAE6G,WAAWzE,GAAGtC,EAAE8B,EAAE7B,EAAE+G,IAAKhH,GAAGE,EAAE+G,eAAeC,cAAclH,EAAEmH,OAAO7E,EAAEtC,EAAEoH,SAASpF,IAAKqF,QAAQC,IAAIxF,GAAGyF,KAAMvH,IAAI,IAAIS,KAAK+G,MAAM,YAAYlH,EAAEmH,SAAS,MAAMzF,EAAEhC,EAAEgH,IAAK,CAAChH,EAAEgC,MAAM0F,GAAGzH,EAAE+B,GAAG0F,GAAGC,WAAW3H,KAAMM,EAAEsH,QAAQ5F,EAAC,EAAI1B,EAAEmH,OAAO,6SCAn8B,IAAII,EAAE,cAAc3H,IAAEM,cAAcmE,SAASmD,WAAWrH,KAAKsH,UAAS,EAAGtH,KAAKuH,UAAU,IAAIjI,IAAEU,KAAKwH,iBAAgB,EAAGxH,KAAKmB,KAAK,UAAUnB,KAAKyH,YAAY,IAAI7F,GAAC,CAAC2C,UAAUvE,KAAKsH,WAAWtH,KAAK0H,SAAS1H,KAAKsH,UAAS,GAAItH,KAAKwH,iBAAgB,CAAE,CAAKG,eAAW,OAAO3H,KAAKsH,UAAUtH,KAAK4H,YAAY,CAAC7F,OAAOxC,GAAGS,KAAK6H,SAAS9F,OAAOxC,GAAGuI,MAAOvI,KAAI8B,QAAE9B,IAAIgC,cAAYvB,KAAK+H,eAAeC,MAAMzI,EAAC,EAAI,CAAC0I,QAAQ1I,GAAG,OAAO,IAAIC,IAAE,CAAC0I,WAAW,CAAC,EAAEC,SAAS5I,EAAE6I,QAAQC,MAAMrI,KAAKqI,OAAO,CAACC,SAAStI,KAAKuH,UAAUgB,SAASvI,KAAKyH,aAA+JzH,KAAK6H,SAAS,IAAIW,IAAE,CAACjB,UAAUvH,KAAKyH,YAAYgB,4BAA1LzI,KAAKqI,MAAMK,SAAS,GAAoMC,eAA/L3I,KAAKqI,MAAMK,SAAS,KAAK1I,KAAKqI,MAAMM,eAAe,KAA6JC,cAAtJ5I,KAAKqI,MAAMK,SAAS,KAAK1I,KAAKqI,MAAMO,cAAc,KAAoHC,YAAY7I,KAAK8I,YAAYC,KAAK/I,MAAMgJ,cAAcA,IAAIhJ,KAAKgJ,iBAAiB,CAACtB,SAAS1H,KAAK6H,SAAStD,UAAUvE,KAAKyH,YAAY/C,oBAAoB1E,KAAKuH,UAAU7C,oBAAoB1E,KAAKwH,iBAAgB,CAAE,CAACyB,SAAQ,IAAAlE,EAAA/E,KAACA,KAAK6H,SAASqB,cAAa,eAAAC,KAAAnE,KAAE,UAAMzF,GAAI,MAAM6J,OAAO5J,GAAGD,EAAE,IAAIC,GAAGA,aAAa6J,YAAY,OAAO,MAAM5J,QAAQsF,EAAKsD,MAAMiB,cAAc,CAACC,OAAO/J,EAAE+J,OAAOC,WAAWhK,EAAEiK,oBAAoBjK,EAAEgK,aAAahK,EAAEkK,OAAOnK,GAAGwF,EAAKsD,MAAMsB,YAAY5E,EAAKsD,MAAMuB,YAAYrK,GAAG,IAAIE,EAAE8J,OAAO/J,EAAE+J,OAAO,GAAC,gBAAAM,GAAA,OAAAV,EAAAW,MAAA9J,KAAAqH,UAAA,EAAjQ,IAAoQS,MAAOvI,KAAI8B,QAAE9B,IAAIgC,cAAYvB,KAAK+H,eAAeC,MAAMzI,EAAC,EAAI,CAACyJ,gBAAgBhJ,KAAKwH,kBAAkBxH,KAAKwH,iBAAgB,EAAGxH,KAAK+J,KAAKf,gBAAgB,CAACpB,aAAa,OAAO5H,KAAK6H,SAASF,UAAU3H,KAAKwH,eAAe,CAACwC,eAAe,GAAGhK,KAAK2H,SAAS,OAAO,KAAK,MAAMpI,EAAES,KAAK6H,SAASoC,QAAQ,GAAG,IAAI1K,EAAEG,QAAQH,EAAE,GAAG6J,OAAO,MAAM,CAACG,OAAOhK,EAAE,GAAG6J,OAAOG,OAAOC,WAAWjK,EAAE,GAAG6J,OAAOK,oBAAoB,GAAGlK,EAAEG,OAAO,EAAE,CAAC,MAAMF,EAAEQ,KAAK+J,KAAKR,OAAO9J,EAAEF,EAAEgH,IAAKhH,GAAGA,EAAE6J,QAASM,OAAQnK,GAAGA,EAAEgK,QAAQhK,EAAEgK,OAAOW,WAAW1K,IAAK+G,IAAKhH,KAAKgK,OAAOhK,EAAEgK,OAAOC,WAAWjK,EAAEkK,sBAAuBlI,KAAEP,MAAEvB,EAAED,GAAG,SAAOK,MAAE0B,GAAG,CAACgI,OAAOhI,EAAEgI,OAAOC,WAAWjI,EAAEiI,YAAY,KAAK,OAAO,IAAI,CAAOV,YAAYvJ,EAAEC,EAAEC,EAAE8B,GAAE,IAAA4I,EAAAnK,KAAA,SAAAgF,KAAA,aAAEzD,EAAEA,GAAG,CAAC,GAAG6I,WAAWD,EAAKC,WAAW7I,EAAE8I,uBAAsB,EAAG9I,EAAE+I,mBAAkB,EAAG,MAAMzK,QAAQsK,EAAK9B,MAAMkC,WAAWhL,EAAEC,EAAEC,EAAE8B,GAAG,GAAG1B,EAAE2K,YAAY,OAAO3K,EAAE2K,YAAY,MAAMnJ,QAAQ8I,EAAK9B,MAAMiB,cAAczJ,EAAE4K,UAAU,CAACC,OAAOnJ,EAAEmJ,SAAS7I,EAAE,IAAI/B,IAAEuB,EAAEmI,WAAWnI,EAAEkI,QAAQnB,QAAQvI,EAAE4K,UAAUjB,YAAY,OAAO3H,EAAE6H,OAAOnK,GAAG4K,EAAK9B,MAAMuB,YAAYrK,GAAGsC,CAAC,EAA9V,EAA8V,IAAGtC,OAAE,IAACsC,SAAKuF,EAAEuD,UAAU,gBAAW,IAAM,EAAEpL,KAAE,IAACsC,SAAKuF,EAAEuD,UAAU,iBAAY,IAAM,EAAEpL,KAAE,IAACsC,SAAKuF,EAAEuD,UAAU,aAAQ,IAAM,EAAEpL,KAAE,IAACsC,SAAKuF,EAAEuD,UAAU,gBAAW,IAAM,EAAEpL,KAAE,IAACsC,SAAKuF,EAAEuD,UAAU,kBAAa,IAAM,EAAEpL,KAAE,IAACsC,SAAKuF,EAAEuD,UAAU,YAAO,IAAM,EAAEpL,KAAE,IAACsC,SAAKuF,EAAEuD,UAAU,uBAAkB,IAAM,EAAEpL,KAAE,IAACsC,SAAKuF,EAAEuD,UAAU,WAAW,OAAI,EAAEpL,KAAE,IAACsC,SAAKuF,EAAEuD,UAAU,YAAO,GAAQvD,KAAE7H,KAAE,IAACqL,KAAE,+CAA+CxD,GAAG,MAAM1E,EAAE0E,6FCA73G,MAAM5H,WAAUK,IAAEE,cAAcmE,SAASmD,WAAWrH,KAAK6K,YAAY,CAAC,WAAW,CAAKC,2BAAuB,OAAM,CAAE,CAACC,oBAAoBlL,GAAG,MAAML,EAAEK,EAAEmL,mBAAmB,CAACC,KAAK,eAAeC,QAAQ,CAAC3L,KAAG4L,OAAOA,IAAInL,KAAKwE,SAAS4G,UAAU7J,WAAQ,MAAM,IAAI2C,MAAM6G,oBAAoBlL,GAAGL,EAAE,CAAC8F,SAAS/F,GAAGS,KAAKqL,SAAS9L,EAAE6L,YAAY7J,UAAOvB,KAAK6K,YAAYpG,QAASlD,IAAIhC,EAAE+L,WAAW/J,EAAE2C,MAAMoB,SAAS/F,EAAC,EAAI,iBCAqI,IAAIqL,EAAE,cAAcpL,IAAEO,YAAYR,GAAG2E,MAAM3E,GAAGS,KAAKuL,SAAS,KAAKvL,KAAK+B,UAAOlC,MAAG,CAACN,EAAEC,IAAIQ,KAAKwL,QAAQjM,EAAEC,GAAGsI,MAAOvI,KAAIsC,QAAEtC,IAAIgC,cAAYvB,KAAK+H,eAAeC,MAAMzI,EAAC,GAAM,CAAKoI,eAAW,QAAQ3H,KAAKuL,QAAQ,CAACtC,OAAO1J,GAAG,IAAIS,KAAKuH,UAAU/C,SAAS9E,OAAO,OAAO,MAAMF,EAAEQ,KAAKuH,UAAU/C,SAAS,GAAGhF,EAAEiM,qBAAqBlM,EAAEC,EAAEkM,gBAAgB1L,KAAKuH,UAAUsD,YAAY,eAAetL,EAAEoM,MAAM,CAAC,SAAS,YAAY,kBAAkBpM,EAAEoM,MAAM,CAAC,UAAU,CAAC,YAAY3L,KAAKuH,UAAU1C,eAAe,CAAO2G,QAAQjM,EAAEC,EAAE+B,GAAE,IAAAwD,EAAA/E,KAAA,SAAAgF,KAAA,YAAC,IAAIzF,EAAEqM,WAAW,OAAO,MAAMrC,OAAO9J,EAAE+D,iBAAiB3D,GAAGN,EAAEuG,MAAMjE,EAAE,IAAID,IAAE,CAACiK,KAAKpM,EAAEoM,KAAKC,KAAKrM,EAAEqM,KAAKC,KAAKtM,EAAEsM,KAAKC,KAAKvM,EAAEuM,KAAKxI,iBAAiB3D,KAAKwB,EAAEL,GAAGzB,EAAEuG,MAAMlG,KAAKmF,EAAKwG,SAASxG,EAAKkH,YAAYpK,EAAER,EAAEL,EAAEO,GAAG,MAAMjC,QAAQyF,EAAKwG,SAASxG,EAAKmH,cAAc5M,EAAEE,EAAED,EAAEuG,OAAOf,EAAKwG,SAAS,IAAI,EAA3R,EAA2R,CAACW,cAAc3M,EAAEC,EAAE+B,GAAG,MAAG9B,MAAEF,EAAEiK,YAAY,OAAOxJ,KAAKuH,UAAU/C,SAASC,QAASlF,GAAGA,EAAEgF,gBAAiBvE,KAAKuH,UAAU7C,oBAAoB,MAAM6E,OAAO1J,EAAE2J,WAAW3H,GAAGtC,EAAE8B,EAAE,IAAI/B,IAAEuC,GAAGR,EAAE8K,OAAO,CAAC,EAAE,GAAG9K,EAAEoK,qBAAqBjM,EAAE6B,EAAE+K,aAAa7M,EAAE8B,EAAEqK,gBAAgBrK,EAAEgL,EAAExM,EAAEgM,KAAKxK,EAAEiL,EAAEzM,EAAEmM,KAAK3K,EAAEiF,WAAW/E,EAAE+E,WAAWjF,EAAE4C,SAAS1C,EAAE0C,SAAS5C,EAAEsC,WAAWpC,EAAEoC,WAAWtC,EAAEkL,MAAM1K,EAAE0K,MAAM/M,EAAEgN,eAAenL,EAAEoL,OAAO5K,EAAE4K,OAAOjN,EAAEgN,eAAexM,KAAKuH,UAAU/C,SAASC,QAASlF,GAAGA,EAAEgF,WAAYvE,KAAKuH,UAAU7C,oBAAoB1E,KAAKuH,UAAUsD,YAAY,eAAerL,EAAEmM,MAAM,CAAC,SAAS,YAAY,kBAAkBnM,EAAEmM,MAAM,CAAC,UAAU,CAAC,YAAY3L,KAAKuH,UAAUgB,SAASlH,EAAE,IAAG9B,OAAE,IAAC8B,SAAKuJ,EAAED,UAAU,mBAAc,IAAM,EAAEpL,KAAE,IAAC8B,SAAKuJ,EAAED,UAAU,iBAAY,IAAM,EAAEpL,KAAE,IAAC8B,SAAKuJ,EAAED,UAAU,gBAAW,IAAM,EAAEpL,KAAE,IAAC8B,SAAKuJ,EAAED,UAAU,WAAW,MAAMC,KAAErL,KAAE,IAACyB,KAAE,mDAAmD4J,GAAG,MAAMpC,GAAEoC,ECAvzC,IAAI8B,EAAE,cAAcjN,IAAEM,cAAa,IAAAgF,EAACb,SAASmD,WAAUtC,EAAA/E,KAACA,KAAKsH,UAAS,EAAGtH,KAAKuH,UAAU,IAAIH,GAAEpH,KAAKmB,KAAK,YAAYnB,KAAK2M,gBAAgB,CAACC,wBAAwB,EAAEC,KAAK,GAAGL,eAAe,EAAEM,KAAK,IAAI9M,KAAK+M,aAAY,eAAA5D,KAAAnE,KAAC,UAAMxF,EAAED,EAAEgC,EAAE9B,GAAK,MAAMuB,QAAQ+D,EAAKiI,2BAA2BR,eAAe5K,GAAGmD,EAAKsD,MAAM4E,UAAU1D,OAAOf,EAAE+D,MAAMjN,EAAEmN,OAAO7B,IAAC,EAAE0B,MAAE9M,EAAED,EAAEgC,EAAEK,EAAEZ,GAAG,MAAGnB,MAAEmB,KAAKA,EAAEkJ,WAAW1K,GAAG,MAAM,CAAC+J,OAAOf,EAAEgB,WAAW,MAAM,MAAM1J,EAAE,CAAC+M,KAAM,GAAErE,EAAEqD,SAASrD,EAAEsD,SAAStD,EAAEuD,SAASvD,EAAEwD,OAAOY,wBAAwB7H,EAAKsD,MAAM6E,6BAA6BxE,QAAQ8D,eAAe5K,EAAEkL,KAAKK,KAAKC,UAAUrI,EAAKqF,YAAY,KAAK,GAAGrF,EAAKsI,yBAAyBvN,GAAG,CAAC,MAAMN,EAAEuF,EAAKiF,eAAe,MAAGnK,MAAEL,IAAQ,GAAEA,EAAE+J,OAAOsC,SAASrM,EAAE+J,OAAOuC,SAAStM,EAAE+J,OAAOwC,SAASvM,EAAE+J,OAAOyC,SAASlM,EAAE+M,KAAK,OAAOrN,EAAG,MAAMiL,UAAUrD,UAASrC,EAAKsD,MAAMkC,WAAW/B,EAAElJ,EAAEsL,EAAE,CAACR,WAAWrF,EAAKqF,WAAWC,uBAAsB,EAAGK,OAAOjL,IAAIsF,EAAK4H,gBAAgB7M,EAAE,MAAMuM,EAAEjF,IAAGoC,WAAW,SAAGnI,MAAEgL,GAAS,CAAC9C,OAAOf,EAAEgB,WAAW,MAAY,CAACD,OAAOf,EAAEgB,WAAW,cAAczE,EAAKsD,MAAMiF,WAAWC,UAApC,EAA6C1L,SAAEa,MAAE2J,EAAE,cAAcA,EAAE,GAAC,gBAAAxC,EAAA2D,EAAAC,EAAAC,GAAA,OAAAvE,EAAAW,MAAA9J,KAAAqH,UAAA,EAA31B,EAA21B,CAAKM,eAAW,OAAO3H,KAAKsH,UAAUtH,KAAK2N,UAAUhG,QAAQ,CAACW,SAAStI,KAAKgN,0BAA0BhN,KAAK4N,wBAAwB5N,KAAK+J,KAAKvG,kBAAkBxD,KAAK2N,UAAU,IAAItB,GAAE,CAAC9E,UAAUvH,KAAKuH,UAAU0E,YAAYjM,KAAK+M,eAAe/M,KAAK6N,QAAQC,OAAI9M,MAAG,IAAIhB,KAAKqI,MAAM4E,SAAWzN,GAAGQ,KAAK+N,wBAAwBvO,GAAIoC,MAAG,SAAS,CAAC8F,SAAS1H,KAAK2N,UAAUpJ,UAAUvE,KAAKuH,UAAU/C,SAASC,QAASjF,GAAGA,EAAE+E,WAAYvE,KAAKuH,UAAU7C,oBAAoB1E,KAAK6N,QAAQG,OAAO,UAAUhO,KAAK2N,UAAU3N,KAAKuH,UAAUvH,KAAKgN,0BAA0B,IAAI,CAAChD,eAAe,MAAMxK,EAAEQ,KAAKuH,UAAU/C,SAAS,IAAI4H,aAAa,GAAGpM,KAAK2H,WAAWnI,EAAE,OAAO,KAAK,MAAM+J,OAAOhK,EAAEiK,WAAWjI,GAAG/B,EAAE,MAAM,CAAC+J,OAAOhK,EAAEiK,WAAWjI,EAAE,CAAC0G,QAAQzI,GAAG,OAAO,IAAID,IAAE,CAAC2I,WAAW,CAAC,EAAEC,SAAS3I,EAAE4I,QAAQC,MAAMrI,KAAKqI,OAAO,CAACtG,OAAOvC,GAAGQ,KAAK2N,UAAU5L,OAAOvC,EAAEQ,KAAKiO,kBAAkB,CAAChF,SAAS,MAAMgE,SAASzN,GAAGQ,KAAKqI,MAAM7I,IAAIQ,KAAK+N,wBAAwBvO,GAAGQ,KAAK2N,UAAU1E,OAAOjJ,KAAKiO,mBAAmB,CAACZ,yBAAyB7N,GAAuN,OAA5MQ,KAAK2M,gBAAgBC,0BAA0BpN,EAAEoN,yBAA0B5M,KAAK2M,gBAAgBG,OAAOtN,EAAEsN,MAAO9M,KAAK2M,gBAAgBH,iBAAiBhN,EAAEgN,gBAAiBxM,KAAK2M,gBAAgBE,OAAOrN,EAAEqN,IAAsB,CAAOe,wBAAwBpO,GAAE,IAAA2K,EAAAnK,KAAA,SAAAgF,KAAA,YAAC,IAAI,eAAalF,MAAEqK,EAAK9B,MAAM6F,WAAW1O,EAAE,OAAU,IAAI,MAAMD,SAAE,EAAOgC,WAAE4I,EAAK9B,MAAM8F,IAAI,CAACC,MAAM,CAACC,OAAO,aAAaC,MAAM9O,EAAE+O,MAAMpB,KAAKC,UAAU5N,EAAEgP,UAAU9B,EAAE,WAAW+B,KAAKC,kBAAkBC,OAAO,GAAGC,gBAAgBrF,OAAO,OAAOhK,EAAEqL,aAAWrL,GAAG,IAAI,OAAO,OAAO,IAAI,CAAC,CAAC,EAAnR,EAAmR,CAACwO,wBAAwBvO,GAAG,iBAAiBA,EAAE2B,OAAOnB,KAAKiO,kBAAkBjO,KAAKqI,MAAMwG,WAAWC,wBAAwB,CAACtF,WAAW,OAAO,IAAGhK,OAAE,IAACgJ,SAAKkE,EAAE/B,UAAU,gBAAW,IAAM,EAAEnL,KAAE,IAACgJ,SAAKkE,EAAE/B,UAAU,iBAAY,IAAM,EAAEnL,KAAE,IAACgJ,SAAKkE,EAAE/B,UAAU,aAAQ,IAAM,EAAEnL,KAAE,IAACgJ,SAAKkE,EAAE/B,UAAU,kBAAa,IAAM,EAAEnL,KAAE,IAACgJ,SAAKkE,EAAE/B,UAAU,YAAO,IAAM,EAAEnL,KAAE,IAACgJ,SAAKkE,EAAE/B,UAAU,YAAO,IAAM,EAAEnL,KAAE,IAACgJ,SAAKkE,EAAE/B,UAAU,WAAW,MAAM+B,KAAElN,KAAE,IAACF,KAAE,mDAAmDoN,GAAG,MAAMqC,GAAErC,kECAp4G,MAAMlE,GAAEA,IAAI,IAAIlJ,EAAE,cAAckJ,EAAEzI,cAAcmE,SAASmD,WAAWrH,KAAK+J,KAAK,IAAI,CAAOiF,mBAAmBzP,EAAEM,GAAE,IAAAkF,EAAA/E,KAAA,SAAAgF,KAAA,YAAC,MAAMqD,MAAMuC,GAAG7F,EAAK,IAAIxF,EAAE,MAAM,IAAIgC,KAAE,sCAAsC,gCAAgC,CAAC8G,MAAMuC,IAAI,MAAMqE,aAAa5N,GAAGuJ,EAAEpC,KAAE9F,MAAEkI,EAAE/K,GAAG,IAAIwB,MAAG7B,MAAEgJ,GAAG,MAAM,IAAIjH,KAAE,sCAAsC,iDAAiD,CAAC0N,aAAa5N,EAAE6N,cAAc1G,IAAI,MAAMlJ,QAAQkJ,EAAE2G,oBAAoBvN,EAAE,IAAIZ,KAAEY,EAAEwI,WAAWrF,EAAKqF,WAAWxI,EAAEuG,SAAS5I,EAAEqC,EAAEwN,UAAU9P,EAAEsC,EAAEyN,oBAAoB9P,EAAEiE,iBAAiB,MAAMG,WAAW2I,EAAE9I,iBAAiB4D,GAAGrC,EAAKgF,KAAKuF,GAAE,OAAOvK,EAAKgF,KAAK5I,KAAK,IAAI1B,KAAE6M,EAAEA,EAAElF,GAAG,IAAI3H,KAAE,GAAG6M,EAAE,GAAGA,EAAElF,IAAImI,oBAAoB7C,EAAE8C,kBAAkB1P,GAAG0I,EAAEiH,cAAc,CAACF,qBAAoB,EAAGC,mBAAkB,GAAIE,GAAE,CAACC,oBAAmB,EAAGJ,oBAAoB7C,EAAEkD,UAAUN,GAAEE,kBAAkB1P,EAAE4K,UAAO7I,MAAEhC,GAAGA,EAAE6K,OAAO,MAAM,OAAOE,EAAEiF,oBAAoBjO,EAAE8N,IAAG5I,KAAMvH,IAAGA,GAAG,EAAlyB,EAAkyB,CAACuQ,YAAY,QAAQ5L,MAAM4L,cAAc9P,KAAKoK,YAAY2F,OAAO,GAAG,SAAOxQ,KAAE,IAACM,SAAKP,EAAEqL,UAAU,aAAQ,IAAM,EAAEpL,KAAE,IAACM,SAAKP,EAAEqL,UAAU,iBAAY,IAAM,EAAEpL,KAAE,IAACM,MAAEwB,QAAI/B,EAAEqL,UAAU,kBAAa,IAAM,EAAEpL,KAAE,IAACM,SAAKP,EAAEqL,UAAU,YAAO,GAAQrL,KAAEC,KAAE,IAACqL,KAAE,uCAAuCtL,GAAGA,8BCA90B,IAAIyP,EAAE,cAAcvG,MAAEnG,SAAE/C,KAAEgN,SAAMvM,cAAcmE,SAASmD,WAAWrH,KAAKgQ,qBAAoB,EAAGhQ,KAAKiQ,mBAAmB,IAAIjP,IAAEhB,KAAKkQ,oBAAe,EAAOlQ,KAAKqI,MAAM,KAAKrI,KAAKmQ,QAAQ,IAAI,CAAK1F,gBAAY,MAAM0F,QAAQ5Q,GAAGS,KAAK,OAAOA,KAAK2H,WAAWpI,EAAE,KAAK,iBAAiBA,EAAEA,EAAEyK,eAAe,IAAI,CAAO/B,QAAQ1I,EAAEC,GAAE,IAAAuF,EAAA/E,KAAA,SAAAgF,KAAA,YAAC,OAAOD,EAAKoL,QAAQ,CAAC,CAAChP,KAAK,UAAUiP,QAAQrL,EAAKoL,QAAQlI,QAAQ1I,GAAG8I,MAAMtD,EAAKsD,MAAMgI,SAAS9Q,IAAI,IAAI,EAAxG,EAAwG,CAACwC,OAAOxC,GAAGS,KAAKmQ,SAASpO,OAAOxC,EAAE,CAAC+I,SAAStI,KAAKqI,MAAMiI,gCAAgCtQ,KAAKuQ,cAAcvQ,KAAK+J,OAAO/J,KAAKkQ,eAAe,IAAIZ,IAAE,CAACvF,KAAK/J,KAAK+J,KAAKyG,SAASxQ,KAAKiQ,mBAAmBQ,sBAAsBA,IAAIzQ,KAAKgJ,gBAAgBzB,UAAU,IAAIqD,IAAE5K,KAAK+J,KAAK2G,wBAAwB1Q,KAAKuH,UAAUgB,SAASvI,KAAKkQ,eAAe3I,YAAYvH,KAAK2Q,iBAAiB,IAACpP,MAAG,IAAIvB,KAAKqI,MAAMuI,WAAW,SAAWrR,GAAGS,KAAKmQ,UAAUnQ,KAAKmQ,QAAQ5I,UAAUqJ,UAAUrR,GAAIM,OAAC,EAAE0B,MAAG,IAAIvB,KAAKqI,MAAMwI,QAAQ,KAAOtR,GAAGS,KAAKmQ,UAAUnQ,KAAKmQ,QAAQ5I,UAAUsJ,OAAOtR,GAAIM,OAAC,EAAE0B,MAAG,IAAIvB,KAAKqI,MAAM6E,6BAA6BxE,QAAUnJ,IAAIA,GAAGS,KAAKgQ,sBAAsBzQ,IAAIS,KAAKgQ,oBAAoBzQ,EAAES,KAAKgJ,gBAAa,EAAM3H,OAAC,EAAEE,MAAG,IAAIvB,KAAKoK,WAAa7K,IAAI,MAAM4Q,QAAQ3Q,GAAGQ,KAAKR,IAAIA,EAAE4K,WAAW7K,EAAE,WAAWC,EAAEQ,KAAKgJ,gBAAgBxJ,EAAEsR,kBAAe,EAAMzP,MAAGrB,KAAKqI,MAAM0I,GAAG,SAAU,KAAK,MAAMZ,QAAQ5Q,GAAGS,KAAKT,IAAI,WAAWA,EAAEA,EAAE0J,SAAS1J,EAAEuR,kBAAe,IAAI,EAAGvP,MAAG,IAAIvB,KAAKqI,MAAM4E,SAAW,IAAIjN,KAAKuQ,gBAAiB,CAAC7I,SAAS1H,KAAKqI,MAAM2I,gCAAgChR,KAAKuH,UAAU7C,oBAAoB1E,KAAKiR,eAAejR,KAAKmQ,SAASnQ,KAAKmQ,SAAS5L,UAAUvE,KAAKmQ,QAAQ,KAAKnQ,KAAKkQ,gBAAgB3L,UAAUvE,KAAKgQ,qBAAoB,CAAE,CAACkB,YAAY,CAACC,aAAa,CAACC,UAAUpR,KAAKgJ,eAAe,CAACqI,UAAU9R,EAAEgC,GAAG,MAAM+P,MAAMC,QAAQhS,GAAGA,EAAE,GAAGE,iBAAeF,GAAGA,EAAEiS,UAAU,GAAGjS,aAAaC,KAAG,MAAM,CAACwO,OAAOA,QAAQ,IAAInO,EAAE,GAAG,OAAOyR,MAAMC,QAAQhS,IAAIE,iBAAeF,GAAGM,EAAEN,EAAEgH,IAAKhH,GAAGA,EAAE6I,SAAU7I,aAAaC,MAAIK,EAAE,CAACN,EAAE6I,UAAUpI,KAAKiQ,mBAAmBwB,QAAQ5R,GAAG,CAACmO,OAAOA,KAAKhO,KAAKiQ,mBAAmByB,WAAW7R,EAAC,EAAG,CAAO8R,YAAW,IAAAxH,EAAAnK,KAAA,SAAAgF,KAAA,YAACmF,EAAKnB,eAAe,EAArB,EAAqB,CAACpB,aAAa,OAAO5H,KAAKmQ,SAASnQ,KAAKmQ,QAAQxI,QAAQ,CAAC4I,cAAc,IAAIvQ,KAAK+J,KAAK,OAAO,MAAMxK,EAAES,KAAKqI,MAAM4E,UAAU9L,KAAK,IAAI3B,EAAE,UAAU,GAAG,iBAAiBD,EAAEC,EAAE,YAAY,SAASD,IAAIC,EAAE,QAAQQ,KAAKmQ,QAAQ,CAAC,MAAMhP,KAAK5B,GAAGS,KAAKmQ,QAAQ,GAAG5Q,IAAIC,EAAE,OAAOQ,KAAK4R,eAAe5R,KAAKmQ,cAAc,SAAS5Q,EAAES,KAAKmQ,QAAQW,kBAAkB,YAAYvR,GAAG,SAASS,KAAKqI,MAAMwJ,OAAO7R,KAAKmQ,QAAQlH,SAASjJ,KAAKgJ,iBAAiBhJ,KAAKiR,eAAejR,KAAKmQ,SAASnQ,KAAKmQ,SAAS5L,SAAO,CAAGvE,KAAKmQ,QAAQ,YAAY3Q,EAAE,IAAIkD,EAAE,CAAC2F,MAAMrI,KAAKqI,MAAM0B,KAAK/J,KAAK+J,KAAKK,WAAWpK,KAAKoK,aAAa,cAAc5K,EAAE,IAAI4H,GAAE,CAACiB,MAAMrI,KAAKqI,MAAM0B,KAAK/J,KAAK+J,KAAKK,WAAWpK,KAAKoK,aAAa,IAAIxI,IAAE,CAACyG,MAAMrI,KAAKqI,MAAMyJ,UAAU9R,OAAOA,KAAK4R,eAAe5R,KAAKmQ,SAASnQ,KAAKgJ,eAAe,CAAC4I,eAAerS,GAAGA,IAAIA,EAAE+H,WAAW/H,EAAE+I,SAAS/I,EAAE+H,UAAS,EAAGtH,KAAKuH,UAAUwK,WAAWxS,EAAEgI,UAAU,GAAGhI,EAAEgI,UAAUqJ,UAAU5Q,KAAKqI,MAAMuI,UAAUrR,EAAEgI,UAAUsJ,OAAO7Q,KAAKqI,MAAMwI,OAAO,CAACI,eAAe1R,GAAGA,GAAG+H,WAAWtH,KAAKuH,UAAUyK,YAAYzS,EAAEgI,WAAWhI,EAAEmI,SAASnI,EAAE+H,UAAS,EAAG,IAAG/H,OAAE,IAACO,SAAKiP,EAAEpE,UAAU,YAAY,OAAI,EAAEpL,KAAE,IAACO,SAAKiP,EAAEpE,UAAU,eAAU,GAAQoE,KAAExP,KAAE,IAACsC,KAAE,4CAA4CkN,GAAG,MAAMkD,GAAElD,4KCA/3G,MAAM1M,EAAEb,KAAK0Q,GAAG,IAAQ,MAAMD,UAAUvP,IAAE3C,YAAYP,GAAG0E,QAAQlE,KAAKmS,SAAS,KAAKnS,KAAKoS,KAAK,KAAKpS,KAAKqS,cAAc,KAAKrS,KAAKsS,aAAa,KAAKtS,KAAKuS,YAASlR,OAAIrB,KAAKwS,aAAa,CAACnG,EAAE,EAAEC,EAAE,GAAGtM,KAAKyS,WAAWjT,CAAC,CAAC+E,UAAUvE,KAAKoS,OAAOpS,KAAKoS,KAAKM,SAAQ,GAAI1S,KAAKoS,KAAK,KAAKpS,KAAKqS,cAAc,KAAKrS,KAAKsS,aAAa,MAAMtS,KAAKmS,YAAS3S,MAAEQ,KAAKmS,SAAS,CAAC7M,SAAS9F,GAAG,MAAM+F,QAAQhG,GAAGC,EAAE+B,EAAEvB,KAAKyS,aAAa,GAAGlR,EAAE7B,OAAO,EAAE,OAAOM,KAAK2S,qBAAqBpT,GAAGS,KAAK4S,8BAA8BpT,GAAGQ,KAAK6S,kBAAkBtT,EAAEgC,GAAGhC,EAAEuT,oBAAmB,GAAIvT,EAAEwT,qBAAoB,GAAIxT,EAAEyT,oBAAoB,GAAGzT,EAAE0T,uBAAsB,GAAI1T,EAAE2T,iBAAiBpT,SAAMA,0BAAuBP,EAAE4T,cAAa,GAAG,GAAG,GAAG,GAAI,MAAMtT,EAAEG,KAAKmS,SAAS5S,EAAE6T,QAAQpT,KAAKoS,MAAM7S,EAAE8T,WAAWxT,GAAGA,EAAEyT,oBAAoB,YAAYtT,KAAKuS,UAAUhT,EAAEgU,GAAGC,UAAU,GAAGjU,EAAEkU,aAAajL,WAAQ,EAAEjH,EAAE7B,OAAO0H,iBAAe,GAAG7H,EAAE6T,SAAS,CAACM,oBAAoB,MAAM,CAACC,OAAItS,OAAI,CAACsR,qBAAqBnT,GAAMQ,KAAKmS,WAA6XnS,KAAKmS,SAAS3S,EAAEoU,aAAaC,QAAlY,sPAAwP,6GAAsJvH,IAAIpE,YAAW,CAAC0K,8BAA8BpT,GAAG,MAAMsG,MAAMzE,GAAG7B,GAAGsU,YAAYpR,EAAE9C,KAAKmU,EAAEpQ,WAAWrE,EAAEgH,WAAWxG,EAAEmE,SAASuE,EAAEwL,UAAU5M,GAAG/F,EAAEuJ,EAAEvI,EAAEmG,GAAG6D,EAAE0C,EAAEzC,EAAED,GAAGjF,EAAE6M,eAAehC,KAAErQ,MAAEmN,EAAE1N,EAAEmC,kBAAkBxD,KAAKwS,aAAanG,EAAE4F,EAAEjS,KAAKwS,aAAalG,EAAED,EAAE,MAAMC,EAAExM,EAAEiU,EAAE,GAAGG,EAAEpU,EAAEiU,EAAE,GAAGI,EAAE7U,EAAEgN,EAAE8H,GAAE9U,EAAE4U,EAAEG,KAAE9U,KAAES,KAAKuS,WAAUhR,OAAE8S,EAAEA,EAAE3R,IAAC,EAAE7C,KAAEwU,EAAEA,KAAErT,KAAEsL,EAAE,EAAE4H,EAAE,KAAE,EAAEzU,KAAE4U,EAAEA,KAAE3H,KAAEqH,EAAE,GAAGI,GAAGD,EAAEE,GAAE,KAAE,EAAEvS,KAAEwS,EAAEA,GAAGzJ,EAAE,CAACiI,kBAAkBrT,EAAED,GAAG,MAAM8M,EAAE9K,KAAOvB,KAAKwS,aAA4B3Q,EAAE,IAAI1B,aAAnB,EAAIZ,EAAEG,QAA6B2B,EAAE,IAAIiT,YAAY,EAAE/U,EAAEG,QAAQ,IAAIsB,EAAE,EAAE0L,EAAE,EAAE,UAAU9K,KAAKrC,EAAEqC,IAAIC,EAAE,EAAEb,EAAE,GAAGY,EAAE,GAAGL,EAAEM,EAAE,EAAEb,EAAE,GAAGY,EAAE,GAAG/B,EAAEgC,EAAE,EAAEb,EAAE,GAAGY,EAAE,GAAGL,EAAEM,EAAE,EAAEb,EAAE,GAAGY,EAAE,GAAG/B,EAAEgC,EAAE,EAAEb,EAAE,GAAGY,EAAE,GAAGL,EAAEM,EAAE,EAAEb,EAAE,GAAGY,EAAE,GAAG/B,EAAEgC,EAAE,EAAEb,EAAE,GAAGY,EAAE,GAAGL,EAAEM,EAAE,EAAEb,EAAE,GAAGY,EAAE,GAAG/B,EAAEwB,EAAEqL,EAAE,GAAG1L,EAAE,EAAEK,EAAEqL,EAAE,GAAG1L,EAAE,EAAEK,EAAEqL,EAAE,GAAG1L,EAAE,EAAEK,EAAEqL,EAAE,GAAG1L,EAAE,EAAEK,EAAEqL,EAAE,GAAG1L,EAAE,EAAEK,EAAEqL,EAAE,GAAG1L,EAAE,EAAEK,EAAEqL,EAAE,GAAG1L,EAAE,EAAEK,EAAEqL,EAAE,GAAG1L,EAAE,EAAEA,GAAG,EAAE0L,GAAG,GAAG,GAAG1M,KAAKqS,cAAcrS,KAAKqS,cAAckC,QAAQ1S,EAAE2S,QAAQxU,KAAKqS,cAAc/S,iBAAeE,EAAEoL,kBAAe/I,EAAE2S,QAAQxU,KAAKsS,aAAatS,KAAKsS,aAAaiC,QAAQlT,GAAGrB,KAAKsS,aAAahT,gBAAcE,EAAEoL,kBAAevJ,IAAIrB,KAAKoS,KAAK,CAAC,MAAM7S,EAAE+M,IAAItM,KAAKoS,KAAK,IAAIrD,IAAEvP,EAAED,EAAE2I,WAAW3I,EAAEkV,cAAc,CAACtM,SAASnI,KAAKqS,eAAerS,KAAKsS,aAAY,CAAE,EAAE,MAAMhG,EAAEA,OAAIyH,MAAE,SAAS,CAAC5L,SAAS,CAAC,CAACuM,SAAS,EAAEzJ,KAAK,aAAa0J,MAAM,EAAExT,KAAKiG,cCAt9F,IAAIpG,EAAE,cAAcxB,IAAEO,YAAYR,GAAG2E,MAAM3E,GAAGS,KAAK4U,aAAa,KAAI,CAAE,CAACrQ,UAAUL,MAAMK,UAAUvE,KAAK6U,mBAAgBtV,MAAES,KAAK6U,gBAAgB,CAACC,sBAAsBvV,GAAGS,KAAK6U,gBAAgB,IAAItT,EAAEhC,GAAGS,KAAK6E,eAAe,CAAKkQ,gBAAY,OAAM,CAAE,CAACC,WAAWzV,EAAEC,GAAGD,EAAE0V,MAAMzV,GAAGQ,KAAKkV,SAAS3V,IAAIS,KAAKuI,SAAShJ,GAAGS,KAAK6E,eAAe,CAACsQ,YAAY5V,GAAGA,EAAEoF,QAAQ3E,KAAKkV,SAAS3V,IAAIS,KAAKuI,SAAShJ,EAAE,CAAC6V,gBAAgB7V,EAAEC,GAAG,UAAU+B,KAAKvB,KAAKwE,SAASjD,EAAE8T,SAAS9T,EAAE0E,UAAU1E,EAAEsE,OAAOtG,GAAGA,EAAEgG,QAAQ+P,mBAAmBzV,WAAQ0B,EAAEgU,WAAW,KAAKhU,EAAEiU,iBAAiBC,OAAOlW,EAAEgC,EAAE/B,GAAG,+ICAzS,IAAIC,EAAE,cAAcD,IAAE8F,SAAS/F,GAAGA,EAAE6L,YAAYvL,gBAAaqE,MAAMoB,SAAS/F,EAAE,CAACqG,eAAerG,GAAG,GAAGS,KAAKqE,cAActC,UAAU/B,KAAKwE,SAASwB,KAAMzG,GAAGA,EAAE0G,SAAU,OAAOjG,KAAKqE,cAAcqR,aAAanW,EAAEgG,SAASrB,MAAM0B,eAAerG,GAAG,MAAM8G,QAAQ9E,GAAGhC,EAAEM,EAAE0B,EAAEoU,QAAQtE,UAAUxR,EAAEkJ,KAAKxJ,GAAGA,EAAEgG,QAAQ4N,cAAa,GAAG,GAAG,GAAG,GAAI5T,EAAEgG,QAAQZ,MAAM9C,uBAAoB7B,KAAKoV,gBAAgB7V,EAAEM,EAAE+V,QAAQC,OAAO,CAAC,kBAAkBhW,EAAEiW,KAAKvW,GAAGM,EAAEkW,QAAQ,GAAGtW,KAAEF,KAAE,IAACgC,KAAE,2DAA2D9B,GAAG,MAAMuB,EAAEvB","names":["c","e","t","i","length","value","size","s","h","constructor","this","symbolLevels","vvColorValues","Float32Array","vvColors","vvOpacityValues","vvOpacities","vvSizeMinMaxValue","outsideLabelsVisible","_vvMaterialParameters","vvSizeEnabled","vvColorEnabled","vvRotationEnabled","vvRotationType","vvOpacityEnabled","_technique","n","getSizeVVFieldStops","_vvSizeFieldStops","type","levels","a","parseFloat","r","Math","abs","sizes","values","l","o","vvMaterialParameters","update","_vvInfo","_updateVisualVariables","vvRanges","setInfo","_updateEffects","v","rendererSchema","createOrUpdateRendererSchema","getVariation","supportsTextureFloat","u","getVariationHash","excludedLabelsVisible","minMaxValue","minSize","maxSize","scale","stops","set","minDataValue","maxDataValue","scaleStops","vvSizeScaleStopsValue","unitValue","spatialReference","unit","vvSizeUnitValueToPixelsRatio","resolution","fieldStops","color","colors","opacity","opacities","rotation","super","_rendererInfo","_materialItemsRequestQueue","attributeView","onAttributeStoreUpdate","destroy","children","forEach","removeAllChildren","clear","setRendererInfo","requestRender","getMaterialItems","_this","_asyncToGenerator","push","items","abortOptions","resolver","promise","doRender","context","capabilities","enable","pop","_processMaterialItemRequest","renderChildren","commit","state","updateTransforms","some","hasData","setTransform","createRenderParams","rendererInfo","painter","pixelRatio","map","textureManager","rasterizeItem","symbol","glyphIds","Promise","all","then","stage","reject","id","mosaicItem","resolve","d","arguments","attached","container","updateRequested","_bitmapView","detach","updating","isUpdating","strategy","catch","declaredClass","error","hitTest","attributes","geometry","clone","layer","attach","addChild","m","imageNormalizationSupported","version","imageMaxHeight","imageMaxWidth","fetchSource","_fetchImage","bind","requestUpdate","redraw","updateExports","_ref","source","ImageBitmap","applyRenderer","extent","pixelBlock","originalPixelBlock","filter","pixelFilter","applyFilter","_x","apply","view","getPixelData","bitmaps","intersects","_this2","timeExtent","requestAsImageElement","returnImageBitmap","fetchImage","imageBitmap","pixelData","signal","prototype","p","symbolTypes","requiresDedicatedFBO","prepareRenderPasses","registerRenderPass","name","brushes","target","drawPhase","visible","renderPass","_loading","_update","symbolizerParameters","invalidateVAO","style","stationary","xmin","ymin","xmax","ymax","fetchPixels","_addToDisplay","offset","rawPixelData","x","y","width","symbolTileSize","height","f","_dataParameters","exportParametersVersion","bbox","time","_fetchpixels","_projectFullExtentPromise","renderer","exportImageServiceParameters","JSON","stringify","_canReuseVectorFieldData","rasterInfo","dataType","_x2","_x3","_x4","_strategy","_getProjectedFullExtent","handles","add","_updateSymbolizerParams","remove","_symbolizerParams","fullExtent","url","query","option","outSR","wkid","toJSON","data","featureCollection","layers","layerDefinition","symbolizer","generateWebGLParameters","g","fetchPopupFeatures","popupEnabled","popupTemplate","getRequiredFields","outFields","outSpatialReference","w","returnTopmostRaster","showNoDataRecords","layerOptions","R","returnDomainValues","pixelSize","queryVisibleRasters","canResume","isEmpty","_exportImageVersion","_highlightGraphics","_highlightView","subview","graphic","mapPoint","increaseRasterJobHandlerUsage","_setSubView","graphics","requestUpdateCallback","featuresTilingScheme","addAttachHandles","blendMode","effect","redrawOrRefetch","on","decreaseRasterJobHandlerUsage","_detachSubview","moveStart","viewChange","moveEnd","highlight","Array","isArray","getItemAt","addMany","removeMany","doRefresh","_attachSubview","format","layerView","addChildAt","removeChild","b","PI","_program","_vao","_vertexBuffer","_indexBuffer","_dvsMat3","_localOrigin","_getBounds","dispose","_createShaderProgram","_updateMatricesAndLocalOrigin","_updateBufferData","setBlendingEnabled","setDepthTestEnabled","setStencilWriteMask","setStencilTestEnabled","setBlendFunction","setColorMask","bindVAO","useProgram","setUniformMatrix3fv","gl","lineWidth","drawElements","_createTransforms","dvs","programCache","acquire","displayMat3","_","viewpoint","targetGeometry","B","M","j","A","Uint32Array","setData","buffer","bufferLayouts","location","count","hasHighlight","_boundsRenderer","enableRenderingBounds","hasLabels","onTileData","patch","contains","onTileError","_renderChildren","isReady","setStencilFunction","stencilRef","getDisplayList","replay","bindTextures","effects","defines","concat","draw","unbind"],"sourceRoot":"webpack:///","sources":["./node_modules/@arcgis/core/views/2d/engine/webgl/WGLRendererInfo.js","./node_modules/@arcgis/core/views/2d/engine/FeatureContainer.js","./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js","./node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js","./node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js","./node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js","./node_modules/@arcgis/core/views/layers/ImageryLayerView.js","./node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js","./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicBoundsRenderer.js","./node_modules/@arcgis/core/views/2d/layers/graphics/BaseGraphicContainer.js","./node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{unwrapOr as e,unwrap as t,isSome as i}from\"../../../../core/maybe.js\";import{pt2px as s}from\"../../../../core/screenUtils.js\";import{getMetersPerUnitForSR as a}from\"../../../../core/unitUtils.js\";import{meterIn as r}from\"../../../../renderers/support/lengthUtils.js\";import{isDefined as l,isNumber as o}from\"./Utils.js\";import{Technique as n}from\"./techniques/Technique.js\";import{getTechniqueFromRenderer as v}from\"./techniques/utils.js\";import{getWebGLCapabilities as u}from\"../../../webgl/capabilities.js\";function c(e,t){const i=t.length;if(e<t[0].value||1===i)return t[0].size;for(let s=1;s<i;s++)if(e<t[s].value){const i=(e-t[s-1].value)/(t[s].value-t[s-1].value);return t[s-1].size+i*(t[s].size-t[s-1].size)}return t[i-1].size}class h{constructor(){this.symbolLevels=[],this.vvColorValues=new Float32Array(8),this.vvColors=new Float32Array(32),this.vvOpacityValues=new Float32Array(8),this.vvOpacities=new Float32Array(8),this.vvSizeMinMaxValue=new Float32Array(4),this.outsideLabelsVisible=!1,this._vvMaterialParameters={vvSizeEnabled:!1,vvColorEnabled:!1,vvRotationEnabled:!1,vvRotationType:\"geographic\",vvOpacityEnabled:!1},this._technique=n}getSizeVVFieldStops(i){const s=this._vvSizeFieldStops;if(s)switch(s.type){case\"static\":return s;case\"level-dependent\":return e(s.levels[i],(()=>{let e=1/0,a=0;for(const t in s.levels){const s=parseFloat(t),r=Math.abs(i-s);r<e&&(e=r,a=s)}if(e===1/0)return{sizes:new Float32Array([0,0,0,0,0,0]),values:new Float32Array([0,0,0,0,0,0])};const r=2**((i-a)/2),l=t(s.levels[a]),o=new Float32Array(l.values);return o[2]*=r,o[3]*=r,{sizes:t(l.sizes),values:o}}));default:return}}get vvMaterialParameters(){return this._vvMaterialParameters}update(e){i(this._vvInfo)&&this._updateVisualVariables(this._vvInfo.vvRanges,e)}setInfo(e,t,i){this._updateEffects(i),this._vvInfo=t,this._technique=v(e),this.rendererSchema=this._technique.createOrUpdateRendererSchema(this.rendererSchema,e)}getVariation(){return{...this._technique.getVariation(this.rendererSchema),outsideLabelsVisible:this.outsideLabelsVisible,supportsTextureFloat:u(\"2d\").supportsTextureFloat}}getVariationHash(){return this._technique.getVariationHash(this.rendererSchema)<<1|(this.outsideLabelsVisible?1:0)}_updateEffects(e){i(e)?this.outsideLabelsVisible=e.excludedLabelsVisible:this.outsideLabelsVisible=!1}_updateVisualVariables(e,t){const i=this._vvMaterialParameters;if(i.vvOpacityEnabled=!1,i.vvSizeEnabled=!1,i.vvColorEnabled=!1,i.vvRotationEnabled=!1,!e)return;const n=e.size;if(n){if(i.vvSizeEnabled=!0,n.minMaxValue){const e=n.minMaxValue;let i,a;if(l(e.minSize)&&l(e.maxSize))if(o(e.minSize)&&o(e.maxSize))i=s(e.minSize),a=s(e.maxSize);else{const r=t.scale;i=s(c(r,e.minSize.stops)),a=s(c(r,e.maxSize.stops))}this.vvSizeMinMaxValue.set([e.minDataValue,e.maxDataValue,i,a])}if(n.scaleStops&&(this.vvSizeScaleStopsValue=s(c(t.scale,n.scaleStops.stops))),n.unitValue){const e=a(t.spatialReference)/r[n.unitValue.unit];this.vvSizeUnitValueToPixelsRatio=e/t.resolution}n.fieldStops&&(this._vvSizeFieldStops=n.fieldStops)}const v=e.color;v&&(i.vvColorEnabled=!0,this.vvColorValues.set(v.values),this.vvColors.set(v.colors));const u=e.opacity;u&&(i.vvOpacityEnabled=!0,this.vvOpacityValues.set(u.values),this.vvOpacities.set(u.opacities));const h=e.rotation;h&&(i.vvRotationEnabled=!0,i.vvRotationType=h.type)}}export{h as WGLRendererInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{createResolver as e}from\"../../../core/promiseUtils.js\";import t from\"../../../core/Queue.js\";import{AttributeStoreView as r}from\"./webgl/AttributeStoreView.js\";import s from\"./webgl/TileContainer.js\";import{WGLRendererInfo as i}from\"./webgl/WGLRendererInfo.js\";class o extends s{constructor(e){super(e),this._rendererInfo=new i,this._materialItemsRequestQueue=new t,this.attributeView=new r((()=>this.onAttributeStoreUpdate()))}destroy(){this.children.forEach((e=>e.destroy())),this.removeAllChildren(),this.attributeView.destroy(),this._materialItemsRequestQueue.clear()}setRendererInfo(e,t,r){this._rendererInfo.setInfo(e,t,r),this.requestRender()}async getMaterialItems(t,r){if(!t||0===t.length)return[];const s=e();return this._materialItemsRequestQueue.push({items:t,abortOptions:r,resolver:s}),this.requestRender(),s.promise}doRender(e){if(e.context.capabilities.enable(\"textureFloat\"),e.context.capabilities.enable(\"vao\"),this._materialItemsRequestQueue.length>0){let t=this._materialItemsRequestQueue.pop();for(;t;)this._processMaterialItemRequest(e,t),t=this._materialItemsRequestQueue.pop()}super.doRender(e)}renderChildren(e){for(const t of this.children)t.commit(e);this._rendererInfo.update(e.state),super.renderChildren(e)}updateTransforms(e){if(this.children.some((e=>e.hasData)))for(const t of this.children)t.setTransform(e)}createRenderParams(e){const t=super.createRenderParams(e);return t.rendererInfo=this._rendererInfo,t.attributeView=this.attributeView,t}onAttributeStoreUpdate(){}_processMaterialItemRequest(e,{items:t,abortOptions:r,resolver:s}){const{painter:i,pixelRatio:o}=e,a=t.map((e=>i.textureManager.rasterizeItem(e.symbol,o,e.glyphIds,r)));Promise.all(a).then((e=>{if(!this.stage)return void s.reject();const r=e.map(((e,r)=>({id:t[r].id,mosaicItem:e})));s.resolve(r)}),s.reject)}}export{o as FeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isSome as s}from\"../../../../core/maybe.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mosaicPixelData as n}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{BitmapContainer as l}from\"../../engine/BitmapContainer.js\";import{Container as c}from\"../../engine/Container.js\";import h from\"../../engine/ImageryBitmapSource.js\";import m from\"../support/ExportStrategy.js\";let d=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new c,this.updateRequested=!1,this.type=\"imagery\",this._bitmapView=new l}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(e){this.strategy.update(e).catch((e=>{a(e)||r.getLogger(this.declaredClass).error(e)}))}hitTest(e){return new t({attributes:{},geometry:e.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const e=this.layer.version>=10,t=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,i=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new m({container:this._bitmapView,imageNormalizationSupported:e,imageMaxHeight:t,imageMaxWidth:i,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((async e=>{const{source:t}=e;if(!t||t instanceof ImageBitmap)return;const i=await this.layer.applyRenderer({extent:t.extent,pixelBlock:t.originalPixelBlock??t.pixelBlock});t.filter=e=>this.layer.pixelFilter?this.layer.applyFilter(e):{...i,extent:t.extent}})).catch((e=>{a(e)||r.getLogger(this.declaredClass).error(e)}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const e=this.strategy.bitmaps;if(1===e.length&&e[0].source)return{extent:e[0].source.extent,pixelBlock:e[0].source.originalPixelBlock};if(e.length>1){const t=this.view.extent,i=e.map((e=>e.source)).filter((e=>e.extent&&e.extent.intersects(t))).map((e=>({extent:e.extent,pixelBlock:e.originalPixelBlock}))),r=n(i,t);return s(r)?{extent:r.extent,pixelBlock:r.pixelBlock}:null}return null}async _fetchImage(e,t,i,r){(r=r||{}).timeExtent=this.timeExtent,r.requestAsImageElement=!0,r.returnImageBitmap=!0;const s=await this.layer.fetchImage(e,t,i,r);if(s.imageBitmap)return s.imageBitmap;const a=await this.layer.applyRenderer(s.pixelData,{signal:r.signal}),o=new h(a.pixelBlock,a.extent?.clone(),s.pixelData.pixelBlock);return o.filter=e=>this.layer.applyFilter(e),o}};e([o()],d.prototype,\"attached\",void 0),e([o()],d.prototype,\"container\",void 0),e([o()],d.prototype,\"layer\",void 0),e([o()],d.prototype,\"strategy\",void 0),e([o()],d.prototype,\"timeExtent\",void 0),e([o()],d.prototype,\"view\",void 0),e([o()],d.prototype,\"updateRequested\",void 0),e([o()],d.prototype,\"updating\",null),e([o()],d.prototype,\"type\",void 0),d=e([p(\"esri.views.2d.layers.imagery.ImageryView2D\")],d);const u=d;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"./BrushVectorField.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.symbolTypes=[\"triangle\"]}get requiresDedicatedFBO(){return!1}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"imagery (vf)\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}export{t as RasterVFContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isNone as i}from\"../../../../core/maybe.js\";import{debounce as s,isAbortError as o}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import l from\"../../../../geometry/Extent.js\";import{RasterVFDisplayObject as c}from\"../../engine/imagery/RasterVFDisplayObject.js\";let p=class extends t{constructor(e){super(e),this._loading=null,this.update=s(((e,t)=>this._update(e,t).catch((e=>{o(e)||r.getLogger(this.declaredClass).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes=\"wind_speed\"===e.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===e.style?[\"scalar\"]:[\"triangle\"],this.container.requestRender()}async _update(e,t,r){if(!e.stationary)return;const{extent:i,spatialReference:s}=e.state,o=new l({xmin:i.xmin,ymin:i.ymin,xmax:i.xmax,ymax:i.ymax,spatialReference:s}),[a,n]=e.state.size;this._loading=this.fetchPixels(o,a,n,r);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,r){if(i(e.pixelBlock))return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:s,pixelBlock:o}=e,a=new c(o);a.offset=[0,0],a.symbolizerParameters=t,a.rawPixelData=e,a.invalidateVAO(),a.x=s.xmin,a.y=s.ymax,a.pixelRatio=r.pixelRatio,a.rotation=r.rotation,a.resolution=r.resolution,a.width=o.width*t.symbolTileSize,a.height=o.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes=\"wind_speed\"===t.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===t.style?[\"scalar\"]:[\"triangle\"],this.container.addChild(a)}};e([a()],p.prototype,\"fetchPixels\",void 0),e([a()],p.prototype,\"container\",void 0),e([a()],p.prototype,\"_loading\",void 0),e([a()],p.prototype,\"updating\",null),p=e([n(\"esri.views.2d.layers.imagery.ImageryVFStrategy\")],p);const m=p;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import r from\"../../../../request.js\";import{HandleOwner as i}from\"../../../../core/HandleOwner.js\";import{isSome as s,isNone as a,unwrap as o}from\"../../../../core/maybe.js\";import{watch as n,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../../geometry/Extent.js\";import{projectExtent as h}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{snapImageToSymbolTile as y,convertVectorFieldData as u}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFContainer as d}from\"../../engine/imagery/RasterVFContainer.js\";import x from\"./ImageryVFStrategy.js\";let f=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new d,this.type=\"imageryVF\",this._dataParameters={exportParametersVersion:0,bbox:\"\",symbolTileSize:0,time:\"\"},this._fetchpixels=async(t,e,r,i)=>{const n=await this._projectFullExtentPromise,{symbolTileSize:l}=this.layer.renderer,{extent:m,width:c,height:p}=y(t,e,r,l,n);if(s(n)&&!n.intersects(t))return{extent:m,pixelBlock:null};const h={bbox:`${m.xmin}, ${m.ymin}, ${m.xmax}, ${m.ymax}`,exportParametersVersion:this.layer.exportImageServiceParameters.version,symbolTileSize:l,time:JSON.stringify(this.timeExtent||\"\")};if(this._canReuseVectorFieldData(h)){const t=this.getPixelData();if(s(t)){if(`${t.extent.xmin}, ${t.extent.ymin}, ${t.extent.xmax}, ${t.extent.ymax}`===h.bbox)return t}}const{pixelData:d}=await this.layer.fetchImage(m,c,p,{timeExtent:this.timeExtent,requestAsImageElement:!1,signal:i});this._dataParameters=h;const x=d?.pixelBlock;if(a(x))return{extent:m,pixelBlock:null};return{extent:m,pixelBlock:\"vector-uv\"===this.layer.rasterInfo.dataType?o(u(x,\"vector-uv\")):x}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new x({container:this.container,fetchPixels:this._fetchpixels}),this.handles.add(n((()=>this.layer.renderer),(t=>this._updateSymbolizerParams(t)),l),\"attach\")}detach(){this._strategy.destroy(),this.container.children.forEach((t=>t.destroy())),this.container.removeAllChildren(),this.handles.remove(\"attach\"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){const t=this.container.children[0]?.rawPixelData;if(this.updating||!t)return null;const{extent:e,pixelBlock:r}=t;return{extent:e,pixelBlock:r}}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}update(t){this._strategy.update(t,this._symbolizerParams)}redraw(){const{renderer:t}=this.layer;t&&(this._updateSymbolizerParams(t),this._strategy.redraw(this._symbolizerParams))}_canReuseVectorFieldData(t){const e=this._dataParameters.exportParametersVersion===t.exportParametersVersion,r=this._dataParameters.time===t.time,i=this._dataParameters.symbolTileSize===t.symbolTileSize,s=this._dataParameters.bbox===t.bbox;return e&&r&&i&&s}async _getProjectedFullExtent(t){try{return await h(this.layer.fullExtent,t)}catch(e){try{const e=(await r(this.layer.url,{query:{option:\"footprints\",outSR:t.wkid||JSON.stringify(t.toJSON()),f:\"json\"}})).data.featureCollection.layers[0].layerDefinition.extent;return e?p.fromJSON(e):null}catch{return null}}}_updateSymbolizerParams(t){\"vector-field\"===t.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};t([m()],f.prototype,\"attached\",void 0),t([m()],f.prototype,\"container\",void 0),t([m()],f.prototype,\"layer\",void 0),t([m()],f.prototype,\"timeExtent\",void 0),t([m()],f.prototype,\"type\",void 0),t([m()],f.prototype,\"view\",void 0),t([m()],f.prototype,\"updating\",null),f=t([c(\"esri.views.2d.layers.imagery.VectorFieldView2D\")],f);const g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isNone as t,isSome as o}from\"../../core/maybe.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combinedViewLayerTimeExtentProperty as a}from\"../../layers/support/commonProperties.js\";import n from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as u}from\"./support/popupUtils.js\";const m=m=>{let c=class extends m{constructor(){super(...arguments),this.view=null}async fetchPopupFeatures(e,s){const{layer:p}=this;if(!e)throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:p});const{popupEnabled:a}=p,m=u(p,s);if(!a||t(m))throw new r(\"imagerylayerview:fetchPopupFeatures\",\"Missing required popupTemplate or popupEnabled\",{popupEnabled:a,popupTemplate:m});const c=await m.getRequiredFields(),l=new n;l.timeExtent=this.timeExtent,l.geometry=e,l.outFields=c,l.outSpatialReference=e.spatialReference;const{resolution:y,spatialReference:d}=this.view,w=\"2d\"===this.view.type?new i(y,y,d):new i(.5*y,.5*y,d),{returnTopmostRaster:f,showNoDataRecords:h}=m.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},R={returnDomainValues:!0,returnTopmostRaster:f,pixelSize:w,showNoDataRecords:h,signal:o(s)?s.signal:null};return p.queryVisibleRasters(l,R).then((e=>e))}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([s()],c.prototype,\"layer\",void 0),e([s()],c.prototype,\"suspended\",void 0),e([s(a)],c.prototype,\"timeExtent\",void 0),e([s()],c.prototype,\"view\",void 0),c=e([p(\"esri.views.layers.ImageryLayerView\")],c),c};export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import i from\"../../../core/Collection.js\";import{watch as r,syncAndInitial as s,sync as a}from\"../../../core/reactiveUtils.js\";import{property as h}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GraphicsCollection as n}from\"../../../support/GraphicsCollection.js\";import l from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as c}from\"./LayerView2D.js\";import w from\"./graphics/GraphicsView2D.js\";import p from\"./graphics/HighlightGraphicContainer.js\";import u from\"./imagery/ImageryView2D.js\";import d from\"./imagery/VectorFieldView2D.js\";import m from\"../../layers/ImageryLayerView.js\";import y from\"../../layers/LayerView.js\";import v from\"../../layers/RefreshableLayerView.js\";let g=class extends(m(v(c(y)))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new n,this._highlightView=void 0,this.layer=null,this.subview=null}get pixelData(){const{subview:e}=this;return this.updating||!e?null:\"getPixelData\"in e?e.getPixelData():null}async hitTest(e,t){return this.subview?[{type:\"graphic\",graphic:this.subview.hitTest(e),layer:this.layer,mapPoint:e}]:null}update(e){this.subview?.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new w({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new p(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.addAttachHandles([r((()=>this.layer.blendMode??\"normal\"),(e=>this.subview&&(this.subview.container.blendMode=e)),s),r((()=>this.layer.effect??null),(e=>this.subview&&(this.subview.container.effect=e)),s),r((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),a),r((()=>this.timeExtent),(e=>{const{subview:t}=this;t&&(t.timeExtent=e,\"redraw\"in t?this.requestUpdate():t.redrawOrRefetch())}),a),this.layer.on(\"redraw\",(()=>{const{subview:e}=this;e&&(\"redraw\"in e?e.redraw():e.redrawOrRefetch())})),r((()=>this.layer.renderer),(()=>this._setSubView()))])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,r){if(!((Array.isArray(e)?e[0]:i.isCollection(e)?e.getItemAt(0):e)instanceof t))return{remove:()=>{}};let s=[];return Array.isArray(e)||i.isCollection(e)?s=e.map((e=>e.clone())):e instanceof t&&(s=[e.clone()]),this._highlightGraphics.addMany(s),{remove:()=>{this._highlightGraphics.removeMany(s)}}}async doRefresh(){this.requestUpdate()}isUpdating(){return!this.subview||this.subview.updating}_setSubView(){if(!this.view)return;const e=this.layer.renderer?.type;let t=\"imagery\";if(\"vector-field\"===e?t=\"imageryVF\":\"flow\"===e&&(t=\"flow\"),this.subview){const{type:e}=this.subview;if(e===t)return this._attachSubview(this.subview),void(\"flow\"===e?this.subview.redrawOrRefetch():\"imagery\"===e&&\"lerc\"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}this.subview=\"imagery\"===t?new u({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):\"imageryVF\"===t?new d({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new l({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0),e.container.blendMode=this.layer.blendMode,e.container.effect=this.layer.effect)}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};e([h()],g.prototype,\"pixelData\",null),e([h()],g.prototype,\"subview\",void 0),g=e([o(\"esri.views.2d.layers.ImageryLayerView2D\")],g);const b=g;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as t}from\"../../../../core/maybe.js\";import{g as e,m as r,h as s,d as i,r as o}from\"../../../../chunks/mat3.js\";import{c as a}from\"../../../../chunks/mat3f32.js\";import{f as n}from\"../../../../chunks/vec2f32.js\";import{f}from\"../../../../chunks/vec3f32.js\";import{normalizeMapX as l}from\"../../../../geometry/support/normalizeUtils.js\";import{DisplayObject as u}from\"../../engine/DisplayObject.js\";import{createProgramDescriptor as _}from\"../../engine/webgl/Utils.js\";import{BufferObject as c}from\"../../../webgl/BufferObject.js\";import{BlendFactor as h,PrimitiveType as m,DataType as d,Usage as p}from\"../../../webgl/enums.js\";import{VertexArrayObject as g}from\"../../../webgl/VertexArrayObject.js\";const v=Math.PI/180,x=4;class b extends u{constructor(t){super(),this._program=null,this._vao=null,this._vertexBuffer=null,this._indexBuffer=null,this._dvsMat3=a(),this._localOrigin={x:0,y:0},this._getBounds=t}destroy(){this._vao&&(this._vao.dispose(!0),this._vao=null,this._vertexBuffer=null,this._indexBuffer=null),this._program=t(this._program)}doRender(t){const{context:e}=t,r=this._getBounds();if(r.length<1)return;this._createShaderProgram(e),this._updateMatricesAndLocalOrigin(t),this._updateBufferData(e,r),e.setBlendingEnabled(!0),e.setDepthTestEnabled(!1),e.setStencilWriteMask(0),e.setStencilTestEnabled(!1),e.setBlendFunction(h.ONE,h.ONE_MINUS_SRC_ALPHA),e.setColorMask(!0,!0,!0,!0);const s=this._program;e.bindVAO(this._vao),e.useProgram(s),s.setUniformMatrix3fv(\"u_dvsMat3\",this._dvsMat3),e.gl.lineWidth(1),e.drawElements(m.LINES,8*r.length,d.UNSIGNED_INT,0),e.bindVAO()}_createTransforms(){return{dvs:a()}}_createShaderProgram(t){if(this._program)return;const e=\"precision highp float;\\n        uniform mat3 u_dvsMat3;\\n\\n        attribute vec2 a_position;\\n\\n        void main() {\\n          mediump vec3 pos = u_dvsMat3 * vec3(a_position, 1.0);\\n          gl_Position = vec4(pos.xy, 0.0, 1.0);\\n        }\",r=\"precision mediump float;\\n      void main() {\\n        gl_FragColor = vec4(0.75, 0.0, 0.0, 0.75);\\n      }\";this._program=t.programCache.acquire(e,r,y().attributes)}_updateMatricesAndLocalOrigin(t){const{state:a}=t,{displayMat3:u,size:_,resolution:c,pixelRatio:h,rotation:m,viewpoint:d}=a,p=v*m,{x:g,y:x}=d.targetGeometry,b=l(g,a.spatialReference);this._localOrigin.x=b,this._localOrigin.y=x;const y=h*_[0],B=h*_[1],M=c*y,j=c*B,A=e(this._dvsMat3);r(A,A,u),s(A,A,n(y/2,B/2)),i(A,A,f(_[0]/M,-B/j,1)),o(A,A,-p)}_updateBufferData(t,e){const{x:r,y:s}=this._localOrigin,i=2*x*e.length,o=new Float32Array(i),a=new Uint32Array(8*e.length);let n=0,f=0;for(const l of e)l&&(o[2*n+0]=l[0]-r,o[2*n+1]=l[1]-s,o[2*n+2]=l[0]-r,o[2*n+3]=l[3]-s,o[2*n+4]=l[2]-r,o[2*n+5]=l[3]-s,o[2*n+6]=l[2]-r,o[2*n+7]=l[1]-s,a[f+0]=n+0,a[f+1]=n+3,a[f+2]=n+3,a[f+3]=n+2,a[f+4]=n+2,a[f+5]=n+1,a[f+6]=n+1,a[f+7]=n+0,n+=4,f+=8);if(this._vertexBuffer?this._vertexBuffer.setData(o.buffer):this._vertexBuffer=c.createVertex(t,p.DYNAMIC_DRAW,o.buffer),this._indexBuffer?this._indexBuffer.setData(a):this._indexBuffer=c.createIndex(t,p.DYNAMIC_DRAW,a),!this._vao){const e=y();this._vao=new g(t,e.attributes,e.bufferLayouts,{geometry:this._vertexBuffer},this._indexBuffer)}}}const y=()=>_(\"bounds\",{geometry:[{location:0,name:\"a_position\",count:2,type:d.FLOAT}]});export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{FeatureContainer as t}from\"../../engine/FeatureContainer.js\";import r from\"./GraphicBoundsRenderer.js\";import{CompareFunction as s}from\"../../../webgl/enums.js\";let n=class extends t{constructor(e){super(e),this.hasHighlight=()=>!0}destroy(){super.destroy(),this._boundsRenderer=e(this._boundsRenderer)}enableRenderingBounds(e){this._boundsRenderer=new r(e),this.requestRender()}get hasLabels(){return!1}onTileData(e,t){e.patch(t),this.contains(e)||this.addChild(e),this.requestRender()}onTileError(e){e.clear(),this.contains(e)||this.addChild(e)}_renderChildren(e,t){for(const r of this.children)r.isReady&&r.hasData&&(r.commit(e),e.context.setStencilFunction(s.EQUAL,r.stencilRef,255),r.getDisplayList().replay(e,r,t))}};export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/accessorSupport/ensureType.js\";import\"../../../../core/arrayUtils.js\";import\"../../../../core/Error.js\";import\"../../../../core/has.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as s}from\"../../engine/webgl/enums.js\";import t from\"./BaseGraphicContainer.js\";import{ClearBufferBit as o}from\"../../../webgl/enums.js\";let i=class extends t{doRender(e){e.drawPhase===s.HIGHLIGHT&&super.doRender(e)}renderChildren(e){if(this.attributeView.update(),!this.children.some((e=>e.hasData)))return;this.attributeView.bindTextures(e.context),super.renderChildren(e);const{painter:r}=e,s=r.effects.highlight;s.bind(e),e.context.setColorMask(!0,!0,!0,!0),e.context.clear(o.COLOR_BUFFER_BIT),this._renderChildren(e,s.defines.concat([\"highlightAll\"])),s.draw(e),s.unbind()}};i=e([r(\"esri.views.2d.layers.support.HighlightGraphicContainer\")],i);const n=i;export{n as default};\n"],"x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10]}