"use strict";(self.webpackChunkdemo_ng_forge=self.webpackChunkdemo_ng_forge||[]).push([[4799],{4799:(b,y,e)=>{e.r(y),e.d(y,{default:()=>W});var E=e(71670),s=e(18100),d=e(68327),p=e(1897),P=(e(97708),e(53661)),M=e(90642),m=e(30801),O=e(55050),_=e(9497),v=(e(83382),e(19420),e(66508)),C=e(20891),D=e(10465),u=e(53492),h=e(22735),S=e(29812),c=e(33829),R=e(16617),g=e(17085),L=e(72450),n=e(51299),a=e(67885),f=e(21225),j=e(79409),T=e(84738),U=e(54084);const A=["atom","xml"],I={base:a.Z,key:"type",typeMap:{"simple-line":f.Z},errorContext:"symbol"},B={base:a.Z,key:"type",typeMap:{"picture-marker":j.Z,"simple-marker":T.Z},errorContext:"symbol"},K={base:a.Z,key:"type",typeMap:{"simple-fill":U.Z},errorContext:"symbol"};let o=class extends((0,S.h)((0,g.Q)((0,c.q)((0,R.I)((0,L.M)((0,M.R)(h.Z))))))){constructor(...t){super(...t),this.description=null,this.fullExtent=null,this.legendEnabled=!0,this.lineSymbol=null,this.pointSymbol=null,this.polygonSymbol=null,this.operationalLayerType="GeoRSS",this.url=null,this.type="geo-rss"}normalizeCtorArgs(t,r){return"string"==typeof t?{url:t,...r}:t}readFeatureCollections(t,r){return r.featureCollection.layers.forEach(l=>{const i=l.layerDefinition.drawingInfo.renderer.symbol;i&&"esriSFS"===i.type&&i.outline?.style.includes("esriSFS")&&(i.outline.style="esriSLSSolid")}),r.featureCollection.layers}get hasPoints(){return this._hasGeometry("esriGeometryPoint")}get hasPolylines(){return this._hasGeometry("esriGeometryPolyline")}get hasPolygons(){return this._hasGeometry("esriGeometryPolygon")}get title(){const t=this._get("title");return t&&"defaults"!==this.originOf("title")?t:this.url?(0,O.vt)(this.url,A)||"GeoRSS":t||""}set title(t){this._set("title",t)}load(t){const r=(0,P.pC)(t)?t.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service","Feature Service","Feature Collection","Scene Service"]},t).catch(m.r9).then(()=>this._fetchService(r)).then(l=>{this.read(l,{origin:"service"})})),Promise.resolve(this)}hasDataChanged(){var t=this;return(0,E.Z)(function*(){const r=yield t._fetchService();return t.read(r,{origin:"service",ignoreDefaults:!0}),!0})()}_fetchService(t){var r=this;return(0,E.Z)(function*(){const l=r.spatialReference,{data:i}=yield(0,p.default)(d.default.geoRSSServiceUrl,{query:{url:r.url,refresh:!!r.loaded||void 0,outSR:(0,u.oR)(l)?void 0:l.wkid??JSON.stringify(l)},signal:t});return i})()}_hasGeometry(t){return this.featureCollections?.some(r=>r.featureSet?.geometryType===t&&r.featureSet.features?.length>0)??!1}};(0,s._)([(0,_.Cb)()],o.prototype,"description",void 0),(0,s._)([(0,_.Cb)()],o.prototype,"featureCollections",void 0),(0,s._)([(0,v.r)("service","featureCollections",["featureCollection.layers"])],o.prototype,"readFeatureCollections",null),(0,s._)([(0,_.Cb)({type:D.Z,json:{name:"lookAtExtent"}})],o.prototype,"fullExtent",void 0),(0,s._)([(0,_.Cb)(n.id)],o.prototype,"id",void 0),(0,s._)([(0,_.Cb)(n.rn)],o.prototype,"legendEnabled",void 0),(0,s._)([(0,_.Cb)({types:I,json:{write:!0}})],o.prototype,"lineSymbol",void 0),(0,s._)([(0,_.Cb)({type:["show","hide"]})],o.prototype,"listMode",void 0),(0,s._)([(0,_.Cb)({types:B,json:{write:!0}})],o.prototype,"pointSymbol",void 0),(0,s._)([(0,_.Cb)({types:K,json:{write:!0}})],o.prototype,"polygonSymbol",void 0),(0,s._)([(0,_.Cb)({type:["GeoRSS"]})],o.prototype,"operationalLayerType",void 0),(0,s._)([(0,_.Cb)(n.HQ)],o.prototype,"url",void 0),(0,s._)([(0,_.Cb)({json:{origins:{service:{read:{source:"name",reader:t=>t||void 0}}}}})],o.prototype,"title",null),(0,s._)([(0,_.Cb)({readOnly:!0,json:{read:!1},value:"geo-rss"})],o.prototype,"type",void 0),o=(0,s._)([(0,C.j)("esri.layers.GeoRSSLayer")],o);const W=o}}]);
//# sourceMappingURL=4799.9c9f4d33d68f8988.js.map