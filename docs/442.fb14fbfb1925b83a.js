"use strict";(self.webpackChunkdemo_ng_forge=self.webpackChunkdemo_ng_forge||[]).push([[442],{4635:(O,v,p)=>{p.d(v,{U:()=>n});var e=p(2235),m=p(9736),h=p(4135),_=p(5162),f=p(1699),M=p(4860);let n=(()=>{class i{constructor(t){this.httpClient=t}getProfile(){return this.httpClient.get("mock-data/profile.json")}getPeople(t){return this.httpClient.get("mock-data/people.json").pipe((0,m.U)(r=>{let g=r.length;return t&&(t.filters?.length&&(g=(r=_.c.filterData(r,t.filters.map(c=>({key:c.property,value:c.value,strict:"gender"===c.property||"id"===c.property})))).length),t.sort&&(r=_.c.sortData(r,t.sort.property,"string",t.sort.direction)),(0,h.hj)(t.skip)&&(0,h.hj)(t.take)&&(r=r.slice(t.skip,t.skip+t.take))),{count:g,data:r}}))}getPerson(t){return this.httpClient.get("mock-data/people.json").pipe((0,m.U)(r=>r.find(g=>g.id.toString()===t.toString())))}getSearches(t){return new e.y(r=>{let g=localStorage.getItem(t);(0,h.$K)(g)&&(g=JSON.parse(g)),r.next(g),r.complete()})}saveSearches(t,r){return new e.y(g=>{localStorage.setItem(t,JSON.stringify(r)),g.next(!0),g.complete()})}getLongRequest(){return this.httpClient.get("http://localhost:5000/long-request")}static#e=this.\u0275fac=function(r){return new(r||i)(f.LFG(M.eN))};static#t=this.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},4808:(O,v,p)=>{p.d(v,{v:()=>g});var e=p(1699),m=p(2024),h=p(4135),_=p(5162),f=p(6575);const M=["rangeAutocomplete"],n=["rangeTemplate"],i=["filterInput"];function s(c,C){if(1&c&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&c){const o=e.oxw(2);e.xp6(1),e.Oqu(o.rangeMessage)}}function t(c,C){if(1&c){const o=e.EpF();e.TgZ(0,"forge-list-item")(1,"forge-icon-button",18)(2,"button",19),e.NdJ("click",function(){const u=e.CHM(o).$implicit,d=e.oxw(2);return e.KtG(d.onDeleteRangeOption(u))}),e._UZ(3,"forge-icon",20),e.qZA()(),e._uU(4),e.qZA()}if(2&c){const o=C.$implicit;e.xp6(4),e.hij(" ",o.label," ")}}function r(c,C){if(1&c){const o=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"span",8),e._uU(3,"Enter a search range"),e.qZA(),e.TgZ(4,"div",9)(5,"forge-text-field")(6,"input",10),e.NdJ("ngModelChange",function(a){e.CHM(o);const u=e.oxw();return e.KtG(u.rangeMin=a)}),e.qZA()(),e.TgZ(7,"span"),e._uU(8,"to"),e.qZA(),e.TgZ(9,"forge-text-field")(10,"input",11),e.NdJ("ngModelChange",function(a){e.CHM(o);const u=e.oxw();return e.KtG(u.rangeMax=a)}),e.qZA()(),e.TgZ(11,"forge-icon-button")(12,"button",12),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.onAddRangeOption())}),e._UZ(13,"forge-icon",13),e.qZA()()(),e.YNc(14,s,2,1,"div",14),e.qZA(),e.TgZ(15,"forge-list",15),e.YNc(16,t,5,1,"forge-list-item",16),e.qZA(),e._UZ(17,"forge-divider"),e.qZA()}if(2&c){const o=e.oxw();e.xp6(6),e.Q6J("ngModel",o.rangeMin),e.uIk("maxlength",o.maxlength),e.xp6(4),e.Q6J("ngModel",o.rangeMax),e.uIk("maxlength",o.maxlength),e.xp6(4),e.Q6J("ngIf",o.rangeMessage),e.xp6(2),e.Q6J("ngForOf",o.rangeOptions)}}let g=(()=>{class c{set value(o){this.writeValue(o)}constructor(o,l){this.ngZone=o,this.viewContainerRef=l,this.valueChange=new e.vpe,this.maxlength=null,this.rangeOptions=[],this.elementId=_.c.uniqueId(),this.filter="",this.onChange=a=>{},this.onTouched=()=>{},this.onFilter=a=>(this.filter=a,new Promise((u,d)=>{this.optionFilter&&this.optionFilter(this.filter).subscribe({next:R=>{const E=[];R.forEach(x=>(0,h.kJ)(x.value)?this.rangeOptions.push(x):E.push(x)),u(E)},error:()=>d()})})),this.optionHeaderBuilder=()=>(this.ngZone.run(()=>{this.rangeMin=void 0,this.rangeMax=void 0,this.rangeMessage=void 0}),this.rangeRef?.rootNodes[0]),this.selectedTextBuilder=a=>{if(this.autocompleteRef?.nativeElement.open&&this.filter.length)return this.filter;const u=a?.length,d=this.rangeOptions?.length;return u>0&&d>0?`${u} option(s) selected, ${d} range(s)`:u>0?`${u} option(s) selected`:d>0?`${d} range(s)`:""}}writeValue(o){const l=[];this.rangeOptions.length=0,(0,h.kJ)(o)&&o.forEach(a=>{if((0,h.kJ)(a)||(0,h.kJ)(a.value)){const u=(0,h.$K)(a.value)?a.value:a;this.rangeOptions.push({label:`${u[0]} to ${u[1]}`,value:u})}else l.push(a)}),window.requestAnimationFrame(()=>{this.autocompleteRef.nativeElement.value=l})}ngAfterViewInit(){window.requestAnimationFrame(()=>{this.rangeRef=this.viewContainerRef.createEmbeddedView(this.rangeTemplateRef),this.rangeRef.rootNodes[0].remove()})}ngOnDestroy(){this.rangeRef?.destroy()}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}onAutocompleteChange(){this.emitChangeEvents()}autocompleteBlur(){this.onTouched()}onAddRangeOption(){if(this.rangeMin?.length||this.rangeMax?.length){if(this.rangeMin=(0,h.HD)(this.rangeMin)?this.rangeMin?.trim():this.rangeMin,this.rangeMax=(0,h.HD)(this.rangeMax)?this.rangeMax?.trim():this.rangeMax,this.rangeMin?.length&&this.rangeMax?.length){const a=_.c.comparator(this.rangeMin,this.rangeMax,"string");if(0===a)return void(this.rangeMessage="Min and Max cannot be the same value.");if(1===a)return void(this.rangeMessage="Min value cannot be greater than Max value.")}-1===this.rangeOptions.findIndex(a=>a.value[0]===this.rangeMin&&a.value[1]===this.rangeMax)?(this.rangeMessage=void 0,this.rangeOptions.push({label:this.rangeMin?.length&&this.rangeMax?.length?`${this.rangeMin} to ${this.rangeMax}`:this.rangeMin?.length?`Greater than ${this.rangeMin}`:`Less than ${this.rangeMax}`,value:[this.rangeMin,this.rangeMax]}),this.emitChangeEvents(),this.rangeMin=void 0,this.rangeMax=void 0,this.filterInputRef.nativeElement.value=this.selectedTextBuilder(this.autocompleteRef?.nativeElement.value)):this.rangeMessage="This range is already defined."}else this.rangeMessage="A min or max value is required."}onDeleteRangeOption(o){(this.rangeRef?.rootNodes[0]).focus();const l=this.rangeOptions.findIndex(a=>a.value===o.value);-1!==l&&(this.rangeOptions.splice(l,1),this.filterInputRef.nativeElement.value=this.selectedTextBuilder(this.autocompleteRef?.nativeElement.value),this.emitChangeEvents())}emitChangeEvents(){const o=[];(0,h.kJ)(this.rangeOptions)&&this.rangeOptions.length&&o.push(...this.rangeOptions.map(a=>a.value));const l=this.autocompleteRef?.nativeElement.value;(0,h.kJ)(l)&&l.length&&o.push(...l),this.onChange(o),this.valueChange.emit(o)}static#e=this.\u0275fac=function(l){return new(l||c)(e.Y36(e.R0b),e.Y36(e.s_b))};static#t=this.\u0275cmp=e.Xpm({type:c,selectors:[["app-autocomplete-range"]],viewQuery:function(l,a){if(1&l&&(e.Gf(M,5),e.Gf(n,5),e.Gf(i,5)),2&l){let u;e.iGM(u=e.CRH())&&(a.autocompleteRef=u.first),e.iGM(u=e.CRH())&&(a.rangeTemplateRef=u.first),e.iGM(u=e.CRH())&&(a.filterInputRef=u.first)}},hostBindings:function(l,a){1&l&&e.NdJ("focusout",function(d){return a.autocompleteBlur(d)})},inputs:{optionFilter:"optionFilter",value:"value",label:"label",maxlength:"maxlength"},outputs:{valueChange:"valueChange"},standalone:!0,features:[e._Bn([{provide:m.JU,useExisting:(0,e.Gpc)(()=>c),multi:!0}]),e.jDz],decls:10,vars:6,consts:[["multiple","",3,"filter","selectedTextBuilder","popupHeaderBuilder","forge-autocomplete-change"],["rangeAutocomplete",""],["type","text"],["filterInput",""],["slot","trailing","name","arrow_drop_down",1,"forge-dropdown-icon"],["rangeTemplate",""],["tabindex","-1",1,"range"],[1,"range__input"],[1,"forge-typography--subtitle1","range__input__header"],[1,"range__input__body"],["type","text","placeholder","min",3,"ngModel","ngModelChange"],["type","text","placeholder","max",3,"ngModel","ngModelChange"],["type","button","aria-label","add search range",3,"click"],["name","add"],["class","forge-typography--caption",4,"ngIf"],[1,"range__options"],[4,"ngFor","ngForOf"],[1,"forge-typography--caption"],["slot","leading"],["type","button","aria-label","delete search range",3,"click"],["name","delete"]],template:function(l,a){1&l&&(e.TgZ(0,"forge-autocomplete",0,1),e.NdJ("forge-autocomplete-change",function(){return a.onAutocompleteChange()}),e.TgZ(2,"forge-text-field"),e._UZ(3,"input",2,3),e.TgZ(5,"label"),e._uU(6),e.qZA(),e._UZ(7,"forge-icon",4),e.qZA()(),e.YNc(8,r,18,6,"ng-template",null,5,e.W1O)),2&l&&(e.Q6J("filter",a.onFilter)("selectedTextBuilder",a.selectedTextBuilder)("popupHeaderBuilder",a.optionHeaderBuilder),e.xp6(3),e.uIk("id",a.elementId),e.xp6(2),e.uIk("for",a.elementId),e.xp6(1),e.Oqu(a.label))},dependencies:[f.ez,f.sg,f.O5,m.u5,m.Fj,m.JJ,m.On],styles:["\n\n\n\n\n[_nghost-%COMP%]{display:block}.range[_ngcontent-%COMP%]{outline:none}.range__input[_ngcontent-%COMP%]{padding-left:16px}.range__input__header[_ngcontent-%COMP%]{font-size:14px}.range__input__body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr auto;column-gap:8px;align-items:center}.range__input[_ngcontent-%COMP%]   .forge-typography--caption[_ngcontent-%COMP%]{color:#b00020;color:var(--forge-theme-danger, #b00020)}.range__options[_ngcontent-%COMP%]{--forge-list-item-padding: 0 16px 0 4px;--forge-list-item-leading-margin-right: 4px}"]})}return c})()},5162:(O,v,p)=>{p.d(v,{c:()=>f});var e=p(6575),m=p(4860),h=p(6907),_=p(4135);class f{static sortData(n,i,s,t){return n&&n.length?(s=s||"string","DESC"!==t&&(t="ASC"),n.slice().sort((r,g)=>(r=(0,h.SX)(r,i),g=(0,h.SX)(g,i),"DESC"===t?this.comparator(g,r,s):this.comparator(r,g,s)))):n}static groupData(n,i){return(0,_.kJ)(n)&&n.length&&i?.length?n.reduce((s,t)=>{const r=t[i];return s[r]||(s[r]=[]),s[r].push(t),s},{}):n}static filterData(n,i){if(!((0,_.kJ)(n)&&n.length&&(0,_.kJ)(i)&&i.length))return n;i=i.map(t=>{if((0,_.HD)(t.value)&&t.value.length){let r;if("<>"===t.value.substring(0,2)){if(2===t.value.length)return t.value="",t;r=t.value.substring(0,2),t.value=t.value.substring(2)}else if("<"===t.value.substring(0,1)||">"===t.value.substring(0,1)){if(1===t.value.length)return t.value="",t;r=t.value.substring(0,1),t.value=t.value.substring(1)}r&&Object.defineProperty(t,"operator",{value:r})}return t.value=(""+t.value).toLowerCase(),t});const s=t=>i.every(r=>{if(!r.value.length)return!0;const g=(""+(0,h.SX)(t,r.key)).toLowerCase();if(!g.length)return!1;if(r.strict)return g===r.value;switch(r.operator){case"<>":return 0!==this.comparator(g,r.value,r.type);case">":return this.comparator(g,r.value,r.type)>0;case"<":return this.comparator(g,r.value,r.type)<0;default:return g.indexOf(r.value)>-1}});return n.filter(t=>s(t))}static comparator(n,i,s="string"){if(n==i)return 0;if(!(0,_.$K)(n))return-1;if(!(0,_.$K)(i))return 1;switch(s){case"boolean":return n?-1:1;case"date":if(n=new Date(n).getTime(),isNaN(n))return-1;if(i=new Date(i).getTime(),isNaN(i))return 1;break;case"number":if(n=parseFloat(n),isNaN(n))return-1;if(i=parseFloat(i),isNaN(i))return 1;break;default:return isNaN(parseFloat(n))||isNaN(parseFloat(i))?(""+n).localeCompare(""+i):(""+n).localeCompare(""+i,navigator.language,{numeric:!0})}return n<i?-1:n>i?1:0}static navigateBack(n,i,s){1===n.getState()?.navigationId?i.navigate(s):n.back()}static elementId(n){return n+Math.random().toString(36).replace(/[^a-z]+/g,"")}static formatDate(n,i="MM/dd/yyyy"){return(0,_.$K)(n)?(0,e.p6)(n,i,navigator.language):""}static formatNumber(n,i="1.2-2"){return(0,e.uf)(n,navigator.language,i)}static uniqueId(){return Math.random().toString(36).substring(2)}static parseQueryStringParameters(){const n={};if(window.location.search.length){const i=new m.LE({fromString:window.location.search.substring(1)});i.keys().forEach(s=>{const t=i.getAll(s);t.length&&Object.defineProperty(n,s.toLowerCase(),{value:1===t.length?t[0]:t,enumerable:!0,writable:!0})})}return n}static reduceObject(n){const i={};return Object.keys(n).forEach(s=>{(0,_.$K)(n[s])&&((0,_.kJ)(n[s])?n[s].length&&(i[s]=n[s]):(n[s]+"").trim().length&&(i[s]="string"==typeof n[s]?n[s].trim():n[s]))}),i}}}}]);
//# sourceMappingURL=442.fb14fbfb1925b83a.js.map