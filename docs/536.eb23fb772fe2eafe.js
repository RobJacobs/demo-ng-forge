"use strict";(self.webpackChunkdemo_ng_forge=self.webpackChunkdemo_ng_forge||[]).push([[536],{9620:(R,M,h)=>{h.d(M,{S:()=>n});var e=h(4896),v=h(1332),m=h(1296),u=h(604),p=h(6260),d=h(2504);let n=(()=>{class i{constructor(){this.httpClient=(0,e.uUt)(v.KK)}getProfile(){return this.httpClient.get("mock-data/profile.json")}getPeople(t){return this.httpClient.get("mock-data/people.json").pipe((0,u.k)(a=>{let g=a.length;return t&&(t.filters?.length&&(g=(a=d.q.filterData(a,t.filters.map(f=>({key:f.property,value:f.value,strict:"gender"===f.property||"id"===f.property})))).length),t.sort&&(a=d.q.sortData(a,t.sort.property,"string",t.sort.direction)),(0,p.Ib)(t.skip)&&(0,p.Ib)(t.take)&&(a=a.slice(t.skip,t.skip+t.take))),{count:g,data:a}}))}getPerson(t){return this.httpClient.get("mock-data/people.json").pipe((0,u.k)(a=>a.find(g=>g.id.toString()===t.toString())))}getSearches(t){return new m._(a=>{let g=localStorage.getItem(t);(0,p.Ks)(g)&&(g=JSON.parse(g)),a.next(g),a.complete()})}saveSearches(t,a){return new m._(g=>{localStorage.setItem(t,JSON.stringify(a)),g.next(!0),g.complete()})}getLongRequest(){return this.httpClient.get("http://localhost:5000/long-request")}static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275prov=e.wxM({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},1391:(R,M,h)=>{h.d(M,{E:()=>f});var e=h(4896),v=h(5056),m=h(4064),u=h(6260),p=h(2395),d=h(2504);const n=["rangeAutocomplete"],i=["rangeTemplate"],l=["filterInput"];function t(_,O){if(1&_&&(e.I0R(0,"div",16),e.OEk(1),e.C$Y()),2&_){const o=e.GaO(2);e.yG2(),e.cNF(o.rangeMessage)}}function a(_,O){if(1&_){const o=e.KQA();e.I0R(0,"forge-list-item")(1,"forge-icon-button",17)(2,"button",18),e.qCj("click",function(){const c=e.usT(o).$implicit,C=e.GaO(2);return e.CGJ(C.onDeleteRangeOption(c))}),e.wR5(3,"forge-icon",19),e.C$Y()(),e.OEk(4),e.C$Y()}if(2&_){const o=O.$implicit;e.yG2(4),e.oRS(" ",o.label," ")}}function g(_,O){if(1&_){const o=e.KQA();e.I0R(0,"div",6)(1,"div",7)(2,"span",8),e.OEk(3,"Enter a search range"),e.C$Y(),e.I0R(4,"div",9)(5,"forge-text-field")(6,"input",10),e.iHE("ngModelChange",function(r){e.usT(o);const c=e.GaO();return e.kNx(c.rangeMin,r)||(c.rangeMin=r),e.CGJ(r)}),e.C$Y()(),e.I0R(7,"span"),e.OEk(8,"to"),e.C$Y(),e.I0R(9,"forge-text-field")(10,"input",11),e.iHE("ngModelChange",function(r){e.usT(o);const c=e.GaO();return e.kNx(c.rangeMax,r)||(c.rangeMax=r),e.CGJ(r)}),e.C$Y()(),e.I0R(11,"forge-icon-button")(12,"button",12),e.qCj("click",function(){e.usT(o);const r=e.GaO();return e.CGJ(r.onAddRangeOption())}),e.wR5(13,"forge-icon",13),e.C$Y()()(),e.yuY(14,t,2,1,"div",14),e.C$Y(),e.I0R(15,"forge-list",15),e.c53(16,a,5,1,"forge-list-item",null,e.wJt),e.C$Y(),e.wR5(18,"forge-divider"),e.C$Y()}if(2&_){const o=e.GaO();e.yG2(6),e.OKB("ngModel",o.rangeMin),e.e48("maxlength",o.maxlength),e.yG2(4),e.OKB("ngModel",o.rangeMax),e.e48("maxlength",o.maxlength),e.yG2(4),e.C0Y(14,o.rangeMessage?14:-1),e.yG2(2),e.oho(o.rangeOptions)}}let f=(()=>{class _{constructor(){this.ngZone=(0,e.uUt)(e.WW2),this.viewContainerRef=(0,e.uUt)(e.y8U),this.valueChange=new e._w7,this.maxlength=null,this.rangeOptions=[],this.elementId=d.q.uniqueId(),this.filter="",this.onChange=o=>{},this.onTouched=()=>{},this.onFilter=o=>(this.filter=o,new Promise((s,r)=>{this.optionFilter&&this.optionFilter(this.filter).subscribe({next:c=>{const C=[];c.forEach(E=>(0,u.c7)(E.value)?this.rangeOptions.push(E):C.push(E)),s(C)},error:()=>r()})})),this.optionHeaderBuilder=()=>(this.ngZone.run(()=>{this.rangeMin=void 0,this.rangeMax=void 0,this.rangeMessage=void 0}),this.rangeRef?.rootNodes[0]),this.selectedTextBuilder=o=>{if(this.autocompleteRef?.nativeElement.open&&this.filter.length)return this.filter;const s=o?.length,r=this.rangeOptions?.length;return s>0&&r>0?`${s} option(s) selected, ${r} range(s)`:s>0?`${s} option(s) selected`:r>0?`${r} range(s)`:""}}autocompleteBlur(){this.onTouched()}set value(o){this.writeValue(o)}writeValue(o){const s=[];this.rangeOptions.length=0,(0,u.c7)(o)&&o.forEach(r=>{if((0,u.c7)(r)||(0,u.c7)(r.value)){const c=(0,u.Ks)(r.value)?r.value:r;this.rangeOptions.push({label:`${c[0]} to ${c[1]}`,value:c})}else s.push(r)}),window.requestAnimationFrame(()=>{this.autocompleteRef.nativeElement.value=s})}ngAfterViewInit(){window.requestAnimationFrame(()=>{this.rangeRef=this.viewContainerRef.createEmbeddedView(this.rangeTemplateRef),this.rangeRef.rootNodes[0].remove()})}ngOnDestroy(){this.rangeRef?.destroy()}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}onAutocompleteChange(){this.emitChangeEvents()}onAddRangeOption(){if(this.rangeMin?.length||this.rangeMax?.length){if(this.rangeMin=(0,u.ct)(this.rangeMin)?this.rangeMin?.trim():this.rangeMin,this.rangeMax=(0,u.ct)(this.rangeMax)?this.rangeMax?.trim():this.rangeMax,this.rangeMin?.length&&this.rangeMax?.length){const r=d.q.comparator(this.rangeMin,this.rangeMax,"string");if(0===r)return void(this.rangeMessage="Min and Max cannot be the same value.");if(1===r)return void(this.rangeMessage="Min value cannot be greater than Max value.")}-1===this.rangeOptions.findIndex(r=>r.value[0]===this.rangeMin&&r.value[1]===this.rangeMax)?(this.rangeMessage=void 0,this.rangeOptions.push({label:this.rangeMin?.length&&this.rangeMax?.length?`${this.rangeMin} to ${this.rangeMax}`:this.rangeMin?.length?`Greater than ${this.rangeMin}`:`Less than ${this.rangeMax}`,value:[this.rangeMin,this.rangeMax]}),this.emitChangeEvents(),this.rangeMin=void 0,this.rangeMax=void 0,this.filterInputRef.nativeElement.value=this.selectedTextBuilder(this.autocompleteRef?.nativeElement.value)):this.rangeMessage="This range is already defined."}else this.rangeMessage="A min or max value is required."}onDeleteRangeOption(o){(this.rangeRef?.rootNodes[0]).focus();const s=this.rangeOptions.findIndex(r=>r.value===o.value);-1!==s&&(this.rangeOptions.splice(s,1),this.filterInputRef.nativeElement.value=this.selectedTextBuilder(this.autocompleteRef?.nativeElement.value),this.emitChangeEvents())}emitChangeEvents(){const o=[];(0,u.c7)(this.rangeOptions)&&this.rangeOptions.length&&o.push(...this.rangeOptions.map(r=>r.value));const s=this.autocompleteRef?.nativeElement.value;(0,u.c7)(s)&&s.length&&o.push(...s),this.onChange(o),this.valueChange.emit(o)}static#e=this.\u0275fac=function(s){return new(s||_)};static#t=this.\u0275cmp=e.In1({type:_,selectors:[["app-autocomplete-range"]],viewQuery:function(s,r){if(1&s&&(e.CC$(n,5),e.CC$(i,5),e.CC$(l,5)),2&s){let c;e.wto(c=e.Gqi())&&(r.autocompleteRef=c.first),e.wto(c=e.Gqi())&&(r.rangeTemplateRef=c.first),e.wto(c=e.Gqi())&&(r.filterInputRef=c.first)}},hostBindings:function(s,r){1&s&&e.qCj("focusout",function(C){return r.autocompleteBlur(C)})},inputs:{optionFilter:"optionFilter",value:"value",label:"label",maxlength:"maxlength"},outputs:{valueChange:"valueChange"},standalone:!0,features:[e.M5G([{provide:m.Y6,useExisting:(0,e.wd)(()=>_),multi:!0}]),e.UHJ],decls:10,vars:6,consts:[["multiple","",3,"filter","selectedTextBuilder","popupHeaderBuilder","forge-autocomplete-change"],["rangeAutocomplete",""],["type","text"],["filterInput",""],["slot","trailing","name","arrow_drop_down",1,"forge-dropdown-icon"],["rangeTemplate",""],["tabindex","-1",1,"range"],[1,"range__input"],[1,"forge-typography--subtitle1","range__input__header"],[1,"range__input__body"],["type","text","placeholder","min",3,"ngModel","ngModelChange"],["type","text","placeholder","max",3,"ngModel","ngModelChange"],["type","button","aria-label","add search range",3,"click"],["name","add"],["class","forge-typography--caption"],[1,"range__options"],[1,"forge-typography--caption"],["slot","leading"],["type","button","aria-label","delete search range",3,"click"],["name","delete"]],template:function(s,r){1&s&&(e.I0R(0,"forge-autocomplete",0,1),e.qCj("forge-autocomplete-change",function(){return r.onAutocompleteChange()}),e.I0R(2,"forge-text-field"),e.wR5(3,"input",2,3),e.I0R(5,"label"),e.OEk(6),e.C$Y(),e.wR5(7,"forge-icon",4),e.C$Y()(),e.yuY(8,g,19,5,"ng-template",null,5,e.gJz)),2&s&&(e.E7m("filter",r.onFilter)("selectedTextBuilder",r.selectedTextBuilder)("popupHeaderBuilder",r.optionHeaderBuilder),e.yG2(3),e.e48("id",r.elementId),e.yG2(2),e.e48("for",r.elementId),e.yG2(),e.cNF(r.label))},dependencies:[v.MD,m.y,m.ot,m.ue,m._G,p.Avr,p.yXs,p.GqF,p.u_Z,p.Yz$,p.io2,p.gFQ,p.mkN,p.E9p,p.ANn,p.CiN,p.yMO,p.cB7,p.QPL],styles:["\n\n\n\n\n[_nghost-%COMP%]{display:block}.range[_ngcontent-%COMP%]{outline:none}.range__input[_ngcontent-%COMP%]{padding-left:16px}.range__input__header[_ngcontent-%COMP%]{font-size:14px}.range__input__body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr auto;column-gap:8px;align-items:center}.range__input[_ngcontent-%COMP%]   .forge-typography--caption[_ngcontent-%COMP%]{color:#b00020;color:var(--forge-theme-danger, #b00020)}.range__options[_ngcontent-%COMP%]{--forge-list-item-padding: 0 16px 0 4px;--forge-list-item-leading-margin-right: 4px}"]})}return _})()},2504:(R,M,h)=>{h.d(M,{q:()=>p});var e=h(5056),v=h(1332),m=h(4019),u=h(6260);class p{static sortData(n,i,l,t){return n&&n.length?(l=l||"string","DESC"!==t&&(t="ASC"),n.slice().sort((a,g)=>(a=(0,m.ne)(a,i),g=(0,m.ne)(g,i),"DESC"===t?this.comparator(g,a,l):this.comparator(a,g,l)))):n}static groupData(n,i){return(0,u.c7)(n)&&n.length&&i?.length?n.reduce((l,t)=>{const a=t[i];return l[a]||(l[a]=[]),l[a].push(t),l},{}):n}static filterData(n,i){if(!((0,u.c7)(n)&&n.length&&(0,u.c7)(i)&&i.length))return n;i=i.map(t=>{if((0,u.ct)(t.value)&&t.value.length){let a;if("<>"===t.value.substring(0,2)){if(2===t.value.length)return t.value="",t;a=t.value.substring(0,2),t.value=t.value.substring(2)}else if("<"===t.value.substring(0,1)||">"===t.value.substring(0,1)){if(1===t.value.length)return t.value="",t;a=t.value.substring(0,1),t.value=t.value.substring(1)}a&&Object.defineProperty(t,"operator",{value:a})}return t.value=(""+t.value).toLowerCase(),t});const l=t=>i.every(a=>{if(!a.value.length)return!0;const g=(""+(0,m.ne)(t,a.key)).toLowerCase();if(!g.length)return!1;if(a.strict)return g===a.value;switch(a.operator){case"<>":return 0!==this.comparator(g,a.value,a.type);case">":return this.comparator(g,a.value,a.type)>0;case"<":return this.comparator(g,a.value,a.type)<0;default:return g.indexOf(a.value)>-1}});return n.filter(t=>l(t))}static comparator(n,i,l="string"){if(n==i)return 0;if(!(0,u.Ks)(n))return-1;if(!(0,u.Ks)(i))return 1;switch(l){case"boolean":return n?-1:1;case"date":if(n=new Date(n).getTime(),isNaN(n))return-1;if(i=new Date(i).getTime(),isNaN(i))return 1;break;case"number":if(n=parseFloat(n),isNaN(n))return-1;if(i=parseFloat(i),isNaN(i))return 1;break;default:return isNaN(parseFloat(n))||isNaN(parseFloat(i))?(""+n).localeCompare(""+i):(""+n).localeCompare(""+i,navigator.language,{numeric:!0})}return n<i?-1:n>i?1:0}static navigateBack(n,i,l){1===n.getState()?.navigationId?i.navigate(l):n.back()}static elementId(n){return n+Math.random().toString(36).replace(/[^a-z]+/g,"")}static formatDate(n,i="MM/dd/yyyy"){return(0,u.Ks)(n)?(0,e._m)(n,i,navigator.language):""}static formatNumber(n,i="1.2-2"){return(0,e.iy)(n,navigator.language,i)}static uniqueId(){return Math.random().toString(36).substring(2)}static parseQueryStringParameters(){const n={};if(window.location.search.length){const i=new v.i4({fromString:window.location.search.substring(1)});i.keys().forEach(l=>{const t=i.getAll(l);t.length&&Object.defineProperty(n,l.toLowerCase(),{value:1===t.length?t[0]:t,enumerable:!0,writable:!0})})}return n}static reduceObject(n){const i={};return Object.keys(n).forEach(l=>{(0,u.Ks)(n[l])&&((0,u.c7)(n[l])?n[l].length&&(i[l]=n[l]):(n[l]+"").trim().length&&(i[l]="string"==typeof n[l]?n[l].trim():n[l]))}),i}}}}]);
//# sourceMappingURL=536.eb23fb772fe2eafe.js.map