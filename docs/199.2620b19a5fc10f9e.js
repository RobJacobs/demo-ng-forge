"use strict";(self.webpackChunkdemo_ng_forge=self.webpackChunkdemo_ng_forge||[]).push([[199],{2695:(fe,bt,Z)=>{Z.r(bt),Z.d(bt,{ChartsModule:()=>pd});var gt=Z(6575),mt=Z(6687),it=Z(6538),Ft=Z(2811),K=Z(2898),ot=Z(5532),B=Z(9877),J=Z(9016),rt=Z(274),It=Z(655);function At(t,e){let n,r;if(void 0===e)for(const i of t)null!=i&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)null!=(a=e(a,++i,t))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}function zn(t){return t}var de=1,pe=2,at=3,kt=4,Et=1e-6;function te(t){return"translate("+t+",0)"}function Re(t){return"translate(0,"+t+")"}function Un(t){return e=>+t(e)}function ee(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ge(){return!this.__axis}function Kt(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===de||t===kt?-1:1,h=t===kt||t===pe?"x":"y",d=t===de||t===at?te:Re;function c(p){var v=r??(e.ticks?e.ticks.apply(e,n):e.domain()),w=i??(e.tickFormat?e.tickFormat.apply(e,n):zn),m=Math.max(a,0)+s,f=e.range(),_=+f[0]+l,x=+f[f.length-1]+l,S=(e.bandwidth?ee:Un)(e.copy(),l),N=p.selection?p.selection():p,C=N.selectAll(".domain").data([null]),k=N.selectAll(".tick").data(v,e).order(),F=k.exit(),$=k.enter().append("g").attr("class","tick"),z=k.select("line"),R=k.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge($),z=z.merge($.append("line").attr("stroke","currentColor").attr(h+"2",u*a)),R=R.merge($.append("text").attr("fill","currentColor").attr(h,u*m).attr("dy",t===de?"0em":t===at?"0.71em":"0.32em")),p!==N&&(C=C.transition(p),k=k.transition(p),z=z.transition(p),R=R.transition(p),F=F.transition(p).attr("opacity",Et).attr("transform",function(Y){return isFinite(Y=S(Y))?d(Y+l):this.getAttribute("transform")}),$.attr("opacity",Et).attr("transform",function(Y){var y=this.parentNode.__axis;return d((y&&isFinite(y=y(Y))?y:S(Y))+l)})),F.remove(),C.attr("d",t===kt||t===pe?o?"M"+u*o+","+_+"H"+l+"V"+x+"H"+u*o:"M"+l+","+_+"V"+x:o?"M"+_+","+u*o+"V"+l+"H"+x+"V"+u*o:"M"+_+","+l+"H"+x),k.attr("opacity",1).attr("transform",function(Y){return d(S(Y)+l)}),z.attr(h+"2",u*a),R.attr(h,u*m).text(w),N.filter(ge).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===pe?"start":t===kt?"end":"middle"),N.each(function(){this.__axis=S})}return c.scale=function(p){return arguments.length?(e=p,c):e},c.ticks=function(){return n=Array.from(arguments),c},c.tickArguments=function(p){return arguments.length?(n=null==p?[]:Array.from(p),c):n.slice()},c.tickValues=function(p){return arguments.length?(r=null==p?null:Array.from(p),c):r&&r.slice()},c.tickFormat=function(p){return arguments.length?(i=p,c):i},c.tickSize=function(p){return arguments.length?(a=o=+p,c):a},c.tickSizeInner=function(p){return arguments.length?(a=+p,c):a},c.tickSizeOuter=function(p){return arguments.length?(o=+p,c):o},c.tickPadding=function(p){return arguments.length?(s=+p,c):s},c.offset=function(p){return arguments.length?(l=+p,c):l},c}function Ur(t){return Kt(at,t)}function Hr(t){return Kt(kt,t)}function Qa(){}function Hn(t){return null==t?Qa:function(){return this.querySelector(t)}}function eo(){return[]}function Lr(t){return null==t?eo:function(){return this.querySelectorAll(t)}}function Xr(t){return function(){return this.matches(t)}}function Yr(t){return function(e){return e.matches(t)}}var io=Array.prototype.find;function oo(){return this.firstElementChild}var uo=Array.prototype.filter;function lo(){return Array.from(this.children)}function Vr(t){return new Array(t.length)}function Ke(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function mo(t,e,n,r,i,a){for(var s,o=0,l=e.length,u=a.length;o<u;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new Ke(t,a[o]);for(;o<l;++o)(s=e[o])&&(i[o]=s)}function yo(t,e,n,r,i,a,o){var s,l,p,u=new Map,h=e.length,d=a.length,c=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(c[s]=p=o.call(l,l.__data__,s,e)+"",u.has(p)?i[s]=l:u.set(p,l));for(s=0;s<d;++s)p=o.call(t,a[s],s,a)+"",(l=u.get(p))?(r[s]=l,l.__data__=a[s],u.delete(p)):n[s]=new Ke(t,a[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(c[s])===l&&(i[s]=l)}function _o(t){return t.__data__}function xo(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ao(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Ke.prototype={constructor:Ke,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ln="http://www.w3.org/1999/xhtml";const Zr={svg:"http://www.w3.org/2000/svg",xhtml:Ln,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qe(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Zr.hasOwnProperty(e)?{space:Zr[e],local:t}:t}function Do(t){return function(){this.removeAttribute(t)}}function $o(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Oo(t,e){return function(){this.setAttribute(t,e)}}function Po(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Fo(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function zo(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Wr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ho(t){return function(){this.style.removeProperty(t)}}function Lo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Xo(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function me(t,e){return t.style.getPropertyValue(e)||Wr(t).getComputedStyle(t,null).getPropertyValue(e)}function Vo(t){return function(){delete this[t]}}function Zo(t,e){return function(){this[t]=e}}function Wo(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Br(t){return t.trim().split(/^|\s+/)}function Xn(t){return t.classList||new qr(t)}function qr(t){this._node=t,this._names=Br(t.getAttribute("class")||"")}function Gr(t,e){for(var n=Xn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Jr(t,e){for(var n=Xn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function qo(t){return function(){Gr(this,t)}}function Go(t){return function(){Jr(this,t)}}function Jo(t,e){return function(){(e.apply(this,arguments)?Gr:Jr)(this,t)}}function Qo(){this.textContent=""}function jo(t){return function(){this.textContent=t}}function ts(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ns(){this.innerHTML=""}function rs(t){return function(){this.innerHTML=t}}function is(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function os(){this.nextSibling&&this.parentNode.appendChild(this)}function us(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cs(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ln&&e.documentElement.namespaceURI===Ln?e.createElement(t):e.createElementNS(n,t)}}function hs(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Kr(t){var e=Qe(t);return(e.local?hs:cs)(e)}function ds(){return null}function gs(){var t=this.parentNode;t&&t.removeChild(this)}function ys(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _s(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bs(t){return function(){var e=this.__on;if(e){for(var a,n=0,r=-1,i=e.length;n<i;++n)a=e[n],t.type&&a.type!==t.type||a.name!==t.name?e[++r]=a:this.removeEventListener(a.type,a.listener,a.options);++r?e.length=r:delete this.__on}}}function Cs(t,e,n){return function(){var i,r=this.__on,a=function ws(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),void(i.value=e);this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Qr(t,e,n){var r=Wr(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function As(t,e){return function(){return Qr(this,t,e)}}function ks(t,e){return function(){return Qr(this,t,e.apply(this,arguments))}}qr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var jr=[null];function St(t,e){this._groups=t,this._parents=e}function ti(){return new St([[document.documentElement]],jr)}St.prototype=ti.prototype={constructor:St,select:function ja(t){"function"!=typeof t&&(t=Hn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var l,u,a=e[i],o=a.length,s=r[i]=new Array(o),h=0;h<o;++h)(l=a[h])&&(u=t.call(l,l.__data__,h,a))&&("__data__"in l&&(u.__data__=l.__data__),s[h]=u);return new St(r,this._parents)},selectAll:function ro(t){t="function"==typeof t?function no(t){return function(){return function to(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}(t):Lr(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var l,o=e[a],s=o.length,u=0;u<s;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new St(r,i)},selectChild:function so(t){return this.select(null==t?oo:function ao(t){return function(){return io.call(this.children,t)}}("function"==typeof t?t:Yr(t)))},selectChildren:function ho(t){return this.selectAll(null==t?lo:function co(t){return function(){return uo.call(this.children,t)}}("function"==typeof t?t:Yr(t)))},filter:function fo(t){"function"!=typeof t&&(t=Xr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var l,a=e[i],o=a.length,s=r[i]=[],u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new St(r,this._parents)},data:function vo(t,e){if(!arguments.length)return Array.from(this,_o);var n=e?yo:mo,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function go(t){return function(){return t}}(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var h=r[u],d=i[u],c=d.length,p=xo(t.call(h,h&&h.__data__,u,r)),v=p.length,w=s[u]=new Array(v),m=o[u]=new Array(v);n(h,d,w,m,l[u]=new Array(c),p,e);for(var S,N,_=0,x=0;_<v;++_)if(S=w[_]){for(_>=x&&(x=_+1);!(N=m[x])&&++x<v;);S._next=N||null}}return(o=new St(o,r))._enter=s,o._exit=l,o},enter:function po(){return new St(this._enter||this._groups.map(Vr),this._parents)},exit:function wo(){return new St(this._exit||this._groups.map(Vr),this._parents)},join:function To(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function bo(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=Math.min(i,r.length),s=new Array(i),l=0;l<o;++l)for(var p,u=n[l],h=r[l],d=u.length,c=s[l]=new Array(d),v=0;v<d;++v)(p=u[v]||h[v])&&(c[v]=p);for(;l<i;++l)s[l]=n[l];return new St(s,this._parents)},selection:function Rs(){return this},order:function Co(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o,r=t[e],i=r.length-1,a=r[i];--i>=0;)(o=r[i])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this},sort:function Mo(t){function e(d,c){return d&&c?t(d.__data__,c.__data__):!d-!c}t||(t=Ao);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var u,o=n[a],s=o.length,l=i[a]=new Array(s),h=0;h<s;++h)(u=o[h])&&(l[h]=u);l.sort(e)}return new St(i,this._parents).order()},call:function ko(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function So(){return Array.from(this)},node:function No(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function Ro(){let t=0;for(const e of this)++t;return t},empty:function Io(){return!this.node()},each:function Eo(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s,i=e[n],a=0,o=i.length;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this},attr:function Uo(t,e){var n=Qe(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?$o:Do:"function"==typeof e?n.local?zo:Fo:n.local?Po:Oo)(n,e))},style:function Yo(t,e,n){return arguments.length>1?this.each((null==e?Ho:"function"==typeof e?Xo:Lo)(t,e,n??"")):me(this.node(),t)},property:function Bo(t,e){return arguments.length>1?this.each((null==e?Vo:"function"==typeof e?Wo:Zo)(t,e)):this.node()[t]},classed:function Ko(t,e){var n=Br(t+"");if(arguments.length<2){for(var r=Xn(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Jo:e?qo:Go)(n,e))},text:function es(t){return arguments.length?this.each(null==t?Qo:("function"==typeof t?ts:jo)(t)):this.node().textContent},html:function as(t){return arguments.length?this.each(null==t?ns:("function"==typeof t?is:rs)(t)):this.node().innerHTML},raise:function ss(){return this.each(os)},lower:function ls(){return this.each(us)},append:function fs(t){var e="function"==typeof t?t:Kr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function ps(t,e){var n="function"==typeof t?t:Kr(t),r=null==e?ds:"function"==typeof e?e:Hn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function ms(){return this.each(gs)},clone:function vs(t){return this.select(t?_s:ys)},datum:function xs(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function Ms(t,e,n){var i,o,r=function Ts(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}(t+""),a=r.length;if(!(arguments.length<2)){for(s=e?Cs:bs,i=0;i<a;++i)this.each(s(r[i],e,n));return this}var s=this.node().__on;if(s)for(var h,l=0,u=s.length;l<u;++l)for(i=0,h=s[l];i<a;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value},dispatch:function Ss(t,e){return this.each(("function"==typeof e?ks:As)(t,e))},[Symbol.iterator]:function*Ns(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o,r=t[e],i=0,a=r.length;i<a;++i)(o=r[i])&&(yield o)}};const Ie=ti;var Is={value:()=>{}};function ei(){for(var r,t=0,e=arguments.length,n={};t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new je(n)}function je(t){this._=t}function Ds(t,e){for(var i,n=0,r=t.length;n<r;++n)if((i=t[n]).name===e)return i.value}function ni(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Is,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}je.prototype=ei.prototype={constructor:je,on:function(t,e){var i,n=this._,r=function Es(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}(t+"",n),a=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=ni(n[i],t.name,e);else if(null==e)for(i in n)n[i]=ni(n[i],t.name,null);return this}for(;++a<o;)if((i=(t=r[a]).type)&&(i=Ds(n[i],t.name)))return i},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new je(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,a,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,i=(a=this._[t]).length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};const ri=ei;var tn,$e,ye=0,Ee=0,De=0,ii=1e3,en=0,ne=0,nn=0,Oe="object"==typeof performance&&performance.now?performance:Date,ai="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yn(){return ne||(ai($s),ne=Oe.now()+nn)}function $s(){ne=0}function rn(){this._call=this._time=this._next=null}function oi(t,e,n){var r=new rn;return r.restart(t,e,n),r}function si(){ne=(en=Oe.now())+nn,ye=Ee=0;try{!function Os(){Yn(),++ye;for(var e,t=tn;t;)(e=ne-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ye}()}finally{ye=0,function Fs(){for(var t,n,e=tn,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:tn=n);$e=t,Vn(r)}(),ne=0}}function Ps(){var t=Oe.now(),e=t-en;e>ii&&(nn-=e,en=t)}function Vn(t){ye||(Ee&&(Ee=clearTimeout(Ee)),t-ne>24?(t<1/0&&(Ee=setTimeout(si,t-Oe.now()-nn)),De&&(De=clearInterval(De))):(De||(en=Oe.now(),De=setInterval(Ps,ii)),ye=1,ai(si)))}function ui(t,e,n){var r=new rn;return r.restart(i=>{r.stop(),t(i+e)},e=null==e?0:+e,n),r}rn.prototype=oi.prototype={constructor:rn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Yn():+n)+(null==e?0:+e),!this._next&&$e!==this&&($e?$e._next=this:tn=this,$e=this),this._call=t,this._time=n,Vn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vn())}};var zs=ri("start","end","cancel","interrupt"),Us=[],li=0,Zn=2,an=3,Wn=5,on=6;function sn(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function Hs(t,e,n){var i,r=t.__transition;function o(u){var h,d,c,p;if(1!==n.state)return l();for(h in r)if((p=r[h]).name===n.name){if(p.state===an)return ui(o);4===p.state?(p.state=on,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[h]):+h<e&&(p.state=on,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[h])}if(ui(function(){n.state===an&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Zn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Zn){for(n.state=an,i=new Array(c=n.tween.length),h=0,d=-1;h<c;++h)(p=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function s(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Wn,1),d=-1,c=i.length;++d<c;)i[d].call(t,h);n.state===Wn&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var u in n.state=on,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=oi(function a(u){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:zs,tween:Us,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:li})}function Bn(t,e){var n=Dt(t,e);if(n.state>li)throw new Error("too late; already scheduled");return n}function zt(t,e){var n=Dt(t,e);if(n.state>an)throw new Error("too late; already running");return n}function Dt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function un(t,e){var r,i,o,n=t.__transition,a=!0;if(n){for(o in e=null==e?null:e+"",n)(r=n[o]).name===e?(i=r.state>Zn&&r.state<Wn,r.state=on,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]):a=!1;a&&delete t.__transition}}function $t(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ln,fi=180/Math.PI,qn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function di(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*fi,skewX:Math.atan(l)*fi,scaleX:o,scaleY:s}}function pi(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}return function(u,h){var d=[],c=[];return u=t(u),h=t(h),function a(u,h,d,c,p,v){if(u!==d||h!==c){var w=p.push("translate(",null,e,null,n);v.push({i:w-4,x:$t(u,d)},{i:w-2,x:$t(h,c)})}else(d||c)&&p.push("translate("+d+e+c+n)}(u.translateX,u.translateY,h.translateX,h.translateY,d,c),function o(u,h,d,c){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),c.push({i:d.push(i(d)+"rotate(",null,r)-2,x:$t(u,h)})):h&&d.push(i(d)+"rotate("+h+r)}(u.rotate,h.rotate,d,c),function s(u,h,d,c){u!==h?c.push({i:d.push(i(d)+"skewX(",null,r)-2,x:$t(u,h)}):h&&d.push(i(d)+"skewX("+h+r)}(u.skewX,h.skewX,d,c),function l(u,h,d,c,p,v){if(u!==d||h!==c){var w=p.push(i(p)+"scale(",null,",",null,")");v.push({i:w-4,x:$t(u,d)},{i:w-2,x:$t(h,c)})}else(1!==d||1!==c)&&p.push(i(p)+"scale("+d+","+c+")")}(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,c),u=h=null,function(p){for(var m,v=-1,w=c.length;++v<w;)d[(m=c[v]).i]=m.x(p);return d.join("")}}}var Vs=pi(function Xs(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?qn:di(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),Zs=pi(function Ys(t){return null!=t&&(ln||(ln=document.createElementNS("http://www.w3.org/2000/svg","g")),ln.setAttribute("transform",t),t=ln.transform.baseVal.consolidate())?di((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):qn},", ",")",")");function Ws(t,e){var n,r;return function(){var i=zt(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function Bs(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=zt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function Gn(t,e,n){var r=t._id;return t.each(function(){var i=zt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Dt(i,r).value[e]}}function Jn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gi(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pe(){}var cn=1/.7,_e="\\s*([+-]?\\d+)\\s*",ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gs=/^#([0-9a-f]{3,8})$/,Js=new RegExp(`^rgb\\(${_e},${_e},${_e}\\)$`),Ks=new RegExp(`^rgb\\(${Ut},${Ut},${Ut}\\)$`),Qs=new RegExp(`^rgba\\(${_e},${_e},${_e},${ze}\\)$`),js=new RegExp(`^rgba\\(${Ut},${Ut},${Ut},${ze}\\)$`),tu=new RegExp(`^hsl\\(${ze},${Ut},${Ut}\\)$`),eu=new RegExp(`^hsla\\(${ze},${Ut},${Ut},${ze}\\)$`),mi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yi(){return this.rgb().formatHex()}function _i(){return this.rgb().formatRgb()}function re(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Gs.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?vi(e):3===n?new Ct(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?hn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?hn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Js.exec(t))?new Ct(e[1],e[2],e[3],1):(e=Ks.exec(t))?new Ct(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Qs.exec(t))?hn(e[1],e[2],e[3],e[4]):(e=js.exec(t))?hn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=tu.exec(t))?Ti(e[1],e[2]/100,e[3]/100,1):(e=eu.exec(t))?Ti(e[1],e[2]/100,e[3]/100,e[4]):mi.hasOwnProperty(t)?vi(mi[t]):"transparent"===t?new Ct(NaN,NaN,NaN,0):null}function vi(t){return new Ct(t>>16&255,t>>8&255,255&t,1)}function hn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ct(t,e,n,r)}function fn(t,e,n,r){return 1===arguments.length?function iu(t){return t instanceof Pe||(t=re(t)),t?new Ct((t=t.rgb()).r,t.g,t.b,t.opacity):new Ct}(t):new Ct(t,e,n,r??1)}function Ct(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function xi(){return`#${ae(this.r)}${ae(this.g)}${ae(this.b)}`}function wi(){const t=dn(this.opacity);return`${1===t?"rgb(":"rgba("}${ie(this.r)}, ${ie(this.g)}, ${ie(this.b)}${1===t?")":`, ${t})`}`}function dn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ie(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ae(t){return((t=ie(t))<16?"0":"")+t.toString(16)}function Ti(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ot(t,e,n,r)}function bi(t){if(t instanceof Ot)return new Ot(t.h,t.s,t.l,t.opacity);if(t instanceof Pe||(t=re(t)),!t)return new Ot;if(t instanceof Ot)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ot(o,s,l,t.opacity)}function Ot(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ci(t){return(t=(t||0)%360)<0?t+360:t}function pn(t){return Math.max(0,Math.min(1,t||0))}function Kn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Mi(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}Jn(Pe,re,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:yi,formatHex:yi,formatHex8:function nu(){return this.rgb().formatHex8()},formatHsl:function ru(){return bi(this).formatHsl()},formatRgb:_i,toString:_i}),Jn(Ct,fn,gi(Pe,{brighter(t){return t=null==t?cn:Math.pow(cn,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ct(ie(this.r),ie(this.g),ie(this.b),dn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xi,formatHex:xi,formatHex8:function au(){return`#${ae(this.r)}${ae(this.g)}${ae(this.b)}${ae(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:wi,toString:wi})),Jn(Ot,function ou(t,e,n,r){return 1===arguments.length?bi(t):new Ot(t,e,n,r??1)},gi(Pe,{brighter(t){return t=null==t?cn:Math.pow(cn,t),new Ot(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Ot(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ct(Kn(t>=240?t-240:t+120,i,r),Kn(t,i,r),Kn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ot(Ci(this.h),pn(this.s),pn(this.l),dn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=dn(this.opacity);return`${1===t?"hsl(":"hsla("}${Ci(this.h)}, ${100*pn(this.s)}%, ${100*pn(this.l)}%${1===t?")":`, ${t})`}`}}));const Qn=t=>()=>t;function ki(t,e){var n=e-t;return n?function Ai(t,e){return function(n){return t+n*e}}(t,n):Qn(isNaN(t)?e:t)}const gn=function t(e){var n=function cu(t){return 1==(t=+t)?ki:function(e,n){return n-e?function lu(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Qn(isNaN(e)?n:e)}}(e);function r(i,a){var o=n((i=fn(i)).r,(a=fn(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=ki(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=s(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function Si(t){return function(e){var o,s,n=e.length,r=new Array(n),i=new Array(n),a=new Array(n);for(o=0;o<n;++o)s=fn(e[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}Si(function su(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1];return Mi((n-r/e)*e,r>0?t[r-1]:2*i-a,i,a,r<e-1?t[r+2]:2*a-i)}}),Si(function uu(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return Mi((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}});var jn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tr=new RegExp(jn.source,"g");function Ni(t,e){var r,i,a,n=jn.lastIndex=tr.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(r=jn.exec(t))&&(i=tr.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:$t(r,i)})),n=tr.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function fu(t){return function(e){return t(e)+""}}(l[0].x):function hu(t){return function(){return t}}(e):(e=l.length,function(u){for(var d,h=0;h<e;++h)s[(d=l[h]).i]=d.x(u);return s.join("")})}function Ri(t,e){var n;return("number"==typeof e?$t:e instanceof re?gn:(n=re(e))?(e=n,gn):Ni)(t,e)}function du(t){return function(){this.removeAttribute(t)}}function pu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function gu(t,e,n){var r,a,i=n+"";return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function mu(t,e,n){var r,a,i=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function yu(t,e,n){var r,i,a;return function(){var o,l,s=n(this);return null==s?void this.removeAttribute(t):(o=this.getAttribute(t))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}function _u(t,e,n){var r,i,a;return function(){var o,l,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}function Tu(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&function wu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,a)),n}return i._value=e,i}function bu(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&function xu(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,a)),n}return i._value=e,i}function Mu(t,e){return function(){Bn(this,t).delay=+e.apply(this,arguments)}}function Au(t,e){return e=+e,function(){Bn(this,t).delay=e}}function Su(t,e){return function(){zt(this,t).duration=+e.apply(this,arguments)}}function Nu(t,e){return e=+e,function(){zt(this,t).duration=e}}var Vu=Ie.prototype.constructor;function Ii(t){return function(){this.style.removeProperty(t)}}var ul=0;function Lt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ei(){return++ul}var Xt=Ie.prototype;Lt.prototype=function ll(t){return Ie().transition(t)}.prototype={constructor:Lt,select:function Xu(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Hn(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var h,d,s=r[o],l=s.length,u=a[o]=new Array(l),c=0;c<l;++c)(h=s[c])&&(d=t.call(h,h.__data__,c,s))&&("__data__"in h&&(d.__data__=h.__data__),u[c]=d,sn(u[c],e,n,c,u,Dt(h,n)));return new Lt(a,this._parents,e,n)},selectAll:function Yu(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Lr(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var h,l=r[s],u=l.length,d=0;d<u;++d)if(h=l[d]){for(var p,c=t.call(h,h.__data__,d,l),v=Dt(h,n),w=0,m=c.length;w<m;++w)(p=c[w])&&sn(p,e,n,w,c,v);a.push(c),o.push(h)}return new Lt(a,o,e,n)},selectChild:Xt.selectChild,selectChildren:Xt.selectChildren,filter:function Ou(t){"function"!=typeof t&&(t=Xr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var l,a=e[i],o=a.length,s=r[i]=[],u=0;u<o;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&s.push(l);return new Lt(r,this._parents,this._name,this._id)},merge:function Pu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=Math.min(r,n.length),o=new Array(r),s=0;s<a;++s)for(var c,l=e[s],u=n[s],h=l.length,d=o[s]=new Array(h),p=0;p<h;++p)(c=l[p]||u[p])&&(d[p]=c);for(;s<r;++s)o[s]=e[s];return new Lt(o,this._parents,this._name,this._id)},selection:function Zu(){return new Vu(this._groups,this._parents)},transition:function ol(){for(var t=this._name,e=this._id,n=Ei(),r=this._groups,i=r.length,a=0;a<i;++a)for(var l,o=r[a],s=o.length,u=0;u<s;++u)if(l=o[u]){var h=Dt(l,e);sn(l,t,n,u,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Lt(r,this._parents,t,n)},call:Xt.call,nodes:Xt.nodes,node:Xt.node,size:Xt.size,empty:Xt.empty,each:Xt.each,on:function Uu(t,e){var n=this._id;return arguments.length<2?Dt(this.node(),n).on.on(t):this.each(function zu(t,e,n){var r,i,a=function Fu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||"start"===e})}(e)?Bn:zt;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function vu(t,e){var n=Qe(t),r="transform"===n?Zs:Ri;return this.attrTween(t,"function"==typeof e?(n.local?_u:yu)(n,r,Gn(this,"attr."+t,e)):null==e?(n.local?pu:du)(n):(n.local?mu:gu)(n,r,e))},attrTween:function Cu(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Qe(t);return this.tween(n,(r.local?Tu:bu)(r,e))},style:function Ju(t,e,n){var r="transform"==(t+="")?Vs:Ri;return null==e?this.styleTween(t,function Wu(t,e){var n,r,i;return function(){var a=me(this,t),o=(this.style.removeProperty(t),me(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,Ii(t)):"function"==typeof e?this.styleTween(t,function qu(t,e,n){var r,i,a;return function(){var o=me(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=me(this,t)),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}(t,r,Gn(this,"style."+t,e))).each(function Gu(t,e){var n,r,i,s,a="style."+e,o="end."+a;return function(){var l=zt(this,t),u=l.on,h=null==l.value[a]?s||(s=Ii(e)):void 0;(u!==n||i!==h)&&(r=(n=u).copy()).on(o,i=h),l.on=r}}(this._id,t)):this.styleTween(t,function Bu(t,e,n){var r,a,i=n+"";return function(){var o=me(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function ju(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function Qu(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function Ku(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return a._value=e,a}(t,e,n??""))},text:function nl(t){return this.tween("text","function"==typeof t?function el(t){return function(){var e=t(this);this.textContent=e??""}}(Gn(this,"text",t)):function tl(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function al(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function il(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&function rl(t){return function(e){this.textContent=t.call(this,e)}}(i)),e}return r._value=t,r}(t))},remove:function Lu(){return this.on("end.remove",function Hu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function qs(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o,r=Dt(this.node(),n).tween,i=0,a=r.length;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((null==e?Ws:Bs)(n,t,e))},delay:function ku(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Mu:Au)(e,t)):Dt(this.node(),e).delay},duration:function Ru(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Su:Nu)(e,t)):Dt(this.node(),e).duration},ease:function Eu(t){var e=this._id;return arguments.length?this.each(function Iu(t,e){if("function"!=typeof e)throw new Error;return function(){zt(this,t).ease=e}}(e,t)):Dt(this.node(),e).ease},easeVarying:function $u(t){if("function"!=typeof t)throw new Error;return this.each(function Du(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;zt(this,t).ease=n}}(this._id,t))},end:function sl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},l={value:function(){0==--i&&a()}};n.each(function(){var u=zt(this,r),h=u.on;h!==t&&((e=(t=h).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),0===i&&a()})},[Symbol.iterator]:Xt[Symbol.iterator]};var hl={time:null,delay:0,duration:250,ease:function cl(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function fl(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Ie.prototype.interrupt=function Ls(t){return this.each(function(){un(this,t)})},Ie.prototype.transition=function dl(t){var e,n;t instanceof Lt?(e=t._id,t=t._name):(e=Ei(),(n=hl).time=Yn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var l,o=r[a],s=o.length,u=0;u<s;++u)(l=o[u])&&sn(l,t,e,u,o,n||fl(l,e));return new Lt(r,this._parents,t,e)};Math;function Ue(t){return{type:t}}function _n(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function we(t){return(t=_n(Math.abs(t)))?t[1]:NaN}["w","e"].map(Ue),["n","s"].map(Ue),["n","w","e","s","nw","ne","sw","se"].map(Ue);var zi,Cl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vn(t){if(!(e=Cl.exec(t)))throw new Error("invalid format: "+t);var e;return new ar({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ar(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ui(t,e){var n=_n(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}vn.prototype=ar.prototype,ar.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Hi={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function wl(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ui(100*t,e),r:Ui,s:function Al(t,e){var n=_n(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(zi=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+_n(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Li(t){return t}var xn,Vt,Vi,Xi=Array.prototype.map,Yi=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Nl(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function He(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Wl)):void 0===e&&(e=Zl);for(var r,a,o,s,l,n=new Le(t),i=[n];r=i.pop();)if((o=e(r.data))&&(l=(o=Array.from(o)).length))for(r.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new Le(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(ql)}function Zl(t){return t.children}function Wl(t){return Array.isArray(t)?t[1]:null}function Bl(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function ql(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Le(t){this.data=t,this.depth=this.height=0,this.parent=null}function Zi(t){if("function"!=typeof t)throw new Error;return t}function oe(){return 0}function Te(t){return function(){return t}}!function Sl(t){xn=function kl(t){var e=void 0===t.grouping||void 0===t.thousands?Li:function Tl(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}(Xi.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Li:function bl(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}(Xi.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"\u2212":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function u(d){var c=(d=vn(d)).fill,p=d.align,v=d.sign,w=d.symbol,m=d.zero,f=d.width,_=d.comma,x=d.precision,S=d.trim,N=d.type;"n"===N?(_=!0,N="g"):Hi[N]||(void 0===x&&(x=12),S=!0,N="g"),(m||"0"===c&&"="===p)&&(m=!0,c="0",p="=");var C="$"===w?n:"#"===w&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k="$"===w?r:/[%p]/.test(N)?o:"",F=Hi[N],$=/[defgprs%]/.test(N);function z(R){var g,b,T,Y=C,y=k;if("c"===N)y=F(R)+y,R="";else{var M=(R=+R)<0||1/R<0;if(R=isNaN(R)?l:F(Math.abs(R),x),S&&(R=function Ml(t){t:for(var i,e=t.length,n=1,r=-1;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":0===r&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(i+1):t}(R)),M&&0==+R&&"+"!==v&&(M=!1),Y=(M?"("===v?v:s:"-"===v||"("===v?"":v)+Y,y=("s"===N?Yi[8+zi/3]:"")+y+(M&&"("===v?")":""),$)for(g=-1,b=R.length;++g<b;)if(48>(T=R.charCodeAt(g))||T>57){y=(46===T?i+R.slice(g+1):R.slice(g))+y,R=R.slice(0,g);break}}_&&!m&&(R=e(R,1/0));var P=Y.length+R.length+y.length,D=P<f?new Array(f-P+1).join(c):"";switch(_&&m&&(R=e(D+R,D.length?f-y.length:1/0),D=""),p){case"<":R=Y+R+y+D;break;case"=":R=Y+D+R+y;break;case"^":R=D.slice(0,P=D.length>>1)+Y+R+y+D.slice(P);break;default:R=D+Y+R+y}return a(R)}return x=void 0===x?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),z.toString=function(){return d+""},z}return{format:u,formatPrefix:function h(d,c){var p=u(((d=vn(d)).type="f",d)),v=3*Math.max(-8,Math.min(8,Math.floor(we(c)/3))),w=Math.pow(10,-v),m=Yi[8+v/3];return function(f){return p(w*f)+m}}}}(t),Vt=xn.format,Vi=xn.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]}),Le.prototype=He.prototype={constructor:Le,count:function Rl(){return this.eachAfter(Nl)},each:function Il(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function Dl(t,e){for(var a,o,s,n=this,r=[n],i=[],l=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)t.call(e,n,++l,this);return this},eachBefore:function El(t,e){for(var i,a,n=this,r=[n],o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this},find:function $l(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function Ol(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function Pl(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function Fl(t){for(var e=this,n=function zl(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)r.push(e=e.parent);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function Ul(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function Hl(){return Array.from(this)},leaves:function Ll(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function Xl(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function Vl(){return He(this).eachBefore(Bl)},[Symbol.iterator]:function*Yl(){var e,r,i,a,t=this,n=[t];do{for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i])}while(n.length)}};const Wi=4294967296;function ec(t,e){var n,r;if(or(e,t))return[e];for(n=0;n<t.length;++n)if(wn(e,t[n])&&or(Xe(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(wn(Xe(t[n],t[r]),e)&&wn(Xe(t[n],e),t[r])&&wn(Xe(t[r],e),t[n])&&or(Gi(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function wn(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function qi(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function or(t,e){for(var n=0;n<e.length;++n)if(!qi(t,e[n]))return!1;return!0}function nc(t){switch(t.length){case 1:return function rc(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Xe(t[0],t[1]);case 3:return Gi(t[0],t[1],t[2])}}function Xe(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,l=a-n,u=o-r,h=s-i,d=Math.sqrt(l*l+u*u);return{x:(n+a+l/d*h)/2,y:(r+o+u/d*h)/2,r:(d+i+s)/2}}function Gi(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=e.r,u=n.x,h=n.y,d=n.r,c=r-o,p=r-u,v=i-s,w=i-h,m=l-a,f=d-a,_=r*r+i*i-a*a,x=_-o*o-s*s+l*l,S=_-u*u-h*h+d*d,N=p*v-c*w,C=(v*S-w*x)/(2*N)-r,k=(w*m-v*f)/N,F=(p*x-c*S)/(2*N)-i,$=(c*f-p*m)/N,z=k*k+$*$-1,R=2*(a+C*k+F*$),Y=C*C+F*F-a*a,y=-(Math.abs(z)>1e-6?(R+Math.sqrt(R*R-4*z*Y))/(2*z):Y/R);return{x:r+C+k*y,y:i+F+$*y,r:y}}function Ji(t,e,n){var i,a,s,l,r=t.x-e.x,o=t.y-e.y,u=r*r+o*o;u?(a=e.r+n.r,l=t.r+n.r,(a*=a)>(l*=l)?(i=(u+l-a)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),n.x=t.x-i*r-s*o,n.y=t.y-i*o+s*r):(i=(u+a-l)/(2*u),s=Math.sqrt(Math.max(0,a/u-i*i)),n.x=e.x+i*r-s*o,n.y=e.y+i*o+s*r)):(n.x=e.x+n.r,n.y=e.y)}function Ki(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Qi(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function Tn(t){this._=t,this.next=null,this.previous=null}function ji(t,e){if(!(a=(t=function jl(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var n,r,i,a,o,s,l,u,h,d,c;if((n=t[0]).x=0,n.y=0,!(a>1))return n.r;if(n.x=-(r=t[1]).r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;Ji(r,n,i=t[2]),n=new Tn(n),r=new Tn(r),i=new Tn(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(l=3;l<a;++l){Ji(n._,r._,i=t[l]),i=new Tn(i),u=r.next,h=n.previous,d=r._.r,c=n._.r;do{if(d<=c){if(Ki(u._,i._)){n.next=r=u,r.previous=n,--l;continue t}d+=u._.r,u=u.next}else{if(Ki(h._,i._)){(n=h).next=r,r.previous=n,--l;continue t}c+=h._.r,h=h.previous}}while(u!==h.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=Qi(n);(i=i.next)!==r;)(s=Qi(i))<o&&(n=i,o=s);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=function Bi(t,e){for(var a,o,n=0,r=(t=function tc(t,e){let r,i,n=t.length;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}(Array.from(t),e)).length,i=[];n<r;)a=t[n],o&&qi(o,a)?++n:(o=nc(i=ec(i,a)),n=0);return o}(n,e),l=0;l<a;++l)(n=t[l]).x-=i.x,n.y-=i.y;return i.r}function ic(t){return Math.sqrt(t.value)}function ta(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function sr(t,e,n){return function(r){if(i=r.children){var i,a,l,o=i.length,s=t(r)*e||0;if(s)for(a=0;a<o;++a)i[a].r+=s;if(l=ji(i,n),s)for(a=0;a<o;++a)i[a].r-=s;r.r=l+s}}}function ea(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function oc(t,e){return t.parent===e.parent?1:2}function ur(t){var e=t.children;return e?e[0]:t.t}function lr(t){var e=t.children;return e?e[e.length-1]:t.t}function sc(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function lc(t,e,n){return t.a.parent===e.parent?t.a:n}function bn(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function fc(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function dc(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,u=t.value&&(r-e)/t.value;++s<l;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*u}function pc(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,u=t.value&&(i-n)/t.value;++s<l;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}bn.prototype=Object.create(Le.prototype);const yc=function t(e){function n(r,i,a,o,s){!function mc(t,e,n,r,i,a){for(var l,u,p,v,m,f,_,x,S,N,C,o=[],s=e.children,h=0,d=0,c=s.length,w=e.value;h<c;){p=i-n,v=a-r;do{m=s[d++].value}while(!m&&d<c);for(f=_=m,C=m*m*(N=Math.max(v/p,p/v)/(w*t)),S=Math.max(_/C,C/f);d<c;++d){if(m+=u=s[d].value,u<f&&(f=u),u>_&&(_=u),C=m*m*N,(x=Math.max(_/C,C/f))>S){m-=u;break}S=x}o.push(l={value:m,dice:p<v,children:s.slice(h,d)}),l.dice?dc(l,n,r,i,w?r+=v*m/w:a):pc(l,n,r,w?n+=p*m/w:i,a),w-=m,h=d}}(e,r,i,a,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}((1+Math.sqrt(5))/2);function na(t,e){var o,n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n);for(o=0;o<r;++o)i[o]=Cn(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function vc(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function xc(t,e){var i,n={},r={};for(i in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)i in t?n[i]=Cn(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function wc(t,e){e||(e=[]);var i,n=t?Math.min(e.length,t.length):0,r=e.slice();return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Cn(t,e){var r,n=typeof e;return null==e||"boolean"===n?Qn(e):("number"===n?$t:"string"===n?(r=re(e))?(e=r,gn):Ni:e instanceof re?gn:e instanceof Date?vc:function Tc(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?wc:Array.isArray(e)?na:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?xc:$t)(t,e)}function Mn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}class ra extends Map{constructor(e,n=oa){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=e)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(cr(this,e))}has(e){return super.has(cr(this,e))}set(e,n){return super.set(function ia({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,e),n)}delete(e){return super.delete(function aa({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}(this,e))}}function cr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function oa(t){return null!==t&&"object"==typeof t?t.valueOf():t}const sa=Symbol("implicit");function ua(){var t=new ra,e=[],n=[],r=sa;function i(a){let o=t.get(a);if(void 0===o){if(r!==sa)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new ra;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ua(e,n).unknown(r)},Mn.apply(i,arguments),i}function hr(){var a,o,t=ua().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s=!1,l=0,u=0,h=.5;function d(){var c=e().length,p=i<r,v=p?i:r,w=p?r:i;a=(w-v)/Math.max(1,c-l+2*u),s&&(a=Math.floor(a)),v+=(w-v-a*(c-l))*h,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var m=function bc(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}(c).map(function(f){return v+a*f});return n(p?m.reverse():m)}return delete t.unknown,t.domain=function(c){return arguments.length?(e(c),d()):e()},t.range=function(c){return arguments.length?([r,i]=c,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(c){return[r,i]=c,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(c){return arguments.length?(s=!!c,d()):s},t.padding=function(c){return arguments.length?(l=Math.min(1,u=+c),d()):l},t.paddingInner=function(c){return arguments.length?(l=Math.min(1,c),d()):l},t.paddingOuter=function(c){return arguments.length?(u=+c,d()):u},t.align=function(c){return arguments.length?(h=Math.max(0,Math.min(1,c)),d()):h},t.copy=function(){return hr(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(h)},Mn.apply(d(),arguments)}const Cc=Math.sqrt(50),Mc=Math.sqrt(10),Ac=Math.sqrt(2);function An(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Cc?10:a>=Mc?5:a>=Ac?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?An(t,e,2*n):[s,l,u]}function fr(t,e,n){return An(t=+t,e=+e,n=+n)[2]}function dr(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?fr(e,t,n):fr(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function kn(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sc(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pr(t){let e,n,r;function i(s,l,u=0,h=s.length){if(u<h){if(0!==e(l,l))return h;do{const d=u+h>>>1;n(s[d],l)<0?u=d+1:h=d}while(u<h)}return u}return 2!==t.length?(e=kn,n=(s,l)=>kn(t(s),l),r=(s,l)=>t(s)-l):(e=t===kn||t===Sc?t:Nc,n=t,r=t),{left:i,center:function o(s,l,u=0,h=s.length){const d=i(s,l,u,h-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d},right:function a(s,l,u=0,h=s.length){if(u<h){if(0!==e(l,l))return h;do{const d=u+h>>>1;n(s[d],l)<=0?u=d+1:h=d}while(u<h)}return u}}}function Nc(){return 0}const Ic=pr(kn).right,Ec=(pr(function Rc(t){return null===t?NaN:+t}),Ic);function Dc(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Oc(t){return+t}var ha=[0,1];function be(t){return t}function gr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function $c(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Fc(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=gr(i,r),a=n(o,a)):(r=gr(r,i),a=n(a,o)),function(s){return a(r(s))}}function zc(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=gr(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Ec(t,s,1,r)-1;return a[l](i[l](s))}}function fa(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function da(){return function Uc(){var r,i,a,s,l,u,t=ha,e=ha,n=Cn,o=be;function h(){var c=Math.min(t.length,e.length);return o!==be&&(o=function Pc(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}(t[0],t[c-1])),s=c>2?zc:Fc,l=u=null,d}function d(c){return null==c||isNaN(c=+c)?a:(l||(l=s(t.map(r),e,n)))(r(o(c)))}return d.invert=function(c){return o(i((u||(u=s(e,t.map(r),$t)))(c)))},d.domain=function(c){return arguments.length?(t=Array.from(c,Oc),h()):t.slice()},d.range=function(c){return arguments.length?(e=Array.from(c),h()):e.slice()},d.rangeRound=function(c){return e=Array.from(c),n=Dc,h()},d.clamp=function(c){return arguments.length?(o=!!c||be,h()):o!==be},d.interpolate=function(c){return arguments.length?(n=c,h()):n},d.unknown=function(c){return arguments.length?(a=c,d):a},function(c,p){return r=c,i=p,h()}}()(be,be)}function Vc(t){var e=t.domain;return t.ticks=function(n){var r=e();return function kc(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[i,a,o]=r?An(e,t,n):An(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return function Yc(t,e,n,r){var a,i=dr(t,e,n);switch((r=vn(r??",f")).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null==r.precision&&!isNaN(a=function Hc(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(we(e)/3)))-we(Math.abs(t)))}(i,o))&&(r.precision=a),Vi(r,o);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(a=function Lc(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,we(e)-we(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(a=function Xc(t){return Math.max(0,-we(Math.abs(t)))}(i))&&(r.precision=a-2*("%"===r.type))}return Vt(r)}(i[0],i[i.length-1],n??10,r)},t.nice=function(n){null==n&&(n=10);var l,u,r=e(),i=0,a=r.length-1,o=r[i],s=r[a],h=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);h-- >0;){if((u=fr(o,s,n))===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else{if(!(u<0))break;o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u}l=u}return t},t}function Pt(){var t=da();return t.copy=function(){return fa(t,Pt())},Mn.apply(t,arguments),Vc(t)}const Zt=1e3,Nt=6e4,Wt=60*Nt,Bt=24*Wt,mr=7*Bt,pa=30*Bt,yr=365*Bt,_r=new Date,vr=new Date;function dt(t,e,n,r){function i(a){return t(a=0===arguments.length?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),null==o?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=null==s?1:Math.floor(s),!(a<o&&s>0))return l;let u;do{l.push(u=new Date(+a)),e(a,s),t(a)}while(u<a&&a<o);return l},i.filter=a=>dt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(_r.setTime(+a),vr.setTime(+o),t(_r),t(vr),Math.floor(n(_r,vr))),i.every=a=>(a=Math.floor(a),isFinite(a)&&a>0?a>1?i.filter(r?o=>r(o)%a==0:o=>i.count(0,o)%a==0):i:null)),i}const Sn=dt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Sn.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?dt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Sn:null);const Ce=dt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Zt)},(t,e)=>(e-t)/Zt,t=>t.getUTCSeconds()),xr=dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zt)},(t,e)=>{t.setTime(+t+e*Nt)},(t,e)=>(e-t)/Nt,t=>t.getMinutes()),ga=dt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Nt)},(t,e)=>(e-t)/Nt,t=>t.getUTCMinutes()),wr=dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Zt-t.getMinutes()*Nt)},(t,e)=>{t.setTime(+t+e*Wt)},(t,e)=>(e-t)/Wt,t=>t.getHours()),ma=dt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Wt)},(t,e)=>(e-t)/Wt,t=>t.getUTCHours()),Ye=dt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Nt)/Bt,t=>t.getDate()-1),Tr=dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bt,t=>t.getUTCDate()-1),ya=dt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bt,t=>Math.floor(t/Bt));function se(t){return dt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+7*n)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Nt)/mr)}const Nn=se(0),Rn=se(1),Me=(se(2),se(3),se(4));function ue(t){return dt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+7*n)},(e,n)=>(n-e)/mr)}se(5),se(6);const br=ue(0),In=ue(1),Ae=(ue(2),ue(3),ue(4)),Cr=(ue(5),ue(6),dt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear()),t=>t.getMonth())),_a=dt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth()),qt=dt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());qt.every=t=>isFinite(t=Math.floor(t))&&t>0?dt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}):null;const Qt=dt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function va(t,e,n,r,i,a){const o=[[Ce,1,Zt],[Ce,5,5e3],[Ce,15,15e3],[Ce,30,3e4],[a,1,Nt],[a,5,5*Nt],[a,15,15*Nt],[a,30,30*Nt],[i,1,Wt],[i,3,3*Wt],[i,6,6*Wt],[i,12,12*Wt],[r,1,Bt],[r,2,2*Bt],[n,1,mr],[e,1,pa],[e,3,3*pa],[t,1,yr]];function l(u,h,d){const c=Math.abs(h-u)/d,p=pr(([,,m])=>m).right(o,c);if(p===o.length)return t.every(dr(u/yr,h/yr,d));if(0===p)return Sn.every(Math.max(dr(u,h,d),1));const[v,w]=o[c/o[p-1][2]<o[p][2]/c?p-1:p];return v.every(w)}return[function s(u,h,d){const c=h<u;c&&([u,h]=[h,u]);const p=d&&"function"==typeof d.range?d:l(u,h,d),v=p?p.range(u,+h+1):[];return c?v.reverse():v},l]}Qt.every=t=>isFinite(t=Math.floor(t))&&t>0?dt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null;const[u0,l0]=va(Qt,_a,br,ya,ma,ga),[jc,th]=va(qt,Cr,Nn,Ye,wr,xr);function Mr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ar(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ve(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var ke,Gt,xa={"-":"",_:" ",0:"0"},pt=/^\s*\d+/,nh=/^%/,rh=/[\\^$*+?|[\]().{}]/g;function q(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function ih(t){return t.replace(rh,"\\$&")}function Ze(t){return new RegExp("^(?:"+t.map(ih).join("|")+")","i")}function We(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ah(t,e,n){var r=pt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function oh(t,e,n){var r=pt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function sh(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function uh(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function lh(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function wa(t,e,n){var r=pt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ta(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ch(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hh(t,e,n){var r=pt.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function fh(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ba(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function dh(t,e,n){var r=pt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Ca(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ph(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gh(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mh(t,e,n){var r=pt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yh(t,e,n){var r=pt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _h(t,e,n){var r=nh.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function vh(t,e,n){var r=pt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xh(t,e,n){var r=pt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ma(t,e){return q(t.getDate(),e,2)}function wh(t,e){return q(t.getHours(),e,2)}function Th(t,e){return q(t.getHours()%12||12,e,2)}function bh(t,e){return q(1+Ye.count(qt(t),t),e,3)}function Aa(t,e){return q(t.getMilliseconds(),e,3)}function Ch(t,e){return Aa(t,e)+"000"}function Mh(t,e){return q(t.getMonth()+1,e,2)}function Ah(t,e){return q(t.getMinutes(),e,2)}function kh(t,e){return q(t.getSeconds(),e,2)}function Sh(t){var e=t.getDay();return 0===e?7:e}function Nh(t,e){return q(Nn.count(qt(t)-1,t),e,2)}function ka(t){var e=t.getDay();return e>=4||0===e?Me(t):Me.ceil(t)}function Rh(t,e){return t=ka(t),q(Me.count(qt(t),t)+(4===qt(t).getDay()),e,2)}function Ih(t){return t.getDay()}function Eh(t,e){return q(Rn.count(qt(t)-1,t),e,2)}function Dh(t,e){return q(t.getFullYear()%100,e,2)}function $h(t,e){return q((t=ka(t)).getFullYear()%100,e,2)}function Oh(t,e){return q(t.getFullYear()%1e4,e,4)}function Ph(t,e){var n=t.getDay();return q((t=n>=4||0===n?Me(t):Me.ceil(t)).getFullYear()%1e4,e,4)}function Fh(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+q(e/60|0,"0",2)+q(e%60,"0",2)}function Sa(t,e){return q(t.getUTCDate(),e,2)}function zh(t,e){return q(t.getUTCHours(),e,2)}function Uh(t,e){return q(t.getUTCHours()%12||12,e,2)}function Hh(t,e){return q(1+Tr.count(Qt(t),t),e,3)}function Na(t,e){return q(t.getUTCMilliseconds(),e,3)}function Lh(t,e){return Na(t,e)+"000"}function Xh(t,e){return q(t.getUTCMonth()+1,e,2)}function Yh(t,e){return q(t.getUTCMinutes(),e,2)}function Vh(t,e){return q(t.getUTCSeconds(),e,2)}function Zh(t){var e=t.getUTCDay();return 0===e?7:e}function Wh(t,e){return q(br.count(Qt(t)-1,t),e,2)}function Ra(t){var e=t.getUTCDay();return e>=4||0===e?Ae(t):Ae.ceil(t)}function Bh(t,e){return t=Ra(t),q(Ae.count(Qt(t),t)+(4===Qt(t).getUTCDay()),e,2)}function qh(t){return t.getUTCDay()}function Gh(t,e){return q(In.count(Qt(t)-1,t),e,2)}function Jh(t,e){return q(t.getUTCFullYear()%100,e,2)}function Kh(t,e){return q((t=Ra(t)).getUTCFullYear()%100,e,2)}function Qh(t,e){return q(t.getUTCFullYear()%1e4,e,4)}function jh(t,e){var n=t.getUTCDay();return q((t=n>=4||0===n?Ae(t):Ae.ceil(t)).getUTCFullYear()%1e4,e,4)}function tf(){return"+0000"}function Ia(){return"%"}function Ea(t){return+t}function Da(t){return Math.floor(+t/1e3)}function sf(t){return new Date(t)}function uf(t){return t instanceof Date?+t:+new Date(+t)}function $a(t,e,n,r,i,a,o,s,l,u){var h=da(),d=h.invert,c=h.domain,p=u(".%L"),v=u(":%S"),w=u("%I:%M"),m=u("%I %p"),f=u("%a %d"),_=u("%b %d"),x=u("%B"),S=u("%Y");function N(C){return(l(C)<C?p:s(C)<C?v:o(C)<C?w:a(C)<C?m:r(C)<C?i(C)<C?f:_:n(C)<C?x:S)(C)}return h.invert=function(C){return new Date(d(C))},h.domain=function(C){return arguments.length?c(Array.from(C,uf)):c().map(sf)},h.ticks=function(C){var k=c();return t(k[0],k[k.length-1],C??10)},h.tickFormat=function(C,k){return null==k?N:u(k)},h.nice=function(C){var k=c();return(!C||"function"!=typeof C.range)&&(C=e(k[0],k[k.length-1],C??10)),C?c(function of(t,e){var o,n=0,r=(t=t.slice()).length-1,i=t[n],a=t[r];return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}(k,C)):h},h.copy=function(){return fa(h,$a(t,e,n,r,i,a,o,s,l,u))},h}function Oa(){return Mn.apply($a(jc,th,qt,Cr,Nn,Ye,wr,xr,Ce,Gt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vt(t){return"string"==typeof t?new St([[document.querySelector(t)]],[document.documentElement]):new St([[t]],jr)}function lt(t){return function(){return t}}!function af(t){ke=function eh(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Ze(i),h=We(i),d=Ze(a),c=We(a),p=Ze(o),v=We(o),w=Ze(s),m=We(s),f=Ze(l),_=We(l),x={a:function M(O){return o[O.getDay()]},A:function P(O){return a[O.getDay()]},b:function D(O){return l[O.getMonth()]},B:function U(O){return s[O.getMonth()]},c:null,d:Ma,e:Ma,f:Ch,g:$h,G:Ph,H:wh,I:Th,j:bh,L:Aa,m:Mh,M:Ah,p:function H(O){return i[+(O.getHours()>=12)]},q:function X(O){return 1+~~(O.getMonth()/3)},Q:Ea,s:Da,S:kh,u:Sh,U:Nh,V:Rh,w:Ih,W:Eh,x:null,X:null,y:Dh,Y:Oh,Z:Fh,"%":Ia},S={a:function ht(O){return o[O.getUTCDay()]},A:function tt(O){return a[O.getUTCDay()]},b:function et(O){return l[O.getUTCMonth()]},B:function ft(O){return s[O.getUTCMonth()]},c:null,d:Sa,e:Sa,f:Lh,g:Kh,G:jh,H:zh,I:Uh,j:Hh,L:Na,m:Xh,M:Yh,p:function G(O){return i[+(O.getUTCHours()>=12)]},q:function ct(O){return 1+~~(O.getUTCMonth()/3)},Q:Ea,s:Da,S:Vh,u:Zh,U:Wh,V:Bh,w:qh,W:Gh,x:null,X:null,y:Jh,Y:Qh,Z:tf,"%":Ia},N={a:function z(O,V,W){var I=p.exec(V.slice(W));return I?(O.w=v.get(I[0].toLowerCase()),W+I[0].length):-1},A:function R(O,V,W){var I=d.exec(V.slice(W));return I?(O.w=c.get(I[0].toLowerCase()),W+I[0].length):-1},b:function Y(O,V,W){var I=f.exec(V.slice(W));return I?(O.m=_.get(I[0].toLowerCase()),W+I[0].length):-1},B:function y(O,V,W){var I=w.exec(V.slice(W));return I?(O.m=m.get(I[0].toLowerCase()),W+I[0].length):-1},c:function g(O,V,W){return F(O,e,V,W)},d:ba,e:ba,f:yh,g:Ta,G:wa,H:Ca,I:Ca,j:dh,L:mh,m:fh,M:ph,p:function $(O,V,W){var I=u.exec(V.slice(W));return I?(O.p=h.get(I[0].toLowerCase()),W+I[0].length):-1},q:hh,Q:vh,s:xh,S:gh,u:oh,U:sh,V:uh,w:ah,W:lh,x:function b(O,V,W){return F(O,n,V,W)},X:function T(O,V,W){return F(O,r,V,W)},y:Ta,Y:wa,Z:ch,"%":_h};function C(O,V){return function(W){var Tt,L,ut,I=[],st=-1,j=0,wt=O.length;for(W instanceof Date||(W=new Date(+W));++st<wt;)37===O.charCodeAt(st)&&(I.push(O.slice(j,st)),null!=(L=xa[Tt=O.charAt(++st)])?Tt=O.charAt(++st):L="e"===Tt?" ":"0",(ut=V[Tt])&&(Tt=ut(W,L)),I.push(Tt),j=st+1);return I.push(O.slice(j,st)),I.join("")}}function k(O,V){return function(W){var j,wt,I=Ve(1900,void 0,1);if(F(I,O,W+="",0)!=W.length)return null;if("Q"in I)return new Date(I.Q);if("s"in I)return new Date(1e3*I.s+("L"in I?I.L:0));if(V&&!("Z"in I)&&(I.Z=0),"p"in I&&(I.H=I.H%12+12*I.p),void 0===I.m&&(I.m="q"in I?I.q:0),"V"in I){if(I.V<1||I.V>53)return null;"w"in I||(I.w=1),"Z"in I?(wt=(j=Ar(Ve(I.y,0,1))).getUTCDay(),j=wt>4||0===wt?In.ceil(j):In(j),j=Tr.offset(j,7*(I.V-1)),I.y=j.getUTCFullYear(),I.m=j.getUTCMonth(),I.d=j.getUTCDate()+(I.w+6)%7):(wt=(j=Mr(Ve(I.y,0,1))).getDay(),j=wt>4||0===wt?Rn.ceil(j):Rn(j),j=Ye.offset(j,7*(I.V-1)),I.y=j.getFullYear(),I.m=j.getMonth(),I.d=j.getDate()+(I.w+6)%7)}else("W"in I||"U"in I)&&("w"in I||(I.w="u"in I?I.u%7:"W"in I?1:0),wt="Z"in I?Ar(Ve(I.y,0,1)).getUTCDay():Mr(Ve(I.y,0,1)).getDay(),I.m=0,I.d="W"in I?(I.w+6)%7+7*I.W-(wt+5)%7:I.w+7*I.U-(wt+6)%7);return"Z"in I?(I.H+=I.Z/100|0,I.M+=I.Z%100,Ar(I)):Mr(I)}}function F(O,V,W,I){for(var Tt,L,st=0,j=V.length,wt=W.length;st<j;){if(I>=wt)return-1;if(37===(Tt=V.charCodeAt(st++))){if(Tt=V.charAt(st++),!(L=N[Tt in xa?V.charAt(st++):Tt])||(I=L(O,W,I))<0)return-1}else if(Tt!=W.charCodeAt(I++))return-1}return I}return x.x=C(n,x),x.X=C(r,x),x.c=C(e,x),S.x=C(n,S),S.X=C(r,S),S.c=C(e,S),{format:function(O){var V=C(O+="",x);return V.toString=function(){return O},V},parse:function(O){var V=k(O+="",!1);return V.toString=function(){return O},V},utcFormat:function(O){var V=C(O+="",S);return V.toString=function(){return O},V},utcParse:function(O){var V=k(O+="",!0);return V.toString=function(){return O},V}}}(t),Gt=ke.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Pa=Math.abs,xt=Math.atan2,le=Math.cos,lf=Math.max,kr=Math.min,Ht=Math.sin,Se=Math.sqrt,Mt=1e-12,Be=Math.PI,En=Be/2,Dn=2*Be;function Fa(t){return t>=1?En:t<=-1?-En:Math.asin(t)}const Sr=Math.PI,Nr=2*Sr,ce=1e-6,hf=Nr-ce;function za(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class $n{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?za:function ff(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return za;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,(a=+a)<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,h=o-e,d=s-n,c=h*h+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=n}`;else if(c>ce)if(Math.abs(d*l-u*h)>ce&&a){let p=r-o,v=i-s,w=l*l+u*u,m=p*p+v*v,f=Math.sqrt(w),_=Math.sqrt(c),x=a*Math.tan((Sr-Math.acos((w+c-m)/(2*f*_)))/2),S=x/_,N=x/f;Math.abs(S-1)>ce&&this._append`L${e+S*h},${n+S*d}`,this._append`A${a},${a},0,0,${+(d*p>h*v)},${this._x1=e+N*l},${this._y1=n+N*u}`}else this._append`L${this._x1=e},${this._y1=n}`}arc(e,n,r,i,a,o){if(e=+e,n=+n,o=!!o,(r=+r)<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,h=n+l,d=1^o,c=o?i-a:a-i;null===this._x1?this._append`M${u},${h}`:(Math.abs(this._x1-u)>ce||Math.abs(this._y1-h)>ce)&&this._append`L${u},${h}`,r&&(c<0&&(c=c%Nr+Nr),c>hf?this._append`A${r},${r},0,1,${d},${e-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=h}`:c>ce&&this._append`A${r},${r},0,${+(c>=Sr)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ua(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new $n(e)}function pf(t){return t.innerRadius}function gf(t){return t.outerRadius}function mf(t){return t.startAngle}function yf(t){return t.endAngle}function _f(t){return t&&t.padAngle}function On(t,e,n,r,i,a,o){var s=t-n,l=e-r,u=(o?a:-a)/Se(s*s+l*l),h=u*l,d=-u*s,c=t+h,p=e+d,v=n+h,w=r+d,m=(c+v)/2,f=(p+w)/2,_=v-c,x=w-p,S=_*_+x*x,N=i-a,C=c*w-v*p,k=(x<0?-1:1)*Se(lf(0,N*N*S-C*C)),F=(C*x-_*k)/S,$=(-C*_-x*k)/S,z=(C*x+_*k)/S,R=(-C*_+x*k)/S,Y=F-m,y=$-f,g=z-m,b=R-f;return Y*Y+y*y>g*g+b*b&&(F=z,$=R),{cx:F,cy:$,x01:-h,y01:-d,x11:F*(i/N-1),y11:$*(i/N-1)}}function Ha(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function La(t){this._context=t}function wf(t){return new La(t)}function Tf(t){return t[0]}function bf(t){return t[1]}function Rr(t,e){var n=lt(!0),r=null,i=wf,a=null,o=Ua(s);function s(l){var u,d,p,h=(l=Ha(l)).length,c=!1;for(null==r&&(a=i(p=o())),u=0;u<=h;++u)!(u<h&&n(d=l[u],u,l))===c&&((c=!c)?a.lineStart():a.lineEnd()),c&&a.point(+t(d,u,l),+e(d,u,l));if(p)return a=null,p+""||null}return t="function"==typeof t?t:void 0===t?Tf:lt(t),e="function"==typeof e?e:void 0===e?bf:lt(e),s.x=function(l){return arguments.length?(t="function"==typeof l?l:lt(+l),s):t},s.y=function(l){return arguments.length?(e="function"==typeof l?l:lt(+l),s):e},s.defined=function(l){return arguments.length?(n="function"==typeof l?l:lt(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,null!=r&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(null==l?r=a=null:a=i(r=l),s):r},s}function Cf(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Mf(t){return t}La.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};const Ir={capture:!0,passive:!1};function Er(t){t.preventDefault(),t.stopImmediatePropagation()}function Xa(t){return((t=Math.exp(t))+1/t)/2}const Ef=function t(e,n,r){function i(a,o){var m,f,s=a[0],l=a[1],u=a[2],c=o[2],p=o[0]-s,v=o[1]-l,w=p*p+v*v;if(w<1e-12)f=Math.log(c/u)/e,m=function(k){return[s+k*p,l+k*v,u*Math.exp(e*k*f)]};else{var _=Math.sqrt(w),x=(c*c-u*u+r*w)/(2*u*n*_),S=(c*c-u*u-r*w)/(2*c*n*_),N=Math.log(Math.sqrt(x*x+1)-x),C=Math.log(Math.sqrt(S*S+1)-S);f=(C-N)/e,m=function(k){var F=k*f,$=Xa(N),z=u/(n*_)*($*function If(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*F+N)-function Rf(t){return((t=Math.exp(t))-1/t)/2}(N));return[s+z*p,l+z*v,u*$/Xa(e*F+N)]}}return m.duration=1e3*f*e/Math.SQRT2,m}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o;return t(o,s,s*s)},i}(Math.SQRT2,2,4);function he(t,e){if(t=function Df(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Pn=t=>()=>t;function $f(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Jt(t,e,n){this.k=t,this.x=e,this.y=n}Jt.prototype={constructor:Jt,scale:function(t){return 1===t?this:new Jt(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Jt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dr=new Jt(1,0,0);function $r(t){t.stopImmediatePropagation()}function qe(t){t.preventDefault(),t.stopImmediatePropagation()}function Pf(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Ff(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Ya(){return this.__zoom||Dr}function zf(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Uf(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hf(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}var nt=Z(4135);let Q=(()=>{class t{static get bodyFont(){if(!this._bodyFont){const n=getComputedStyle(document.body);this._bodyFont=`${n.fontSize} ${n.fontFamily}`}return this._bodyFont}static chartSize(n){if(!n)return;const r=n.parentNode;if(!r)return;const i=getComputedStyle(r);return{height:Math.round(r.clientHeight-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)),width:Math.round(r.clientWidth-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight))}}static xScale(n,r,i=!0,a=!1){let o;return o=a?Oa().domain(At(n)):Pt().domain(At(n)),i?o.rangeRound([0,r]):o.range([0,r]),o}static yScale(n,r,i=!0,a=!1){let o;return o=a?Oa().domain([0,Math.max(...n)]):Pt().domain([0,Math.max(...n)]),i?o.rangeRound([r,0]):o.range([r,0]),o}static colorScale(n,r){return r instanceof Array?Pt().domain(At(n)).range([r[0],r[1]]):Pt().domain(At(n)).rangeRound([0,r-1])}static arcTween(n,r,i){const a=Cn({startAngle:n.startAngle,endAngle:n.endAngle},{startAngle:r.startAngle,endAngle:r.endAngle});return o=>i(a(o))}static transitionsComplete(n,r){let i=0;n.each(()=>{i++}).on("end",()=>{i--,0===i&&r()})}static convertData(n,r){return n.map(i=>{const a="number"==typeof i[r.value.toString()]?i[r.value.toString()]:i[r.value.toString()]instanceof Date?i[r.value.toString()].valueOf():parseInt(i[r.value.toString()],10);return{id:i[r.id],value:a,category:(0,nt.$K)(r.category)?i[r.category]:void 0,label:(0,nt.$K)(r.label)?i[r.label]:void 0,color:(0,nt.$K)(r.color)?i[r.color]:void 0}})}static getTextWidth(n,r=this.bodyFont){if(!(0,nt.$K)(n)||!n.length)return 0;const a=document.createElement("canvas").getContext("2d");return a.font=r,Math.ceil(a.measureText(n).width)}static getMaxTextWidth(n,r){if(!(0,nt.$K)(n)||!n.length)return 0;let i=0;return n.forEach(a=>{const o=this.getTextWidth(a,r);o>i&&(i=o)}),i}static trimText(n,r,i=!0,a=this.bodyFont){if(!(0,nt.$K)(n)||!n.length)return n;const s=document.createElement("canvas").getContext("2d");s.font=a;let l=Math.ceil(s.measureText(n).width);for(;l>r;)n=i?`${n.substring(0,n.length-4)}...`:n.slice(0,-1),l=Math.ceil(s.measureText(n).width);return n}static wrapText(n,r,i=this.bodyFont){if(!(0,nt.$K)(n)||!n.length)return n;const a=[],s=document.createElement("canvas").getContext("2d");s.font=i;let l=Math.ceil(s.measureText(n).width);if(l<r)return[n];let u="";for(const h of n)u+=h,l=Math.ceil(s.measureText(u).width),l>r&&(a.push(u.slice(0,-1)),u=h);return u.length&&a.push(u),a}}return t.svgNS="http://www.w3.org/2000/svg",t.chartPalette={amber600:"#ffb300",cyan400:"#26c6da",purple300:"#ba68c8",indigoA200:"#536dfe",green400:"#66bb6a",deepOrangeA200:"#ff6e40",amberA200:"#ffd740",purple200:"#ce93d8",indigo200:"#9fa8da",lightBlue200:"#81d4fa",green200:"#a5d6a7",lime200:"#e6ee9c",amber200:"#ffe082",deepOrange200:"#ffab91",grey400:"#bdbdbd"},t})();const Rt="app-chart",E={classes:{CHART_PREFIX:Rt,CHART_ROOT:`${Rt}__root`,CHART_YAXIS:`${Rt}__yaxis`,CHART_XAXIS:`${Rt}__xaxis`,CHART_TEXT:`${Rt}__text`,CHART_LEGEND:`${Rt}__legend`,CHART_CLIP:`${Rt}__clip`,CHART_TEXT_LABEL:`${Rt}__text-label`,CHART_TEXT_VALUE:`${Rt}__text-value`,LEGEND_TEXT:`${Rt}__legend-text`,LEGEND_TEXT_LABEL:`${Rt}__legend-text-label`,LEGEND_TEXT_VALUE:`${Rt}__legend-text-value`},numbers:{TRANSITION_DURATION:500},strings:{FONT_FAMILY:"Roboto",FONT_SIZE_SMALL:"10px",FONT_SIZE:"16px"}};class Xf{static buildBarChart(e){return new Promise((r,i)=>{if(!e.container||"svg"!==e.container.tagName)return void i();e.valueTicks=e.valueTicks||5;const o=Math.max(...e.data.map(k=>k.value))||0,s=vt(e.container),l=e.palette&&e.palette.length?Q.colorScale(e.data.map(k=>k.value),2===e.palette.length?e.palette:e.palette.length):void 0,u=e.valueFormat?Vt(e.valueFormat):e.valueDateFormat?Gt(e.valueDateFormat):void 0,h=(0,nt.kJ)(e.valueTickValues)?e.valueTickValues:e.data.map(k=>(0,nt.$K)(u)?u(k.value):k.value.toString()),d=(0,nt.$K)(e.barPadding)?e.barPadding:20,c=(0,nt.$K)(e.barWidth)?e.barWidth:20,p_left=16+Q.getMaxTextWidth(h,`${E.strings.FONT_SIZE_SMALL} ${E.strings.FONT_FAMILY}`),v=e.data.length*(c+d),w=Q.chartSize(e.container),m=Q.yScale(e.data.map(k=>k.value),w.height-16-16),f=Hr(Pt().domain([0,o]).range([w.height-16-16,0])).ticks(e.valueTicks).tickSize(-v);if((0,nt.kJ)(e.valueTickValues)){const k=Pt().domain([0,e.valueTickValues.length-1]).range([0,o]);e.valueTicks=[],e.valueTickValues?.forEach((F,$)=>{e.valueTicks.push(k($))}),f.tickFormat((F,$)=>e.valueTickValues[$]||"")}(0,nt.kJ)(e.valueTicks)?f.tickValues(e.valueTicks):f.ticks(e.valueTicks),e.valueFormat&&f.tickFormat(Vt(e.valueFormat)),e.valueDateFormat&&f.tickFormat(Gt(e.valueDateFormat));let _=s.select(`g.${E.classes.CHART_ROOT}`);if(_.node()||(_=s.append("g").classed(E.classes.CHART_ROOT,!0),_.append("g").classed(E.classes.CHART_YAXIS,!0),_.append("g").classed(E.classes.CHART_XAXIS,!0),_.append("g").classed(`${E.classes.CHART_PREFIX}__chart`,!0).classed(`${E.classes.CHART_PREFIX}__bar`,!0)),s.attr("width",v+p_left),s.attr("height",w.height),s.select(`g.${E.classes.CHART_YAXIS}`).attr("transform",`translate(${p_left}, 16)`).call(f),s.select(`g.${E.classes.CHART_XAXIS}`).attr("transform",`translate(${p_left}, ${w.height-16})`),(0,nt.kJ)(e.categoryTickValues)&&e.categoryTickValues?.length){const k=Ur(hr().domain(e.categoryTickValues).range([0,v]));s.select(`g.${E.classes.CHART_XAXIS}`).call(k)}const S=_.select(`g.${E.classes.CHART_PREFIX}__bar`);S.attr("transform",`translate(${p_left}, -0)`);const N=S.selectAll("rect").data(e.data,k=>k.id);N.exit().transition().duration(E.numbers.TRANSITION_DURATION).attr("y",k=>w.height-16).attr("height",0),N.exit().transition().delay(E.numbers.TRANSITION_DURATION).remove();const C=N.enter();C.append("rect").attr("x",(k,F)=>F*(c+d)+d/2).attr("y",w.height-16).attr("width",k=>c).attr("height",0).merge(N).attr("id",k=>`${E.classes.CHART_PREFIX}__node-${k.id}`).transition().call(Q.transitionsComplete,()=>{r()}).duration(E.numbers.TRANSITION_DURATION).attr("y",k=>k.value?m(k.value)+16:0).attr("height",k=>k.value?w.height-16-16-m(k.value):0).attr("fill",k=>k.color?k.color:l&&k.value&&e.palette?2===e.palette.length?l(k.value):e.palette[l(k.value)]:"#fff"),e.selectedCallback&&C.selectAll("rect").on("click",(k,F)=>e.selectedCallback(F,k.target)),e.hoverCallback&&(C.selectAll("rect").on("mouseenter",(k,F)=>e.hoverCallback(!0,F,k.target)),C.selectAll("rect").on("mouseleave",(k,F)=>e.hoverCallback(!1,F,k.target)))})}}class Yf{static buildBubbleChart(e){return new Promise((r,i)=>{if(!e.container||"svg"!==e.container.tagName)return void i();const a=vt(e.container),o=e.palette&&e.palette.length?Q.colorScale(e.data.map(f=>f.value),2===e.palette.length?e.palette:e.palette.length):void 0,s=e.valueFormat?Vt(e.valueFormat):e.valueDateFormat?Gt(e.valueDateFormat):void 0,u=Q.chartSize(e.container),h=He({children:e.data}).sum(f=>f.value).sort((f,_)=>_.value-f.value);(function ac(){var t=null,e=1,n=1,r=oe;function i(a){const o=function Ql(){let t=1;return()=>(t=(1664525*t+1013904223)%Wi)/Wi}();return a.x=e/2,a.y=n/2,t?a.eachBefore(ta(t)).eachAfter(sr(r,.5,o)).eachBefore(ea(1)):a.eachBefore(ta(ic)).eachAfter(sr(oe,1,o)).eachAfter(sr(r,a.r/Math.min(e,n),o)).eachBefore(ea(Math.min(e,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=function Gl(t){return null==t?null:Zi(t)}(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],n=+a[1],i):[e,n]},i.padding=function(a){return arguments.length?(r="function"==typeof a?a:Te(+a),i):r},i})().size([Math.min(u.width,u.height),Math.min(u.width,u.height)])(h);let c=a.select(`g.${E.classes.CHART_ROOT}`);c.node()||(c=a.append("g").classed(E.classes.CHART_ROOT,!0),c.append("g").classed(`${E.classes.CHART_PREFIX}__chart`,!0).classed(`${E.classes.CHART_PREFIX}__bubble`,!0)),a.attr("width",u.width),a.attr("height",u.height);const v=c.select(`g.${E.classes.CHART_PREFIX}__bubble`).selectAll("g").data(h.leaves(),f=>f.data.id);v.exit().select("text").remove(),v.exit().select("circle").transition().duration(E.numbers.TRANSITION_DURATION).attr("r",0),v.exit().transition().delay(E.numbers.TRANSITION_DURATION).remove();const w=v.enter().append("g");w.append("circle"),w.append("clipPath").attr("id",f=>`${E.classes.CHART_CLIP}-${f.data.id}`).append("circle"),w.append("text").classed(E.classes.CHART_TEXT,!0).attr("clip-path",f=>`url(#${E.classes.CHART_CLIP}-${f.data.id})`).style("text-anchor","middle"),e.selectedCallback&&w.on("click",(f,_)=>e.selectedCallback(_.data,f.target.parentElement)),e.hoverCallback&&(w.on("mouseenter",(f,_)=>e.hoverCallback(!0,_.data,f.target)),w.on("mouseleave",(f,_)=>e.hoverCallback(!1,_.data,f.target)));const m=w.merge(v);m.select("text").style("display","none").attr("y",".35em").text(f=>s?s(f.data.value):f.data.value),m.transition().duration(E.numbers.TRANSITION_DURATION).attr("transform",f=>"translate("+f.x+","+f.y+")"),m.select("g > circle").attr("fill",f=>f.data.color?f.data.color:o&&f.value&&e.palette?2===e.palette.length?o(f.value):e.palette[o(f.value)]:"#fff").attr("id",f=>`${E.classes.CHART_PREFIX}__node-${f.data.id}`).transition().call(Q.transitionsComplete,()=>{m.select("clipPath > circle").attr("r",f=>f.r>5?f.r-5:0),m.select("text").style("display",null),r()}).duration(E.numbers.TRANSITION_DURATION).attr("r",f=>f.r)})}}function Va(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ge(t){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Zf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fn(){return Fn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fn.apply(this,arguments)}function Za(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wa(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function Wf(t,e){if(t){if("string"==typeof t)return Za(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Za(t,e)}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&null!=n.return&&n.return()}finally{if(o)throw s}}}}function Bf(t,e){var n=[],r=[];return t.length&&function i(a,o){if(1===a.length)n.push(a[0]),r.push(a[0]);else{for(var s=Array(a.length-1),l=0;l<s.length;l++)0===l&&n.push(a[0]),l===s.length-1&&r.push(a[l+1]),s[l]=[(1-o)*a[l][0]+o*a[l+1][0],(1-o)*a[l][1]+o*a[l+1][1]];i(s,o)}}(t,e),{left:n,right:r.reverse()}}function qf(t){var e={};return 4===t.length&&(e.x2=t[2][0],e.y2=t[2][1]),t.length>=3&&(e.x1=t[1][0],e.y1=t[1][1]),e.x=t[t.length-1][0],e.y=t[t.length-1][1],e.type=4===t.length?"C":3===t.length?"Q":"L",e}var Kf=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,Ne={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};function Or(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n}function Qf(t){return"".concat(t.type).concat(Ne[t.type].map(function(e){return t[e]}).join(","))}function Ba(t,e,n){var i=e.length-1,a=(t.length-1)/i,s=Or(i).reduce(function(l,u,h){var d=Math.floor(a*h);return n&&d<t.length-1&&n(t[d],t[d+1])&&l[d]&&(a*h%1<.5?d>0?d-=1:d<t.length-1&&(d+=1):d<t.length-1?d+=1:d>0&&(d-=1)),l[d]=(l[d]||0)+1,l},[]).reduce(function(l,u,h){if(h===t.length-1){var d=Or(u,Fn({},t[t.length-1]));return"M"===d[0].type&&d.forEach(function(c){c.type="L"}),l.concat(d)}return l.concat(function td(t,e,n){var r=[];if("L"===e.type||"Q"===e.type||"C"===e.type)r=r.concat(function Jf(t,e,n){var r=[[t.x,t.y]];return null!=e.x1&&r.push([e.x1,e.y1]),null!=e.x2&&r.push([e.x2,e.y2]),r.push([e.x,e.y]),function Gf(t,e){for(var n=[],r=t,i=1/(e=e||2),a=0;a<e-1;a++){var s=Bf(r,i/(1-i*a));n.push(s.left),r=s.right}return n.push(r),n}(r,n).map(qf)}(t,e,n));else{var i=Fn({},t);"M"===i.type&&(i.type="L"),(r=r.concat(Or(n-1).map(function(){return i}))).push(e)}return r}(t[h],t[h+1],u))},[]);return s.unshift(t[0]),s}function qa(t){for(var r,i,e=(t||"").match(Kf)||[],n=[],a=0;a<e.length;++a)if(r=Ne[e[a]]){i={type:e[a]};for(var o=0;o<r.length;++o)i[r[o]]=+e[a+o+1];a+=r.length,n.push(i)}return n}function Pr(t,e,n){var r=qa(t),i=qa(e),a="object"===Ge(n)?n:{excludeSegment:n,snapEndsToInput:!0},s=a.snapEndsToInput;if(!r.length&&!i.length)return function(){return""};var l=function ed(t,e,n){var r=null==t?[]:t.slice(),i=null==e?[]:e.slice(),a="object"===Ge(n)?n:{excludeSegment:n,snapEndsToInput:!0},o=a.excludeSegment,s=a.snapEndsToInput;if(!r.length&&!i.length)return function(){return[]};var l=!(0!==r.length&&"Z"!==r[r.length-1].type||0!==i.length&&"Z"!==i[i.length-1].type);r.length>0&&"Z"===r[r.length-1].type&&r.pop(),i.length>0&&"Z"===i[i.length-1].type&&i.pop(),r.length?i.length||i.push(r[0]):r.push(i[0]),0!==Math.abs(i.length-r.length)&&(i.length>r.length?r=Ba(r,i,o):i.length<r.length&&(i=Ba(i,r,o))),r=r.map(function(d,c){return function jf(t,e){var n={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(t.type!==e.type&&"M"!==e.type.toUpperCase()){var i={};Object.keys(e).forEach(function(a){var o=e[a],s=t[a];void 0===s&&(r.includes(a)?s=o:(void 0===s&&n[a]&&(s=t[n[a]]),void 0===s&&(s=0))),i[a]=s}),i.type=e.type,t=i}return t}(d,i[c])});var h=r.map(function(d){return function Vf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Va(Object(n),!0).forEach(function(r){Zf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}({},d)});return l&&(h.push({type:"Z"}),r.push({type:"Z"})),function(c){if(1===c&&s)return e??[];if(0===c)return r;for(var p=0;p<h.length;++p){var _,v=r[p],w=i[p],m=h[p],f=Wa(Ne[m.type]);try{for(f.s();!(_=f.n()).done;){var x=_.value;m[x]=(1-c)*v[x]+c*w[x],("largeArcFlag"===x||"sweepFlag"===x)&&(m[x]=Math.round(m[x]))}}catch(S){f.e(S)}finally{f.f()}}return h}}(r,i,{excludeSegment:a.excludeSegment,snapEndsToInput:s});return function(h){if(1===h&&s)return e??"";var v,c="",p=Wa(l(h));try{for(p.s();!(v=p.n()).done;)c+=Qf(v.value)}catch(m){p.e(m)}finally{p.f()}return c}}Object.keys(Ne).forEach(function(t){Ne[t.toLowerCase()]=Ne[t]});class nd{static buildLineChart(e){return new Promise((r,i)=>{if(!e.container||"svg"!==e.container.tagName)return void i();e.categoryTicks=e.categoryTicks||10,e.valueTicks=e.valueTicks||5;const a=e.data.map($=>$.data).reduce(($,z)=>$.concat(z),[]),o=a.map($=>$.value),s=a.map($=>parseFloat($.category)).filter(($,z,R)=>R.indexOf($)===z).sort(($,z)=>$-z),l=Math.min(...o)||0,u=Math.max(...o)||0,h=Math.min(...s)||0,d=Math.max(...s)||0,c=vt(e.container),v_left=16+Q.getTextWidth(u.toString(),`${E.strings.FONT_SIZE_SMALL} ${E.strings.FONT_FAMILY}`),w=Q.chartSize(e.container),m=Q.xScale([h,d],w.width-v_left-16),f=Ur(Pt().domain([h,d]).range([0,w.width-v_left-16]));if((0,nt.kJ)(e.categoryTickValues)){const $=Pt().domain([0,e.categoryTickValues.length-1]).range([h,d]);e.categoryTicks=[],e.categoryTickValues?.forEach((z,R)=>{e.categoryTicks.push($(R))}),f.tickFormat((z,R)=>e.categoryTickValues[R]||"")}(0,nt.kJ)(e.categoryTicks)?f.tickValues(e.categoryTicks):f.ticks(e.categoryTicks),e.categoryFormat&&f.tickFormat(Vt(e.categoryFormat)),e.categoryDateFormat&&f.tickFormat(Gt(e.categoryDateFormat));const _=Q.yScale([l,u],w.height-16-16),x=Hr(Pt().domain([0,u]).range([w.height-16-16,0])).tickSize(-(w.width-v_left-16));if((0,nt.kJ)(e.valueTickValues)){const $=Pt().domain([0,e.valueTickValues.length-1]).range([l,u]);e.valueTicks=[],e.valueTickValues?.forEach((z,R)=>{e.valueTicks.push($(R))}),x.tickFormat((z,R)=>e.valueTickValues[R]||"")}(0,nt.kJ)(e.valueTicks)?x.tickValues(e.valueTicks):x.ticks(e.valueTicks),e.valueFormat&&x.tickFormat(Vt(e.valueFormat)),e.valueDateFormat&&x.tickFormat(Gt(e.valueDateFormat));const S=Rr().x($=>m($.category)).y($=>_($.value)),N=Rr().x($=>m($.category)).y(w.height-16);let C=c.select(`g.${E.classes.CHART_ROOT}`);C.node()||(C=c.append("g").classed(E.classes.CHART_ROOT,!0),C.append("g").classed(E.classes.CHART_XAXIS,!0),(0,nt.kJ)(e.categoryTickValues)&&C.select(`g.${E.classes.CHART_XAXIS}`).classed(`${E.classes.CHART_PREFIX}__xaxis--align-boundry-ticks`,!0),C.append("g").classed(E.classes.CHART_YAXIS,!0),C.append("g").classed(`${E.classes.CHART_PREFIX}__line`,!0)),c.attr("width",w.width),c.attr("height",w.height),c.select(`g.${E.classes.CHART_XAXIS}`).attr("transform",`translate(${v_left}, ${w.height-16})`).call(f),c.select(`g.${E.classes.CHART_YAXIS}`).attr("transform",`translate(${v_left}, 16)`).call(x);const k=C.select(`g.${E.classes.CHART_PREFIX}__line`);k.attr("transform",`translate(${v_left+2}, 16)`),e.data.forEach(($,z)=>{const R=k.selectAll(`path.path-${$.id}`).data([$],y=>y.id);R.exit().remove(),R.enter().append("path").classed(`path-${$.id}`,!0).style("fill","none").style("stroke-width","1px").style("stroke-linejoin","round").style("stroke-linecap","round").attr("d",y=>N(y.data)).merge(R).attr("stroke",y=>y.color).transition().duration(E.numbers.TRANSITION_DURATION).call(Q.transitionsComplete,()=>{z===e.data.length-1&&r()}).attrTween("d",(y,g,b)=>Pr(b[0].getAttribute("d"),S(y.data)))});const F=k.selectAll("path").nodes();if(F.length>e.data.length)for(let $=F.length;$>e.data.length;$--)F[$-1]?.remove()})}}class Fr{static buildPieChart(e){return new Promise((r,i)=>{if(!e.container||"svg"!==e.container.tagName)return void i();const a=[],o=vt(e.container),s=e.palette&&e.palette.length?Q.colorScale(e.data.map(_=>_.value),2===e.palette.length?e.palette:e.palette.length):void 0,l=e.valueFormat?Vt(e.valueFormat):e.valueDateFormat?Gt(e.valueDateFormat):void 0,u=Q.chartSize(e.container),h={outer:Math.min(u.width,u.height)/2,inner:0};("donut"===e.type||"donut-meter"===e.type)&&(h.inner=h.outer-.35*h.outer);const d=function xf(){var t=pf,e=gf,n=lt(0),r=null,i=mf,a=yf,o=_f,s=null,l=Ua(u);function u(){var h,d,c=+t.apply(this,arguments),p=+e.apply(this,arguments),v=i.apply(this,arguments)-En,w=a.apply(this,arguments)-En,m=Pa(w-v),f=w>v;if(s||(s=h=l()),p<c&&(d=p,p=c,c=d),p>Mt)if(m>Dn-Mt)s.moveTo(p*le(v),p*Ht(v)),s.arc(0,0,p,v,w,!f),c>Mt&&(s.moveTo(c*le(w),c*Ht(w)),s.arc(0,0,c,w,v,f));else{var y,g,_=v,x=w,S=v,N=w,C=m,k=m,F=o.apply(this,arguments)/2,$=F>Mt&&(r?+r.apply(this,arguments):Se(c*c+p*p)),z=kr(Pa(p-c)/2,+n.apply(this,arguments)),R=z,Y=z;if($>Mt){var b=Fa($/c*Ht(F)),T=Fa($/p*Ht(F));(C-=2*b)>Mt?(S+=b*=f?1:-1,N-=b):(C=0,S=N=(v+w)/2),(k-=2*T)>Mt?(_+=T*=f?1:-1,x-=T):(k=0,_=x=(v+w)/2)}var M=p*le(_),P=p*Ht(_),D=c*le(N),U=c*Ht(N);if(z>Mt){var et,H=p*le(x),X=p*Ht(x),ht=c*le(S),tt=c*Ht(S);if(m<Be)if(et=function vf(t,e,n,r,i,a,o,s){var l=n-t,u=r-e,h=o-i,d=s-a,c=d*l-h*u;if(!(c*c<Mt))return[t+(c=(h*(e-a)-d*(t-i))/c)*l,e+c*u]}(M,P,ht,tt,H,X,D,U)){var ft=M-et[0],G=P-et[1],ct=H-et[0],O=X-et[1],V=1/Ht(function cf(t){return t>1?0:t<-1?Be:Math.acos(t)}((ft*ct+G*O)/(Se(ft*ft+G*G)*Se(ct*ct+O*O)))/2),W=Se(et[0]*et[0]+et[1]*et[1]);R=kr(z,(c-W)/(V-1)),Y=kr(z,(p-W)/(V+1))}else R=Y=0}k>Mt?Y>Mt?(y=On(ht,tt,M,P,p,Y,f),g=On(H,X,D,U,p,Y,f),s.moveTo(y.cx+y.x01,y.cy+y.y01),Y<z?s.arc(y.cx,y.cy,Y,xt(y.y01,y.x01),xt(g.y01,g.x01),!f):(s.arc(y.cx,y.cy,Y,xt(y.y01,y.x01),xt(y.y11,y.x11),!f),s.arc(0,0,p,xt(y.cy+y.y11,y.cx+y.x11),xt(g.cy+g.y11,g.cx+g.x11),!f),s.arc(g.cx,g.cy,Y,xt(g.y11,g.x11),xt(g.y01,g.x01),!f))):(s.moveTo(M,P),s.arc(0,0,p,_,x,!f)):s.moveTo(M,P),c>Mt&&C>Mt?R>Mt?(y=On(D,U,H,X,c,-R,f),g=On(M,P,ht,tt,c,-R,f),s.lineTo(y.cx+y.x01,y.cy+y.y01),R<z?s.arc(y.cx,y.cy,R,xt(y.y01,y.x01),xt(g.y01,g.x01),!f):(s.arc(y.cx,y.cy,R,xt(y.y01,y.x01),xt(y.y11,y.x11),!f),s.arc(0,0,c,xt(y.cy+y.y11,y.cx+y.x11),xt(g.cy+g.y11,g.cx+g.x11),f),s.arc(g.cx,g.cy,R,xt(g.y11,g.x11),xt(g.y01,g.x01),!f))):s.arc(0,0,c,N,S,f):s.lineTo(D,U)}else s.moveTo(0,0);if(s.closePath(),h)return s=null,h+""||null}return u.centroid=function(){var h=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Be/2;return[le(d)*h,Ht(d)*h]},u.innerRadius=function(h){return arguments.length?(t="function"==typeof h?h:lt(+h),u):t},u.outerRadius=function(h){return arguments.length?(e="function"==typeof h?h:lt(+h),u):e},u.cornerRadius=function(h){return arguments.length?(n="function"==typeof h?h:lt(+h),u):n},u.padRadius=function(h){return arguments.length?(r=null==h?null:"function"==typeof h?h:lt(+h),u):r},u.startAngle=function(h){return arguments.length?(i="function"==typeof h?h:lt(+h),u):i},u.endAngle=function(h){return arguments.length?(a="function"==typeof h?h:lt(+h),u):a},u.padAngle=function(h){return arguments.length?(o="function"==typeof h?h:lt(+h),u):o},u.context=function(h){return arguments.length?(s=h??null,u):s},u}().outerRadius(h.outer).innerRadius(h.inner),c=function Af(){var t=Mf,e=Cf,n=null,r=lt(0),i=lt(Dn),a=lt(0);function o(s){var l,h,d,f,S,u=(s=Ha(s)).length,c=0,p=new Array(u),v=new Array(u),w=+r.apply(this,arguments),m=Math.min(Dn,Math.max(-Dn,i.apply(this,arguments)-w)),_=Math.min(Math.abs(m)/u,a.apply(this,arguments)),x=_*(m<0?-1:1);for(l=0;l<u;++l)(S=v[p[l]=l]=+t(s[l],l,s))>0&&(c+=S);for(null!=e?p.sort(function(N,C){return e(v[N],v[C])}):null!=n&&p.sort(function(N,C){return n(s[N],s[C])}),l=0,d=c?(m-u*x)/c:0;l<u;++l,w=f)v[h=p[l]]={data:s[h],index:l,value:S=v[h],startAngle:w,endAngle:f=w+(S>0?S*d:0)+x,padAngle:_};return v}return o.value=function(s){return arguments.length?(t="function"==typeof s?s:lt(+s),o):t},o.sortValues=function(s){return arguments.length?(e=s,n=null,o):e},o.sort=function(s){return arguments.length?(n=s,e=null,o):n},o.startAngle=function(s){return arguments.length?(r="function"==typeof s?s:lt(+s),o):r},o.endAngle=function(s){return arguments.length?(i="function"==typeof s?s:lt(+s),o):i},o.padAngle=function(s){return arguments.length?(a="function"==typeof s?s:lt(+s),o):a},o}().value(_=>_.value).sort(null);let p=o.select(`g.${E.classes.CHART_ROOT}`);p.node()||(p=o.append("g").classed(E.classes.CHART_ROOT,!0),p.append("g").classed(`${E.classes.CHART_PREFIX}__${e.type}`,!0)),o.attr("width",u.width),o.attr("height",u.height);const v=p.select(`g.${E.classes.CHART_PREFIX}__${e.type}`);v.attr("transform",`translate(${h.outer}, ${h.outer})`),v.selectAll("g").select("path").each(_=>{a[_.data.id]={startAngle:_.startAngle,endAngle:_.endAngle}});const w=v.selectAll("g").data(c(e.data),_=>_.data.id);w.exit().select("path").transition().duration(E.numbers.TRANSITION_DURATION).attrTween("d",_=>Q.arcTween(_,{startAngle:0,endAngle:0},d)),w.exit().transition().delay(E.numbers.TRANSITION_DURATION).remove();const m=w.enter().append("g");m.append("path"),e.selectedCallback&&m.on("click",(_,x)=>e.selectedCallback(x.data,_.target.parentElement)),e.hoverCallback&&(m.on("mouseenter",(_,x)=>e.hoverCallback(!0,x.data,_.target)),m.on("mouseleave",(_,x)=>e.hoverCallback(!1,x.data,_.target))),m.merge(w).select("g > path").attr("fill",_=>_.data.color?_.data.color:s&&_.value&&e.palette?2===e.palette.length?s(_.value):e.palette[s(_.value)]:"#fff").attr("id",_=>`${E.classes.CHART_PREFIX}__node-${_.data.id}`).transition().call(Q.transitionsComplete,()=>{switch(e.type){case"donut-meter":if(!e.hideLabel){let _=v.select("."+E.classes.CHART_TEXT);_.node()||(_=v.append("text").classed(E.classes.CHART_TEXT,!0),_.append("tspan").classed(E.classes.CHART_TEXT_VALUE,!0),_.append("tspan").attr("x",0).attr("y",0).attr("dy","1.25em").classed(E.classes.CHART_TEXT_LABEL,!0));let x="";x=e.centerValue?e.centerValue:l?l(e.data[0].value):e.data[0].value.toString(),_.select(`tspan.${E.classes.CHART_TEXT_VALUE}`).text(x),_.select(`tspan.${E.classes.CHART_TEXT_LABEL}`).text((0,nt.$K)(e.data[0].label)?e.data[0].label:"");break}}r()}).duration(E.numbers.TRANSITION_DURATION).style("stroke","#fff").attrTween("d",_=>Q.arcTween(a[_.data.id]||{startAngle:0,endAngle:0},_,d))})}}var rd=Z(7026);let id=(()=>{class t{static buildTreeChart(n){return new Promise((i,a)=>{if(!n.container||"svg"!==n.container.tagName)return void a();const o=vt(n.container),s={width:0,height:0},l=[],h="#757575",d="#212121",c_width=o.attr("width")?parseInt(o.attr("width"),10):0,c_height=o.attr("height")?parseInt(o.attr("height"),10):0,p=He(n.data),w=function hc(){var t=oc,e=1,n=1,r=null;function i(u){var h=function cc(t){for(var n,i,a,o,s,e=new bn(t,0),r=[e];n=r.pop();)if(a=n._.children)for(n.children=new Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new bn(a[o],o)),i.parent=n;return(e.parent=new bn(null,0)).children=[e],e}(u);if(h.eachAfter(a),h.parent.m=-h.z,h.eachBefore(o),r)u.eachBefore(l);else{var d=u,c=u,p=u;u.eachBefore(function(_){_.x<d.x&&(d=_),_.x>c.x&&(c=_),_.depth>p.depth&&(p=_)});var v=d===c?1:t(d,c)/2,w=v-d.x,m=e/(c.x+v+w),f=n/(p.depth||1);u.eachBefore(function(_){_.x=(_.x+w)*m,_.y=_.depth*f})}return u}function a(u){var h=u.children,d=u.parent.children,c=u.i?d[u.i-1]:null;if(h){!function uc(t){for(var a,e=0,n=0,r=t.children,i=r.length;--i>=0;)(a=r[i]).z+=e,a.m+=e,e+=a.s+(n+=a.c)}(u);var p=(h[0].z+h[h.length-1].z)/2;c?(u.z=c.z+t(u._,c._),u.m=u.z-p):u.z=p}else c&&(u.z=c.z+t(u._,c._));u.parent.A=function s(u,h,d){if(h){for(var S,c=u,p=u,v=h,w=c.parent.children[0],m=c.m,f=p.m,_=v.m,x=w.m;v=lr(v),c=ur(c),v&&c;)w=ur(w),(p=lr(p)).a=u,(S=v.z+_-c.z-m+t(v._,c._))>0&&(sc(lc(v,u,d),u,S),m+=S,f+=S),_+=v.m,m+=c.m,x+=w.m,f+=p.m;v&&!lr(p)&&(p.t=v,p.m+=_-f),c&&!ur(w)&&(w.t=c,w.m+=m-x,d=u)}return d}(u,c,u.parent.A||d[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function l(u){u.x*=e,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],i):r?null:[e,n]},i.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],i):r?[e,n]:null},i}().nodeSize([n.node.size.width+24,n.node.size.height+n.node.margin]).separation((y,g)=>y.parent===g.parent?1:1.25)(p);let m=0,f=0;w.descendants().filter(y=>y.depth>0).forEach(y=>{if(!(0,nt.$K)(y.data.nodeId)){const g=this.getParentDepths(y),b=[];this.getParentIds(y).forEach((T,M)=>{b.push(`${g[M]}-${T}`)}),b.push(`${y.depth}-${y.data.id}`),y.data.nodeId=b.join("--")}y.y=(y.depth-1)*(n.node.size.height+n.node.margin),y.y>s.height&&(s.height=y.y),y.x>f?f=y.x:y.x<m&&(m=y.x)});let _=o.select(`g.${E.classes.CHART_ROOT}`);_.node()||(_=o.append("g").classed(E.classes.CHART_ROOT,!0),_.append("g").classed(`${E.classes.CHART_PREFIX}__tree`,!0));const x=_.node().getCTM().a;if(s.width=(Math.abs(m)+f+n.node.size.width)*x+16,s.height=(s.height+n.node.size.height)*x+16,c_width<s.width&&o.attr("width",s.width),c_height<s.height&&o.attr("height",s.height),n.zoomScale){const y=(0,rd.eg)(o.node().parentElement,!0);let g={left:0,top:0,x:0,y:0};o.style("cursor","grab"),o.call(function Lf(){var h,d,c,t=Pf,e=Ff,n=Hf,r=zf,i=Uf,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,l=Ef,u=ri("start","zoom","end"),p=500,v=150,w=0,m=10;function f(g){g.property("__zoom",Ya).on("wheel.zoom",F,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",R).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(g,b){return(b=Math.max(a[0],Math.min(a[1],b)))===g.k?g:new Jt(b,g.x,g.y)}function x(g,b,T){var M=b[0]-T[0]*g.k,P=b[1]-T[1]*g.k;return M===g.x&&P===g.y?g:new Jt(g.k,M,P)}function S(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function N(g,b,T,M){g.on("start.zoom",function(){C(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(M).end()}).tween("zoom",function(){var P=this,D=arguments,U=C(P,D).event(M),H=e.apply(P,D),X=null==T?S(H):"function"==typeof T?T.apply(P,D):T,ht=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),tt=P.__zoom,et="function"==typeof b?b.apply(P,D):b,ft=l(tt.invert(X).concat(ht/tt.k),et.invert(X).concat(ht/et.k));return function(G){if(1===G)G=et;else{var ct=ft(G),O=ht/ct[2];G=new Jt(O,X[0]-ct[0]*O,X[1]-ct[1]*O)}U.zoom(null,G)}})}function C(g,b,T){return!T&&g.__zooming||new k(g,b)}function k(g,b){this.that=g,this.args=b,this.active=0,this.sourceEvent=null,this.extent=e.apply(g,b),this.taps=0}function F(g,...b){if(t.apply(this,arguments)){var T=C(this,b).event(g),M=this.__zoom,P=Math.max(a[0],Math.min(a[1],M.k*Math.pow(2,r.apply(this,arguments)))),D=he(g);if(T.wheel)(T.mouse[0][0]!==D[0]||T.mouse[0][1]!==D[1])&&(T.mouse[1]=M.invert(T.mouse[0]=D)),clearTimeout(T.wheel);else{if(M.k===P)return;T.mouse=[D,M.invert(D)],un(this),T.start()}qe(g),T.wheel=setTimeout(function U(){T.wheel=null,T.end()},v),T.zoom("mouse",n(x(_(M,P),T.mouse[0],T.mouse[1]),T.extent,o))}}function $(g,...b){if(!c&&t.apply(this,arguments)){var T=g.currentTarget,M=C(this,b,!0).event(g),P=vt(g.view).on("mousemove.zoom",function X(tt){if(qe(tt),!M.moved){var et=tt.clientX-U,ft=tt.clientY-H;M.moved=et*et+ft*ft>w}M.event(tt).zoom("mouse",n(x(M.that.__zoom,M.mouse[0]=he(tt,T),M.mouse[1]),M.extent,o))},!0).on("mouseup.zoom",function ht(tt){P.on("mousemove.zoom mouseup.zoom",null),function Sf(t,e){var n=t.document.documentElement,r=vt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Er,Ir),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(tt.view,M.moved),qe(tt),M.event(tt).end()},!0),D=he(g,T),U=g.clientX,H=g.clientY;(function kf(t){var e=t.document.documentElement,n=vt(t).on("dragstart.drag",Er,Ir);"onselectstart"in e?n.on("selectstart.drag",Er,Ir):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")})(g.view),$r(g),M.mouse=[D,this.__zoom.invert(D)],un(this),M.start()}}function z(g,...b){if(t.apply(this,arguments)){var T=this.__zoom,M=he(g.changedTouches?g.changedTouches[0]:g,this),P=T.invert(M),U=n(x(_(T,T.k*(g.shiftKey?.5:2)),M,P),e.apply(this,b),o);qe(g),s>0?vt(this).transition().duration(s).call(N,U,M,g):vt(this).call(f.transform,U,M,g)}}function R(g,...b){if(t.apply(this,arguments)){var D,U,H,X,T=g.touches,M=T.length,P=C(this,b,g.changedTouches.length===M).event(g);for($r(g),U=0;U<M;++U)X=[X=he(H=T[U],this),this.__zoom.invert(X),H.identifier],P.touch0?!P.touch1&&P.touch0[2]!==X[2]&&(P.touch1=X,P.taps=0):(P.touch0=X,D=!0,P.taps=1+!!h);h&&(h=clearTimeout(h)),D&&(P.taps<2&&(d=X[0],h=setTimeout(function(){h=null},p)),un(this),P.start())}}function Y(g,...b){if(this.__zooming){var D,U,H,X,T=C(this,b).event(g),M=g.changedTouches,P=M.length;for(qe(g),D=0;D<P;++D)H=he(U=M[D],this),T.touch0&&T.touch0[2]===U.identifier?T.touch0[0]=H:T.touch1&&T.touch1[2]===U.identifier&&(T.touch1[0]=H);if(U=T.that.__zoom,T.touch1){var ht=T.touch0[0],tt=T.touch0[1],et=T.touch1[0],ft=T.touch1[1],G=(G=et[0]-ht[0])*G+(G=et[1]-ht[1])*G,ct=(ct=ft[0]-tt[0])*ct+(ct=ft[1]-tt[1])*ct;U=_(U,Math.sqrt(G/ct)),H=[(ht[0]+et[0])/2,(ht[1]+et[1])/2],X=[(tt[0]+ft[0])/2,(tt[1]+ft[1])/2]}else{if(!T.touch0)return;H=T.touch0[0],X=T.touch0[1]}T.zoom("touch",n(x(U,H,X),T.extent,o))}}function y(g,...b){if(this.__zooming){var D,U,T=C(this,b).event(g),M=g.changedTouches,P=M.length;for($r(g),c&&clearTimeout(c),c=setTimeout(function(){c=null},p),D=0;D<P;++D)U=M[D],T.touch0&&T.touch0[2]===U.identifier?delete T.touch0:T.touch1&&T.touch1[2]===U.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),2===T.taps&&(U=he(U,this),Math.hypot(d[0]-U[0],d[1]-U[1])<m)){var H=vt(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return f.transform=function(g,b,T,M){var P=g.selection?g.selection():g;P.property("__zoom",Ya),g!==P?N(g,b,T,M):P.interrupt().each(function(){C(this,arguments).event(M).start().zoom(null,"function"==typeof b?b.apply(this,arguments):b).end()})},f.scaleBy=function(g,b,T,M){f.scaleTo(g,function(){return this.__zoom.k*("function"==typeof b?b.apply(this,arguments):b)},T,M)},f.scaleTo=function(g,b,T,M){f.transform(g,function(){var P=e.apply(this,arguments),D=this.__zoom,U=null==T?S(P):"function"==typeof T?T.apply(this,arguments):T,H=D.invert(U),X="function"==typeof b?b.apply(this,arguments):b;return n(x(_(D,X),U,H),P,o)},T,M)},f.translateBy=function(g,b,T,M){f.transform(g,function(){return n(this.__zoom.translate("function"==typeof b?b.apply(this,arguments):b,"function"==typeof T?T.apply(this,arguments):T),e.apply(this,arguments),o)},null,M)},f.translateTo=function(g,b,T,M,P){f.transform(g,function(){var D=e.apply(this,arguments),U=this.__zoom,H=null==M?S(D):"function"==typeof M?M.apply(this,arguments):M;return n(Dr.translate(H[0],H[1]).scale(U.k).translate("function"==typeof b?-b.apply(this,arguments):-b,"function"==typeof T?-T.apply(this,arguments):-T),D,o)},M,P)},k.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,b){return this.mouse&&"mouse"!==g&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&"touch"!==g&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&"touch"!==g&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var b=vt(this.that).datum();u.call(g,this.that,new $f(g,{sourceEvent:this.sourceEvent,target:f,type:g,transform:this.that.__zoom,dispatch:u}),b)}},f.wheelDelta=function(g){return arguments.length?(r="function"==typeof g?g:Pn(+g),f):r},f.filter=function(g){return arguments.length?(t="function"==typeof g?g:Pn(!!g),f):t},f.touchable=function(g){return arguments.length?(i="function"==typeof g?g:Pn(!!g),f):i},f.extent=function(g){return arguments.length?(e="function"==typeof g?g:Pn([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),f):e},f.scaleExtent=function(g){return arguments.length?(a[0]=+g[0],a[1]=+g[1],f):[a[0],a[1]]},f.translateExtent=function(g){return arguments.length?(o[0][0]=+g[0][0],o[1][0]=+g[1][0],o[0][1]=+g[0][1],o[1][1]=+g[1][1],f):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},f.constrain=function(g){return arguments.length?(n=g,f):n},f.duration=function(g){return arguments.length?(s=+g,f):s},f.interpolate=function(g){return arguments.length?(l=g,f):l},f.on=function(){var g=u.on.apply(u,arguments);return g===u?f:g},f.clickDistance=function(g){return arguments.length?(w=(g=+g)*g,f):Math.sqrt(w)},f.tapDistance=function(g){return arguments.length?(m=+g,f):m},f}().scaleExtent([n.zoomScale.min,n.zoomScale.max]).on("zoom",b=>{if("mousemove"===b.sourceEvent.type)y&&(y.scrollTop=g.top+(g.y-b.sourceEvent.clientY),y.scrollLeft=g.left+(g.x-b.sourceEvent.clientX));else if("wheel"===b.sourceEvent.type){_.attr("transform",`scale(${b.transform.k},${b.transform.k})`);const T=_.node().getBBox();s.width=T.width*b.transform.k+16,s.height=T.height*b.transform.k+16,o.attr("width",s.width),o.attr("height",s.height)}}).on("start",b=>{"mousedown"===b.sourceEvent.type&&(g={left:y.scrollLeft,top:y.scrollTop,x:b.sourceEvent.clientX,y:b.sourceEvent.clientY})}))}const S=_.select(`g.${E.classes.CHART_PREFIX}__tree`);S.attr("transform",`translate(${Math.abs(m)+Math.round(n.node.size.width/2)+8}, 8)`);const N=S.selectAll(`.${E.classes.CHART_PREFIX}__tree__node`).data(p.descendants().filter(y=>y.depth>0),y=>y.data.nodeId),C=N.exit();C.transition().duration(E.numbers.TRANSITION_DURATION).attr("transform",y=>y.parent?`translate(${this.nodeCenterHorizontal(y,n.node.size.width,y.parent.x)}, ${y.parent.y})`:`translate(${this.nodeCenterHorizontal(y,n.node.size.width)}, ${y.y})`).remove();const k=N.enter().append("g").classed(`${E.classes.CHART_PREFIX}__tree__node`,!0).attr("transform",y=>y.parent?`translate(${this.nodeCenterHorizontal(y,n.node.size.width,y.parent.x)}, ${y.parent.y})`:`translate(${this.nodeCenterHorizontal(y,n.node.size.width)}, ${y.y})`).attr("cursor",y=>!0===y.data.children||(0,nt.kJ)(y.data.children)&&y.data.children.length?"pointer":"default");k.append("rect").attr("width",n.node.size.width).attr("height",n.node.size.height).attr("rx",4).style("stroke",h).style("fill",y=>n.palette[y.depth-Math.trunc(y.depth/n.palette.length)*n.palette.length]),n.nodeBuilder?n.nodeBuilder(k):k.append("text").classed(E.classes.CHART_TEXT,!0).attr("x",n.node.padding).attr("y",n.node.size.height/2).style("pointer-events","none").style("dominant-baseline","middle").text((y,g)=>{if(!(0,nt.$K)(y.data.label))return null;let b=n.node.size.width-2*n.node.padding;return n.popupCallback&&(b-=24),this.hasChildren(y)&&(b-=24),Q.trimText(y.data.label,b)}),n.selectedCallback&&k.on("click",(y,g)=>n.selectedCallback(g.data,this.getParentIds(g),y.target.parentElement)),n.hoverCallback&&(k.on("mouseenter",(y,g)=>n.hoverCallback(!0,g.data,this.getParentIds(g),y.target)),k.on("mouseleave",(y,g)=>n.hoverCallback(!1,g.data,this.getParentIds(g),y.target)));const F=k.merge(N);F.transition().call(Q.transitionsComplete,()=>{c_width>s.width&&o.attr("width",s.width),c_height>s.height&&o.attr("height",s.height);const y=k.nodes().length?k.data()[0].parent:C.nodes().length?C.data().sort((g,b)=>g.depth<b.depth)[0].parent:null;if((0,nt.$K)(y)&&y.depth>0){const g=N.filter(b=>b.data.nodeId===y.data.nodeId).node();g&&g.scrollIntoView({behavior:"smooth"})}i()}).duration(E.numbers.TRANSITION_DURATION).attr("transform",y=>`translate(${this.nodeCenterHorizontal(y,n.node.size.width)}, ${y.y})`);const $=(y,g)=>{const b=(y.y-g.y)/2;return Rr()([[y.x,y.y],[y.x,y.y-b],[g.x,g.y+b],[g.x,g.y]])},z=S.selectAll(`.${E.classes.CHART_PREFIX}__tree__path`).data(p.descendants().filter(y=>y.depth>1),y=>y.data.nodeId);if(z.exit().transition().duration(E.numbers.TRANSITION_DURATION).attrTween("d",(y,g,b)=>Pr(b[g].getAttribute("d"),$({x:Math.round(y.parent.x),y:Math.round(y.parent.y+n.node.size.height)},{x:Math.round(y.parent.x),y:Math.round(y.parent.y+n.node.size.height)}))).remove(),z.enter().insert("path").classed(`${E.classes.CHART_PREFIX}__tree__path`,!0).style("fill","none").style("stroke",h).style("shape-rendering","crispEdges").style("stroke-width","2").merge(z).transition().call(Q.transitionsComplete,()=>{S.selectAll(`.${E.classes.CHART_PREFIX}__tree__path-label`).raise()}).duration(E.numbers.TRANSITION_DURATION).attrTween("d",(y,g,b)=>Pr(b[g].getAttribute("d"),$({x:Math.round(y.parent.x),y:Math.round(y.parent.y+n.node.size.height)},{x:Math.round(y.x),y:Math.round(y.y)}))),n.levelLabels.length){const y=S.selectAll(`.${E.classes.CHART_PREFIX}__tree__path-label`).data(p.descendants().filter(M=>M.depth>0&&(0,nt.kJ)(M.data.children)&&M.data.children.length),M=>M.data.nodeId),g=24,b=y.enter().insert("g").classed(`${E.classes.CHART_PREFIX}__tree__path-label`,!0).attr("visibility","hidden").attr("transform",M=>`translate(${this.nodeCenterHorizontal(M,n.node.size.width)}, ${M.y+n.node.size.height+n.node.padding})`);b.append("rect").attr("width",M=>{const P=M.depth-1,D=n.levelLabels[P];return(0,nt.$K)(D)&&D.length?(l[P]||(l[P]=Q.getTextWidth(D,"14px Roboto, sans-serif")+g),l[P]):(l[P]=0,0)}).attr("transform",M=>`translate(${n.node.size.width/2-l[M.depth-1]/2}, 0)`).attr("height",g).attr("rx",g/2).style("fill",h),b.append("text").classed(E.classes.CHART_TEXT,!0).attr("x",Math.round(n.node.size.width/2)).attr("y",g/2).style("pointer-events","none").style("dominant-baseline","middle").style("text-anchor","middle").style("font-size","14px").style("fill","white").text(M=>n.levelLabels[M.depth-1]),y.exit().remove(),b.merge(y).transition().call(Q.transitionsComplete,()=>{b.attr("visibility",null),i()}).duration(E.numbers.TRANSITION_DURATION).attr("transform",M=>`translate(${this.nodeCenterHorizontal(M,n.node.size.width)}, ${M.y+n.node.size.height+(n.node.margin-g)/2})`)}F.each((y,g)=>{const b=vt(F.nodes()[g]),T=vt(b.node()?.querySelector(`.${E.classes.CHART_PREFIX}__tree__node__children-icon`));if(this.hasChildren(y)?T.node()||b.append("path").classed(`${E.classes.CHART_PREFIX}__tree__node__children-icon`,!0).attr("d","M0,0L12,0L6,6,L0,0").attr("transform",`translate(${n.node.size.width-20}, ${n.node.size.height/2-4})`).style("fill",d):T.node()&&T.remove(),n.popupCallback){let M=vt(b.node()?.querySelector(`.${E.classes.CHART_PREFIX}__tree__node__info-icon`));if(!M.node()){const P=this.hasChildren(y)?n.node.size.width-54:n.node.size.width-32;M=b.append("path").classed(`${E.classes.CHART_PREFIX}__tree__node__info-icon`,!0).attr("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z").attr("transform",`translate(${P}, ${n.node.size.height/2-12})`).style("fill",d).attr("cursor","pointer").on("click",D=>{D.stopPropagation();const U=JSON.parse(JSON.stringify(y.data));delete U.children,delete U.nodeId,n.popupCallback(U,this.getParentIds(y),M.node())})}}})})}}return t.hasChildren=e=>!0===e.data.children||(0,nt.kJ)(e.data.children)&&e.data.children.length>0,t.getParentIds=e=>{const n=[];let r=e.parent;for(;r;)n.push(r.data.id),r=r.parent;return n.reverse().slice(1)},t.getParentDepths=e=>{const n=[];let r=e.parent;for(;r;)n.push(r.depth),r=r.parent;return n.reverse().slice(1)},t.nodeCenterHorizontal=(e,n,r=e.x)=>Math.round(r-n/2),t})();class ad{static buildTreemapChart(e){return new Promise((r,i)=>{if(!e.container||"svg"!==e.container.tagName)return void i();const a=vt(e.container),o=e.palette&&e.palette.length?Q.colorScale(e.data.map(f=>f.value),2===e.palette.length?e.palette:e.palette.length):void 0,s=e.valueFormat?Vt(e.valueFormat):e.valueDateFormat?Gt(e.valueDateFormat):void 0,u=Q.chartSize(e.container),h=He({children:e.data}).sum(f=>f.value).sort((f,_)=>_.value-f.value);(function _c(){var t=yc,e=!1,n=1,r=1,i=[0],a=oe,o=oe,s=oe,l=oe,u=oe;function h(c){return c.x0=c.y0=0,c.x1=n,c.y1=r,c.eachBefore(d),i=[0],e&&c.eachBefore(fc),c}function d(c){var p=i[c.depth],v=c.x0+p,w=c.y0+p,m=c.x1-p,f=c.y1-p;m<v&&(v=m=(v+m)/2),f<w&&(w=f=(w+f)/2),c.x0=v,c.y0=w,c.x1=m,c.y1=f,c.children&&(p=i[c.depth+1]=a(c)/2,v+=u(c)-p,w+=o(c)-p,(m-=s(c)-p)<v&&(v=m=(v+m)/2),(f-=l(c)-p)<w&&(w=f=(w+f)/2),t(c,v,w,m,f))}return h.round=function(c){return arguments.length?(e=!!c,h):e},h.size=function(c){return arguments.length?(n=+c[0],r=+c[1],h):[n,r]},h.tile=function(c){return arguments.length?(t=Zi(c),h):t},h.padding=function(c){return arguments.length?h.paddingInner(c).paddingOuter(c):h.paddingInner()},h.paddingInner=function(c){return arguments.length?(a="function"==typeof c?c:Te(+c),h):a},h.paddingOuter=function(c){return arguments.length?h.paddingTop(c).paddingRight(c).paddingBottom(c).paddingLeft(c):h.paddingTop()},h.paddingTop=function(c){return arguments.length?(o="function"==typeof c?c:Te(+c),h):o},h.paddingRight=function(c){return arguments.length?(s="function"==typeof c?c:Te(+c),h):s},h.paddingBottom=function(c){return arguments.length?(l="function"==typeof c?c:Te(+c),h):l},h.paddingLeft=function(c){return arguments.length?(u="function"==typeof c?c:Te(+c),h):u},h})().size([u.width,u.height])(h);let c=a.select(`g.${E.classes.CHART_ROOT}`);c.node()||(c=a.append("g").classed(E.classes.CHART_ROOT,!0),c.append("g").classed(`${E.classes.CHART_PREFIX}__treemap`,!0)),a.attr("width",u.width),a.attr("height",u.height);const v=c.select(`g.${E.classes.CHART_PREFIX}__treemap`).selectAll("g").data(h.leaves(),f=>f.data.id);v.exit().select("text").remove(),v.exit().select("rect").transition().duration(E.numbers.TRANSITION_DURATION).attr("width",0).attr("height",0),v.exit().transition().delay(E.numbers.TRANSITION_DURATION).remove();const w=v.enter().append("g");w.append("rect"),w.append("clipPath").attr("id",f=>`${E.classes.CHART_CLIP}-${f.data.id}`).append("rect"),w.append("text").classed(E.classes.CHART_TEXT,!0).attr("clip-path",f=>`url(#${E.classes.CHART_CLIP}-${f.data.id})`).attr("dx",5).attr("dy",20),e.selectedCallback&&w.on("click",(f,_)=>e.selectedCallback(_.data,f.target.parentElement)),e.hoverCallback&&(w.on("mouseenter",(f,_)=>e.hoverCallback(!0,_.data,f.target)),w.on("mouseleave",(f,_)=>e.hoverCallback(!1,_.data,f.target)));const m=w.merge(v);m.transition().duration(E.numbers.TRANSITION_DURATION).attr("transform",f=>`translate(${f.x0}, ${f.y0})`),m.select("text").style("display","none").text(f=>s?s(f.data.value):f.data.value),m.select("rect").attr("fill",f=>f.color?f.color:o&&f.value&&e.palette?2===e.palette.length?o(f.value):e.palette[o(f.value)]:"#fff").style("stroke","#fff").attr("id",f=>`${E.classes.CHART_PREFIX}__node-${f.data.id}`).transition().call(Q.transitionsComplete,()=>{m.select("clipPath > rect").attr("x",f=>4).attr("y",f=>4).attr("width",f=>f.x1-f.x0>8?f.x1-f.x0-8:0).attr("height",f=>f.y1-f.y0>8?f.y1-f.y0-8:0),m.select("text").style("display",null),r()}).duration(E.numbers.TRANSITION_DURATION).attr("width",f=>f.x1-f.x0).attr("height",f=>f.y1-f.y0)})}}var A=Z(1699);const od=["chartContainer"];function sd(t,e){if(1&t&&(A.TgZ(0,"forge-list-item"),A._UZ(1,"div",6),A.TgZ(2,"span",7),A._uU(3),A.qZA(),A.TgZ(4,"span",8),A._uU(5),A.qZA()()),2&t){const n=e.$implicit;A.xp6(1),A.Udp("--item-color",n.color),A.xp6(2),A.Oqu(n.label),A.xp6(2),A.Oqu(n.value)}}function ud(t,e){if(1&t&&(A.TgZ(0,"div",3)(1,"forge-list",4),A.YNc(2,sd,6,4,"forge-list-item",5),A.qZA()()),2&t){const n=A.oxw();A.xp6(2),A.Q6J("ngForOf",n.legendData)}}let Ga=(()=>{var t=new WeakMap;class e{constructor(){(0,Ft.Z)(this,t,{writable:!0,value:void 0}),this.unsubscribe=new B.x,this.chartPalette=Object.keys(Q.chartPalette).map(function(r){return Q.chartPalette[r]}),this.showLegend=!1}set chartType(r){(0,ot.Z)(this,t,r),this.setChartData("create"),this.initializeChartContainer(),requestAnimationFrame(()=>{this.drawChart()}),this.showLegend="donut-meter"!==(0,K.Z)(this,t)&&"treemap"!==(0,K.Z)(this,t)&&"tree"!==(0,K.Z)(this,t)}get chartType(){return(0,K.Z)(this,t)}ngOnInit(){(0,J.R)(window,"resize").pipe((0,rt.R)(this.unsubscribe),(0,It.b)(100)).subscribe(()=>this.drawChart())}ngOnDestroy(){this.unsubscribe.next()}onAction(r){this.setChartData(r),this.drawChart()}initializeChartContainer(){this.chartContainer.nativeElement.querySelector("svg")?.remove();const r=document.createElementNS("http://www.w3.org/2000/svg","svg");this.chartContainer.nativeElement.appendChild(r)}setChartData(r){if("donut-meter"!==this.chartType){switch(r){case"create":"line"===this.chartType?this.lineChartData=[this.getData(10)]:"tree"===this.chartType?this.treeChartData={id:"0",children:[{id:"0-1",label:"Item 0-1",children:!0},{id:"0-2",label:"Item 0-2",children:!0}]}:this.chartData=this.getData(10);break;case"update":"line"===this.chartType?this.lineChartData.forEach((i,a)=>{this.getData(i.length).forEach((o,s)=>{i[s].value=o.value})}):this.getData(this.chartData.length).forEach((i,a)=>{this.chartData[a].value=i.value});break;case"add":if("line"===this.chartType)this.lineChartData.push(this.getData(10));else{let i=Math.max(...this.chartData.map(a=>a.id))||0;i++,this.chartData=this.chartData.concat(this.getData(10,i))}break;case"delete":"line"===this.chartType?this.lineChartData.pop():this.chartData.length>10&&(this.chartData=this.chartData.slice(0,this.chartData.length-10))}("bubble"===this.chartType||"donut"===this.chartType||"pie"===this.chartType||"treemap"===this.chartType)&&(this.chartData=this.chartData.sort((i,a)=>i.category-a.category))}}getData(r,i=0){let a=[];Date.now();for(let s=0;s<r;s++)a.push({id:s+i,value:this.randomNumber(0,1e3),label:"Item "+(s+i),category:this.randomNumber(0,100)});return a.sort((s,l)=>s.category-l.category)}drawChart(){this.legendData=this.chartData.map((i,a)=>({id:i.id,label:i.label,value:i.value,color:this.chartPalette[a%this.chartPalette.length]}));const r={container:this.chartContainer.nativeElement.querySelector("svg"),data:this.chartData.map((i,a)=>({...i,color:this.chartPalette[a%this.chartPalette.length]})),palette:this.chartPalette};switch(r.container.setAttribute("width","0"),r.container.setAttribute("height","0"),this.chartType){case"bar":{const i={...r};Xf.buildBarChart(i);break}case"bubble":Yf.buildBubbleChart(r);break;case"donut":{const i={...r,type:"donut"};Fr.buildPieChart(i);break}case"donut-meter":{const i=this.randomNumber(20,80),a={...r,type:"donut-meter",data:[{id:0,value:i,label:"percent",color:Q.chartPalette.indigoA200},{id:1,value:100-i,color:Q.chartPalette.grey400}]};Fr.buildPieChart(a);break}case"line":{const i=this.lineChartData.map((o,s)=>({id:s,label:`Item ${s}`,data:o,color:this.chartPalette[s%this.chartPalette.length]}));nd.buildLineChart({container:r.container,data:i}),this.legendData=i.map((o,s)=>({id:o.id,color:o.color,value:null,label:o.data[0].label}));break}case"pie":{const i={...r,type:"pie"};Fr.buildPieChart(i);break}case"treemap":ad.buildTreemapChart(r);break;case"tree":id.buildTreeChart({container:r.container,data:this.treeChartData,node:{size:{width:200,height:48},padding:8,margin:48},palette:["#6f74dd","#8e99f3","#d1d9ff","#ede7f6","#e3f2fd","#e0f2f1","#f1f8e9","#eceff1","#f5f5f5"],levelLabels:["Level one","Level two","Level three"],zoomScale:{min:.5,max:1},selectedCallback:(a,o,s)=>{if(console.log(`selectedCallback: ${a.id}`),a.children){if(Array.isArray(a.children))a.children=!0;else{const l=this.randomNumber(5,10);a.children=[];for(let u=0;u<l;u++)a.children.push({id:`${o.length+1}-${u}`,label:`Item ${o.length+1} - ${u}`,children:!!this.randomNumber(0,10)})}this.drawChart()}}})}}randomNumber(r,i){return Math.floor(Math.random()*(i-r+1))+r}selectedCallback(r,i){console.log(r),console.log(i)}hoverCallback(r,i,a){console.log(i),console.log(a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=A.Xpm({type:e,selectors:[["app-charts-d3-chart"]],viewQuery:function(r,i){if(1&r&&A.Gf(od,7),2&r){let a;A.iGM(a=A.CRH())&&(i.chartContainer=a.first)}},inputs:{chartType:"chartType"},decls:3,vars:1,consts:[[1,"chart-container"],["chartContainer",""],["class","legend-container",4,"ngIf"],[1,"legend-container"],[1,"chart-legend"],[4,"ngFor","ngForOf"],["slot","leading"],["slot","title"],["slot","subtitle"]],template:function(r,i){1&r&&(A._UZ(0,"div",0,1),A.YNc(2,ud,3,1,"div",2)),2&r&&(A.xp6(2),A.Q6J("ngIf",i.showLegend))},dependencies:[gt.sg,gt.O5,it.nsn,it.GBp],styles:["\n\n\n\n\n[_nghost-%COMP%]{overflow-x:auto;overflow-y:hidden;height:100%;width:100%;display:grid;grid-template-columns:1fr auto;column-gap:16px;background-color:#fff;background-color:var(--mdc-theme-surface, #ffffff)}[_nghost-%COMP%]     .app-chart__donut-meter>.app-chart__text{text-anchor:middle}[_nghost-%COMP%]     .app-chart__donut-meter>.app-chart__text .app-chart__text-value{font-size:2em}[_nghost-%COMP%]     .app-chart__donut-meter>.app-chart__text .app-chart__text-label{fill:#9e9e9e}[_nghost-%COMP%]     .app-chart__legend-text-label{font-size:10px;fill:#9e9e9e}[_nghost-%COMP%]     .app-chart__xaxis, [_nghost-%COMP%]     .app-chart__yaxis{font-family:Roboto,sans-serif;font-size:10px}[_nghost-%COMP%]     .app-chart__xaxis .domain, [_nghost-%COMP%]     .app-chart__yaxis .domain{stroke:#e0e0e0}[_nghost-%COMP%]     .app-chart__xaxis .tick line, [_nghost-%COMP%]     .app-chart__yaxis .tick line{stroke:#e0e0e0}[_nghost-%COMP%]     .app-chart__xaxis--align-boundry-ticks .tick:first-of-type>text{text-anchor:start}[_nghost-%COMP%]     .app-chart__xaxis--align-boundry-ticks .tick:last-of-type>text{text-anchor:end}.chart-container[_ngcontent-%COMP%]{padding:16px;position:relative;max-height:100%;min-height:0;max-width:100%}.legend-container[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;min-width:280px;max-height:100%}  .chart-legend [slot=leading]{width:16px;height:16px;background-color:var(--item-color)}"]}),e})();var ld=Z(2235);let Ja=(()=>{class t{static loadGoogleChartService(){return new ld.y(n=>{let r=document.querySelector('script[src="https://www.gstatic.com/charts/loader.js"]');r?(n.next(),n.complete()):(r=document.createElement("script"),r.type="text/javascript",r.src="https://www.gstatic.com/charts/loader.js",r.onload=()=>{n.next(),n.complete()},document.body.appendChild(r))})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=A.Yz7({token:t,factory:t.\u0275fac}),t})();const cd=["chartContainer"];let Ka=(()=>{class t{ngOnInit(){Ja.loadGoogleChartService().subscribe(()=>{window.google.charts.load("current",{packages:["corechart"]}).then(()=>this.drawChart())})}drawChart(){var n=new window.google.visualization.DataTable;n.addColumn("string","Topping"),n.addColumn("number","Slices"),n.addRows([["Mushrooms",3],["Onions",1],["Olives",1],["Zucchini",1],["Pepperoni",2]]),new window.google.visualization.PieChart(this.chartContainer.nativeElement).draw(n,{title:"How Much Pizza I Ate Last Night",width:400,height:300})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=A.Xpm({type:t,selectors:[["app-charts-google-chart"]],viewQuery:function(n,r){if(1&n&&A.Gf(cd,5),2&n){let i;A.iGM(i=A.CRH())&&(r.chartContainer=i.first)}},decls:2,vars:0,consts:[[1,"chart-container"],["chartContainer",""]],template:function(n,r){1&n&&A._UZ(0,"div",0,1)},styles:["[_nghost-%COMP%]{display:block}"]}),t})();var zr=Z(2024);function hd(t,e){if(1&t&&A._UZ(0,"app-charts-d3-chart",19),2&t){const n=A.oxw();A.Q6J("chartType",n.chartType)}}function fd(t,e){1&t&&A._UZ(0,"app-charts-google-chart")}const dd=[{path:"**",component:(()=>{class t{constructor(){this.chartType="bar",this.activeTab=0}onAction(n){0===this.activeTab&&this.d3Chart.onAction(n)}onTabSelected(n){this.activeTab=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=A.Xpm({type:t,selectors:[["app-charts"]],viewQuery:function(n,r){if(1&n&&(A.Gf(Ga,5),A.Gf(Ka,5)),2&n){let i;A.iGM(i=A.CRH())&&(r.d3Chart=i.first),A.iGM(i=A.CRH())&&(r.googleChart=i.first)}},decls:38,vars:7,consts:[[1,"header"],["slot","start"],[1,"forge-typography--title"],["label","Chart type",3,"ngModel","ngModelChange"],["value","bar"],["value","bubble"],["value","donut"],["value","donut-meter"],["value","line"],["value","pie"],["value","treemap"],["value","tree"],["type","outlined"],["type","button",3,"disabled","click"],[3,"activeTab"],[3,"forge-tab-interacted"],[1,"body"],[3,"chartType",4,"ngIf"],[4,"ngIf"],[3,"chartType"]],template:function(n,r){1&n&&(A.TgZ(0,"forge-toolbar",0)(1,"div",1)(2,"h2",2),A._uU(3,"Charts"),A.qZA(),A.TgZ(4,"forge-select",3),A.NdJ("ngModelChange",function(a){return r.chartType=a}),A.TgZ(5,"forge-option",4),A._uU(6,"bar"),A.qZA(),A.TgZ(7,"forge-option",5),A._uU(8,"bubble"),A.qZA(),A.TgZ(9,"forge-option",6),A._uU(10,"donut"),A.qZA(),A.TgZ(11,"forge-option",7),A._uU(12,"donut meter"),A.qZA(),A.TgZ(13,"forge-option",8),A._uU(14,"line"),A.qZA(),A.TgZ(15,"forge-option",9),A._uU(16,"pie"),A.qZA(),A.TgZ(17,"forge-option",10),A._uU(18,"treemap"),A.qZA(),A.TgZ(19,"forge-option",11),A._uU(20,"tree"),A.qZA()(),A.TgZ(21,"forge-button",12)(22,"button",13),A.NdJ("click",function(){return r.onAction("update")}),A._uU(23,"Update"),A.qZA()(),A.TgZ(24,"forge-button",12)(25,"button",13),A.NdJ("click",function(){return r.onAction("add")}),A._uU(26,"Add"),A.qZA()(),A.TgZ(27,"forge-button",12)(28,"button",13),A.NdJ("click",function(){return r.onAction("delete")}),A._uU(29,"Delete"),A.qZA()()()(),A.TgZ(30,"forge-tab-bar",14)(31,"forge-tab",15),A.NdJ("forge-tab-interacted",function(){return r.onTabSelected(0)}),A._uU(32,"D3"),A.qZA(),A.TgZ(33,"forge-tab",15),A.NdJ("forge-tab-interacted",function(){return r.onTabSelected(1)}),A._uU(34,"Google"),A.qZA()(),A.TgZ(35,"div",16),A.YNc(36,hd,1,1,"app-charts-d3-chart",17),A.YNc(37,fd,1,0,"app-charts-google-chart",18),A.qZA()),2&n&&(A.xp6(4),A.Q6J("ngModel",r.chartType),A.xp6(18),A.Q6J("disabled","tree"===r.chartType),A.xp6(3),A.Q6J("disabled","tree"===r.chartType),A.xp6(3),A.Q6J("disabled","tree"===r.chartType),A.xp6(2),A.Q6J("activeTab",r.activeTab),A.xp6(6),A.Q6J("ngIf",0===r.activeTab),A.xp6(1),A.Q6J("ngIf",1===r.activeTab))},dependencies:[gt.O5,zr.JJ,zr.On,it.r0F,it.x8v,it.QIx,it.Hr0,it.idV,it.pub,it.nVy,Ga,Ka],styles:["\n\n\n\n\n[_nghost-%COMP%]{overflow:hidden;height:100%;display:grid;grid-template-rows:auto auto 1fr;background-color:#fff;background-color:var(--mdc-theme-surface, #ffffff)}.header[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:16px}.header[_ngcontent-%COMP%]   [slot=start] forge-select[_ngcontent-%COMP%]{width:320px}forge-tab-bar[_ngcontent-%COMP%]{display:inline-flex;width:100%;border-bottom:1px solid var(--forge-theme-border-color)}forge-tab-bar[_ngcontent-%COMP%]   forge-tab[_ngcontent-%COMP%]{min-width:240px}.body[_ngcontent-%COMP%]{overflow:hidden;height:100%}"]}),t})()}];let pd=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=A.oAB({type:t}),t.\u0275inj=A.cJS({providers:[Ja],imports:[gt.ez,mt.Bz.forChild(dd),zr.u5,it.xXH,mt.Bz]}),t})()},9016:(fe,bt,Z)=>{Z.d(bt,{R:()=>It});var gt=Z(384),mt=Z(2235),it=Z(9912),Ft=Z(1287),K=Z(2602),ot=Z(7825);const B=["addListener","removeListener"],J=["addEventListener","removeEventListener"],rt=["on","off"];function It(at,kt,Et,te){if((0,K.m)(Et)&&(te=Et,Et=void 0),te)return It(at,kt,Et).pipe((0,ot.Z)(te));const[Re,Un]=function pe(at){return(0,K.m)(at.addEventListener)&&(0,K.m)(at.removeEventListener)}(at)?J.map(ee=>ge=>at[ee](kt,ge,Et)):function zn(at){return(0,K.m)(at.addListener)&&(0,K.m)(at.removeListener)}(at)?B.map(At(at,kt)):function de(at){return(0,K.m)(at.on)&&(0,K.m)(at.off)}(at)?rt.map(At(at,kt)):[];if(!Re&&(0,Ft.z)(at))return(0,it.z)(ee=>It(ee,kt,Et))((0,gt.Xf)(at));if(!Re)throw new TypeError("Invalid event target");return new mt.y(ee=>{const ge=(...Kt)=>ee.next(1<Kt.length?Kt:Kt[0]);return Re(ge),()=>Un(ge)})}function At(at,kt){return Et=>te=>at[Et](kt,te)}},274:(fe,bt,Z)=>{Z.d(bt,{R:()=>K});var gt=Z(4114),mt=Z(5678),it=Z(384),Ft=Z(2707);function K(ot){return(0,gt.e)((B,J)=>{(0,it.Xf)(ot).subscribe((0,mt.x)(J,()=>J.complete(),Ft.Z)),!J.closed&&B.subscribe(J)})}},857:(fe,bt,Z)=>{Z.d(bt,{o:()=>K});var gt=Z(6482);class mt extends gt.w0{constructor(B,J){super()}schedule(B,J=0){return this}}const it={setInterval(ot,B,...J){const{delegate:rt}=it;return rt?.setInterval?rt.setInterval(ot,B,...J):setInterval(ot,B,...J)},clearInterval(ot){const{delegate:B}=it;return(B?.clearInterval||clearInterval)(ot)},delegate:void 0};var Ft=Z(5559);class K extends mt{constructor(B,J){super(B,J),this.scheduler=B,this.work=J,this.pending=!1}schedule(B,J=0){var rt;if(this.closed)return this;this.state=B;const It=this.id,At=this.scheduler;return null!=It&&(this.id=this.recycleAsyncId(At,It,J)),this.pending=!0,this.delay=J,this.id=null!==(rt=this.id)&&void 0!==rt?rt:this.requestAsyncId(At,this.id,J),this}requestAsyncId(B,J,rt=0){return it.setInterval(B.flush.bind(B,this),rt)}recycleAsyncId(B,J,rt=0){if(null!=rt&&this.delay===rt&&!1===this.pending)return J;null!=J&&it.clearInterval(J)}execute(B,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const rt=this._execute(B,J);if(rt)return rt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(B,J){let It,rt=!1;try{this.work(B)}catch(At){rt=!0,It=At||new Error("Scheduled action threw falsy error")}if(rt)return this.unsubscribe(),It}unsubscribe(){if(!this.closed){const{id:B,scheduler:J}=this,{actions:rt}=J;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ft.P)(rt,this),null!=B&&(this.id=this.recycleAsyncId(J,B,null)),this.delay=null,super.unsubscribe()}}}},8924:(fe,bt,Z)=>{Z.d(bt,{v:()=>it});var gt=Z(6926);class mt{constructor(K,ot=mt.now){this.schedulerActionCtor=K,this.now=ot}schedule(K,ot=0,B){return new this.schedulerActionCtor(this,K).schedule(B,ot)}}mt.now=gt.l.now;class it extends mt{constructor(K,ot=mt.now){super(K,ot),this.actions=[],this._active=!1}flush(K){const{actions:ot}=this;if(this._active)return void ot.push(K);let B;this._active=!0;do{if(B=K.execute(K.state,K.delay))break}while(K=ot.shift());if(this._active=!1,B){for(;K=ot.shift();)K.unsubscribe();throw B}}}},7777:(fe,bt,Z)=>{Z.d(bt,{P:()=>Ft,z:()=>it});var gt=Z(857);const it=new(Z(8924).v)(gt.o),Ft=it},6926:(fe,bt,Z)=>{Z.d(bt,{l:()=>gt});const gt={now:()=>(gt.delegate||Date).now(),delegate:void 0}}}]);
//# sourceMappingURL=199.2620b19a5fc10f9e.js.map