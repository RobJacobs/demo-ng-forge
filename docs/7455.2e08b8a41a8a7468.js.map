{"version":3,"file":"7455.2e08b8a41a8a7468.js","mappings":"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","names":["AppDataService","constructor","httpClient","this","getProfile","get","getPeople","filter","pipe","map","r","count","length","filters","Utils","f","key","property","value","strict","sort","direction","isNumber","skip","take","slice","data","getPerson","id","find","p","toString","getSearches","Observable","o","searches","localStorage","getItem","isDefined","JSON","parse","next","complete","saveSearches","setItem","stringify","getLongRequest","t","i0","i1","_angular_core__WEBPACK_IMPORTED_MODULE_4__","Yz7","factory","Éµfac","providedIn","TestComponent","core","Xpm","selectors","decls","vars","template","rf","ctx","routes","path","component","children","ParentComponent","router","appDataService","appCache","onNavigate","route","navigate","onMakeRequest","subscribe","tap","result","console","log","error","takeUntil","cancelHttpRequests","i2","i3","consts","ChildComponent","redirectTo","pathMatch","TestModule","oAB","cJS","CommonModule","RouterModule","static","type","a","b","getPropertyValue","comparator","isArray","reduce","previousValue","currentValue","push","isString","operator","substring","Object","defineProperty","toLowerCase","rec","every","indexOf","Date","getTime","isNaN","parseFloat","localeCompare","navigator","language","numeric","location","fallbackRoute","getState","navigationId","back","prefix","Math","random","replace","format","formatDate","formatNumber","params","window","search","httpParams","HttpParams","fromString","keys","forEach","k","getAll","enumerable","writable","object","reduced","trim","notifier","operate","source","subscriber","innerFrom","createOperatorSubscriber","noop","closed"],"sourceRoot":"webpack:///","sources":["./src/app/app-data.service.ts","./src/app/test/test.component.ts","./src/app/test/test.component.html","./src/app/test/test.module.ts","./src/app/test/parent/parent.component.ts","./src/app/test/parent/parent.component.html","./src/app/test/child/child.component.ts","./src/app/test/child/child.component.html","./src/utils.ts","./node_modules/rxjs/dist/esm/internal/operators/takeUntil.js"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { map, delay } from 'rxjs/operators';\r\nimport { isDefined, isNumber } from '@tylertech/forge-core';\r\nimport { IPerson, IProfile } from 'src/app/shared/interfaces/person.interface';\r\nimport { ISearch } from 'src/app/shared/interfaces/search.interface';\r\nimport { IFilterParameter } from 'src/app/shared/interfaces/filter.interface';\r\nimport { Utils } from 'src/utils';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AppDataService {\r\n  constructor(private httpClient: HttpClient) { }\r\n\r\n  public getProfile(): Observable<IProfile> {\r\n    return this.httpClient.get<IProfile>('mock-data/profile.json');\r\n  }\r\n\r\n  public getPeople(filter?: IFilterParameter): Observable<{ count: number; data: Array<IPerson> }> {\r\n    return this.httpClient.get<Array<IPerson>>('mock-data/people.json').pipe(\r\n      // delay(2000),\r\n      map((r) => {\r\n        let count = r.length;\r\n        if (filter) {\r\n          if (filter.filters?.length) {\r\n            r = Utils.filterData(\r\n              r,\r\n              filter.filters.map((f) => ({ key: f.property, value: f.value, strict: f.property === 'gender' || f.property === 'id' }))\r\n            );\r\n            count = r.length;\r\n          }\r\n\r\n          if (filter.sort) {\r\n            r = Utils.sortData(r, filter.sort.property, 'string', filter.sort.direction);\r\n          }\r\n\r\n          if (isNumber(filter.skip) && isNumber(filter.take)) {\r\n            r = r.slice(filter.skip, filter.skip + filter.take);\r\n          }\r\n        }\r\n        return { count, data: r };\r\n      })\r\n    );\r\n  }\r\n\r\n  public getPerson(id: number): Observable<IPerson | undefined> {\r\n    return this.httpClient.get('mock-data/people.json').pipe(map((r) => (r as IPerson[]).find((p) => p.id.toString() === id.toString())));\r\n  }\r\n\r\n  public getSearches(key: string): Observable<ISearch[]> {\r\n    return new Observable<ISearch[]>((o) => {\r\n      let searches = localStorage.getItem(key);\r\n      if (isDefined(searches)) {\r\n        searches = JSON.parse(searches as string);\r\n      }\r\n      o.next(searches as any);\r\n      o.complete();\r\n    });\r\n  }\r\n\r\n  public saveSearches(key: string, searches: ISearch[]): Observable<boolean> {\r\n    return new Observable<boolean>((o) => {\r\n      localStorage.setItem(key, JSON.stringify(searches));\r\n      o.next(true);\r\n      o.complete();\r\n    });\r\n  }\r\n\r\n  public getLongRequest(): Observable<string> {\r\n    return this.httpClient.get<string>('http://localhost:5000/long-request');\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-test',\r\n  templateUrl: './test.component.html',\r\n  styleUrls: ['./test.component.scss']\r\n})\r\nexport class TestComponent {\r\n\r\n  constructor() { }\r\n\r\n}\r\n","<router-outlet></router-outlet>","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { TestComponent } from './test.component';\nimport { ParentComponent } from './parent/parent.component';\nimport { ChildComponent } from './child/child.component';\n\nconst routes: Routes = [\n  {\n    path: '', component: TestComponent,\n    children: [\n      { path: 'parent', component: ParentComponent },\n      { path: 'child', component: ChildComponent },\n      { path: '', redirectTo: 'parent', pathMatch: 'full' }\n    ]\n  }\n];\n\n@NgModule({\n  declarations: [\n    TestComponent,\n    ParentComponent,\n    ChildComponent\n  ],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes)\n  ],\n  exports: [\n    RouterModule\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class TestModule { }\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable, tap, takeUntil } from 'rxjs';\nimport { AppCacheService } from 'src/app/app-cache.service';\nimport { AppDataService } from 'src/app/app-data.service';\n\n@Component({\n  selector: 'app-test-parent',\n  templateUrl: './parent.component.html',\n  styleUrls: ['./parent.component.scss']\n})\nexport class ParentComponent {\n\n  constructor(\n    private router: Router,\n    private appDataService: AppDataService,\n    private appCache: AppCacheService\n  ) { }\n\n  public onNavigate(route: string) {\n    this.router.navigate([route]);\n  }\n\n  public onMakeRequest() {\n    this.getLongRequest().subscribe();\n  }\n\n  private getLongRequest(): Observable<any> {\n    return this.appDataService.getLongRequest().pipe(\n      tap({\n        next: result => console.log(result),\n        error: error => console.log(error)\n      }),\n      takeUntil(this.appCache.cancelHttpRequests)\n    );\n  }\n\n}\n","<forge-toolbar class=\"header\">\r\n  <h2 slot=\"start\" class=\"forge-typography--title\">Parent</h2>\r\n</forge-toolbar>\r\n\r\n<div class=\"body\">\r\n  <p>Parent content</p>\r\n  <forge-button type=\"raised\">\r\n    <button type=\"button\" (click)=\"onNavigate('test/child')\">View child</button>\r\n  </forge-button>\r\n  <forge-button type=\"raised\" style=\"margin: 16px;\">\r\n    <button type=\"button\" (click)=\"onMakeRequest()\">Make request</button>\r\n  </forge-button>\r\n</div>","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-test-child',\n  templateUrl: './child.component.html',\n  styleUrls: ['./child.component.scss']\n})\nexport class ChildComponent {\n\n  constructor(\n    private router: Router\n  ) { }\n\n  public onNavigate(route: string) {\n    this.router.navigate([route]);\n  }\n\n}\n","<forge-toolbar class=\"header\">\n  <div slot=\"start\">\n    <forge-icon-button>\n      <button type=\"button\" (click)=\"onNavigate('test/parent')\">\n        <forge-icon name=\"arrow_back\"></forge-icon>\n      </button>\n    </forge-icon-button>\n    <h2 class=\"forge-typography--title\">Child</h2>\n  </div>\n</forge-toolbar>\n\n<div class=\"body\">\n  <p>Child content</p>\n</div>","import { formatDate, formatNumber, Location } from '@angular/common';\r\nimport { HttpParams } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { isArray, getPropertyValue, isDefined, isString } from '@tylertech/forge-core';\r\nimport { SortDirection } from '@tylertech/forge';\r\n\r\nexport class Utils {\r\n  public static sortData(data: any[], key: string, type: 'string' | 'number' | 'boolean' | 'date', direction: 'ASC' | 'DESC' | SortDirection): any[] {\r\n    if (!data || !data.length) {\r\n      return data;\r\n    }\r\n\r\n    type = type || 'string';\r\n\r\n    if (direction !== 'DESC') {\r\n      direction = 'ASC';\r\n    }\r\n\r\n    return data.slice().sort((a, b): number => {\r\n      a = getPropertyValue(a, key);\r\n      b = getPropertyValue(b, key);\r\n\r\n      if (direction === 'DESC') {\r\n        return this.comparator(b, a, type);\r\n      } else {\r\n        return this.comparator(a, b, type);\r\n      }\r\n    });\r\n  }\r\n\r\n  public static groupData(data: any[], property: string): any[] {\r\n    if (!isArray(data) || !data.length || !property?.length) {\r\n      return data;\r\n    }\r\n\r\n    return data.reduce((previousValue, currentValue) => {\r\n      const key = currentValue[property];\r\n      if (!previousValue[key]) {\r\n        previousValue[key] = [];\r\n      }\r\n      previousValue[key].push(currentValue);\r\n      return previousValue;\r\n    }, {});\r\n  }\r\n\r\n  public static filterData(data: any[], filters: { key: string; value: string; type?: 'string' | 'number' | 'boolean' | 'date'; strict?: boolean }[]): any[] {\r\n    if (!isArray(data) || !data.length || !isArray(filters) || !filters.length) {\r\n      return data;\r\n    }\r\n\r\n    filters = filters.map((f) => {\r\n      if (isString(f.value) && f.value.length) {\r\n        let operator;\r\n        if (f.value.substring(0, 2) === '<>') {\r\n          if (f.value.length === 2) {\r\n            f.value = '';\r\n            return f;\r\n          }\r\n          operator = f.value.substring(0, 2);\r\n          f.value = f.value.substring(2);\r\n        } else if (f.value.substring(0, 1) === '<' || f.value.substring(0, 1) === '>') {\r\n          if (f.value.length === 1) {\r\n            f.value = '';\r\n            return f;\r\n          }\r\n          operator = f.value.substring(0, 1);\r\n          f.value = f.value.substring(1);\r\n        }\r\n\r\n        if (operator) {\r\n          Object.defineProperty(f, 'operator', { value: operator });\r\n        }\r\n      }\r\n\r\n      f.value = ('' + f.value).toLowerCase();\r\n      return f;\r\n    });\r\n\r\n    const filter = (rec: any) =>\r\n      filters.every((f) => {\r\n        if (!f.value.length) {\r\n          return true;\r\n        }\r\n\r\n        const value = ('' + getPropertyValue(rec, f.key)).toLowerCase();\r\n        if (!value.length) {\r\n          return false;\r\n        }\r\n\r\n        if (f.strict) {\r\n          return value === f.value;\r\n        }\r\n\r\n        switch ((f as any).operator) {\r\n          case '<>':\r\n            return this.comparator(value, f.value, f.type) !== 0;\r\n          case '>':\r\n            return this.comparator(value, f.value, f.type) > 0;\r\n          case '<':\r\n            return this.comparator(value, f.value, f.type) < 0;\r\n          default:\r\n            return value.indexOf(f.value) > -1;\r\n        }\r\n      });\r\n\r\n    return data.filter((rec) => filter(rec));\r\n  }\r\n\r\n  public static comparator(a: any, b: any, type: 'string' | 'number' | 'boolean' | 'date' = 'string'): number {\r\n    // eslint-disable-next-line eqeqeq\r\n    if (a == b) {\r\n      return 0;\r\n    }\r\n    if (!isDefined(a)) {\r\n      return -1;\r\n    }\r\n    if (!isDefined(b)) {\r\n      return 1;\r\n    }\r\n\r\n    switch (type) {\r\n      case 'boolean':\r\n        return a ? -1 : 1;\r\n      case 'date':\r\n        a = new Date(a).getTime();\r\n        if (isNaN(a)) {\r\n          return -1;\r\n        }\r\n        b = new Date(b).getTime();\r\n        if (isNaN(b)) {\r\n          return 1;\r\n        }\r\n        break;\r\n      case 'number':\r\n        a = parseFloat(a);\r\n        if (isNaN(a)) {\r\n          return -1;\r\n        }\r\n        b = parseFloat(b);\r\n        if (isNaN(b)) {\r\n          return 1;\r\n        }\r\n        break;\r\n      default:\r\n        if (!isNaN(parseFloat(a)) && !isNaN(parseFloat(b))) {\r\n          return ('' + a).localeCompare('' + b, navigator.language, { numeric: true });\r\n        } else {\r\n          return ('' + a).localeCompare('' + b);\r\n        }\r\n    }\r\n\r\n    return a < b ? -1 : a > b ? 1 : 0;\r\n  }\r\n\r\n  public static navigateBack(location: Location, router: Router, fallbackRoute: any[]): void {\r\n    if ((location.getState() as any)?.navigationId === 1) {\r\n      router.navigate(fallbackRoute);\r\n    } else {\r\n      location.back();\r\n    }\r\n  }\r\n\r\n  public static elementId(prefix: string): string {\r\n    return (\r\n      prefix +\r\n      Math.random()\r\n        .toString(36)\r\n        .replace(/[^a-z]+/g, '')\r\n    );\r\n  }\r\n\r\n  public static formatDate(value: Date, format = 'MM/dd/yyyy'): string {\r\n    if (!isDefined(value)) {\r\n      return '';\r\n    }\r\n    return formatDate(value, format, navigator.language);\r\n  }\r\n\r\n  public static formatNumber(value: number, format = '1.2-2'): string {\r\n    return formatNumber(value, navigator.language, format);\r\n  }\r\n\r\n  public static uniqueId(): string {\r\n    return Math.random().toString(36).substring(2);\r\n  }\r\n\r\n  public static parseQueryStringParameters(): any {\r\n    const params = {};\r\n\r\n    if (window.location.search.length) {\r\n      const httpParams = new HttpParams({ fromString: window.location.search.substring(1) });\r\n      httpParams.keys().forEach(k => {\r\n        const value = httpParams.getAll(k) as string[];\r\n        if (value.length) {\r\n          Object.defineProperty(params, k.toLowerCase(), { value: value.length === 1 ? value[0] : value, enumerable: true, writable: true });\r\n        }\r\n      });\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  public static reduceObject(object: any): any {\r\n    const reduced: any = {};\r\n\r\n    Object.keys(object).forEach(key => {\r\n      if (isDefined(object[key])) {\r\n        if (isArray(object[key])) {\r\n          if (object[key].length) {\r\n            reduced[key] = object[key];\r\n          }\r\n        } else if ((object[key] + '').trim().length) {\r\n          reduced[key] = typeof object[key] === 'string' ? object[key].trim() : object[key];\r\n        }\r\n      }\r\n    });\r\n\r\n    return reduced;\r\n  }\r\n}\r\n","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/innerFrom';\nimport { noop } from '../util/noop';\nexport function takeUntil(notifier) {\n    return operate((source, subscriber) => {\n        innerFrom(notifier).subscribe(createOperatorSubscriber(subscriber, () => subscriber.complete(), noop));\n        !subscriber.closed && source.subscribe(subscriber);\n    });\n}\n"],"x_google_ignoreList":[9]}