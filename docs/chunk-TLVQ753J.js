import{q as p}from"./chunk-LZIMIDFQ.js";import{Z as a,ca as i,e as n,oa as o}from"./chunk-DDV7S3RG.js";var w=(()=>{class c{constructor(){this.httpClient=i(p),this.ngZone=i(o)}initialize(s){let e=new n,t=()=>{window.grecaptcha.enterprise.ready(()=>{this.ngZone.run(()=>{e.next(),e.complete()})})};if(this.reCaptchaSiteKey=s,document.querySelector(`script[src="https://www.google.com/recaptcha/enterprise.js?render=${this.reCaptchaSiteKey}"`))t();else{let r=document.createElement("script");r.src=`https://www.google.com/recaptcha/enterprise.js?render=${this.reCaptchaSiteKey}`,r.async=!0,r.defer=!0,r.onload=()=>{t()},document.body.appendChild(r)}return e}executeChallenge(s){this.ngZone.runOutsideAngular(()=>{window.grecaptcha.enterprise.reset(this.reCaptchaSiteKey)});let e=new n;return window.grecaptcha.enterprise.ready(()=>{try{window.grecaptcha.enterprise.execute(this.reCaptchaSiteKey,{action:s}).then(t=>{e.next(t),e.complete()}).catch(t=>{e.error(t),e.complete()})}catch(t){e.error(t),e.complete()}}),e.asObservable()}assessToken(s,e,t){let r={event:{token:e,expectedAction:t,siteKey:this.reCaptchaSiteKey}};return this.httpClient.post(`https://recaptchaenterprise.googleapis.com/v1/projects/test-3844b/assessments?key=${s}`,r)}static{this.\u0275fac=function(e){return new(e||c)}}static{this.\u0275prov=a({token:c,factory:c.\u0275fac})}}return c})();export{w as a};
//# sourceMappingURL=chunk-TLVQ753J.js.map
