{
  "version": 3,
  "sources": ["src/app/search/search.component.ts", "src/app/search/search.component.html"],
  "sourcesContent": ["import { Component, DestroyRef, OnInit, inject, viewChild } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormControl, FormGroup, ReactiveFormsModule } from '@angular/forms';\r\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\r\nimport { isDefined } from '@tylertech/forge-core';\r\nimport { AutocompleteFilterCallback, IOption } from '@tylertech/forge';\r\nimport {\r\n  PopoverDirective,\r\n  DialogService,\r\n  ToastService,\r\n  ForgeToolbarModule,\r\n  ForgeDividerModule,\r\n  ForgeButtonModule,\r\n  ForgeIconModule,\r\n  ForgeListModule,\r\n  ForgeListItemModule,\r\n  ForgeIconButtonModule,\r\n  ForgeAutocompleteModule,\r\n  ForgeTextFieldModule,\r\n  ForgeDatePickerModule,\r\n  ForgePopoverModule,\r\n  ForgeCheckboxProxyModule\r\n} from '@tylertech/forge-angular';\r\nimport { Observable, lastValueFrom, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { Utils } from 'src/utils';\r\nimport { AppDataService } from 'src/app/app-data.service';\r\nimport { ISearch } from 'src/app/shared/interfaces';\r\nimport { AutocompleteRangeComponent, FilterSaveDialogComponent, IFilterSaveDialogData } from 'src/app/shared/components';\r\nimport { CheckboxThreeStateDirective } from 'src/app/shared/directives';\r\n\r\n@Component({\r\n  selector: 'app-search',\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    ForgeAutocompleteModule,\r\n    ForgeButtonModule,\r\n    ForgeCheckboxProxyModule,\r\n    ForgeDatePickerModule,\r\n    ForgeDividerModule,\r\n    ForgeIconButtonModule,\r\n    ForgeIconModule,\r\n    ForgeListItemModule,\r\n    ForgeListModule,\r\n    ForgePopoverModule,\r\n    ForgeTextFieldModule,\r\n    ForgeToolbarModule,\r\n    AutocompleteRangeComponent,\r\n    CheckboxThreeStateDirective\r\n  ],\r\n  templateUrl: './search.component.html',\r\n  styleUrls: ['./search.component.scss']\r\n})\r\nexport class SearchComponent implements OnInit {\r\n  private destroyRef = inject(DestroyRef);\r\n  private dialogService = inject(DialogService);\r\n  private toastService = inject(ToastService);\r\n  private dataService = inject(AppDataService);\r\n\r\n  private readonly searchesPopover = viewChild<PopoverDirective>('searchesPopover');\r\n  private storageKey = 'search-searches';\r\n  private operatorPopover?: PopoverDirective;\r\n\r\n  public searchName?: string;\r\n  public searchDescription?: string;\r\n  // TODO consider moving to a cache service\r\n  public searchCache: { activeSearchId?: string; searches: ISearch[] } = {\r\n    activeSearchId: undefined,\r\n    searches: []\r\n  };\r\n  // TODO consider moving to a cache service\r\n  public formGroup = new FormGroup({\r\n    name: new FormGroup({\r\n      value: new FormControl(),\r\n      operator: new FormControl()\r\n    }),\r\n    dateOfBirth: new FormGroup({\r\n      value: new FormControl(),\r\n      operator: new FormControl()\r\n    }),\r\n    address: new FormGroup({\r\n      value: new FormControl(),\r\n      operator: new FormControl()\r\n    }),\r\n    include: new FormControl(),\r\n    facet: new FormControl()\r\n  });\r\n  public facetOptions: { label: string; value: number }[] = [];\r\n  public operatorOptions = [\r\n    { value: null, label: 'None' },\r\n    { value: 0, label: 'Equal' },\r\n    { value: 1, label: 'Not equal' },\r\n    { value: 2, label: 'Greater than' },\r\n    { value: 3, label: 'Less than' },\r\n    { value: 4, label: 'Greater than equal to' },\r\n    { value: 5, label: 'Less than equal to' },\r\n    { value: 6, label: 'Range' },\r\n    { value: 7, label: 'Contains' },\r\n    { value: 8, label: 'Not contains' },\r\n    { value: 9, label: 'Empty' }\r\n  ];\r\n  public operatorPopoverFormGroup?: FormGroup;\r\n  public nameFilter: AutocompleteFilterCallback = (filter: string) =>\r\n    lastValueFrom(\r\n      this.dataService.getPeople().pipe(\r\n        map((r) =>\r\n          r.data\r\n            .filter(\r\n              (p) => p.firstName.toLocaleLowerCase().includes(filter.toLocaleLowerCase()) || p.lastName.toLocaleLowerCase().includes(filter.toLocaleLowerCase())\r\n            )\r\n            .map((p) => ({\r\n              label: `${p.firstName} ${p.lastName}`,\r\n              value: p.id\r\n            }))\r\n        )\r\n      )\r\n    );\r\n  public facetFilter = (filter: string): Observable<IOption[]> => {\r\n    return of(this.facetOptions);\r\n  };\r\n\r\n  public ngOnInit() {\r\n    this.dataService\r\n      .getSearches(this.storageKey)\r\n      .pipe(takeUntilDestroyed(this.destroyRef))\r\n      .subscribe({\r\n        next: (result) => {\r\n          this.searchCache.searches = result || [];\r\n\r\n          const activeSearch = this.searchCache.searches.find((s) => s.id === this.searchCache.activeSearchId);\r\n          if (isDefined(activeSearch)) {\r\n            this.searchName = activeSearch?.name;\r\n            this.searchDescription = activeSearch?.description;\r\n            this.formGroup.patchValue(activeSearch?.filters);\r\n          }\r\n        }\r\n      });\r\n    for (let index = 0; index < 20; index++) {\r\n      this.facetOptions.push({ value: index, label: `Facet Option ${index}` });\r\n    }\r\n  }\r\n\r\n  public onSearch() {\r\n    // TODO implement search action\r\n  }\r\n\r\n  public onSaveSearch(search?: { id: number; name: string; description: string; isDefault: boolean; filters: { property: string; value: string }[] }) {\r\n    const activeSearch = isDefined(search) ? search : (this.searchCache.searches.find((s) => s.id === this.searchCache.activeSearchId) as ISearch);\r\n    const record: IFilterSaveDialogData = {\r\n      title: 'Save search',\r\n      name: activeSearch?.name,\r\n      description: activeSearch?.description,\r\n      isDefault: activeSearch?.isDefault\r\n    };\r\n\r\n    this.dialogService\r\n      .open(FilterSaveDialogComponent, {\r\n        data: record,\r\n        options: { persistent: true }\r\n      })\r\n      .afterClosed.subscribe({\r\n        next: (result) => {\r\n          if (result) {\r\n            if (isDefined(activeSearch)) {\r\n              const searchIndex = this.searchCache.searches.findIndex((s) => s.id === activeSearch.id);\r\n              if (searchIndex !== -1) {\r\n                this.searchCache.searches[searchIndex] = result;\r\n              }\r\n            } else {\r\n              const s: ISearch = {\r\n                ...result,\r\n                id: Utils.uniqueId(),\r\n                filters: this.formGroup.value\r\n              };\r\n            }\r\n            if (isDefined(result.id)) {\r\n              const searchIndex = this.searchCache.searches.findIndex((s) => s.id === result.id);\r\n              if (searchIndex !== -1) {\r\n                this.searchCache.searches[searchIndex] = result;\r\n              }\r\n            } else {\r\n              result.id = Utils.uniqueId();\r\n              this.searchCache.searches.push(result);\r\n            }\r\n\r\n            this.dataService.saveSearches(this.storageKey, this.searchCache.searches).subscribe({\r\n              next: () => {\r\n                this.searchCache.activeSearchId = result.id;\r\n                this.searchName = result.name;\r\n                this.searchDescription = result.description;\r\n                this.toastService.show({ message: 'Search saved', theme: 'success' });\r\n              },\r\n              error: () => this.toastService.show({ message: 'Search save failed', theme: 'error' })\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  public onClearSearch() {\r\n    this.formGroup.controls.include.setValue(null);\r\n    this.formGroup.reset();\r\n  }\r\n\r\n  public onSearchAction(event: CustomEvent, action: string, id: string) {\r\n    event.stopPropagation();\r\n    this.searchesPopover()?.close();\r\n\r\n    if (!isDefined(id)) {\r\n      this.searchCache.activeSearchId = undefined;\r\n      this.searchName = '';\r\n      this.searchDescription = '';\r\n      this.formGroup.reset();\r\n    } else {\r\n      const search = this.searchCache.searches.find((s) => s.id === id);\r\n      if (isDefined(search)) {\r\n        switch (action) {\r\n          case 'search':\r\n            this.searchCache.activeSearchId = search?.id;\r\n            this.searchName = search?.name;\r\n            this.searchDescription = search?.description;\r\n            this.formGroup.patchValue(search?.filters);\r\n            this.onSearch();\r\n            break;\r\n          case 'edit':\r\n            this.searchCache.activeSearchId = search?.id;\r\n            this.searchName = search?.name;\r\n            this.searchDescription = search?.description;\r\n            this.formGroup.patchValue(search?.filters);\r\n            break;\r\n          case 'copy': {\r\n            const copySearch = JSON.parse(JSON.stringify(search));\r\n            copySearch.id = undefined;\r\n            copySearch.name = `${copySearch.name} copy`;\r\n            copySearch.isDefault = false;\r\n            this.onSaveSearch(copySearch);\r\n            break;\r\n          }\r\n          case 'delete': {\r\n            const searchIndex = this.searchCache.searches.findIndex((s) => s.id === search?.id);\r\n            if (searchIndex !== -1) {\r\n              this.searchCache.searches.splice(searchIndex, 1);\r\n              this.dataService.saveSearches(this.storageKey, this.searchCache.searches).subscribe({ next: (result) => {} });\r\n            }\r\n\r\n            if (this.searchCache.activeSearchId === search?.id) {\r\n              this.searchCache.activeSearchId = undefined;\r\n              this.searchName = '';\r\n              this.searchDescription = '';\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public onOperatorPopoverOpen(event: Event, popover: PopoverDirective, name: string) {\r\n    event.stopPropagation();\r\n    this.operatorPopoverFormGroup = this.formGroup.get(name) as FormGroup;\r\n    this.operatorPopover = popover;\r\n    this.operatorPopover.open();\r\n  }\r\n\r\n  public onOperatorSelected(value: string | number) {\r\n    value = parseInt(value as string, 10);\r\n    this.operatorPopoverFormGroup?.get('operator')?.setValue(value);\r\n    this.operatorPopover?.close();\r\n  }\r\n}\r\n", "<forge-toolbar class=\"header\">\r\n  <div slot=\"start\">\r\n    <h2 class=\"forge-typography--subheading4\">Search</h2>\r\n    @if (searchCache.activeSearchId) {\r\n      <forge-divider vertical></forge-divider>\r\n      <span class=\"forge-typography--heading2\">{{ searchName }}</span>\r\n      <span class=\"forge-typography--subheading1\">{{ searchDescription }}</span>\r\n    }\r\n  </div>\r\n  <div slot=\"end\">\r\n    <forge-button variant=\"outlined\" (click)=\"onSaveSearch()\">Save search</forge-button>\r\n    <forge-button variant=\"outlined\" #searchesPopover=\"forgePopover\" [forgePopover]=\"searchesPopoverTemplate\" [forgePopoverPlacement]=\"'bottom-start'\" (click)=\"searchesPopover.open()\">\r\n      <span>Saved searches</span>\r\n      <forge-icon name=\"arrow_drop_down\"></forge-icon>\r\n    </forge-button>\r\n    <forge-button variant=\"outlined\" (click)=\"onClearSearch()\">Clear all</forge-button>\r\n    <forge-button variant=\"filled\" (click)=\"onSearch()\">Search</forge-button>\r\n  </div>\r\n</forge-toolbar>\r\n\r\n<ng-template #searchesPopoverTemplate>\r\n  <forge-list class=\"searches-popover\" (forge-list-item-select)=\"onSearchAction($event, 'search', $any($event.detail.value))\">\r\n    <forge-list-item>\r\n      <button type=\"button\">Add new search</button>\r\n    </forge-list-item>\r\n    <forge-divider></forge-divider>\r\n    @for (search of searchCache.searches; track search.id) {\r\n      <forge-list-item [value]=\"search.id\">\r\n        <button type=\"button\">{{ search.name }}</button>\r\n        <div slot=\"end\">\r\n          <forge-icon-button (mousedown)=\"onSearchAction($any($event), 'edit', search.id)\" aria-label=\"Edit\">\r\n            <forge-icon name=\"edit\"></forge-icon>\r\n          </forge-icon-button>\r\n          <forge-icon-button (mousedown)=\"onSearchAction($any($event), 'delete', search.id)\" aria-label=\"Delete\">\r\n            <forge-icon name=\"delete\"></forge-icon>\r\n          </forge-icon-button>\r\n        </div>\r\n      </forge-list-item>\r\n    }\r\n  </forge-list>\r\n</ng-template>\r\n\r\n<div class=\"body\">\r\n  <form novalidate autocomplete=\"off\" [formGroup]=\"formGroup\" class=\"form\" (ngSubmit)=\"onSearch()\">\r\n    <ng-container formGroupName=\"name\">\r\n      <forge-autocomplete multiple=\"true\" formControlName=\"value\" [filter]=\"nameFilter\" allow-unmatched=\"true\">\r\n        <forge-text-field>\r\n          <label slot=\"label\" for=\"search--name\">Name</label>\r\n          <input type=\"text\" id=\"search--name\" />\r\n          <forge-icon slot=\"end\" class=\"forge-dropdown-icon\" name=\"arrow_drop_down\"></forge-icon>\r\n          <ng-container *ngTemplateOutlet=\"opertatorAddonTemplate; context: { name: 'name' }\"></ng-container>\r\n        </forge-text-field>\r\n      </forge-autocomplete>\r\n    </ng-container>\r\n\r\n    <ng-container formGroupName=\"dateOfBirth\">\r\n      <forge-date-picker formControlName=\"value\">\r\n        <forge-text-field>\r\n          <label slot=\"label\" for=\"search--date-of-birth\">Date of birth</label>\r\n          <input type=\"text\" id=\"search--date-of-birth\" />\r\n          <ng-container *ngTemplateOutlet=\"opertatorAddonTemplate; context: { name: 'dateOfBirth' }\"></ng-container>\r\n        </forge-text-field>\r\n      </forge-date-picker>\r\n    </ng-container>\r\n\r\n    <ng-container formGroupName=\"address\">\r\n      <forge-text-field>\r\n        <label slot=\"label\" for=\"search--address\">Address</label>\r\n        <input type=\"text\" id=\"search--address\" formControlName=\"value\" />\r\n        <ng-container *ngTemplateOutlet=\"opertatorAddonTemplate; context: { name: 'address' }\"></ng-container>\r\n      </forge-text-field>\r\n    </ng-container>\r\n\r\n    <app-autocomplete-range [optionFilter]=\"facetFilter\" formControlName=\"facet\" label=\"Facet\"></app-autocomplete-range>\r\n\r\n    <forge-checkbox threeState=\"true\" formControlName=\"include\" style=\"align-self: flex-end\">Include</forge-checkbox>\r\n  </form>\r\n\r\n  <p>{{ formGroup.getRawValue() | json }}</p>\r\n</div>\r\n\r\n<ng-template #opertatorAddonTemplate let-name=\"name\">\r\n  <forge-icon-button\r\n    slot=\"addon-end\"\r\n    density=\"medium\"\r\n    class=\"operator__addon\"\r\n    [ngClass]=\"{\r\n      'operator__addon--selected': formGroup.get(name)?.value.operator\r\n    }\"\r\n    #operatorPopover=\"forgePopover\"\r\n    [forgePopover]=\"operatorPopoverTemplate\"\r\n    (click)=\"onOperatorPopoverOpen($event, operatorPopover, name)\"\r\n    aria-label=\"Filter operator\"\r\n  >\r\n    <forge-icon name=\"bolt\"></forge-icon>\r\n  </forge-icon-button>\r\n</ng-template>\r\n\r\n<ng-template #operatorPopoverTemplate>\r\n  <forge-list class=\"operator-popover\" (forge-list-item-select)=\"onOperatorSelected($any($event.detail.value))\">\r\n    @for (option of operatorOptions; track i; let i = $index) {\r\n      <forge-list-item [value]=\"option.value\" [selected]=\"operatorPopoverFormGroup?.value.operator === option.value\">\r\n        <button type=\"button\">{{ option.label }}</button>\r\n        @if (operatorPopoverFormGroup?.value.operator === option.value) {\r\n          <forge-icon name=\"check\" slot=\"end\"></forge-icon>\r\n        }\r\n      </forge-list-item>\r\n    }\r\n  </forge-list>\r\n</ng-template>\r\n"],
  "mappings": "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",
  "names": ["\u0275\u0275element", "\u0275\u0275elementStart", "\u0275\u0275text", "\u0275\u0275elementEnd", "\u0275\u0275advance", "\u0275\u0275textInterpolate", "ctx_r1", "searchName", "searchDescription", "\u0275\u0275listener", "$event", "search_r6", "\u0275\u0275restoreView", "_r5", "$implicit", "\u0275\u0275nextContext", "\u0275\u0275resetView", "onSearchAction", "id", "\u0275\u0275property", "name", "_r4", "detail", "value", "\u0275\u0275repeaterCreate", "SearchComponent_ng_template_17_For_6_Template", "_forTrack0", "\u0275\u0275repeater", "searchCache", "searches", "\u0275\u0275elementContainer", "name_r8", "_r7", "operatorPopover_r9", "\u0275\u0275reference", "onOperatorPopoverOpen", "\u0275\u0275pureFunction1", "_c4", "tmp_7_0", "formGroup", "get", "operator", "operatorPopoverTemplate_r10", "\u0275\u0275conditionalCreate", "SearchComponent_ng_template_50_For_2_Conditional_3_Template", "option_r12", "operatorPopoverFormGroup", "label", "\u0275\u0275conditional", "_r11", "onOperatorSelected", "SearchComponent_ng_template_50_For_2_Template", "\u0275\u0275repeaterTrackByIndex", "operatorOptions", "SearchComponent", "constructor", "destroyRef", "inject", "DestroyRef", "dialogService", "DialogService", "toastService", "ToastService", "dataService", "AppDataService", "searchesPopover", "viewChild", "storageKey", "activeSearchId", "undefined", "FormGroup", "FormControl", "dateOfBirth", "address", "include", "facet", "facetOptions", "nameFilter", "filter", "lastValueFrom", "getPeople", "pipe", "map", "r", "data", "p", "firstName", "toLocaleLowerCase", "includes", "lastName", "facetFilter", "of", "ngOnInit", "getSearches", "takeUntilDestroyed", "subscribe", "next", "result", "activeSearch", "find", "s", "isDefined", "description", "patchValue", "filters", "index", "push", "onSearch", "onSaveSearch", "search", "record", "title", "isDefault", "open", "FilterSaveDialogComponent", "options", "persistent", "afterClosed", "searchIndex", "findIndex", "__spreadProps", "__spreadValues", "Utils", "uniqueId", "saveSearches", "show", "message", "theme", "error", "onClearSearch", "controls", "setValue", "reset", "event", "action", "stopPropagation", "close", "copySearch", "JSON", "parse", "stringify", "splice", "popover", "operatorPopover", "parseInt", "selectors", "viewQuery", "rf", "ctx", "SearchComponent_Conditional_4_Template", "i0", "_r1", "searchesPopover_r3", "\u0275\u0275template", "SearchComponent_ng_template_17_Template", "\u0275\u0275templateRefExtractor", "\u0275\u0275elementContainerStart", "SearchComponent_ng_container_28_Template", "SearchComponent_ng_container_35_Template", "SearchComponent_ng_container_41_Template", "SearchComponent_ng_template_48_Template", "SearchComponent_ng_template_50_Template", "searchesPopoverTemplate_r13", "opertatorAddonTemplate_r14", "\u0275\u0275pureFunction0", "_c1", "_c2", "_c3", "\u0275\u0275pipeBind1", "getRawValue", "CommonModule", "NgClass", "NgTemplateOutlet", "ReactiveFormsModule", "\u0275NgNoValidate", "DefaultValueAccessor", "NgControlStatus", "NgControlStatusGroup", "FormGroupDirective", "FormControlName", "FormGroupName", "ForgeAutocompleteModule", "AutocompleteValueAccessor", "AutocompleteComponent", "ForgeButtonModule", "ButtonComponent", "ForgeCheckboxProxyModule", "CheckboxComponent", "ForgeDatePickerModule", "DatePickerValueAccessor", "DatePickerComponent", "ForgeDividerModule", "DividerComponent", "ForgeIconButtonModule", "IconButtonComponent", "IconComponent", "ForgeIconModule", "ForgeListItemModule", "ListItemComponent", "ForgeListModule", "ListComponent", "ForgePopoverModule", "PopoverDirective", "ForgeTextFieldModule", "TextFieldComponent", "ForgeToolbarModule", "ToolbarComponent", "AutocompleteRangeComponent", "CheckboxThreeStateDirective", "JsonPipe", "styles"]
}
