"use strict";(self.webpackChunkdemo_ng_forge=self.webpackChunkdemo_ng_forge||[]).push([[921],{16095:(Se,be,Y)=>{Y.d(be,{J:()=>le});var H,ge,ce,le={};H={get exports(){return le},set exports(ce){le=ce}},void 0!==(ce=function(){function q(n){this.message="JPEG error: "+n}return(q.prototype=new Error).name="JpegError",q.constructor=q,q}(),ge=function(){if(!self||!self.Uint8ClampedArray)return null;var q=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),n=4017,Q=799,se=3406,I=2276,K=1567,V=3784,W=5793,ne=2896;function U(){this.decodeTransform=null,this.colorTransform=-1}function fe(c,e){for(var o,i,t=0,r=[],a=16;a>0&&!c[a-1];)a--;r.push({children:[],index:0});var _,s=r[0];for(o=0;o<a;o++){for(i=0;i<c[o];i++){for((s=r.pop()).children[s.index]=e[t];s.index>0;)s=r.pop();for(s.index++,r.push(s);r.length<=o;)r.push(_={children:[],index:0}),s.children[s.index]=_.children,s=_;t++}o+1<a&&(r.push(_={children:[],index:0}),s.children[s.index]=_.children,s=_)}return r[0].children}function x(c,e,o){return 64*((c.blocksPerLine+1)*e+o)}function A(c,e,o,i,t,r,a,_,s){var p=o.mcusPerLine,B=e,F=0,G=0;function w(){if(G>0)return G--,F>>G&1;if(255===(F=c[e++])){var R=c[e++];if(R)throw new ce("unexpected marker "+(F<<8|R).toString(16))}return G=7,F>>>7}function P(R){for(var j=R;;){if("number"==typeof(j=j[w()]))return j;if("object"!=typeof j)throw new ce("invalid huffman sequence")}}function b(R){for(var j=0;R>0;)j=j<<1|w(),R--;return j}function v(R){if(1===R)return 1===w()?1:-1;var j=b(R);return j>=1<<R-1?j:j+(-1<<R)+1}var Z,S=0,X=0;function f(R,j,ee,de,ue){j(R,x(R,(ee/p|0)*R.v+de,ee%p*R.h+ue))}var d,y,D,C,E,O,z=i.length;O=o.progressive?0===r?0===_?function k(R,j){var ee=P(R.huffmanTableDC),de=0===ee?0:v(ee)<<s;R.blockData[j]=R.pred+=de}:function u(R,j){R.blockData[j]|=w()<<s}:0===_?function L(R,j){if(S>0)S--;else for(var ee=r,de=a;ee<=de;){var ue=P(R.huffmanTableAC),ye=15&ue,he=ue>>4;if(0!==ye){var Ce=q[ee+=he];R.blockData[j+Ce]=v(ye)*(1<<s),ee++}else{if(he<15){S=b(he)+(1<<he)-1;break}ee+=16}}}:function g(R,j){for(var ee,de,ue=r,ye=a,he=0;ue<=ye;){var Ce=q[ue];switch(X){case 0:if(he=(de=P(R.huffmanTableAC))>>4,0==(ee=15&de))he<15?(S=b(he)+(1<<he),X=4):(he=16,X=1);else{if(1!==ee)throw new ce("invalid ACn encoding");Z=v(ee),X=he?2:3}continue;case 1:case 2:R.blockData[j+Ce]?R.blockData[j+Ce]+=w()<<s:0==--he&&(X=2===X?3:0);break;case 3:R.blockData[j+Ce]?R.blockData[j+Ce]+=w()<<s:(R.blockData[j+Ce]=Z<<s,X=0);break;case 4:R.blockData[j+Ce]&&(R.blockData[j+Ce]+=w()<<s)}ue++}4===X&&0==--S&&(X=0)}:function N(R,j){var ee=P(R.huffmanTableDC),de=0===ee?0:v(ee);R.blockData[j]=R.pred+=de;for(var ue=1;ue<64;){var ye=P(R.huffmanTableAC),he=15&ye,Ce=ye>>4;if(0!==he){var _e=q[ue+=Ce];R.blockData[j+_e]=v(he),ue++}else{if(Ce<15)break;ue+=16}}};var M,ie,pe,re,R,ee,$=0;for(ie=1===z?i[0].blocksPerLine*i[0].blocksPerColumn:p*o.mcusPerColumn;$<ie;){var oe=t?Math.min(ie-$,t):ie;for(y=0;y<z;y++)i[y].pred=0;if(S=0,1===z)for(d=i[0],E=0;E<oe;E++)O(R=d,x(R,(ee=$)/R.blocksPerLine|0,ee%R.blocksPerLine)),$++;else for(E=0;E<oe;E++){for(y=0;y<z;y++)for(pe=(d=i[y]).h,re=d.v,D=0;D<re;D++)for(C=0;C<pe;C++)f(d,O,$,D,C);$++}G=0,(M=m(c,e))&&M.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+M.invalid),e=M.offset);var te=M&&M.marker;if(!te||te<=65280)throw new ce("marker was not found");if(!(te>=65488&&te<=65495))break;e+=2}return(M=m(c,e))&&M.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+M.invalid),e=M.offset),e-B}function J(c,e,o){var i,t,r,a,_,s,p,T,B,F,G,w,P,b,v,N,k,u=c.quantizationTable,S=c.blockData;if(!u)throw new ce("missing required Quantization Table.");for(var L=0;L<64;L+=8)B=S[e+L],B*=u[L],(F=S[e+L+1])|(G=S[e+L+2])|(w=S[e+L+3])|(P=S[e+L+4])|(b=S[e+L+5])|(v=S[e+L+6])|(N=S[e+L+7])?(t=(i=(i=W*B+128>>8)+(t=W*(P*=u[L+4])+128>>8)+1>>1)-t,k=(r=G*=u[L+2])*V+(a=v*=u[L+6])*K+128>>8,r=r*K-a*V+128>>8,p=(_=(_=ne*((F*=u[L+1])-(N*=u[L+7]))+128>>8)+(p=(b*=u[L+5])<<4)+1>>1)-p,s=(T=(T=ne*(F+N)+128>>8)+(s=(w*=u[L+3])<<4)+1>>1)-s,a=(i=i+(a=k)+1>>1)-a,r=(t=t+r+1>>1)-r,k=_*I+T*se+2048>>12,_=_*se-T*I+2048>>12,T=k,k=s*Q+p*n+2048>>12,s=s*n-p*Q+2048>>12,p=k,o[L]=i+T,o[L+7]=i-T,o[L+1]=t+p,o[L+6]=t-p,o[L+2]=r+s,o[L+5]=r-s,o[L+3]=a+_,o[L+4]=a-_):(o[L]=k=W*B+512>>10,o[L+1]=k,o[L+2]=k,o[L+3]=k,o[L+4]=k,o[L+5]=k,o[L+6]=k,o[L+7]=k);for(var Z=0;Z<8;++Z)B=o[Z],(F=o[Z+8])|(G=o[Z+16])|(w=o[Z+24])|(P=o[Z+32])|(b=o[Z+40])|(v=o[Z+48])|(N=o[Z+56])?(t=(i=4112+((i=W*B+2048>>12)+(t=W*P+2048>>12)+1>>1))-t,k=(r=G)*V+(a=v)*K+2048>>12,r=r*K-a*V+2048>>12,a=k,p=(_=(_=ne*(F-N)+2048>>12)+(p=b)+1>>1)-p,s=(T=(T=ne*(F+N)+2048>>12)+(s=w)+1>>1)-s,k=_*I+T*se+2048>>12,_=_*se-T*I+2048>>12,T=k,k=s*Q+p*n+2048>>12,s=s*n-p*Q+2048>>12,B=(B=(i=i+a+1>>1)+T)<16?0:B>=4080?255:B>>4,F=(F=(t=t+r+1>>1)+(p=k))<16?0:F>=4080?255:F>>4,G=(G=(r=t-r)+s)<16?0:G>=4080?255:G>>4,w=(w=(a=i-a)+_)<16?0:w>=4080?255:w>>4,P=(P=a-_)<16?0:P>=4080?255:P>>4,b=(b=r-s)<16?0:b>=4080?255:b>>4,v=(v=t-p)<16?0:v>=4080?255:v>>4,N=(N=i-T)<16?0:N>=4080?255:N>>4,S[e+Z]=B,S[e+Z+8]=F,S[e+Z+16]=G,S[e+Z+24]=w,S[e+Z+32]=P,S[e+Z+40]=b,S[e+Z+48]=v,S[e+Z+56]=N):(k=(k=W*B+8192>>14)<-2040?0:k>=2024?255:k+2056>>4,S[e+Z]=k,S[e+Z+8]=k,S[e+Z+16]=k,S[e+Z+24]=k,S[e+Z+32]=k,S[e+Z+40]=k,S[e+Z+48]=k,S[e+Z+56]=k)}function l(c,e){for(var o=e.blocksPerLine,i=e.blocksPerColumn,t=new Int16Array(64),r=0;r<i;r++)for(var a=0;a<o;a++)J(e,x(e,r,a),t);return e.blockData}function m(c,e,o){function i(s){return c[s]<<8|c[s+1]}var t=c.length-1,r=o<e?o:e;if(e>=t)return null;var a=i(e);if(a>=65472&&a<=65534)return{invalid:null,marker:a,offset:e};for(var _=i(r);!(_>=65472&&_<=65534);){if(++r>=t)return null;_=i(r)}return{invalid:a.toString(16),marker:_,offset:r}}return U.prototype={parse:function(c){function e(){var R=c[a]<<8|c[a+1];return a+=2,R}function o(){var R=e(),j=a+R-2,ee=m(c,j,a);ee&&ee.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+ee.invalid),j=ee.offset);var de=c.subarray(a,j);return a+=de.length,de}function i(R){for(var j=Math.ceil(R.samplesPerLine/8/R.maxH),ee=Math.ceil(R.scanLines/8/R.maxV),de=0;de<R.components.length;de++){E=R.components[de];var ue=Math.ceil(Math.ceil(R.samplesPerLine/8)*E.h/R.maxH),ye=Math.ceil(Math.ceil(R.scanLines/8)*E.v/R.maxV);E.blockData=new Int16Array(ee*E.v*64*(j*E.h+1)),E.blocksPerLine=ue,E.blocksPerColumn=ye}R.mcusPerLine=j,R.mcusPerColumn=ee}var t,r,a=0,_=null,s=null,p=[],T=[],B=[],F=e();if(65496!==F)throw new ce("SOI not found");for(F=e();65497!==F;){var G,w,P;switch(F){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var b=o();65504===F&&74===b[0]&&70===b[1]&&73===b[2]&&70===b[3]&&0===b[4]&&(_={version:{major:b[5],minor:b[6]},densityUnits:b[7],xDensity:b[8]<<8|b[9],yDensity:b[10]<<8|b[11],thumbWidth:b[12],thumbHeight:b[13],thumbData:b.subarray(14,14+3*b[12]*b[13])}),65518===F&&65===b[0]&&100===b[1]&&111===b[2]&&98===b[3]&&101===b[4]&&(s={version:b[5]<<8|b[6],flags0:b[7]<<8|b[8],flags1:b[9]<<8|b[10],transformCode:b[11]});break;case 65499:for(var v=e()+a-2;a<v;){var N=c[a++],k=new Uint16Array(64);if(N>>4){if(N>>4!=1)throw new ce("DQT - invalid table spec");for(w=0;w<64;w++)k[q[w]]=e()}else for(w=0;w<64;w++)k[q[w]]=c[a++];p[15&N]=k}break;case 65472:case 65473:case 65474:if(t)throw new ce("Only single frame JPEGs supported");e(),(t={}).extended=65473===F,t.progressive=65474===F,t.precision=c[a++],t.scanLines=e(),t.samplesPerLine=e(),t.components=[],t.componentIds={};var u,S=c[a++],L=0,Z=0;for(G=0;G<S;G++){u=c[a];var X=c[a+1]>>4,g=15&c[a+1];L<X&&(L=X),Z<g&&(Z=g),P=t.components.push({h:X,v:g,quantizationId:c[a+2],quantizationTable:null}),t.componentIds[u]=P-1,a+=3}t.maxH=L,t.maxV=Z,i(t);break;case 65476:var h=e();for(G=2;G<h;){var d=c[a++],y=new Uint8Array(16),D=0;for(w=0;w<16;w++,a++)D+=y[w]=c[a];var C=new Uint8Array(D);for(w=0;w<D;w++,a++)C[w]=c[a];G+=17+D,(d>>4?T:B)[15&d]=fe(y,C)}break;case 65501:e(),r=e();break;case 65498:e();var E,O=c[a++],z=[];for(G=0;G<O;G++){var M=t.componentIds[c[a++]],ie=c[a++];(E=t.components[M]).huffmanTableDC=B[ie>>4],E.huffmanTableAC=T[15&ie],z.push(E)}var pe=c[a++],re=c[a++],$=c[a++],oe=A(c,a,t,z,r,pe,re,$>>4,15&$);a+=oe;break;case 65535:255!==c[a]&&a--;break;default:if(255===c[a-3]&&c[a-2]>=192&&c[a-2]<=254){a-=3;break}throw new ce("unknown marker "+F.toString(16))}F=e()}for(this.width=t.samplesPerLine,this.height=t.scanLines,this.jfif=_,this.eof=a,this.adobe=s,this.components=[],G=0;G<t.components.length;G++){var te=p[(E=t.components[G]).quantizationId];te&&(E.quantizationTable=te),this.components.push({output:l(0,E),scaleX:E.h/t.maxH,scaleY:E.v/t.maxV,blocksPerLine:E.blocksPerLine,blocksPerColumn:E.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(c,e){var o,i,t,r,a,_,s,p,T,B,F,G=this.width/c,w=this.height/e,P=0,b=this.components.length,v=c*e*b,N=new Uint8ClampedArray(v),k=new Uint32Array(c),u=4294967288;for(s=0;s<b;s++){for(i=(o=this.components[s]).scaleX*G,t=o.scaleY*w,P=s,F=o.output,r=o.blocksPerLine+1<<3,a=0;a<c;a++)k[a]=((p=0|a*i)&u)<<3|7&p;for(_=0;_<e;_++)for(B=r*((p=0|_*t)&u)|(7&p)<<3,a=0;a<c;a++)N[P]=F[B+k[a]],P+=b}var S=this.decodeTransform;if(S)for(s=0;s<v;)for(p=0,T=0;p<b;p++,s++,T+=2)N[s]=(N[s]*S[T]>>8)+S[T+1];return N},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(c){for(var e,o,i,t=0,r=c.length;t<r;t+=3)o=c[t+1],c[t]=(e=c[t])-179.456+1.402*(i=c[t+2]),c[t+1]=e+135.459-.344*o-.714*i,c[t+2]=e-226.816+1.772*o;return c},_convertYcckToRgb:function(c){for(var e,o,i,t,r=0,a=0,_=c.length;a<_;a+=4)c[r++]=(o=c[a+1])*(-660635669420364e-19*o+.000437130475926232*(i=c[a+2])-54080610064599e-18*(e=c[a])+.00048449797120281*(t=c[a+3])-.154362151871126)-122.67195406894+i*(-.000957964378445773*i+.000817076911346625*e-.00477271405408747*t+1.53380253221734)+e*(.000961250184130688*e-.00266257332283933*t+.48357088451265)+t*(-.000336197177618394*t+.484791561490776),c[r++]=107.268039397724+o*(219927104525741e-19*o-.000640992018297945*i+.000659397001245577*e+.000426105652938837*t-.176491792462875)+i*(-.000778269941513683*i+.00130872261408275*e+.000770482631801132*t-.151051492775562)+e*(.00126935368114843*e-.00265090189010898*t+.25802910206845)+t*(-.000318913117588328*t-.213742400323665),c[r++]=o*(-.000570115196973677*o-263409051004589e-19*i+.0020741088115012*e-.00288260236853442*t+.814272968359295)-20.810012546947+i*(-153496057440975e-19*i-.000132689043961446*e+.000560833691242812*t-.195152027534049)+e*(.00174418132927582*e-.00255243321439347*t+.116935020465145)+t*(-.000343531996510555*t+.24165260232407);return c},_convertYcckToCmyk:function(c){for(var e,o,i,t=0,r=c.length;t<r;t+=4)o=c[t+1],c[t]=434.456-(e=c[t])-1.402*(i=c[t+2]),c[t+1]=119.541-e+.344*o+.714*i,c[t+2]=481.816-e-1.772*o;return c},_convertCmykToRgb:function(c){for(var e,o,i,t,r=0,a=1/255,_=0,s=c.length;_<s;_+=4)c[r++]=255+(e=c[_]*a)*(-4.387332384609988*e+54.48615194189176*(o=c[_+1]*a)+18.82290502165302*(i=c[_+2]*a)+212.25662451639585*(t=c[_+3]*a)-285.2331026137004)+o*(1.7149763477362134*o-5.6096736904047315*i-17.873870861415444*t-5.497006427196366)+i*(-2.5217340131683033*i-21.248923337353073*t+17.5119270841813)-t*(21.86122147463605*t+189.48180835922747),c[r++]=255+e*(8.841041422036149*e+60.118027045597366*o+6.871425592049007*i+31.159100130055922*t-79.2970844816548)+o*(-15.310361306967817*o+17.575251261109482*i+131.35250912493976*t-190.9453302588951)+i*(4.444339102852739*i+9.8632861493405*t-24.86741582555878)-t*(20.737325471181034*t+187.80453709719578),c[r++]=255+e*(.8842522430003296*e+8.078677503112928*o+30.89978309703729*i-.23883238689178934*t-14.183576799673286)+o*(10.49593273432072*o+63.02378494754052*i+50.606957656360734*t-112.23884253719248)+i*(.03296041114873217*i+115.60384449646641*t-193.58209356861505)-t*(22.33816807309886*t+180.12613974708367);return c},getData:function(c,e,o){if(this.numComponents>4)throw new ce("Unsupported color mode");var i=this._getLinearizedBlockData(c,e);if(1===this.numComponents&&o){for(var t=i.length,r=new Uint8ClampedArray(3*t),a=0,_=0;_<t;_++){var s=i[_];r[a++]=s,r[a++]=s,r[a++]=s}return r}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(i);if(4===this.numComponents){if(this._isColorConversionNeeded())return o?this._convertYcckToRgb(i):this._convertYcckToCmyk(i);if(o)return this._convertCmykToRgb(i)}return i}},U}())&&(H.exports=ge)},78902:(Se,be,Y)=>{Y.d(be,{Z:()=>le});var H,me,ge,le={};me={get exports(){return le},set exports(ce){le=ce}},H=function(){function ce(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return ce.prototype={ensureBuffer:function(q){var n=this.buffer,Q=n?n.byteLength:0;if(q<Q)return n;for(var se=512;se<q;)se<<=1;for(var I=new Uint8Array(se),K=0;K<Q;++K)I[K]=n[K];return this.buffer=I},getByte:function(){for(var q=this.pos;this.bufferLength<=q;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(q){var n=this.pos;if(q){this.ensureBuffer(n+q);for(var Q=n+q;!this.eof&&this.bufferLength<Q;)this.readBlock();var se=this.bufferLength;Q>se&&(Q=se)}else{for(;!this.eof;)this.readBlock();Q=this.bufferLength}return this.pos=Q,this.buffer.subarray(n,Q)},lookChar:function(){for(var q=this.pos;this.bufferLength<=q;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var q=this.pos;this.bufferLength<=q;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(q,n,Q){for(var se=q+n;this.bufferLength<=se&&!this.eof;)this.readBlock();return new Stream(this.buffer,q,n,Q)},skip:function(q){q||(q=1),this.pos+=q},reset:function(){this.pos=0}},ce}(),void 0!==(ge=function(){if(!self||!self.Uint32Array)return null;var ce=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),q=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),n=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Q=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],se=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function I(V){throw new Error(V)}function K(V){var W=0,ne=V[W++],U=V[W++];-1!=ne&&-1!=U||I("Invalid header in flate stream"),8!=(15&ne)&&I("Unknown compression method in flate stream"),((ne<<8)+U)%31!=0&&I("Bad FCHECK in flate stream"),32&U&&I("FDICT bit set in flate stream"),this.bytes=V,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,H.call(this)}return(K.prototype=Object.create(H.prototype)).getBits=function(V){for(var W,ne=this.codeSize,U=this.codeBuf,fe=this.bytes,x=this.bytesPos;ne<V;)void 0===(W=fe[x++])&&I("Bad encoding in flate stream"),U|=W<<ne,ne+=8;return W=U&(1<<V)-1,this.codeBuf=U>>V,this.codeSize=ne-=V,this.bytesPos=x,W},K.prototype.getCode=function(V){for(var W=V[0],ne=V[1],U=this.codeSize,fe=this.codeBuf,x=this.bytes,A=this.bytesPos;U<ne;){var J;void 0===(J=x[A++])&&I("Bad encoding in flate stream"),fe|=J<<U,U+=8}var l=W[fe&(1<<ne)-1],m=l>>16,c=65535&l;return(0==U||U<m||0==m)&&I("Bad encoding in flate stream"),this.codeBuf=fe>>m,this.codeSize=U-m,this.bytesPos=A,c},K.prototype.generateHuffmanTable=function(V){for(var W=V.length,ne=0,U=0;U<W;++U)V[U]>ne&&(ne=V[U]);for(var fe=1<<ne,x=new Uint32Array(fe),A=1,J=0,l=2;A<=ne;++A,J<<=1,l<<=1)for(var m=0;m<W;++m)if(V[m]==A){var c=0,e=J;for(U=0;U<A;++U)c=c<<1|1&e,e>>=1;for(U=c;U<fe;U+=l)x[U]=A<<16|m;++J}return[x,ne]},K.prototype.readBlock=function(){function V(k,u,S,L,Z){for(var X=k.getBits(S)+L;X-- >0;)u[l++]=Z}var W=this.getBits(3);if(1&W&&(this.eof=!0),0!=(W>>=1)){var ne,U;if(1==W)ne=Q,U=se;else if(2==W){for(var fe=this.getBits(5)+257,x=this.getBits(5)+1,A=this.getBits(4)+4,J=Array(ce.length),l=0;l<A;)J[ce[l++]]=this.getBits(3);for(var m=this.generateHuffmanTable(J),c=0,e=(l=0,fe+x),o=new Array(e);l<e;){var i=this.getCode(m);16==i?V(this,o,2,3,c):17==i?V(this,o,3,3,c=0):18==i?V(this,o,7,11,c=0):o[l++]=c=i}ne=this.generateHuffmanTable(o.slice(0,fe)),U=this.generateHuffmanTable(o.slice(fe,e))}else I("Unknown block type in flate stream");for(var t=(b=this.buffer)?b.length:0,r=this.bufferLength;;){var a=this.getCode(ne);if(a<256)r+1>=t&&(t=(b=this.ensureBuffer(r+1)).length),b[r++]=a;else{if(256==a)return void(this.bufferLength=r);var _=(a=q[a-=257])>>16;_>0&&(_=this.getBits(_)),c=(65535&a)+_,a=this.getCode(U),(_=(a=n[a])>>16)>0&&(_=this.getBits(_));var s=(65535&a)+_;r+c>=t&&(t=(b=this.ensureBuffer(r+c)).length);for(var p=0;p<c;++p,++r)b[r]=b[r-s]}}}else{var T,B=this.bytes,F=this.bytesPos;void 0===(T=B[F++])&&I("Bad block header in flate stream");var G=T;void 0===(T=B[F++])&&I("Bad block header in flate stream"),G|=T<<8,void 0===(T=B[F++])&&I("Bad block header in flate stream");var w=T;void 0===(T=B[F++])&&I("Bad block header in flate stream"),(w|=T<<8)!=(65535&~G)&&I("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var P=this.bufferLength,b=this.ensureBuffer(P+G),v=P+G;this.bufferLength=v;for(var N=P;N<v;++N){if(void 0===(T=B[F++])){this.eof=!0;break}b[N]=T}this.bytesPos=F}},K}())&&(me.exports=ge)},14385:(Se,be,Y)=>{Y.d(be,{Z:()=>V});var I,H=Y(18100),me=Y(44480),ge=Y(88684),le=Y(53661),ae=Y(9497),q=(Y(83382),Y(20891)),n=Y(10465),Q=Y(68230),se=Y(1137);let K=I=class extends me.wq{constructor(W){super(W),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get dataType(){const W=this.keyProperties?.DataType?.toLowerCase()??"generic";return"stdtime"===W?"standard-time":W}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(W){W&&this._set("nativeExtent",W)}get nativePixelSize(){if((0,le.Wi)(this.transform)||!this.transform.affectsPixelSize)return this.pixelSize;const W=this.nativeExtent;return{x:W.width/this.width,y:W.height/this.height}}get hasMultidimensionalTranspose(){return!!this.storageInfo?.transposeInfo}clone(){return new I({attributeTable:(0,ge.d9)(this.attributeTable),bandCount:this.bandCount,colormap:(0,ge.d9)(this.colormap),extent:(0,ge.d9)(this.extent),nativePixelSize:(0,ge.d9)(this.nativePixelSize),format:this.format,height:this.height,width:this.width,histograms:(0,ge.d9)(this.histograms),keyProperties:(0,ge.d9)(this.keyProperties),multidimensionalInfo:(0,ge.d9)(this.multidimensionalInfo),noDataValue:this.noDataValue,pixelSize:(0,ge.d9)(this.pixelSize),pixelType:this.pixelType,isPseudoSpatialReference:this.isPseudoSpatialReference,spatialReference:(0,ge.d9)(this.spatialReference),statistics:(0,ge.d9)(this.statistics),storageInfo:(0,ge.d9)(this.storageInfo),transform:(0,ge.d9)(this.transform)})}};(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"attributeTable",void 0),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"bandCount",void 0),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"colormap",void 0),(0,H._)([(0,ae.Cb)({type:String,readOnly:!0})],K.prototype,"dataType",null),(0,H._)([(0,ae.Cb)({type:n.Z,json:{write:!0}})],K.prototype,"extent",void 0),(0,H._)([(0,ae.Cb)({type:n.Z,json:{write:!0}})],K.prototype,"nativeExtent",null),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"nativePixelSize",null),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"format",void 0),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"height",void 0),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"width",void 0),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"hasMultidimensionalTranspose",null),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"histograms",void 0),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"keyProperties",void 0),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"multidimensionalInfo",void 0),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"noDataValue",void 0),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"pixelSize",void 0),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"pixelType",void 0),(0,H._)([(0,ae.Cb)()],K.prototype,"isPseudoSpatialReference",void 0),(0,H._)([(0,ae.Cb)({type:Q.Z,json:{write:!0}})],K.prototype,"spatialReference",void 0),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"statistics",void 0),(0,H._)([(0,ae.Cb)({type:se.Z,json:{write:!0}})],K.prototype,"storageInfo",void 0),(0,H._)([(0,ae.Cb)({json:{write:!0}})],K.prototype,"transform",void 0),K=I=(0,H._)([(0,q.j)("esri.layers.support.RasterInfo")],K);const V=K},1137:(Se,be,Y)=>{Y.d(be,{Z:()=>se});var n,H=Y(18100),me=Y(44480),ge=Y(88684),le=Y(9497),ce=(Y(83382),Y(20891)),q=Y(35787);let Q=n=class extends me.wq{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}clone(){return new n({blockWidth:this.blockWidth,blockHeight:this.blockHeight,compression:this.compression,origin:(0,ge.d9)(this.origin),firstPyramidLevel:this.firstPyramidLevel,maximumPyramidLevel:this.maximumPyramidLevel,pyramidResolutions:(0,ge.d9)(this.pyramidResolutions),pyramidScalingFactor:this.pyramidScalingFactor,pyramidBlockWidth:this.pyramidBlockWidth,pyramidBlockHeight:this.pyramidBlockHeight,isVirtualTileInfo:this.isVirtualTileInfo,tileInfo:(0,ge.d9)(this.tileInfo),transposeInfo:(0,ge.d9)(this.transposeInfo),blockBoundary:(0,ge.d9)(this.blockBoundary)})}};(0,H._)([(0,le.Cb)({type:Number,json:{write:!0}})],Q.prototype,"blockWidth",void 0),(0,H._)([(0,le.Cb)({type:Number,json:{write:!0}})],Q.prototype,"blockHeight",void 0),(0,H._)([(0,le.Cb)({type:String,json:{write:!0}})],Q.prototype,"compression",void 0),(0,H._)([(0,le.Cb)({type:q.Z,json:{write:!0}})],Q.prototype,"origin",void 0),(0,H._)([(0,le.Cb)({type:Number,json:{write:!0}})],Q.prototype,"firstPyramidLevel",void 0),(0,H._)([(0,le.Cb)({type:Number,json:{write:!0}})],Q.prototype,"maximumPyramidLevel",void 0),(0,H._)([(0,le.Cb)({json:{write:!0}})],Q.prototype,"pyramidResolutions",void 0),(0,H._)([(0,le.Cb)({type:Number,json:{write:!0}})],Q.prototype,"pyramidScalingFactor",void 0),(0,H._)([(0,le.Cb)({type:Number,json:{write:!0}})],Q.prototype,"pyramidBlockWidth",void 0),(0,H._)([(0,le.Cb)({type:Number,json:{write:!0}})],Q.prototype,"pyramidBlockHeight",void 0),(0,H._)([(0,le.Cb)({type:Boolean,json:{write:!0}})],Q.prototype,"isVirtualTileInfo",void 0),(0,H._)([(0,le.Cb)({json:{write:!0}})],Q.prototype,"tileInfo",void 0),(0,H._)([(0,le.Cb)()],Q.prototype,"transposeInfo",void 0),(0,H._)([(0,le.Cb)()],Q.prototype,"blockBoundary",void 0),Q=n=(0,H._)([(0,ce.j)("esri.layers.support.RasterStorageInfo")],Q);const se=Q},25791:(Se,be,Y)=>{function H(me,ge){let le=0,ae="",ce=0,q=0;const n=me.length;for(;le<n;)q=me[le++],ce=q>>4,ce<8?ce=1:15===ce?(ce=4,q=(7&q)<<18|(63&me[le++])<<12|(63&me[le++])<<6|63&me[le++]):14===ce?(ce=3,q=(15&q)<<12|(63&me[le++])<<6|63&me[le++]):(ce=2,q=(31&q)<<6|63&me[le++]),(0!==q||ge)&&(ae+=String.fromCharCode(q));return ae}Y.d(be,{f:()=>H})},43707:(Se,be,Y)=>{Y.d(be,{Jx:()=>K,zD:()=>ae});var H=Y(74792);const me=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,127]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let ge=null,le=null;function ae(){return ge||(ge=Y.e(8957).then(Y.bind(Y,78957)).then(W=>W.l).then(({default:W})=>W({locateFile:ne=>(0,H.V)(`esri/layers/support/rasterFormats/${ne}`)})).then(W=>{(function se(W){const{_malloc:ne,_free:U,_lerc_getBlobInfo:fe,_lerc_getDataRanges:x,_lerc_decode_4D:A,asm:J}=W;let l;const m=Object.values(J).find(e=>e&&"buffer"in e&&e.buffer===W.HEAPU8.buffer),c=e=>{const o=e.map(a=>function n(W){return 16+(W>>3<<3)}(a)),i=o.reduce((a,_)=>a+_),t=ne(i);l=new Uint8Array(m.buffer);let r=o[0];o[0]=t;for(let a=1;a<o.length;a++){const _=o[a];o[a]=o[a-1]+r,r=_}return o};q.getBlobInfo=e=>{const t=new Uint8Array(48),r=new Uint8Array(24),[a,_,s]=c([e.length,t.length,r.length]);l.set(e,a),l.set(t,_),l.set(r,s);let p=fe(a,e.length,_,s,12,3);if(p)throw U(a),new Error(`lerc-getBlobInfo: error code is ${p}`);l=new Uint8Array(m.buffer),Q(l,_,t),Q(l,s,r);const T=new Uint32Array(t.buffer),B=new Float64Array(r.buffer),[F,G,,w,P,b,v,N,k,u,S]=T,L={version:F,depthCount:u,width:w,height:P,validPixelCount:v,bandCount:b,blobSize:N,maskCount:k,dataType:G,minValue:B[0],maxValue:B[1],maxZerror:B[2],statistics:[],bandCountWithNoData:S};if(S)return L;if(1===u&&1===b)return U(a),L.statistics.push({minValue:B[0],maxValue:B[1]}),L;const Z=u*b*8,X=new Uint8Array(Z),g=new Uint8Array(Z);let f=a,h=0,d=0,y=!1;if(l.byteLength<a+2*Z?(U(a),y=!0,[f,h,d]=c([e.length,Z,Z]),l.set(e,f)):[h,d]=c([Z,Z]),l.set(X,h),l.set(g,d),p=x(f,e.length,u,b,h,d),p)throw U(f),y||U(h),new Error(`lerc-getDataRanges: error code is ${p}`);l=new Uint8Array(m.buffer),Q(l,h,X),Q(l,d,g);const D=new Float64Array(X.buffer),C=new Float64Array(g.buffer),E=L.statistics;for(let O=0;O<b;O++)if(u>1){const z=D.slice(O*u,(O+1)*u),M=C.slice(O*u,(O+1)*u),ie=Math.min.apply(null,z),pe=Math.max.apply(null,M);E.push({minValue:ie,maxValue:pe,depthStats:{minValues:z,maxValues:M}})}else E.push({minValue:D[O],maxValue:C[O]});return U(f),y||U(h),L},q.decode=(e,o)=>{const{maskCount:i,depthCount:t,bandCount:r,width:a,height:_,dataType:s,bandCountWithNoData:p}=o,T=me[s],B=a*_,F=new Uint8Array(B*r),w=new Uint8Array(B*t*r*T.size),P=new Uint8Array(r),b=new Uint8Array(8*r),[v,N,k,u,S]=c([e.length,F.length,w.length,P.length,b.length]);l.set(e,v),l.set(F,N),l.set(w,k),l.set(P,u),l.set(b,S);const L=A(v,e.length,i,N,t,a,_,r,s,k,u,S);if(L)throw U(v),new Error(`lerc-decode: error code is ${L}`);l=new Uint8Array(m.buffer),Q(l,k,w),Q(l,N,F);let Z=null;if(p){Q(l,u,P),Q(l,S,b),Z=[];const X=new Float64Array(b.buffer);for(let g=0;g<P.length;g++)Z.push(P[g]?X[g]:null)}return U(v),{data:w,maskData:F,noDataValues:Z}}})(W),le=!0}),ge)}const q={getBlobInfo:null,decode:null};function Q(W,ne,U){U.set(W.slice(ne,ne+U.length))}function I(W,ne,U,fe,x){if(U<2)return W;const A=new fe(ne*U);if(x)for(let J=0,l=0;J<ne;J++)for(let m=0,c=J;m<U;m++,c+=ne)A[c]=W[l++];else for(let J=0,l=0;J<ne;J++)for(let m=0,c=J;m<U;m++,c+=ne)A[l++]=W[c];return A}function K(W,ne={}){const U=ne.inputOffset??0,fe=W instanceof Uint8Array?W.subarray(U):new Uint8Array(W,U),x=q.getBlobInfo(fe),{data:A,maskData:J,noDataValues:l}=q.decode(fe,x),{width:m,height:c,bandCount:e,depthCount:o,dataType:i,maskCount:t,statistics:r}=x,a=me[i],_=new a.ctor(A.buffer),s=[],p=[],T=m*c,B=T*o;for(let v=0;v<e;v++){const N=_.subarray(v*B,(v+1)*B);if(ne.returnInterleaved)s.push(N);else{const k=I(N,T,o,a.ctor,!0);s.push(k)}p.push(J.subarray(v*B,(v+1)*B))}const F=0===t?null:1===t?p[0]:new Uint8Array(T);if(t>1){F.set(p[0]);for(let v=1;v<p.length;v++){const N=p[v];for(let k=0;k<T;k++)F[k]=F[k]&N[k]}}const{noDataValue:G}=ne;if(t>0&&null!=G&&a.range[0]<=G&&a.range[1]>=G)for(let v=0;v<e;v++){const N=s[v],k=p[v]||F;for(let u=0;u<T;u++)0===k[u]&&(N[u]=G)}const P=t===e&&e>1?p:null,{pixelType:b}=a;return{width:m,height:c,bandCount:e,pixelType:b,depthCount:o,statistics:r,pixels:s,mask:F,bandMasks:P,noDataValues:l}}},15608:(Se,be,Y)=>{function me(){const ce=[];for(let q=0;q<=257;q++)ce[q]=[q];return ce}function ge(ce,q){for(let n=0;n<q.length;n++)ce.push(q[n])}Y.d(be,{J:()=>ae});const le=new Set;function ae(ce,q,n,Q=!0){const se=function H(ce,q,n,Q=!0){if(q%4!=0||n%4!=0){const se=new ArrayBuffer(4*Math.ceil(n/4)),I=new Uint8Array(se),K=new Uint8Array(ce,q,n);if(Q)for(let V=0;V<I.length;V+=4)I[V]=K[V+3],I[V+1]=K[V+2],I[V+2]=K[V+1],I[V+3]=K[V];else I.set(K);return new Uint32Array(I.buffer)}if(Q){const se=new Uint8Array(ce,q,n),I=new Uint8Array(se.length);for(let K=0;K<I.length;K+=4)I[K]=se[K+3],I[K+1]=se[K+2],I[K+2]=se[K+1],I[K+3]=se[K];return new Uint32Array(I.buffer)}return new Uint32Array(ce,q,n/4)}(ce,q,n,Q);let I=9,K=me(),V=32,W=K.length,ne=[],U=1,fe=se[0],x=0;const A=se.length,J=8*(4*A-n),l=[];for(;null!=fe;){if(V>=I)V-=I,x=fe>>>32-I,fe<<=I;else{x=fe>>>32-V,fe=se[U++];const c=I-V;V=32-c,x=(x<<c)+(fe>>>V),fe<<=c}if(257===x)break;if(256===x){I=9,K=me(),W=K.length,ne=[];continue}const m=K[x];if(null==m){if(x>K.length)throw new Error("data integrity issue: code does not exist on code page");ne.push(ne[0]),K[W++]=ne.slice(),ge(l,ne)}else ge(l,m),ne.push(m[0]),ne.length>1&&(K[W++]=ne.slice()),ne=m.slice();if(le.has(W)&&I++,0===V&&(fe=se[U++],V=32),U>A||U===A&&V<=J)break}return new Uint8Array(l)}le.add(511),le.add(1023),le.add(2047),le.add(4095),le.add(8191)},13549:(Se,be,Y)=>{Y.d(be,{J:()=>v,y:()=>b});var H=Y(71670),me=Y(32995),ge=Y(53661),le=Y(76082),ae=Y(30801),ce=Y(78902);class q{constructor(u){this._canvas=null,this._ctx=null,u&&(this._canvas=u.canvas,this._ctx=u.ctx||u.canvas&&u.canvas.getContext("2d"))}decode(u,S,L){if(!u||u.byteLength<10)throw new me.Z("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:Z=0,height:X=0,format:g}=S;const{applyJpegMask:f}=S;if(f&&(!Z||!X))throw new me.Z("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise((h,d)=>{let y=null;"jpg"===g&&f&&(y=q._getMask(u,{width:Z,height:X}));const D=new Blob([new Uint8Array(u)],{type:"image/"+g=="jpg"?"jpeg":g}),C=URL.createObjectURL(D),E=new Image;let O;E.src=C,E.onload=()=>{if(URL.revokeObjectURL(C),(0,ae.Hc)(L))return void d((0,ae.zE)());Z=E.width,X=E.height,this._canvas&&this._ctx?(this._canvas.width===Z&&this._canvas.height===X||(this._canvas.width=Z,this._canvas.height=X),this._ctx.clearRect(0,0,Z,X)):(this._canvas=document.createElement("canvas"),this._canvas.width=Z,this._canvas.height=X,this._ctx=this._canvas.getContext("2d")),this._ctx.drawImage(E,0,0);const z=this._ctx.getImageData(0,0,Z,X);let M;if(O=z.data,S.renderOnCanvas){if(y)for(M=0;M<y.length;M++)O[4*M+3]=y[M]?255:0;return this._ctx.putImageData(z,0,0),void h(null)}const ie=Z*X,pe=new Uint8Array(ie),re=new Uint8Array(ie),$=new Uint8Array(ie);if(y)for(M=0;M<ie;M++)pe[M]=O[4*M],re[M]=O[4*M+1],$[M]=O[4*M+2];else for(y=new Uint8Array(ie),M=0;M<ie;M++)pe[M]=O[4*M],re[M]=O[4*M+1],$[M]=O[4*M+2],y[M]=O[4*M+3];h({width:Z,height:X,pixels:[pe,re,$],mask:y,pixelType:"u8"})},E.onerror=()=>{URL.revokeObjectURL(C),d("cannot load image")}})}static _getMask(u,S){let L=null;try{const Z=new Uint8Array(u),X=Math.ceil(Z.length/2);let g=0;const f=Z.length-2;for(g=X;g<f&&(255!==Z[g]||217!==Z[g+1]);g++);if(g+=2,g<Z.length-1){const h=new ce.Z(Z.subarray(g)).getBytes();L=new Uint8Array(S.width*S.height);let d=0;for(let y=0;y<h.length;y++)for(let D=7;D>=0;D--)L[d++]=h[y]>>D&1}}catch{}return L}}var n=Y(16095);class Q{static decode(u,S=!1){const L=new Uint8Array(u),Z=new n.J;Z.parse(L);const{width:X,height:g,numComponents:f,eof:h}=Z,d=Z.getData(X,g,!0),y=X*g;let D,C=null,E=0,O=0,z=0;if(!S&&h<L.length-1)try{const M=new ce.Z(L.subarray(h)).getBytes();C=new Uint8Array(y);let ie=0;for(E=0;E<M.length;E++)for(z=7;z>=0;z--)C[ie++]=M[E]>>z&1}catch{}if(1===f&&d.length===X*g){const M=new Uint8Array(d.buffer);D=[M,M,M]}else{for(D=[],E=0;E<3;E++)D.push(new Uint8Array(y));for(z=0,O=0;O<y;O++)for(E=0;E<3;E++)D[E][O]=d[z++]}return{width:X,height:g,pixels:D,mask:C}}}var se=Y(43707),I=Y(15608),K=Y(79092);const V=(k,u)=>Math.floor(k.byteLength/(u.width*u.height*W(u.pixelType))),W=k=>{let u=1;switch(k){case Uint8Array:case Int8Array:u=1;break;case Uint16Array:case Int16Array:u=2;break;case Uint32Array:case Int32Array:case Float32Array:u=4;break;case Float64Array:u=8}return u};class U{static decode(u,S){const L=S.pixelType,Z=[],X=S.width*S.height,g=V(u,S),{bandIds:f,format:h}=S,d=f&&f.length||V(u,S),y=u.byteLength-u.byteLength%(X*W(L)),D=new L(u,0,X*g);let C,E,O,z,M=null;if("bip"===h)for(C=0;C<d;C++){for(O=new L(X),z=f?f[C]:C,E=0;E<X;E++)O[E]=D[E*g+z];Z.push(O)}else if("bsq"===h)for(C=0;C<d;C++)z=f?f[C]:C,Z.push(D.subarray(z*X,(z+1)*X));return y<u.byteLength-1&&(M=((k,u)=>{if(8*k.byteLength<u)return null;const S=new Uint8Array(k,0,Math.ceil(u/8)),L=new Uint8Array(u);let Z=0,X=0,g=0,f=0;for(g=0;g<S.length-1;g++)for(X=S[g],f=7;f>=0;f--)L[Z++]=X>>f&1;for(f=7;Z<u-1;)X=S[S.length-1],L[Z++]=X>>f&1,f--;return L})(u.slice(y),X)),{pixels:Z,mask:M}}}var fe=Y(27986),x=Y(48957),A=function(k){var Z,X,g;function f(h){var d,D,C,E,O,z,M,ie,pe,re,$,oe;for(this.data=h,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},E=null;;){switch(d=this.readUInt32(),M=function(){var te,R;for(R=[],te=0;te<4;++te)R.push(String.fromCharCode(this.data[this.pos++]));return R}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(d);break;case"fcTL":E&&this.animation.frames.push(E),this.pos+=4,E={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},C=this.readUInt16(),D=this.readUInt16()||100,E.delay=1e3*C/D,E.disposeOp=this.data[this.pos++],E.blendOp=this.data[this.pos++],E.data=[];break;case"IDAT":case"fdAT":for("fdAT"===M&&(this.pos+=4,d-=4),h=E?.data||this.imgData,re=0;0<=d?re<d:re>d;0<=d?++re:--re)h.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(d),(ie=255-this.transparency.indexed.length)>0)for($=0;0<=ie?$<ie:$>ie;0<=ie?++$:--$)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case"tEXt":O=(pe=this.read(d)).indexOf(0),z=String.fromCharCode.apply(String,pe.slice(0,O)),this.text[z]=String.fromCharCode.apply(String,pe.slice(O+1));break;case"IEND":return E&&this.animation.frames.push(E),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(oe=this.colorType)||6===oe,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=d}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return f.load=function(h,d,y){var D;return"function"==typeof d&&(y=d),(D=new XMLHttpRequest).open("GET",h,!0),D.responseType="arraybuffer",D.onload=function(){var C;return C=new f(new Uint8Array(D.response||D.mozResponseArrayBuffer)),"function"==typeof d?.getContext&&C.render(d),"function"==typeof y?y(C):void 0},D.send(null)},f.prototype.read=function(h){var d,y;for(y=[],d=0;0<=h?d<h:d>h;0<=h?++d:--d)y.push(this.data[this.pos++]);return y},f.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},f.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},f.prototype.decodePixels=function(h){var d,y,D,C,E,O,z,M,pe,re,$,oe,te,R,j,ee,de,ue,ye,he,Ce,_e;if(null==h&&(h=this.imgData),0===h.length)return new Uint8Array(0);for(h=(h=new ce.Z(h)).getBytes(),j=($=this.pixelBitlength/8)*this.width,oe=new Uint8Array(j*this.height),O=h.length,R=0,te=0,y=0;te<O;){switch(h[te++]){case 0:for(C=ue=0;ue<j;C=ue+=1)oe[y++]=h[te++];break;case 1:for(C=ye=0;ye<j;C=ye+=1)d=h[te++],E=C<$?0:oe[y-$],oe[y++]=(d+E)%256;break;case 2:for(C=he=0;he<j;C=he+=1)d=h[te++],D=(C-C%$)/$,oe[y++]=((ee=R&&oe[(R-1)*j+D*$+C%$])+d)%256;break;case 3:for(C=Ce=0;Ce<j;C=Ce+=1)d=h[te++],D=(C-C%$)/$,E=C<$?0:oe[y-$],ee=R&&oe[(R-1)*j+D*$+C%$],oe[y++]=(d+Math.floor((E+ee)/2))%256;break;case 4:for(C=_e=0;_e<j;C=_e+=1)d=h[te++],D=(C-C%$)/$,0===R?ee=de=0:(ee=oe[(R-1)*j+D*$+C%$],de=D&&oe[(R-1)*j+(D-1)*$+C%$]),z=(E=C<$?0:oe[y-$])+ee-de,M=Math.abs(z-E),pe=Math.abs(z-ee),re=Math.abs(z-de),oe[y++]=(d+(M<=pe&&M<=re?E:pe<=re?ee:de))%256;break;default:throw new Error("Invalid filter algorithm: "+h[te-1])}R++}return oe},f.prototype.decodePalette=function(){var h,d,y,D,C,E,O,z,M;for(y=this.palette,E=this.transparency.indexed||[],C=new Uint8Array((E.length||0)+y.length),D=0,h=0,d=O=0,z=y.length;O<z;d=O+=3)C[D++]=y[d],C[D++]=y[d+1],C[D++]=y[d+2],C[D++]=null!=(M=E[h++])?M:255;return C},f.prototype.copyToImageData=function(h,d){var y,D,C,E,O,z,M,ie,pe,re,$;if(D=this.colors,pe=null,y=this.hasAlphaChannel,this.palette.length&&(pe=null!=($=this._decodedPalette)?$:this._decodedPalette=this.decodePalette(),D=4,y=!0),ie=(C=h.data||h).length,O=pe||d,E=z=0,1===D)for(;E<ie;)M=pe?4*d[E/4]:z,re=O[M++],C[E++]=re,C[E++]=re,C[E++]=re,C[E++]=y?O[M++]:this.transparency.grayscale&&this.transparency.grayscale===re?0:255,z=M;else for(;E<ie;)M=pe?4*d[E/4]:z,C[E++]=O[M++],C[E++]=O[M++],C[E++]=O[M++],C[E++]=y?O[M++]:this.transparency.rgb&&this.transparency.rgb[1]===O[M-3]&&this.transparency.rgb[3]===O[M-2]&&this.transparency.rgb[5]===O[M-1]?0:255,z=M},f.prototype.decode=function(){var h;return h=new Uint8Array(this.width*this.height*4),this.copyToImageData(h,this.decodePixels()),h},X=k.document&&k.document.createElement("canvas"),g=X&&X.getContext("2d"),Z=function(h){var d;return g.width=h.width,g.height=h.height,g.clearRect(0,0,h.width,h.height),g.putImageData(h,0,0),(d=new Image).src=X.toDataURL(),d},f.prototype.decodeFrames=function(h){var d,y,D,C,E,O,z,M;if(this.animation){for(M=[],y=E=0,O=(z=this.animation.frames).length;E<O;y=++E)D=h.createImageData((d=z[y]).width,d.height),C=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(D,C),d.imageData=D,M.push(d.image=Z(D));return M}},f.prototype.renderFrame=function(h,d){var y,D,C;return y=(D=this.animation.frames)[d],C=D[d-1],0===d&&h.clearRect(0,0,this.width,this.height),1===C?.disposeOp?h.clearRect(C.xOffset,C.yOffset,C.width,C.height):2===C?.disposeOp&&h.putImageData(C.imageData,C.xOffset,C.yOffset),0===y.blendOp&&h.clearRect(y.xOffset,y.yOffset,y.width,y.height),h.drawImage(y.image,y.xOffset,y.yOffset)},f.prototype.animate=function(h){var d,y,D,C,E,O,z=this;return y=0,C=(O=this.animation).numFrames,D=O.frames,E=O.numPlays,(d=function(){var M,ie;if(M=y++%C,ie=D[M],z.renderFrame(h,M),C>1&&y/C<E)return z.animation._timeout=setTimeout(d,ie.delay)})()},f.prototype.stopAnimation=function(){var h;return clearTimeout(null!=(h=this.animation)?h._timeout:void 0)},f.prototype.render=function(h){var d,y;return h._png&&h._png.stopAnimation(),h._png=this,h.width=this.width,h.height=this.height,d=h.getContext("2d"),this.animation?(this.decodeFrames(d),this.animate(d)):(y=d.createImageData(this.width,this.height),this.copyToImageData(y,this.decodePixels()),d.putImageData(y,0,0))},f}(self);const J=new Set(["jpg","png","bmp","gif"]);function l(k,u){return m.apply(this,arguments)}function m(){return(m=(0,H.Z)(function*(k,u){if(!x.f)throw new me.Z("rasterCoded:decode","lerc decoder is not supported on big endian platform");yield(0,se.zD)();const{offset:S}=u,{width:L,height:Z,pixelType:X,statistics:g,depthCount:f,noDataValues:h,bandMasks:d,pixels:y,mask:D}=(0,se.Jx)(k,{inputOffset:S,returnInterleaved:u.returnInterleaved});return new le.Z({width:L,height:Z,pixelType:X.toLowerCase(),pixels:y,mask:D,statistics:g,bandMasks:d,depthCount:f,noDataValues:h})})).apply(this,arguments)}function c(k,u){return e.apply(this,arguments)}function e(){return(e=(0,H.Z)(function*(k,u){const S=yield(0,fe.Jx)(k,{...u,noDataValue:null});(0,ge.O3)(S);const L=new le.Z({width:S.width,height:S.height,pixels:S.pixels,pixelType:S.pixelType.toLowerCase(),mask:S.mask,statistics:null});return L.updateStatistics(),L})).apply(this,arguments)}function i(){return(i=(0,H.Z)(function*(k,u){const S=yield(0,fe.Uw)(k,u.customOptions),L=new le.Z({width:S.width,height:S.height,pixels:S.pixels,pixelType:S.pixelType.toLowerCase(),mask:S.mask,statistics:null});return L.updateStatistics(),L})).apply(this,arguments)}function t(k,u){const S=u.pixelType||"u8",L=le.Z.getPixelArrayConstructor(S),Z="u8"===S?k:new L(k.buffer),X=[],g=u.planes||1;if(1===g)X.push(Z);else for(let h=0;h<g;h++){const d=(u.width||1)*(u.height||k.length),y=new L(d);for(let D=0;D<d;D++)y[D]=Z[D*g+h];X.push(y)}const f=new le.Z({width:u.width||1,height:u.height||k.length,pixels:X,pixelType:S,statistics:null});return f.updateStatistics(),f}function r(k,u){return t(new ce.Z(new Uint8Array(k)).getBytes(),u)}function a(k,u){return t((0,I.J)(k,u.offset,u.eof,!u.isInputBigEndian),u)}function s(k,u){const S=Q.decode(k,u.hasNoZlibMask??void 0),L=new le.Z({width:S.width,height:S.height,pixels:S.pixels,pixelType:"U8",mask:S.mask,statistics:null});return L.updateStatistics(),L}function p(k,u){const S=new Uint8Array(k),L=new A(S),{width:Z,height:X}=u,g=Z*X,f=L.decode();let h,d=0,y=0;const D=new Uint8Array(g);for(d=0;d<g;d++)D[d]=f[4*d+3];const C=new le.Z({width:Z,height:X,pixels:[],pixelType:"U8",mask:D,statistics:[]});for(d=0;d<3;d++){for(h=new Uint8Array(g),y=0;y<g;y++)h[y]=f[4*y+d];C.addData({pixels:h})}return C.updateStatistics(),C}function B(){return(B=(0,H.Z)(function*(k,u,S,L){const Z=new q,X={applyJpegMask:!1,format:u,...S},g=yield Z.decode(k,X,L),f=new le.Z(g);return f.updateStatistics(),f})).apply(this,arguments)}function F(k){if(null==k)throw new me.Z("rasterCodec:decode","parameter encodeddata is required.");const u=new Uint8Array(k,0,10);let S="";return 255===u[0]&&216===u[1]?S="jpg":137===u[0]&&80===u[1]&&78===u[2]&&71===u[3]?S="png":67===u[0]&&110===u[1]&&116===u[2]&&90===u[3]&&73===u[4]&&109===u[5]&&97===u[6]&&103===u[7]&&101===u[8]&&32===u[9]?S="lerc":76===u[0]&&101===u[1]&&114===u[2]&&99===u[3]&&50===u[4]&&32===u[5]?S="lerc2":73===u[0]&&73===u[1]&&42===u[2]&&0===u[3]||77===u[0]&&77===u[1]&&0===u[2]&&42===u[3]||73===u[0]&&73===u[1]&&43===u[2]&&0===u[3]||77===u[0]&&77===u[1]&&0===u[2]&&43===u[3]?S="tiff":71===u[0]&&73===u[1]&&70===u[2]?S="gif":66===u[0]&&77===u[1]?S="bmp":String.fromCharCode.apply(null,u).toLowerCase().includes("error")&&(S="error"),S}function b(k){let u=F(k);return"lerc2"===u?u="lerc":"error"===u&&(u=""),u}function v(k){return N.apply(this,arguments)}function N(){return N=(0,H.Z)(function*(k,u={},S){if(null==k)throw new me.Z("rasterCodec:decode","missing encodeddata parameter.");let L=u.format&&u.format.toLowerCase();if(!("bsq"!==L&&"bip"!==L||null!=u.width&&null!=u.height))throw new me.Z("rasterCodec:decode","requires width and height in options parameter.");if("tiff"===L&&u.customOptions)return function o(k,u){return i.apply(this,arguments)}(k,u);if((!L||"bsq"!==L&&"bip"!==L&&"deflate"!==L&&"lzw"!==L)&&(L=F(k)),u.useCanvas&&J.has(L))return function T(k,u,S,L){return B.apply(this,arguments)}(k,L,u,S);const Z=function G(k){let u=null;switch(k){case"lerc":case"lerc2":u=l;break;case"jpg":u=s;break;case"png":u=p;break;case"bsq":case"bip":u=(S,L)=>function _(k,u,S){const{pixelTypeCtor:L}=function w(k){let u=null,S=null;switch(k?k.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":S=255,u=Uint8Array;break;case"u16":S=S||65535,u=Uint16Array;break;case"u32":S=S||2**32-1,u=Uint32Array;break;case"s8":S=S||-128,u=Int8Array;break;case"s16":S=S||-32768,u=Int16Array;break;case"s32":S=S||0-2**31,u=Int32Array;break;default:u=Float32Array}return{pixelTypeCtor:u,noDataValue:S}}(u.pixelType),Z=(0,U.decode)(k,{width:u.width,height:u.height,pixelType:L,format:S}),X=new le.Z({width:u.width,height:u.height,pixels:Z.pixels,pixelType:u.pixelType,mask:Z.mask,statistics:null});return X.updateStatistics(),X}(S,L,k);break;case"tiff":u=c;break;case"deflate":u=r;break;case"lzw":u=a;break;case"error":u=()=>{throw new me.Z("rasterCodec:decode","input data contains error")};break;default:u=()=>{throw new me.Z("rasterCodec:decode","unsupported raster format")}}return u}(L);u.isPoint&&(null!=(u={...u}).width&&u.width++,null!=u.height&&u.height++);const X=yield Z(k,u);return X&&("jpg"!==L&&null!=u.noDataValue&&1===X.depthCount&&(0,K.A)(X,u.noDataValue,{customFloatTolerance:u.tolerance}),u.isPoint&&function P(k,u=1){if(!k)return;const{pixels:S,width:L,height:Z,mask:X}=k;if(!S||0===S.length)return;const g=S.length,f=L-1,h=Z-1,d=[];let y,D,C,E,O,z,M=null;const ie=le.Z.getPixelArrayConstructor(k.pixelType);if(0===u){for(y=0;y<g;y++){for(O=S[y],z=new ie(f*h),D=0;D<h;D++)for(E=D*L,C=0;C<f;C++)z[D*f+C]=O[E+C];d.push(z)}if((0,ge.pC)(X))for(M=new Uint8Array(f*h),D=0;D<h;D++)for(E=D*L,C=0;C<f;C++)M[D*f+C]=X[E+C]}else{for(y=0;y<g;y++){for(O=S[y],z=new ie(f*h),D=0;D<h;D++)for(E=D*L,C=0;C<f;C++)z[D*f+C]=(O[E+C]+O[E+C+1]+O[E+L+C]+O[E+L+C+1])/4;d.push(z)}if(X)for(M=new Uint8Array(f*h),D=0;D<h;D++)for(E=D*L,C=0;C<f;C++)M[D*f+C]=Math.min.apply(null,[X[E+C],X[E+C+1],X[E+L+C],X[E+L+C+1]])}k.width=f,k.height=h,k.mask=M,k.pixels=d}(X),X)}),N.apply(this,arguments)}},27986:(Se,be,Y)=>{Y.d(be,{Dq:()=>p,FI:()=>T,I7:()=>G,If:()=>B,Jx:()=>Z,Uw:()=>S,cK:()=>N,ee:()=>F,vr:()=>k});var H=Y(71670),me=Y(25791),ge=Y(16095),le=Y(43707),ae=Y(15608),ce=Y(79092),q=Y(65693),n=Y(48957),Q=Y(78902);const se=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],I=4294967296,K=new Set([1,5,6,7,8,34712,34887]);function V(g,f){let h="unknown";return 3===g?h=64===f?"f64":"f32":1===g?1===f?h="u1":2===f?h="u2":4===f?h="u4":f<=8?h="u8":f<=16?h="u16":f<=32&&(h="u32"):2===g&&(f<=8?h="s8":f<=16?h="s16":f<=32&&(h="s32")),h}function W(g){let f=null;switch(g?g.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":f=Uint8Array;break;case"u16":f=Uint16Array;break;case"u32":f=Uint32Array;break;case"s8":f=Int8Array;break;case"s16":f=Int16Array;break;case"s32":f=Int32Array;break;case"f64":f=Float64Array;break;default:f=Float32Array}return f}function ne(g,f){return{x:f[0]*g.x+f[1]*g.y+f[2],y:f[3]*g.x+f[4]*g.y+f[5]}}function U(g,f){return g.get(f)?.values}function fe(g,f){return g.get(f)?.values}function x(g,f){return g.get(f)?.values?.[0]}function A(g,f){return g.get(f)?.values?.[0]}function J(g,f,h,d=0,y=q.Z.TIFF_TAGS,D=4){const C=8===D,E=C?P(new DataView(g,h,8),0,f):new DataView(g,h,2).getUint16(0,f),O=4+2*D,z=C?8:2,M=z+E*O;if(h+M>g.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:M};const ie=h+M+4<=g.byteLength?v(new DataView(g,h+M,8===D?8:4),0,f,8===D):null,pe=h+z,re=new Map;let $,oe,te,R,j,ee=0,de=0;for(let ue=0;ue<E;ue++){oe=new DataView(g,pe+O*ue,O),te=oe.getUint16(0,f),j=oe.getUint16(2,f),R=q.Z.getTagName(te,y);const ye=[];2===D?(ee=oe.getUint16(4,f),de=oe.getUint16(6,f)):4===D?(ee=oe.getUint32(4,f),de=oe.getUint32(8,f)):8===D&&(ee=v(oe,4,f,!0),de=v(oe,12,f,!0),ye.push(oe.getUint32(12,f)),ye.push(oe.getUint32(16,f))),$={id:te,type:j,valueCount:ee,valueOffset:de,valueOffsets:ye,values:null},p(g,f,$,d,!1,D),re.set(R,$)}return{success:!0,ifd:re,nextIFD:ie,requiredBufferSize:M}}const l=(g,f)=>(0,le.Jx)(g,{inputOffset:f}).pixels[0];function m(g,f){if(1!==f&&2!==f&&4!==f)return g;const h=new Uint8Array(g),d=8/f,y=new Uint8Array(g.byteLength*d);let D=0;const C=2**f-1;for(let E=0;E<h.length;E++){const O=h[E];for(let z=0;z<d;z++)y[D++]=O<<f*z>>>8-f&C}return y.buffer}function c(g,f,h){const d=new ge.J;d.parse(g),d.colorTransform=6===h?-1:0;const y=d.getData(d.width,d.height,1!==f);return new Uint8Array(y.buffer)}function e(g){const f=new Q.Z(g).getBytes(),h=new ArrayBuffer(f.length),d=new Uint8Array(h);return d.set(f),d}function o(g,f,h,d,y){return i.apply(this,arguments)}function i(){return(i=(0,H.Z)(function*(g,f,h,d,y){const D=n.f===f,C=A(h,"BITSPERSAMPLE"),E=A(h,"SAMPLESPERPIXEL"),O=A(h,"PHOTOMETRICINTERPRETATION"),z=V(A(h,"SAMPLEFORMAT")??1,C),M=A(h,"COMPRESSION")??1,ie=W(z);let pe,re,$;if(34887===M)return yield(0,le.zD)(),l(g,d);if(1===M)pe=g.slice(d,d+y),re=new Uint8Array(pe);else if(8===M||32946===M)re=new Uint8Array(g,d,y),re=e(re),pe=re.buffer;else if(6===M)re=new Uint8Array(g,d,y),re=c(re,E,O),pe=re.buffer;else if(7===M){const oe=h.get("JPEGTABLES").values,te=oe.length-2;re=new Uint8Array(te+y-2);for(let j=0;j<te;j++)re[j]=oe[j];const R=new Uint8Array(g,d+2,y-2);for(let j=0;j<R.length;j++)re[te+j]=R[j];re=c(re,E,O),pe=re.buffer}else{if(5!==M)throw new Error("tiff-decode: unsupport compression "+M);re=(0,ae.J)(g,d,y,f),pe=re.buffer}if(pe=m(pe,C),"u8"===z||"s8"===z||D)$=new ie(pe);else{pe=new ArrayBuffer(re.length);const oe=new Uint8Array(pe);switch(z){case"u16":case"s16":for(let te=0;te<re.length;te+=2)oe[te]=re[te+1],oe[te+1]=re[te];break;case"u32":case"s32":case"f32":for(let te=0;te<re.length;te+=4)oe[te]=re[te+3],oe[te+1]=re[te+2],oe[te+2]=re[te+1],oe[te+3]=re[te]}$=new ie(pe)}return $})).apply(this,arguments)}function r(){return(r=(0,H.Z)(function*(g,f,h){const d=fe(h,"TILEOFFSETS");if(void 0===d)return null;const y=fe(h,"TILEBYTECOUNTS"),{width:D,height:C,pixelType:E,tileWidth:O,tileHeight:z}=T([h]),M=B(h,f),ie=A(h,"SAMPLESPERPIXEL")||f.planes,pe=D*C,re=A(h,"BITSPERSAMPLE"),$=34887===(A(h,"COMPRESSION")??1),oe=W(E),te=[];for(let Pe=0;Pe<ie;Pe++)te.push(new oe(pe));let R,j,ee,de,ue,ye,he,Ce,_e,ve,Ee,De,Ie;const Ae=Math.ceil(D/O);if(re%8==0)if($&&M&&ie>1){const Pe=Math.round(d.length/ie);for(R=0;R<Pe;R++){ye=Math.floor(R/Ae)*z,he=R%Ae*O,Ce=ye*D+he;for(let ke=0;ke<ie;ke++){const xe=R*ie+ke;if(0!==y[xe])for(ee=yield o(g,f.littleEndian,h,d[xe],y[xe]),ve=0,_e=Ce,De=Math.min(O,D-he),Ee=Math.min(z,C-ye),Ie=te[ke],de=0;de<Ee;de++)for(_e=Ce+de*D,ve=de*O,ue=0;ue<De;ue++,_e++,ve++)Ie[_e]=ee[ve]}}}else for(R=0;R<d.length;R++)if(0!==y[R])for(ye=Math.floor(R/Ae)*z,he=R%Ae*O,Ce=ye*D+he,ee=yield o(g,f.littleEndian,h,d[R],y[R]),ve=0,_e=Ce,De=Math.min(O,D-he),Ee=Math.min(z,C-ye),j=0;j<ie;j++)if(Ie=te[j],M||$)for(de=0;de<Ee;de++)for(_e=Ce+de*D,ve=O*z*j+de*O,ue=0;ue<De;ue++,_e++,ve++)Ie[_e]=ee[ve];else for(de=0;de<Ee;de++)for(_e=Ce+de*D,ve=de*O*ie+j,ue=0;ue<De;ue++,_e++,ve+=ie)Ie[_e]=ee[ve];return{width:D,height:C,pixelType:E,pixels:te}})).apply(this,arguments)}const a=(g,f,h)=>{const d=n.f===f.littleEndian,y=fe(h,"STRIPOFFSETS");if(void 0===y)return null;const{width:D,height:C,pixelType:E}=T([h]),O=A(h,"SAMPLESPERPIXEL")||f.planes,z=A(h,"PHOTOMETRICINTERPRETATION"),M=D*C,ie=A(h,"BITSPERSAMPLE"),pe=W(E),re=new pe(M*O),$=fe(h,"STRIPBYTECOUNTS"),oe=A(h,"ROWSPERSTRIP"),te=A(h,"COMPRESSION")??1;let R,j,ee,de,ue,ye,he,Ce,_e,ve=oe;if(ie%8==0)for(R=0;R<y.length;R++){if(ue=R*(oe*D)*O,ve=(R+1)*oe>C?C-R*oe:oe,"u8"===E||"s8"===E||d)8===te||32946===te?(he=new Uint8Array(g,y[R],$[R]),he=e(he),ye=he.buffer):6===te?(he=new Uint8Array(g,y[R],$[R]),he=c(he,O,z),ye=he.buffer):5===te?(he=(0,ae.J)(g,y[R],$[R],f.littleEndian),ye=he.buffer):($[R]!==ve*D*O*ie/8&&console.log("strip byte counts is different than expected"),ye=g.slice(y[R],y[R]+$[R])),ye=m(ye,ie),de=new pe(ye);else{switch(6===te||8===te||32946===te?(he=new Uint8Array(g,y[R],$[R]),Ce=e(he),ye=Ce.buffer):($[R]!==ve*D*O*ie/8&&console.log("strip byte counts is different than expected"),ye=new ArrayBuffer($[R]),he=new Uint8Array(g,y[R],$[R]),Ce=new Uint8Array(ye)),E){case"u16":case"s16":for(ee=0;ee<he.length;ee+=2)Ce[ee]=he[ee+1],Ce[ee+1]=he[ee];break;case"u32":case"s32":case"f32":for(ee=0;ee<he.length;ee+=4)Ce[ee]=he[ee+3],Ce[ee+1]=he[ee+2],Ce[ee+2]=he[ee+1],Ce[ee+3]=he[ee]}ye=m(ye,ie),de=new pe(ye)}re.set(de,ue)}const Ee=[];if(1===O)Ee.push(re);else for(R=0;R<O;R++){for(_e=new pe(M),j=0;j<M;j++)_e[j]=re[j*O+R];Ee.push(_e)}return{width:D,height:C,pixelType:E,pixels:Ee}},_=(g,f,h)=>{if(!(g&&g.length>0&&f&&h))return null;let d,y,D;const C=g[0].length,E=g.length,O=new Uint8Array(C);for(let z=0;z<E;z++)if(d=g[z],y=f[z],D=h[z],0===z)for(let M=0;M<C;M++)O[M]=d[M]<y||d[M]>D?0:1;else for(let M=0;M<C;M++)O[M]&&(O[M]=d[M]<y||d[M]>D?0:1);return O},s=g=>{if(!g)return null;const f=g.match(/<Item(.*?)Item>/gi);if(!f||0===f.length)return null;const h=new Map;let d,y,D,C,E;for(let R=0;R<f.length;R++)d=f[R],y=d.slice(6,d.indexOf(">")),C=d.indexOf("sample="),C>-1&&(E=d.slice(C+8,d.indexOf('"',C+8))),C=d.indexOf("name="),C>-1&&(y=d.slice(C+6,d.indexOf('"',C+6))),y&&(D=d.slice(d.indexOf(">")+1,d.indexOf("</Item>")).trim(),null!=E?h.has(y)?h.get(y)[E]=D:h.set(y,[D]):h.set(y,D)),E=null;const O=h.get("STATISTICS_MINIMUM"),z=h.get("STATISTICS_MAXIMUM"),M=h.get("STATISTICS_MEAN"),ie=h.get("STATISTICS_STDDEV");let pe=null;if(O&&z){pe=[];for(let R=0;R<O.length;R++)pe.push({min:parseFloat(O[R]),max:parseFloat(z[R]),avg:M&&parseFloat(M[R]),stddev:ie&&parseFloat(ie[R])})}const re=h.get("BandName"),$=h.get("WavelengthMin"),oe=h.get("WavelengthMax");let te=null;if(re){te=[];for(let R=0;R<re.length;R++)te.push({BandName:re[R],WavelengthMin:$&&parseFloat($[R]),WavelengthMax:oe&&parseFloat(oe[R])})}return{statistics:pe,bandProperties:te,dataType:h.get("DataType"),rawMetadata:h}};function p(g,f,h,d=0,y=!1,D=4){if(h.values)return!0;const C=h.type,E=h.valueCount;let O=h.valueOffset,z=[];const M=se[C],ie=8*M,pe=E*M,re=E*se[C]*8;let $,oe;const te=8===D?64:32,R=h.valueOffsets;if(re>te&&pe>(y?g.byteLength:g?g.byteLength-O+d:0))return h.offlineOffsetSize=[O,pe],h.values=null,!1;if(re<=te){if(!f)if(te<=32)O>>>=32-re;else{const j=R?.length?R[0]:O>>>0,ee=R?.length?R[1]:Math.round((O-j)/I);re<=32?(O=j>>>32-re,R[0]=O):(O=j*2**(32-re)+(ee>>>32-re),R[0]=j,R[1]=ee>>>32-re)}if(1===E&&ie===te)z=[O];else if(64===te){const j=R?.length?R[0]:O>>>0,ee=R?.length?R[1]:Math.round((O-j)/I);let de=j,ue=32;for(oe=1;oe<=E;oe++){const ye=32-ie*oe%32;if(ue<ie){const he=de<<ye>>>32-ue;de=ee,z.push(he+(ee<<32-ue>>>32-ue)*2**(ie-ue)),ue-=32-(ie-ue)}else z.push(de<<ye>>>32-ie),ue-=ie;0===ue&&(ue=32,de=ee)}}else for(oe=1;oe<=E;oe++)z.push(O<<32-ie*oe>>>32-ie)}else{O-=d,y&&(O=0);for(let j=O;j<O+pe;j+=M){switch(C){case 1:case 2:case 7:$=new DataView(g,j,1).getUint8(0);break;case 3:$=new DataView(g,j,2).getUint16(0,f);break;case 4:case 13:$=new DataView(g,j,4).getUint32(0,f);break;case 5:$=new DataView(g,j,4).getUint32(0,f)/new DataView(g,j+4,4).getUint32(0,f);break;case 6:$=new DataView(g,j,1).getInt8(0);break;case 8:$=new DataView(g,j,2).getInt16(0,f);break;case 9:$=new DataView(g,j,4).getInt32(0,f);break;case 10:$=new DataView(g,j,4).getInt32(0,f)/new DataView(g,j+4,4).getInt32(0,f);break;case 11:$=new DataView(g,j,4).getFloat32(0,f);break;case 12:$=new DataView(g,j,8).getFloat64(0,f);break;case 16:case 18:$=P(new DataView(g,j,8),0,f);break;case 17:$=b(new DataView(g,j,8),0,f);break;default:$=null}z.push($)}}if(2===C){let j="";const ee=z;for(z=[],oe=0;oe<ee.length;oe++)0===ee[oe]&&""!==j?(z.push(j),j=""):j+=String.fromCharCode(ee[oe]);""===j&&0!==z.length||z.push(j)}return h.values=z,!0}function T(g){const f=g[0],h=A(f,"TILEWIDTH"),d=A(f,"TILELENGTH"),y=A(f,"IMAGEWIDTH"),D=A(f,"IMAGELENGTH"),C=A(f,"BITSPERSAMPLE"),E=A(f,"SAMPLESPERPIXEL"),O=A(f,"SAMPLEFORMAT")??1,z=V(O,C),M=B(f),ie=U(f,"GDAL_NODATA");let pe=null;ie?.length&&(pe=ie.map(we=>parseFloat(we)),pe.some(we=>isNaN(we))&&(pe=null));const re=A(f,"COMPRESSION")??1;let $;switch(re){case 1:$="NONE";break;case 2:case 3:case 4:case 32771:$="CCITT";break;case 5:$="LZW";break;case 6:case 7:$="JPEG";break;case 32773:$="PACKBITS";break;case 8:case 32946:$="DEFLATE";break;case 34712:$="JPEG2000";break;case 34887:$="LERC";break;default:$=String(re)}let oe=!0,te="";K.has(re)||(oe=!1,te+="unsupported tag compression "+re),O>3&&(oe=!1,te+="unsupported tag sampleFormat "+O),1!==C&&2!==C&&4!==C&&C%8!=0&&(oe=!1,te+="unsupported tag bitsPerSample "+C);const R=x(f,"GEOASCIIPARAMS");let j;if(R){const we=R.split("|").find(Re=>Re.includes("ESRI PE String = ")),Te=we?we.replace("ESRI PE String = ",""):"";j=Te.startsWith("COMPD_CS")||Te.startsWith("PROJCS")||Te.startsWith("GEOGCS")?{wkid:null,wkt:Te}:null}const ee=fe(f,"GEOTIEPOINTS"),de=fe(f,"GEOPIXELSCALE"),ue=fe(f,"GEOTRANSMATRIX"),ye=f.has("GEOKEYDIRECTORY")?f.get("GEOKEYDIRECTORY").data:null;let he,Ce,_e=!1,ve=!1;if(ye){_e=2===A(ye,"GTRasterTypeGeoKey");const we=A(ye,"GTModelTypeGeoKey");if(2===we){const Te=A(ye,"GeographicTypeGeoKey");Te>=1024&&Te<=32766&&(j={wkid:Te}),j||32767!==Te||(ve=!0,j={wkid:4326})}else if(1===we){const Te=A(ye,"ProjectedCSTypeGeoKey");Te>=1024&&Te<=32766&&(j={wkid:Te})}}if(de&&ee&&ee.length>=6?(he=[de[0],0,ee[3]-ee[0]*de[0],0,-Math.abs(de[1]),ee[4]-ee[1]*de[1]],_e&&(he[2]-=.5*he[0]+.5*he[1],he[5]-=.5*he[3]+.5*he[4])):ue&&16===ue.length&&(he=_e?[ue[0],ue[1],ue[3]-.5*ue[0],ue[4],ue[5],ue[7]-.5*ue[5]]:[ue[0],ue[1],ue[3],ue[4],ue[5],ue[7]]),he){const we=[{x:0,y:D},{x:0,y:0},{x:y,y:D},{x:y,y:0}];let Te,Re=Number.POSITIVE_INFINITY,Oe=Number.POSITIVE_INFINITY,Me=Number.NEGATIVE_INFINITY,Le=Number.NEGATIVE_INFINITY;for(let Be=0;Be<we.length;Be++)Te=ne(we[Be],he),Re=Te.x>Re?Re:Te.x,Me=Te.x<Me?Me:Te.x,Oe=Te.y>Oe?Oe:Te.y,Le=Te.y<Le?Le:Te.y;Ce={xmin:Re,xmax:Me,ymin:Oe,ymax:Le,spatialReference:j}}else Ce={xmin:-.5,ymin:.5-D,xmax:y-.5,ymax:.5,spatialReference:j};ve&&(Ce.xmax-Ce.xmin>400||Math.max(Math.abs(Ce.xmin),Math.abs(Ce.xmax))>361)&&(j=null,Ce.spatialReference=null);const Ee=F(g);let De,Ie,Ae,Pe,ke;if(Ee.length>0){Ae=Math.round(Math.log(y/A(Ee[0],"IMAGEWIDTH"))/Math.LN2);const we=Ee[Ee.length-1];Pe=Math.round(Math.log(y/A(we,"IMAGEWIDTH"))/Math.LN2),De=A(we,"TILEWIDTH"),Ie=A(we,"TILELENGTH")}De=null!=Pe&&Pe>0?De||h:null,Ie=null!=Pe&&Pe>0?Ie||d:null,h&&(ke=[{maxCol:Math.ceil(y/h)-1,maxRow:Math.ceil(D/d)-1,minRow:0,minCol:0}],Ee.forEach(we=>{ke.push({maxCol:Math.ceil(A(we,"IMAGEWIDTH")/A(we,"TILEWIDTH"))-1,maxRow:Math.ceil(A(we,"IMAGELENGTH")/A(we,"TILELENGTH"))-1,minRow:0,minCol:0})}));const xe=x(g[0],"GDAL_METADATA"),Ue=s(xe);return te+=" "+u({width:y,height:D,tileWidth:h,tileHeight:d,planes:E,ifds:g}),{width:y,height:D,tileWidth:h,tileHeight:d,planes:E,isBSQ:M,pixelType:z,compression:$,noData:pe,hasMaskBand:G(g).length===Ee.length+1,isSupported:oe,message:te,extent:Ce,isPseudoGeographic:ve,affine:de?null:he,firstPyramidLevel:Ae,maximumPyramidLevel:Pe,pyramidBlockWidth:De,pyramidBlockHeight:Ie,tileBoundary:ke,metadata:Ue}}function B(g,f){const h=U(g,"PLANARCONFIGURATION");return h?2===h[0]:!!f&&f.isBSQ}function F(g){return g.filter(f=>1===A(f,"NEWSUBFILETYPE"))}function G(g){return g.filter(f=>{const h=4==(4&(A(f,"NEWSUBFILETYPE")??0)),d=4===A(f,"PHOTOMETRICINTERPRETATION");return h&&d})}function P(g,f,h){const d=g.getUint32(f,h),y=g.getUint32(f+4,h);return h?y*I+d:d*I+y}function b(g,f,h){let d=h?g.getInt32(f,h):g.getUint32(f,h),y=h?g.getUint32(f+4,h):g.getInt32(f+4,h);const D=(h?d:y)>=0?1:-1;return h?d*=D:y*=D,D*(h?y*I+d:d*I+y)}function v(g,f,h,d){return d?P(g,f,h):g.getUint32(f,h)}function N(g){const f=new DataView(g,0,16),h=f.getUint16(0,!1);let d=null;if(18761===h)d=!0;else{if(19789!==h)throw new Error("unexpected endianess byte");d=!1}const y=f.getUint16(2,d);if(42!==y&&43!==y)throw new Error("unexpected tiff identifier");let D=4;const C=43===y;if(C){const E=f.getUint16(D,d);if(D+=2,8!==E)throw new Error("unsupported bigtiff version");if(0!==f.getUint16(D,d))throw new Error("unsupported bigtiff version");D+=2}return{littleEndian:d,isBigTiff:C,firstIFDPos:v(f,D,d,C)}}function k(g,f,h,d=0,y=q.Z.TIFF_TAGS,D=4){const C=J(g,f,h,d,y,D);let E;const O=C.ifd;if(O){if(q.Z.ifdTags.forEach((z,M)=>{O.has(M)&&(E=O.get(M),E.data=J(g,f,E.valueOffset-d,d,z).ifd)}),O.has("GEOKEYDIRECTORY")){E=O.get("GEOKEYDIRECTORY");const z=E.values;if(z&&z.length>4){const M=z[0]+"."+z[1]+"."+z[2];E.data=J(g,f,E.valueOffset+6-d,d,q.Z.GEO_KEYS,2).ifd,E.data&&E.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[M]})}}if(O.has("XMP")){E=O.get("XMP");const z=E.values;"number"==typeof z[0]&&7===E.type&&(E.values=[(0,me.f)(new Uint8Array(z))])}}return C}function u(g){const{width:f,height:h,tileHeight:d,tileWidth:y}=g,D=g.planes,C=y?y*d:f*h,E=A(g.ifds[0],"BITSPERSAMPLE");let O="";return C*D>2**30/(E>8?E/8:1)&&(O=y?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),O}function S(g,f){return L.apply(this,arguments)}function L(){return(L=(0,H.Z)(function*(g,f){const{headerInfo:h,ifd:d,offsets:y,sizes:D}=f,C=[];for(let _e=0;_e<y.length;_e++){const ve=yield o(g,h.littleEndian,d,y[_e],D[_e]||g.byteLength);C.push(ve)}const E=B(d,h),O=A(d,"BITSPERSAMPLE"),z=V(A(d,"SAMPLEFORMAT")??1,O),M=A(d,"SAMPLESPERPIXEL")||h.planes,ie=W(z),pe=A(d,"TILEWIDTH"),re=A(d,"TILELENGTH"),$=A(d,"COMPRESSION")??1,oe=pe*re;let te;const R=[];let j=C[0];const ee=34887===$;for(let _e=0;_e<M;_e++){if(te=new ie(oe),E&&ee){if(j=C[_e],j.length)for(let ve=0;ve<oe;ve++)te[ve]=j[_e][ve+_e]}else if(j.length)if(E||ee&&!E)te=j.slice(oe*_e,oe*(_e+1));else for(let ve=0;ve<oe;ve++)te[ve]=j[ve*M+_e];R.push(te)}const de=h.noData?h.noData[0]:f.noDataValue,ue=h.metadata?h.metadata.statistics:null,ye=ue?ue.map(_e=>_e.min):null,he=ue?ue.map(_e=>_e.max):null,Ce={pixelType:z,width:pe,height:re,pixels:R,noDataValue:de};return null!=de?(0,ce.A)(Ce,de):ye&&he&&f.applyMinMaxConstraint&&(Ce.mask=_(R,ye,he)),Ce})).apply(this,arguments)}function Z(g){return X.apply(this,arguments)}function X(){return X=(0,H.Z)(function*(g,f={}){const h=f.pyramidLevel||0,d=f.headerInfo||function w(g){const{littleEndian:f,isBigTiff:h,firstIFDPos:d}=N(g);let y=d;const D=[];do{const C=k(g,f,y,0,q.Z.TIFF_TAGS,h?8:4);if(!C.success)break;D.push(C.ifd),y=C.nextIFD}while(y>0);return{...T(D),littleEndian:f,isBigTiff:h,ifds:D,pyramidIFDs:F(D),maskIFDs:G(D)}}(g),{ifds:y,noData:D}=d;if(0===y.length)throw new Error("no valid image file directory");const C=u(d);if(C)throw C;let E=null;const O=-1===h?y[y.length-1]:y[h],z=D??f.noDataValue;return E=d.tileWidth?yield function t(g,f,h){return r.apply(this,arguments)}(g,d,O):yield a(g,d,O),E&&(null!=z&&(0,ce.A)(E,z),E)}),X.apply(this,arguments)}},65693:(Se,be,Y)=>{Y.d(be,{Z:()=>q});const H=(()=>{const n=[];return n[254]="NEWSUBFILETYPE",n[255]="SUBFILETYPE",n[256]="IMAGEWIDTH",n[257]="IMAGELENGTH",n[258]="BITSPERSAMPLE",n[259]="COMPRESSION",n[262]="PHOTOMETRICINTERPRETATION",n[263]="THRESHHOLDING",n[264]="CELLWIDTH",n[265]="CELLLENGTH",n[266]="FILLORDER",n[269]="DOCUMENTNAME",n[270]="IMAGEDESCRIPTION",n[271]="MAKE",n[272]="MODEL",n[273]="STRIPOFFSETS",n[274]="ORIENTATION",n[277]="SAMPLESPERPIXEL",n[278]="ROWSPERSTRIP",n[279]="STRIPBYTECOUNTS",n[280]="MINSAMPLEVALUE",n[281]="MAXSAMPLEVALUE",n[282]="XRESOLUTION",n[283]="YRESOLUTION",n[284]="PLANARCONFIGURATION",n[285]="PAGENAME",n[286]="XPOSITION",n[287]="YPOSITION",n[288]="FREEOFFSETS",n[289]="FREEBYTECOUNTS",n[290]="GRAYRESPONSEUNIT",n[291]="GRAYRESPONSECURVE",n[292]="T4OPTIONS",n[293]="T6OPTIONS",n[296]="RESOLUTIONUNIT",n[297]="PAGENUMBER",n[300]="COLORRESPONSEUNIT",n[301]="TRANSFERFUNCTION",n[305]="SOFTWARE",n[306]="DATETIME",n[315]="ARTIST",n[316]="HOSTCOMPUTER",n[317]="PREDICTOR",n[318]="WHITEPOINT",n[319]="PRIMARYCHROMATICITIES",n[320]="COLORMAP",n[321]="HALFTONEHINTS",n[322]="TILEWIDTH",n[323]="TILELENGTH",n[324]="TILEOFFSETS",n[325]="TILEBYTECOUNTS",n[326]="BADFAXLINES",n[327]="CLEANFAXDATA",n[328]="CONSECUTIVEBADFAXLINES",n[330]="SUBIFD",n[332]="INKSET",n[333]="INKNAMES",n[334]="NUMBEROFINKS",n[336]="DOTRANGE",n[337]="TARGETPRINTER",n[338]="EXTRASAMPLES",n[339]="SAMPLEFORMAT",n[340]="SMINSAMPLEVALUE",n[341]="SMAXSAMPLEVALUE",n[342]="TRANSFERRANGE",n[347]="JPEGTABLES",n[512]="JPEGPROC",n[513]="JPEGIFOFFSET",n[514]="JPEGIFBYTECOUNT",n[515]="JPEGRESTARTINTERVAL",n[517]="JPEGLOSSLESSPREDICTORS",n[518]="JPEGPOINTTRANSFORM",n[519]="JPEGQTABLES",n[520]="JPEGDCTABLES",n[521]="JPEGACTABLES",n[529]="YCBCRCOEFFICIENTS",n[530]="YCBCRSUBSAMPLING",n[531]="YCBCRPOSITIONING",n[532]="REFERENCEBLACKWHITE",n[700]="XMP",n[33550]="GEOPIXELSCALE",n[33922]="GEOTIEPOINTS",n[33432]="COPYRIGHT",n[42112]="GDAL_METADATA",n[42113]="GDAL_NODATA",n[50844]="RPCCOEFFICIENT",n[34264]="GEOTRANSMATRIX",n[34735]="GEOKEYDIRECTORY",n[34736]="GEODOUBLEPARAMS",n[34737]="GEOASCIIPARAMS",n[34665]="EXIFIFD",n[34853]="GPSIFD",n[40965]="INTEROPERABILITYIFD",n})(),me=(()=>{const n=H.slice();return n[36864]="ExifVersion",n[40960]="FlashpixVersion",n[40961]="ColorSpace",n[42240]="Gamma",n[37121]="ComponentsConfiguration",n[37122]="CompressedBitsPerPixel",n[40962]="PixelXDimension",n[40963]="PixelYDimension",n[37500]="MakerNote",n[37510]="UserComment",n[40964]="RelatedSoundFile",n[36867]="DateTimeOriginal",n[36868]="DateTimeDigitized",n[36880]="OffsetTime",n[36881]="OffsetTimeOriginal",n[36882]="OffsetTimeDigitized",n[37520]="SubSecTime",n[37521]="SubSecTimeOriginal",n[37522]="SubSecTimeDigitized",n[37888]="Temperature",n[37889]="Humidity",n[37890]="Pressure",n[37891]="WaterDepth",n[37892]="Acceleration",n[37893]="CameraElevationAngle",n[42016]="ImageUniqueID",n[42032]="CameraOwnerName",n[42033]="BodySerialNumber",n[42034]="LensSpecification",n[42035]="LensMake",n[42036]="LensModel",n[42037]="LensSerialNumber",n[33434]="ExposureTime",n[33437]="FNumber",n[34850]="ExposureProgram",n[34852]="SpectralSensitivity",n[34855]="PhotographicSensitivity",n[34856]="OECF",n[34864]="SensitivityType",n[34865]="StandardOutputSensitivity",n[34866]="RecommendedExposureIndex",n[34867]="ISOSpeed",n[34868]="ISOSpeedLatitudeyyy",n[34869]="ISOSpeedLatitudezzz",n[37377]="ShutterSpeedValue",n[37378]="ApertureValue",n[37379]="BrightnessValue",n[37380]="ExposureBiasValue",n[37381]="MaxApertureValue",n[37382]="SubjectDistance",n[37383]="MeteringMode",n[37384]="LightSource",n[37385]="Flash",n[37386]="FocalLength",n[37396]="SubjectArea",n[41483]="FlashEnergy",n[41484]="SpatialFrequencyResponse",n[41486]="FocalPlaneXResolution",n[41487]="FocalPlaneYResolution",n[41488]="FocalPlaneResolutionUnit",n[41492]="SubjectLocation",n[41493]="ExposureIndex",n[41495]="SensingMethod",n[41728]="FileSource",n[41729]="SceneType",n[41730]="CFAPattern",n[41985]="CustomRendered",n[41986]="ExposureMode",n[41987]="WhiteBalance",n[41988]="DigitalZoomRatio",n[41989]="FocalLengthIn35mmFilm",n[41990]="SceneCaptureType",n[41991]="GainControl",n[41992]="Contrast",n[41993]="Saturation",n[41994]="Sharpness",n[41995]="DeviceSettingDescription",n[41996]="SubjectDistanceRange",n})(),le=(()=>{const n=[];return n[1024]="GTModelTypeGeoKey",n[1025]="GTRasterTypeGeoKey",n[1026]="GTCitationGeoKey",n[2048]="GeographicTypeGeoKey",n[2049]="GeogCitationGeoKey",n[2050]="GeogGeodeticDatumGeoKey",n[2051]="GeogPrimeMeridianGeoKey",n[2052]="GeogLinearUnitsGeoKey",n[2053]="GeogLinearUnitSizeGeoKey",n[2054]="GeogAngularUnitsGeoKey",n[2055]="GeogAngularUnitSizeGeoKey",n[2056]="GeogEllipsoidGeoKey",n[2057]="GeogSemiMajorAxisGeoKey",n[2058]="GeogSemiMinorAxisGeoKey",n[2059]="GeogInvFlatteningGeoKey",n[2061]="GeogPrimeMeridianLongGeoKey",n[2060]="GeogAzimuthUnitsGeoKey",n[3072]="ProjectedCSTypeGeoKey",n[3073]="PCSCitationGeoKey",n[3074]="ProjectionGeoKey",n[3075]="ProjCoordTransGeoKey",n[3076]="ProjLinearUnitsGeoKey",n[3077]="ProjLinearUnitSizeGeoKey",n[3078]="ProjStdParallel1GeoKey",n[3079]="ProjStdParallel2GeoKey",n[3080]="ProjNatOriginLongGeoKey",n[3081]="ProjNatOriginLatGeoKey",n[3082]="ProjFalseEastingGeoKey",n[3083]="ProjFalseNorthingGeoKey",n[3084]="ProjFalseOriginLongGeoKey",n[3085]="ProjFalseOriginLatGeoKey",n[3086]="ProjFalseOriginEastingGeoKey",n[3087]="ProjFalseOriginNorthingGeoKey",n[3088]="ProjCenterLongGeoKey",n[3090]="ProjCenterEastingGeoKey",n[3091]="ProjCenterNorthingGeoKey",n[3092]="ProjScaleAtNatOriginGeoKey",n[3093]="ProjScaleAtCenterGeoKey",n[3094]="ProjAzimuthAngleGeoKey",n[3095]="ProjStraightVertPoleLongGeoKey",n[4096]="VerticalCSTypeGeoKey",n[4097]="VerticalCitationGeoKey",n[4098]="VerticalDatumGeoKey",n[4099]="VerticalUnitsGeoKey",n})(),ce=new Map;ce.set("EXIFIFD",me),ce.set("GPSIFD",["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"]);const q={TIFF_TAGS:H,ifdTags:ce,GEO_KEYS:le,getTagName:(n,Q)=>{let se=(Q||H)[n];return void 0===se&&(se="unknown"+String(n)),se}}},48957:(Se,be,Y)=>{Y.d(be,{f:()=>H});const H=(()=>{const me=new ArrayBuffer(4),ge=new Uint8Array(me);return new Uint32Array(me)[0]=1,1===ge[0]})()},34589:(Se,be,Y)=>{Y.d(be,{AV:()=>W,Hv:()=>K,Oh:()=>V,ZF:()=>se,dy:()=>fe,hE:()=>n,oc:()=>q,um:()=>U});var H=Y(53661),me=Y(76082),ge=Y(79092),le=Y(60996);const ae=1,ce=[.299,.587,.114];function q(x,A=256){A=Math.min(A,256);const{size:J,counts:l}=x,m=new Uint8Array(J),c=l.reduce((r,a)=>r+a/A,0);let e=0,o=0,i=0,t=c;for(let r=0;r<J;r++)if(i+=l[r],!(r<J-1&&i+l[r+1]<t)){for(;e<A-1&&t<i;)e++,t+=c;for(let a=o;a<=r;a++)m[a]=e;o=r+1}for(let r=o;r<J;r++)m[r]=A-1;return m}function n(x){const{minCutOff:A,maxCutOff:J,gamma:l,pixelType:m,rounding:c}=x,e=x.outMin||0,o=x.outMax||255;if(!["u8","u16","s8","s16"].includes(m))return null;const i=A.length;let t,r,a=0;"s8"===m?a=-127:"s16"===m&&(a=-32767);let _=256;["u16","s16"].includes(m)&&(_=65536);const s=[],p=[],T=o-e;for(t=0;t<i;t++)p[t]=J[t]-A[t],s[t]=0===p[t]?0:T/p[t];let B;const F=[];let G,w,P;if(l&&l.length>=i){const b=U(i,l);for(t=0;t<i;t++){for(P=[],r=0;r<_;r++)if(0!==p[t])if(G=r+a,B=(G-A[t])/p[t],w=1,l[t]>1&&(w-=(1/T)**(B*b[t])),G<J[t]&&G>A[t]){const v=w*T*B**(1/l[t])+e;P[r]="floor"===c?Math.floor(v):"round"===c?Math.round(v):v}else P[r]=G>=J[t]?o:e;else P[r]=e;F[t]=P}}else for(t=0;t<i;t++){for(P=[],r=0;r<_;r++)if(G=r+a,G<=A[t])P[r]=e;else if(G>=J[t])P[r]=o;else{const b=(G-A[t])*s[t]+e;P[r]="floor"===c?Math.floor(b):"round"===c?Math.round(b):b}F[t]=P}if(null!=x.contrastOffset){const b=function Q(x,A){const J=Math.min(Math.max(x,-100),100),l=Math.min(Math.max(A??0,-100),100),m=255;let e=0,o=0;const i=new Uint8Array(256);for(e=0;e<256;e++)J>0&&J<100?o=(200*e-25500+510*l)/(2*(100-J))+128:J<=0&&J>-100?o=(200*e-25500+510*l)*(100+J)/2e4+128:100===J?(o=200*e-25500+256*(100-J)+510*l,o=o>0?m:0):-100===J&&(o=128),i[e]=o>m?m:o<0?0:o;return i}(x.contrastOffset,x.brightnessOffset);for(t=0;t<i;t++)for(P=F[t],r=0;r<_;r++)P[r]=b[P[r]]}return{lut:F,offset:a}}function se(x,A,J){const l=[];for(let m=0;m<A.length;m++){let c=0,e=0,o=0;"min"in A[m]?({min:c,max:e,avg:o}=A[m]):[c,e,o]=A[m];let i=o??0;"u8"!==x&&(i=255*(i-c)/(e-c)),J&&(i*=ce[m]),l.push(I(i))}return l}function I(x){if(x<=0||x>=255)return ae;let A=0;150!==x&&(A=x<=150?45*Math.cos(.01047*x):17*Math.sin(.021*x));const l=x+A,m=Math.log(x/255),c=Math.log(l/255);if(0===c)return ae;const e=m/c;return isNaN(e)?ae:Math.min(9.9,Math.max(.01,e))}function K(x){if((0,H.Wi)(x)||!x.pixels?.length)return null;const{pixels:A,mask:J,pixelType:l}=x,m=x.width*x.height,c=A.length;let e,o,i,t,r;const a=[],_=[];let s,p,T,B,F,G,w,P,b,v;const N=256;for(t=0;t<c;t++){if(s=new Uint32Array(N),T=A[t],"u8"===l)if(e=-.5,o=255.5,J)for(r=0;r<m;r++)J[r]&&s[T[r]]++;else for(r=0;r<m;r++)s[T[r]]++;else{let k=!1;x.statistics||(x.updateStatistics(),k=!0);const u=x.statistics;if(e=u[t].minValue,o=u[t].maxValue,i=(o-e)/N,0===i){!u||x.validPixelCount||k||x.updateStatistics();const S=(x.validPixelCount||x.width*x.height)/N;for(let L=0;L<N;L++)s[L]=Math.round(S*(L+1))-Math.round(S*L)}else{for(p=new Uint32Array(257),r=0;r<m;r++)J&&!J[r]||p[Math.floor((T[r]-e)/i)]++;for(r=0;r<255;r++)s[r]=p[r];s[255]=p[255]+p[N]}}for(a.push({min:e,max:o,size:N,counts:s}),B=0,F=0,P=0,r=0;r<N;r++)B+=s[r],F+=r*s[r];for(b=F/B,r=0;r<N;r++)P+=s[r]*(r-b)**2;v=Math.sqrt(P/(B-1)),i=(o-e)/N,G=(b+.5)*i+e,w=v*i,_.push({min:e,max:o,avg:G,stddev:w})}return{statistics:_,histograms:a}}function V(x){const A=[];for(let J=0;J<x.length;J++){const{min:l,max:m,size:c,counts:e}=x[J];let o=0,i=0;for(let p=0;p<c;p++)o+=e[p],i+=p*e[p];const t=i/o;let r=0;for(let p=0;p<c;p++)r+=e[p]*(p-t)**2;const a=(m-l)/c,_=(t+.5)*a+l,s=Math.sqrt(r/(o-1))*a;A.push({min:l,max:m,avg:_,stddev:s})}return A}function W(x,A){const{pixelBlock:J,bandIds:l,returnHistogramLut:m,rasterInfo:c}=A;let e=null,o=null,i=x.stretchType;if("number"==typeof i&&(i=le.J[i]),x.dra)if("minMax"===i&&(0,H.pC)(J)&&J.statistics)e=J.statistics.map(S=>[S.minValue,S.maxValue,0,0]);else{const S=K(J);e=(0,H.pC)(S)?S.statistics:null,o=(0,H.pC)(S)?S.histograms:null}else e=x.statistics?.length>0?x.statistics:(0,H.Wg)(c.statistics),o=x.histograms||(0,H.Wg)(c.histograms);"percentClip"!==i&&"histogramEqualization"!==i||o?.length||(i="minMax");const t=e?.length||o?.length||c.bandCount,r=[],a=[];let _,s,p,T,B,F,G,w,P;e&&!Array.isArray(e[0])&&(e=e.map(S=>[S.min,S.max,S.avg,S.stddev]));const[b,v]=(0,ge.r)(c.pixelType);if(!e?.length){for(e=[],w=0;w<t;w++)e.push([b,v,1,1]);"standardDeviation"===i&&(i="minMax")}switch(i){case"none":for(w=0;w<t;w++)r[w]=b,a[w]=v;break;case"minMax":for(w=0;w<t;w++)r[w]=e[w][0],a[w]=e[w][1];break;case"standardDeviation":for(w=0;w<t;w++)r[w]=e[w][2]-x.numberOfStandardDeviations*e[w][3],a[w]=e[w][2]+x.numberOfStandardDeviations*e[w][3],r[w]<e[w][0]&&(r[w]=e[w][0]),a[w]>e[w][1]&&(a[w]=e[w][1]);break;case"histogramEqualization":for((0,H.O3)(o),w=0;w<t;w++)r[w]=o[w].min,a[w]=o[w].max;break;case"percentClip":for((0,H.O3)(o),w=0;w<o.length;w++){for(_=o[w],B=new Uint32Array(_.size),T=[..._.counts],T.length>=20&&(T[0]=T[1]=T[2]=T[T.length-1]=T[T.length-2]=0),p=0,s=(_.max-_.min)/_.size,G=-.5===_.min&&1===s?.5:0,P=0;P<_.size;P++)p+=T[P],B[P]=p;for(F=(x.minPercent||0)*p/100,r[w]=_.min+G,P=0;P<_.size;P++)if(B[P]>F){r[w]=_.min+s*(P+G);break}for(F=(1-(x.maxPercent||0)/100)*p,a[w]=_.max+G,P=_.size-2;P>=0;P--)if(B[P]<F){a[w]=_.min+s*(P+2-G);break}if(a[w]<r[w]){const S=r[w];r[w]=a[w],a[w]=S}}break;default:for(w=0;w<t;w++)r[w]=e[w][0],a[w]=e[w][1]}let N,k,u;return"histogramEqualization"===i?((0,H.O3)(o),k=o[0].size||256,N=0,m&&(u=o.map(S=>q(S)))):(k=x.max||255,N=x.min||0),function ne(x,A){if(null==A||0===A.length)return x;const J=Math.max.apply(null,A),{minCutOff:l,maxCutOff:m,outMin:c,outMax:e,histogramLut:o}=x;return l.length===A.length||l.length<=J?x:{minCutOff:A.map(i=>l[i]),maxCutOff:A.map(i=>m[i]),histogramLut:o?A.map(i=>o[i]):null,outMin:c,outMax:e}}({minCutOff:r,maxCutOff:a,outMax:k,outMin:N,histogramLut:u},l)}function U(x,A){const J=new Float32Array(x);for(let l=0;l<x;l++)J[l]=A[l]>1?A[l]>2?6.5+(A[l]-2)**2.5:6.5+100*(2-A[l])**4:1;return J}function fe(x,A){if((0,H.Wi)(x)||!x.pixels?.length)return x;const{mask:J,width:l,height:m,pixels:c}=x,{minCutOff:e,maxCutOff:o,gamma:i}=A,t=A.outMin||0,r=A.outMax||255,a=l*m,_=A.outputPixelType||"u8",s=x.pixels.map(()=>me.Z.createEmptyBand(_,a)),p=s.length;let T,B,F,G,w;const P=r-t,b=[],v=[];for(T=0;T<p;T++)v[T]=o[T]-e[T],b[T]=0===v[T]?0:P/v[T];const N=_.startsWith("u")||_.startsWith("s"),u=!!A.isRenderer;if(i&&i.length>=p){const L=U(p,i);for(B=0;B<a;B++)if(null==J||J[B])for(T=0;T<p;T++)if(0!==v[T])if(F=c[T][B],w=(F-e[T])/v[T],G=1,i[T]>1&&(G-=(1/P)**(w*L[T])),F<o[T]&&F>e[T]){const Z=G*P*w**(1/i[T])+t;s[T][B]=u?Math.floor(Z):N?Math.round(Z):Z}else s[T][B]=F>=o[T]?r:t;else s[T][B]=t}else for(B=0;B<a;B++)if(null==J||J[B])for(T=0;T<p;T++)if(F=c[T][B],F<o[T]&&F>e[T]){const L=(F-e[T])*b[T]+t;s[T][B]=u?Math.floor(L):N?Math.round(L):L}else s[T][B]=F>=o[T]?r:t;const S=new me.Z({width:l,height:m,mask:J,pixels:s,pixelType:_});return S.updateStatistics(),S}},26908:(Se,be,Y)=>{Y.d(be,{M_:()=>n,TK:()=>le,Ub:()=>ce,vC:()=>ae,yg:()=>q});var H=Y(53661),me=Y(76082),ge=Y(26890);function le(Q){let{altitude:se,azimuth:I}=Q;const{hillshadeType:K,pixelSizePower:V=1,pixelSizeFactor:W=1,scalingType:ne,isGCS:U,resolution:fe}=Q,x="multi-directional"===K?2*Q.zFactor:Q.zFactor,{x:A,y:J}=fe;let l=x/(8*A),m=x/(8*J);if(U&&x>.001&&(l/=111e3,m/=111e3),"adjusted"===ne)if(U){const w=111e3*A,P=111e3*J;l=(x+w**V*W)/(8*w),m=(x+P**V*W)/(8*P)}else l=(x+A**V*W)/(8*A),m=(x+J**V*W)/(8*J);let c=(90-se)*Math.PI/180,e=Math.cos(c),o=(360-I+90)*Math.PI/180,i=Math.sin(c)*Math.cos(o),t=Math.sin(c)*Math.sin(o);const r=[315,270,225,360,180,0],a=[60,60,60,60,60,90],_=new Float32Array([3,5,3,2,1,4]),s=_.reduce((w,P)=>w+P),p=_.map(w=>w/s),T="multi-directional"===K?r.length:1,B=new Float32Array(6),F=new Float32Array(6),G=new Float32Array(6);if("multi-directional"===K)for(let w=0;w<T;w++)se=a[w],I=r[w],c=(90-se)*Math.PI/180,e=Math.cos(c),o=(360-I+90)*Math.PI/180,i=Math.sin(c)*Math.cos(o),t=Math.sin(c)*Math.sin(o),B[w]=e,F[w]=i,G[w]=t;else B.fill(e),F.fill(i),G.fill(t);return{resolution:fe,factor:[l,m],sinZcosA:i,sinZsinA:t,cosZ:e,sinZcosAs:F,sinZsinAs:G,cosZs:B,weights:p,hillshadeType:["traditional","multi-directional"].indexOf(K)}}function ae(Q,se){if(!(0,ge.nk)(Q))return Q;const{width:I,height:K,mask:V}=Q,W=new Uint8Array(I*K);let ne=1;if((0,H.pC)(V)){for(let b=0;b<V.length;b++)if(V[b]){ne=V[b];break}W.set(V)}const{factor:U,sinZcosA:fe,sinZsinA:x,cosZ:A,sinZcosAs:J,sinZsinAs:l,cosZs:m,weights:c}=le(se),[e,o]=U,{hillshadeType:i}=se,t=Q.pixels[0],r=new Uint8Array(I*K);let a,_,s,p,T,B,F,G;const P=(0,H.pC)(V);for(let b=1;b<K-1;b++){const v=b*I;for(let N=1;N<I-1;N++){if(V&&!V[v+N]){r[v+N]=0;continue}let k=8;if(P&&(k=(V[v-I+N-1]+V[v-I+N]+V[v-I+N+1]+V[v+N-1]+V[v+N+1]+V[v+I+N-1]+V[v+I+N]+V[v+I+N+1])/ne,k<7)){r[v+N]=0,W[v+N]=0;continue}V&&7===k?(a=V[v-I+N-1]?t[v-I+N-1]:t[v+N],_=V[v-I+N]?t[v-I+N]:t[v+N],s=V[v-I+N+1]?t[v-I+N+1]:t[v+N],p=V[v+N-1]?t[v+N-1]:t[v+N],T=V[v+N+1]?t[v+N+1]:t[v+N],B=V[v+I+N-1]?t[v+I+N-1]:t[v+N],F=V[v+I+N]?t[v+I+N]:t[v+N],G=V[v+I+N+1]?t[v+I+N+1]:t[v+N]):(a=t[v-I+N-1],_=t[v-I+N],s=t[v-I+N+1],p=t[v+N-1],T=t[v+N+1],B=t[v+I+N-1],F=t[v+I+N],G=t[v+I+N+1]);const u=(s+T+T+G-(a+p+p+B))*e,S=(B+F+F+G-(a+_+_+s))*o,L=Math.sqrt(1+u*u+S*S);let Z=0;if("traditional"===i){let X=255*(A+x*S-fe*u)/L;X<0&&(X=0),Z=X}else{const X=l.length;for(let g=0;g<X;g++){let f=255*(m[g]+l[g]*S-J[g]*u)/L;f<0&&(f=0),Z+=f*c[g]}}r[v+N]=255&Z}}for(let b=0;b<K;b++)r[b*I]=r[b*I+1],r[(b+1)*I-1]=r[(b+1)*I-2];for(let b=1;b<I-1;b++)r[b]=r[b+I],r[b+(K-1)*I]=r[b+(K-2)*I];return new me.Z({width:I,height:K,pixels:[r],mask:V?W:null,pixelType:"u8",validPixelCount:Q.validPixelCount,statistics:[{minValue:0,maxValue:255}]})}function ce(Q,se,I,K){if(!(0,ge.nk)(Q)||!(0,ge.nk)(se))return;const{min:V,max:W}=K,ne=Q.pixels[0],{pixels:U,mask:fe}=se,x=U[0],A=255.00001/(W-V),J=new Uint8ClampedArray(x.length),l=new Uint8ClampedArray(x.length),m=new Uint8ClampedArray(x.length),c=I.length-1;for(let e=0;e<x.length;e++){if(fe&&0===fe[e])continue;const o=Math.floor((x[e]-V)*A),[i,t]=I[o<0?0:o>c?c:o],r=ne[e],a=r*t,_=a*(1-Math.abs(i%2-1)),s=r-a;switch(Math.floor(i)){case 0:J[e]=a+s,l[e]=_+s,m[e]=s;break;case 1:J[e]=_+s,l[e]=a+s,m[e]=s;break;case 2:J[e]=s,l[e]=a+s,m[e]=_+s;break;case 3:J[e]=s,l[e]=_+s,m[e]=a+s;break;case 4:J[e]=_+s,l[e]=s,m[e]=a+s;break;case 5:case 6:J[e]=a+s,l[e]=s,m[e]=_+s}}Q.pixels=[J,l,m],Q.updateStatistics()}function q(Q,se){if(!(0,ge.nk)(Q))return Q;const I=se.zFactor,K=se.pixelSizePower??1,V=se.pixelSizeFactor??1,W=se.slopeType,ne=se.isGCS,{width:U,height:fe,mask:x}=Q,A=Q.pixels[0],J=new Uint8Array(U*fe);let l=1;if((0,H.pC)(x)){for(let P=0;P<x.length;P++)if(x[P]){l=x[P];break}J.set(x)}const m=new Float32Array(U*fe),{x:c,y:e}=se.resolution;let r,a,_,s,p,T,B,F,o=I/(8*c),i=I/(8*e);ne&&Math.abs(I-1)<1e-4&&(o/=111e3,i/=111e3),"adjusted"===W&&(o=(I+c**K*V)/(8*c),i=(I+e**K*V)/(8*e));const G=(0,H.pC)(x);for(let P=1;P<fe-1;P++){const b=P*U;for(let v=1;v<U-1;v++){if(x&&!x[b+v]){m[b+v]=0;continue}let N=0;if(G&&(N=(x[b-U+v-1]+x[b-U+v]+x[b-U+v+1]+x[b+v-1]+x[b+v+1]+x[b+U+v-1]+x[b+U+v]+x[b+U+v+1])/l,N<7)){m[b+v]=0,J[b+v]=0;continue}x&&7===N?(r=x[b-U+v-1]?A[b-U+v-1]:A[b+v],a=x[b-U+v]?A[b-U+v]:A[b+v],_=x[b-U+v+1]?A[b-U+v+1]:A[b+v],s=x[b+v-1]?A[b+v-1]:A[b+v],p=x[b+v+1]?A[b+v+1]:A[b+v],T=x[b+U+v-1]?A[b+U+v-1]:A[b+v],B=x[b+U+v]?A[b+U+v]:A[b+v],F=x[b+U+v+1]?A[b+U+v+1]:A[b+v]):(r=A[b-U+v-1],a=A[b-U+v],_=A[b-U+v+1],s=A[b+v-1],p=A[b+v+1],T=A[b+U+v-1],B=A[b+U+v],F=A[b+U+v+1]);const k=(_+p+p+F-(r+s+s+T))*o,u=(T+B+B+F-(r+a+a+_))*i,S=Math.sqrt(k*k+u*u);m[b+v]="percent-rise"===W?100*S:57.2957795*Math.atan(S)}}for(let P=0;P<fe;P++)m[P*U]=m[P*U+1],m[(P+1)*U-1]=m[(P+1)*U-2];for(let P=1;P<U-1;P++)m[P]=m[P+U],m[P+(fe-1)*U]=m[P+(fe-2)*U];const w=new me.Z({width:U,height:fe,pixels:[m],mask:x?J:null,pixelType:"f32",validPixelCount:Q.validPixelCount});return w.updateStatistics(),w}function n(Q,se={}){if(!(0,ge.nk)(Q))return Q;const{width:I,height:K,mask:V}=Q,W=Q.pixels[0],ne=new Uint8Array(I*K);(0,H.pC)(V)&&ne.set(V);const U=new Float32Array(I*K),{resolution:fe}=se,x=fe?1/fe.x:1,A=fe?1/fe.y:1;let l,m,c,e,o,i,t,r;const a=(0,H.pC)(V);for(let _=1;_<K-1;_++){const s=_*I;for(let p=1;p<I-1;p++){if(V&&!V[s+p]){U[s+p]=0;continue}let T=0;if(a&&(T=V[s-I+p-1]+V[s-I+p]+V[s-I+p+1]+V[s+p-1]+V[s+p+1]+V[s+I+p-1]+V[s+I+p]+V[s+I+p+1],T<7)){U[s+p]=0,ne[s+p]=0;continue}V&&7===T?(l=V[s-I+p-1]?W[s-I+p-1]:W[s+p],m=V[s-I+p]?W[s-I+p]:W[s+p],c=V[s-I+p+1]?W[s-I+p+1]:W[s+p],e=V[s+p-1]?W[s+p-1]:W[s+p],o=V[s+p+1]?W[s+p+1]:W[s+p],i=V[s+I+p-1]?W[s+I+p-1]:W[s+p],t=V[s+I+p]?W[s+I+p]:W[s+p],r=V[s+I+p+1]?W[s+I+p+1]:W[s+p]):(l=W[s-I+p-1],m=W[s-I+p],c=W[s-I+p+1],e=W[s+p-1],o=W[s+p+1],i=W[s+I+p-1],t=W[s+I+p],r=W[s+I+p+1]);const B=(c+o+o+r-(l+e+e+i))*x,F=(i+t+t+r-(l+m+m+c))*A;let G=-1;0===B&&0===F||(G=90-57.29578*Math.atan2(F,-B),G<0&&(G+=360),360===G?G=0:G>360&&(G%=360)),U[s+p]=G}}for(let _=0;_<K;_++)U[_*I]=U[_*I+1],U[(_+1)*I-1]=U[(_+1)*I-2];for(let _=1;_<I-1;_++)U[_]=U[_+I],U[_+(K-1)*I]=U[_+(K-2)*I];return new me.Z({width:I,height:K,pixels:[U],mask:V?ne:null,pixelType:"f32",validPixelCount:Q.validPixelCount,statistics:[{minValue:0,maxValue:360}]})}},47088:(Se,be,Y)=>{Y.d(be,{Z:()=>J});var H=Y(18100),me=Y(44660),ge=Y(44480),le=Y(28191),ae=Y(53661),ce=Y(9497),Q=(Y(83382),Y(19420),Y(20891)),se=Y(14385),I=Y(26890),K=Y(34589),V=Y(26908),W=Y(49084);let x=class extends ge.wq{constructor(l){super(l)}bind(){const{rendererJSON:l}=this;if(!l)return{success:!1};let m;switch(this.lookup={rendererJSON:{}},l.type){case"uniqueValue":m=this._updateUVRenderer(l);break;case"rasterColormap":m=this._updateColormapRenderer(l);break;case"rasterStretch":m=this._updateStretchRenderer(l);break;case"classBreaks":m=this._updateClassBreaksRenderer(l);break;case"rasterShadedRelief":m=this._updateShadedReliefRenderer(l);break;case"vectorField":m=this._updateVectorFieldRenderer();break;case"flowRenderer":m=this._updateFlowRenderer()}return m}symbolize(l){let m=l&&l.pixelBlock;if(!A(m))return m;if(l.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(m,l.simpleStretchParams);try{let c;switch(m.pixels.length>3&&(m=(0,I.qF)(m,[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":c=this._symbolizeColormap(m);break;case"classBreaks":c=this._symbolizeClassBreaks(m);break;case"rasterStretch":c=this._symbolizeStretch(m,l.bandIds);break;case"rasterShadedRelief":{const e=l.extent;c=this._symbolizeShadedRelief(m,{isGCS:e.spatialReference.isGeographic,resolution:{x:(e.xmax-e.xmin)/m.width,y:(e.ymax-e.ymin)/m.height}});break}}return c}catch(c){return le.Z.getLogger(this.declaredClass).error("symbolize",c.message),m}}simpleStretch(l,m){if(!A(l))return l;try{return l.pixels.length>3&&(l=(0,I.qF)(l,[0,1,2])),(0,K.dy)(l,{...m,isRenderer:!0})}catch(c){return le.Z.getLogger(this.declaredClass).error("symbolize",c.message),l}}generateWebGLParameters(l){if(["uniqueValue","rasterColormap","classBreaks"].includes(this.rendererJSON.type)){const{indexedColormap:t,offset:r}=this.lookup.colormapLut||{};return{colormap:t,colormapOffset:r,type:"lut"}}const{pixelBlock:m,isGCS:c,resolution:e,bandIds:o}=l,{rendererJSON:i}=this;return"rasterStretch"===i.type?this._generateStretchWebGLParams(m,i,o):"rasterShadedRelief"===i.type?this._generateShadedReliefWebGLParams(i,c,e??void 0):"vectorField"===i.type?this._generateVectorFieldWebGLParams(i):null}_isLUTChanged(l){return!this.lookup||!this.lookup.rendererJSON||("colorRamp"in this.rendererJSON&&l?JSON.stringify(this.rendererJSON.colorRamp)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON))}_symbolizeColormap(l){return this._isLUTChanged()&&!this.bind().success?l:(0,I.SJ)(l,this.lookup.colormapLut)}_symbolizeClassBreaks(l){const{canUseIndexedLUT:m}=this._analyzeClassBreaks(this.rendererJSON);return this._isLUTChanged()&&!this.bind().success?l:m?(0,I.SJ)(l,this.lookup.colormapLut):(0,I.zp)(l,this.lookup.remapLut??[])}_symbolizeStretch(l,m){const{rasterInfo:c}=this,{pixelType:e,bandCount:o}=c,i=this.rendererJSON,t=["u8","u16","s8","s16"].includes(e);let r,a;const{dra:_}=i,{gamma:s}=this.lookup;if("histogramEqualization"===i.stretchType){const p=_?null:this.lookup?.histogramLut,T=(0,K.AV)(i,{rasterInfo:c,pixelBlock:l,bandIds:m,returnHistogramLut:!p}),B=(0,K.dy)(l,{...T,gamma:s,isRenderer:!0});a=(0,I.XV)(B,{lut:_?T.histogramLut:p,offset:0})}else if(t){if(_){const p=(0,K.AV)(i,{rasterInfo:c,pixelBlock:l,bandIds:m});r=(0,K.hE)({pixelType:e,...p,gamma:s,rounding:"floor"})}else if(this._isLUTChanged()){if(!this.bind().success)return l;r=this.lookup?this.lookup.stretchLut:null}else r=this.lookup?this.lookup.stretchLut:null;if(!r)return l;o>1&&m?.length===(0,ae.Wg)(l)?.pixels.length&&r?.lut.length===o&&(r={lut:m.map(p=>r.lut[p]),offset:r.offset}),a=(0,I.XV)(l,r)}else{const p=(0,K.AV)(i,{rasterInfo:c,pixelBlock:l,bandIds:m});a=(0,K.dy)(l,{...p,gamma:s,isRenderer:!0})}if(i.colorRamp){if(this._isLUTChanged(!0)&&!this.bind().success)return l;a=(0,I.SJ)(a,this.lookup?.colormapLut)}return a}_symbolizeShadedRelief(l,m){const c=this.rendererJSON,e={...c,...m},o=(0,V.vC)(l,e);if(!c.colorRamp)return o;let i;if(this._isLUTChanged(!0)){if(!this.bind().success)return o;i=this.lookup?this.lookup.hsvMap:null}else i=this.lookup?this.lookup.hsvMap:null;if(!i)return o;const t=(0,ae.Wg)(this.rasterInfo.statistics)?.[0]??{min:0,max:8e3};return(0,V.Ub)(o,l,i,t),o}_isVectorFieldData(){const{bandCount:l,dataType:m}=this.rasterInfo;return 2===l&&("vector-magdir"===m||"vector-uv"===m)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(l){const{bandCount:m,attributeTable:c,pixelType:e}=this.rasterInfo,o=l.field1;if(!o)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const i=l.defaultSymbol,t=1===m&&["u8","s8"].includes(e);if(!function ne(l,m){const{attributeTable:c,bandCount:e}=l;return!((0,ae.Wi)(c)||e>1||m&&null==c.fields.find(o=>o.name.toLowerCase()===m.toLowerCase()))}(this.rasterInfo,o)&&!t)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const r=[];if((0,ae.pC)(c)){const _=c.fields.find(s=>"value"===s.name.toLowerCase());if(!_)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};c.features.forEach(s=>{const p=l.uniqueValueInfos?.find(B=>String(B.value)===String(s.attributes[o])),T=p?.symbol?.color;T?r.push([s.attributes[_.name]].concat(T)):i&&r.push([s.attributes[_.name]].concat(i.color))})}else{if("value"!==o.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not availalbe.'};l.uniqueValueInfos?.forEach(_=>{const s=_?.symbol?.color;s?r.push([parseInt(""+_.value,10)].concat(s)):i&&r.push([parseInt(""+_.value,10)].concat(i?.color))})}if(0===r.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const a=(0,I.Pz)({colormap:r});return this.lookup={rendererJSON:l,colormapLut:a},this.canRenderInWebGL=!0,{success:!0}}_updateColormapRenderer(l){if(!function fe(l){const{bandCount:m,colormap:c}=l;return(0,ae.pC)(c)&&c.length>0&&1===m}(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const m=l.colormapInfos.map(e=>[e.value].concat(e.color)).sort((e,o)=>e[0]-o[0]);if(!m||0===m.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const c=(0,I.Pz)({colormap:m});return this.lookup={rendererJSON:l,colormapLut:c},this.canRenderInWebGL=!0,{success:!0}}_updateShadedReliefRenderer(l){if(!function U(l){const{bandCount:m,dataType:c,pixelType:e}=l;return"elevation"===c||"generic"===c&&1===m&&("s16"===e||"f32"===e||"f64"===e)}(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.`};if(l.colorRamp){const m=(0,W.Jw)(l.colorRamp,{interpolateAlpha:!0}),c=(0,I.Pz)({colormap:m}),e=[],o=c.indexedColormap;for(let i=0;i<o.length;i+=4){const t=(0,me._Y)({r:o[i],g:o[i+1],b:o[i+2]});e.push([t.h/60,t.s/100,255*t.v/100])}this.lookup={rendererJSON:l,colormapLut:c,hsvMap:e}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(l){const{attributeTable:m,pixelType:c}=this.rasterInfo,e=(0,ae.pC)(m)?m.fields.find(t=>"value"===t.name.toLowerCase()):null,o=(0,ae.pC)(m)?m.fields.find(t=>t.name.toLowerCase()===l.field.toLowerCase()):null,i=null!=e&&null!==o;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(c)||i,tableValueField:e,tableBreakField:o}}_updateClassBreaksRenderer(l){const{attributeTable:m}=this.rasterInfo,{canUseIndexedLUT:c,tableValueField:e,tableBreakField:o}=this._analyzeClassBreaks(l),i=l.classBreakInfos;if(!i?.length)return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const t=i.sort((p,T)=>p.classMaxValue-T.classMaxValue),r=t[t.length-1];let a=l.minValue;if(!c){const p=[];for(let T=0;T<t.length;T++)p.push({value:t[T].classMinValue??a,mappedColor:t[T].symbol.color}),a=t[T].classMaxValue;return p.push({value:r.classMaxValue,mappedColor:r.symbol.color}),this.lookup={rendererJSON:l,remapLut:p},this.canRenderInWebGL=!1,{success:!0}}const _=[];if((0,ae.pC)(m)&&null!=e&&null!==o&&e!==o){const p=e.name,T=o.name,B=t[t.length-1],{classMaxValue:F}=B;a=l.minValue;for(const G of m.features){const w=G.attributes[p],P=G.attributes[T],b=P===F?B:P<a?null:t.find(({classMaxValue:v})=>v>P);b&&_.push([w].concat(b.symbol.color))}}else{a=Math.floor(l.minValue);for(let p=0;p<t.length;p++){const T=t[p];for(let B=a;B<T.classMaxValue;B++)_.push([B].concat(T.symbol.color));a=Math.ceil(T.classMaxValue)}r.classMaxValue===a&&_.push([r.classMaxValue].concat(r.symbol.color))}const s=(0,I.Pz)({colormap:_,fillUnspecified:!1});return this.lookup={rendererJSON:l,colormapLut:s},this.canRenderInWebGL=!0,{success:!0}}_isHistogramRequired(l){return"percentClip"===l||"histogramEqualization"===l}_isValidRasterStatistics(l){return(0,ae.pC)(l)&&l.length>0&&null!=l[0].min&&null!=l[0].max}_updateStretchRenderer(l){let{stretchType:m,dra:c}=l;if(!("none"===m||l.statistics?.length||this._isValidRasterStatistics(this.rasterInfo.statistics)||c))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const e=(0,ae.Wg)(l.histograms||this.rasterInfo.histograms);!this._isHistogramRequired(l.stretchType)||e?.length||c||(m="minMax");const{computeGamma:o,useGamma:i,colorRamp:t}=l;let{gamma:r}=l;if(i&&o&&!r?.length){const s=l.statistics?.length?l.statistics:(0,ae.Wg)(this.rasterInfo.statistics);r=(0,K.ZF)(this.rasterInfo.pixelType,s)}const a=this.rasterInfo.pixelType,_=!c&&["u8","u16","s8","s16"].includes(a);if("histogramEqualization"===m){const s=e.map(p=>(0,K.oc)(p));this.lookup={rendererJSON:l,histogramLut:s}}else if(_){const s=(0,K.AV)(l,{rasterInfo:this.rasterInfo}),p=(0,K.hE)({pixelType:a,...s,gamma:i?r:null,rounding:"floor"});this.lookup={rendererJSON:l,stretchLut:p}}if(t){const s=(0,W.Jw)(t,{interpolateAlpha:!0});this.lookup||(this.lookup={rendererJSON:l}),this.lookup.colormapLut=(0,I.Pz)({colormap:s}),this.lookup.rendererJSON=l}return this.lookup.gamma=i&&r?.length?r:null,this.canRenderInWebGL=!0,{success:!0}}_generateStretchWebGLParams(l,m,c){let e=null,o=null;const i=this.lookup&&this.lookup.colormapLut;m.colorRamp&&i&&(e=i.indexedColormap,o=i.offset),"histogramEqualization"===m.stretchType&&(m={...m,stretchType:"minMax"});const{gamma:t}=this.lookup,r=!!(m.useGamma&&t&&t.some(v=>1!==v)),{minCutOff:a,maxCutOff:_,outMin:s,outMax:p}=(0,K.AV)(m,{rasterInfo:this.rasterInfo,pixelBlock:l,bandIds:c});let T=0;(0,ae.pC)(l)&&(T=l.getPlaneCount(),2===T&&((l=l.clone()).statistics=[l.statistics[0]],l.pixels=[l.pixels[0]]));const{bandCount:B}=this.rasterInfo,F=Math.min(3,c?.length||T||B,B),G=new Float32Array(F),w=e||r?1:255;let P;for(P=0;P<a.length;P++)G[P]=_[P]===a[P]?0:(p-s)/(_[P]-a[P])/w;const b=new Float32Array(F);if(r&&t)for(P=0;P<F;P++)b[P]=t[P]>1?t[P]>2?6.5+(t[P]-2)**2.5:6.5+100*(2-t[P])**4:1;return{bandCount:F,outMin:s/w,outMax:p/w,minCutOff:a,maxCutOff:_,factor:G,useGamma:r,gamma:r?t:[1,1,1],gammaCorrection:r?b:[1,1,1],colormap:e,colormapOffset:o,stretchType:m.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(l,m=!1,c={x:0,y:0}){let e=null,o=null;const i=this.lookup&&this.lookup.colormapLut;l.colorRamp&&i&&(e=i.indexedColormap,o=i.offset);const t={...l,isGCS:m,resolution:c},r=(0,V.TK)(t),a=(0,ae.Wg)(this.rasterInfo.statistics)?.[0];return{...r,minValue:a?.min??0,maxValue:a?.max??8e3,hillshadeType:"traditional"===l.hillshadeType?0:1,type:"hillshade",colormap:e,colormapOffset:o}}_generateVectorFieldWebGLParams(l){const{style:m,inputUnit:c,outputUnit:e,visualVariables:o,symbolTileSize:i,flowRepresentation:t}=l;let r;const a=this.rasterInfo.statistics?.[0].min??0,_=this.rasterInfo.statistics?.[0].max??50,s=o?.find(P=>"sizeInfo"===P.type)??{type:"sizeInfo",field:"Magnitude",maxDataValue:_,maxSize:.8*i,minDataValue:a,minSize:.2*i},p=s.minDataValue??a,T=s.maxDataValue??_,B=(0,ae.pC)(s.maxSize)&&(0,ae.pC)(s.minSize)?[s.minSize/i,s.maxSize/i]:[.2,.8];"wind_speed"===m&&(B[0]=B[1]=(B[0]+B[1])/2);const F=(0,ae.pC)(p)&&(0,ae.pC)(T)?[p,T]:null;if("classified_arrow"===m)if((0,ae.pC)(p)&&(0,ae.pC)(T)&&(0,ae.pC)(s)){r=[];const P=(s.maxDataValue-s.minDataValue)/5;for(let b=0;b<6;b++)r.push(s.minDataValue+P*b)}else r=[0,1e-6,3.5,7,10.5,14];const G="flow_to"===t==("ocean_current_kn"===m||"ocean_current_m"===m)?0:Math.PI,w=o?.find(P=>"rotationInfo"===P.type);return{breakValues:r,dataRange:F,inputUnit:c,outputUnit:e,symbolTileSize:i,symbolPercentRange:B,style:m||"single_arrow",rotation:G,rotationType:this.rasterInfo.storageInfo?.tileInfo&&"vector-uv"===this.rasterInfo.dataType?"geographic":w?.rotationType||l.rotationType,type:"vectorField"}}};function A(l){return(0,I.nk)(l)&&0!==l.validPixelCount}(0,H._)([(0,ce.Cb)({json:{write:!0}})],x.prototype,"rendererJSON",void 0),(0,H._)([(0,ce.Cb)({type:se.Z,json:{write:!0}})],x.prototype,"rasterInfo",void 0),(0,H._)([(0,ce.Cb)({json:{write:!0}})],x.prototype,"lookup",void 0),(0,H._)([(0,ce.Cb)()],x.prototype,"canRenderInWebGL",void 0),x=(0,H._)([(0,Q.j)("esri.renderers.support.RasterSymbolizer")],x);const J=x},49084:(Se,be,Y)=>{Y.d(be,{B4:()=>I,H0:()=>q,Jw:()=>A,Ms:()=>ae,Oi:()=>le,Uh:()=>se,XL:()=>x,io:()=>c,pM:()=>J});var H=Y(25764),me=Y(44660),ge=Y(63321);const le=["random","ndvi","ndvi2","ndvi3","elevation","gray","hillshade"],ae=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}],ce={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",blueGreenBright_predefined:"Blue-Green Bright",blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",purpleBlueBright_predefined:"Purple-Blue Bright",purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"},q=new ge.X({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right","Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue","Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","urple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright","Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright","Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});function n(e,o){if(!e||!o||e.length!==o.length)return!1;for(let i=0;i<e.length;i++)if(e[i]>o[i]+2||e[i]<o[i]-2)return!1;return!0}function se(e){const o=function Q(e,o){if(!e)return;const i=o||ae;let t=null;return"algorithmic"===e.type?i.some(r=>{if(n(e.fromColor.toRgb(),r.fromColor)&&n(e.toColor.toRgb(),r.toColor))return t=r.id,!0}):"multipart"===e.type&&i.some(r=>{const a=e.colorRamps,_=r.colorRamps;if(a&&_&&a.length===_.length&&!_.some((s,p)=>{if(!n(a[p].fromColor.toRgb(),new H.Z(s.fromColor).toRgb())||!n(a[p].toColor.toRgb(),new H.Z(s.toColor).toRgb()))return!0})){if(t)return!0;t=r.id}}),t}(e);return o?ce[o]:null}function I(e){const o=q.toJSON(e),i=Object.entries(ce).find(r=>r[1]===o)?.[0],t=ae.find(r=>r.id===i);return t?t.colorRamps?{type:"multipart",colorRamps:t.colorRamps.map(r=>({type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:r.fromColor,toColor:r.toColor}))}:{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:t.fromColor,toColor:t.toColor}:null}function K(e){const o=(e=e||{}).numColors||256,i=e.distanceOffset||0,t=null!=e.isCustomInterval?e.isCustomInterval:null!==e.distanceInterval&&e.distanceInterval!==1/(o-1),r=e.distanceInterval||1/(o-1);return{...e,numColors:o,distanceOffset:i,interpolateAlpha:!!e.interpolateAlpha,distanceInterval:r,isCustomInterval:t,weights:e.weights}}function U(e,o){let{fromColor:i,toColor:t}=e;3===i.length&&(i=i.concat([255])),3===t.length&&(t=t.concat([255]));const r=e.algorithm||"esriCIELabAlgorithm",a=K(o),{numColors:_,distanceOffset:s,isCustomInterval:p,interpolateAlpha:T}=a;if(1===_&&0===s)return[i];if(2===_&&0===s&&!p)return[i,t];const B={r:i[0],g:i[1],b:i[2]},F={r:t[0],g:t[1],b:t[2]},G="esriCIELabAlgorithm"===r?function W(e,o,i){const{numColors:t,distanceOffset:r,distanceInterval:a,isCustomInterval:_}=i;let{l:s,a:p,b:T}=e;const B=(o.l-s)*a,F=(o.a-p)*a,G=(o.b-T)*a,w=[];if(r){const P=r/a;s+=P*B,p+=P*F,T+=P*G}for(let P=0;P<t-1;P++)w.push({l:s,a:p,b:T}),s+=B,p+=F,T+=G;return w.push(_?{l:s,a:p,b:T}:o),w}((0,me.Y3)(B),(0,me.Y3)(F),a):"esriHSVAlgorithm"===r?function V(e,o,i){const{numColors:t,distanceOffset:r,distanceInterval:a,isCustomInterval:_}=i,s=0===e.s,p=0===o.s;let T=e.h,B=o.h;s&&!p?T=B:p&&!s&&(o={...o,h:T},B=T);let F,G=Math.abs(B-T);const w=360;G<180?F=(B-T)*a:(G=w-G,F=T>B?G*a:-G*a);const P=(o.s-e.s)*a,b=(o.v-e.v)*a;let{s:v,v:N}=e,k=T;if(r){const S=r/a;k=(k+S*F+w)%w,v+=S*P,N+=S*b}const u=[];for(let S=0;S<t-1;S++)u.push({h:k,s:v,v:N}),k=(k+F+w)%w,v+=P,N+=b;return u.push(_?{h:k,s:v,v:N}:o),u}((0,me._Y)(B),(0,me._Y)(F),a):function ne(e,o,i){const{numColors:t,distanceOffset:r,distanceInterval:a,isCustomInterval:_}=i,s=e.h,p=o.h,T=2*Math.PI;let B;if(s<=p){const k=p-s,u=p-s-T;B=Math.abs(u)<Math.abs(k)?u:k}else{const k=p+T-s,u=p-s;B=Math.abs(u)<Math.abs(k)?u:k}const F=B*a,G=(o.l-e.l)*a,w=(o.c-e.c)*a;let{l:P,c:b,h:v}=e;if(r){const k=r/a;P+=k*G,b+=k*w,v=(v+k*F+T)%T}const N=[];for(let k=0;k<t-1;k++)N.push({l:P,c:b,h:v}),P+=G,b+=w,v=(v+F+T)%T;return N.push(_?{l:P,c:b,h:v}:o),N}((0,me.sJ)(B),(0,me.sJ)(F),a),w=[],P=i[3]??255,b=((t[3]??255)-P)/(_-1);for(let v=0;v<_;v++){const{r:N,g:k,b:u}=(0,me.xr)(G[v]),S=T?Math.round(P+b*v):255;w.push([N,k,u,S])}return w}function x(e,o){const i="toJSON"in e?e.toJSON():e;return"multipart"===i.type?function fe(e,o){const{numColors:i,interpolateAlpha:t}=K(o);let r=o?.weights;const{colorRamps:a}=e;if(r){const G=r.reduce((w,P)=>w+P);r=r.map(w=>w/G)}else{r=[];for(let G=0;G<a.length;G++)r[G]=1/a.length}const _=[];let s=0,p=0;const T=1/(i-1);let B=!1;for(let G=0;G<a.length;G++){let w=B?0:s*T-p,P=G===a.length-1?i-1-s:(r[G]-w)/T;if(B=Math.ceil(P)===P,P=Math.ceil(P),0===P)continue;w/=r[G];const b=U(a[G],{numColors:P,interpolateAlpha:t,distanceOffset:w,distanceInterval:T/r[G]});s+=b.length,_.push(...b),p+=r[G]}const F=[...a[a.length-1].toColor];return 3===F.length&&F.push(255),_.push(F),_}(i,o):U(i,o)}function A(e,o){const i=x(e,o),t=o?.interpolateAlpha;return i.forEach((r,a)=>{r.unshift(a),t||r.pop()}),i}function J(e){const o=se(e);if(e){if("algorithmic"===e.type)return{...l(e),Name:o};if(e.colorRamps){const i=e.colorRamps.map(l);return{type:"MultiPartColorRamp",NumColorRamps:i.length,ArrayOfColorRamp:i,Name:o}}}}function l(e){if(e)return{Algorithm:e.toJSON()?.Algorithm||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:m(e.fromColor),ToColor:m(e.toColor)}}function m(e){const o=(0,me._Y)(e);return{type:"HsvColor",Hue:o.h,Saturation:o.s,Value:o.v,AlphaValue:255}}function c(e){const o=e.reverse().map(i=>{const t=i.toString(16);return t.length<2?"0"+t:t});return 4294967295&Number.parseInt(o.join(""),16)}},60996:(Se,be,Y)=>{Y.d(be,{J:()=>ge,v:()=>me});const me=new(Y(63321).X)({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),ge={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}}}]);
//# sourceMappingURL=921.e3a022ce127451c6.js.map