"use strict";(self.webpackChunkdemo_ng_forge=self.webpackChunkdemo_ng_forge||[]).push([[4720],{6099:(xt,V,T)=>{T.d(V,{G6:()=>st,Ie:()=>q,J9:()=>yt,RF:()=>H,U1:()=>gt,vY:()=>at,ym:()=>dt});var O=T(53661),w=T(71182);const L=(b,x,C)=>[x,C],G=(b,x,C)=>[x,C,b[2]],U=(b,x,C)=>[x,C,b[2],b[3]];function at(b){return b?{originPosition:"upper-left"===b.originPosition?"upperLeft":"lower-left"===b.originPosition?"lowerLeft":b.originPosition,scale:b.tolerance?[b.tolerance,b.tolerance]:[1,1],translate:(0,O.pC)(b.extent)?[b.extent.xmin,b.extent.ymax]:[0,0]}:null}function B({scale:b,translate:x},C){return Math.round((C-x[0])/b[0])}function j({scale:b,translate:x},C){return Math.round((x[1]-C)/b[1])}function J(b,x,C){const _=[];let P,v,R,N;for(let k=0;k<C.length;k++){const A=C[k];k>0?(R=B(b,A[0]),N=j(b,A[1]),R===P&&N===v||(_.push(x(A,R-P,N-v)),P=R,v=N)):(P=B(b,A[0]),v=j(b,A[1]),_.push(x(A,P,v)))}return _.length>0?_:null}function E({scale:b,translate:x},C){return C*b[0]+x[0]}function D({scale:b,translate:x},C){return x[1]-C*b[1]}function K(b,x,C){const _=new Array(C.length);if(!C.length)return _;const[P,v]=b.scale;let R=E(b,C[0][0]),N=D(b,C[0][1]);_[0]=x(C[0],R,N);for(let k=1;k<C.length;k++){const A=C[k];R+=A[0]*P,N-=A[1]*v,_[k]=x(A,R,N)}return _}function X(b,x,C){const _=new Array(C.length);for(let P=0;P<C.length;P++)_[P]=K(b,x,C[P]);return _}function H(b,x,C,_,P){return x.x=B(b,C.x),x.y=j(b,C.y),x!==C&&(_&&(x.z=C.z),P&&(x.m=C.m)),x}function dt(b,x){return b&&x?(0,w.wp)(x)?H(b,{},x,!1,!1):(0,w.l9)(x)?function pt(b,x,C,_,P){const v=function Q(b,x,C,_){const P=[],v=C?_?U:G:_?G:L;for(let R=0;R<x.length;R++){const N=J(b,v,x[R]);N&&N.length>=2&&P.push(N)}return P.length?P:null}(b,C.paths,_,P);return v?(x.paths=v,x):null}(b,{},x,!1,!1):(0,w.oU)(x)?function mt(b,x,C,_,P){const v=function W(b,x,C,_){const P=[],v=C?_?U:G:_?G:L;for(let R=0;R<x.length;R++){const N=J(b,v,x[R]);N&&N.length>=3&&P.push(N)}return P.length?P:null}(b,C.rings,_,P);return v?(x.rings=v,x):null}(b,{},x,!1,!1):(0,w.aW)(x)?function ft(b,x,C,_,P){return x.points=function ot(b,x,C,_){return J(b,C?_?U:G:_?G:L,x)}(b,C.points,_,P)??[],x}(b,{},x,!1,!1):(0,w.YX)(x)?function rt(b,x,C,_,P){return x.xmin=B(b,C.xmin),x.ymin=j(b,C.ymin),x.xmax=B(b,C.xmax),x.ymax=j(b,C.ymax),x!==C&&(_&&(x.zmin=C.zmin,x.zmax=C.zmax),P&&(x.mmin=C.mmin,x.mmax=C.mmax)),x}(b,{},x,!1,!1):null:null}function yt(b,x,C,_,P){return(0,O.pC)(C)&&(x.points=function tt(b,x,C,_){return K(b,C?_?U:G:_?G:L,x)}(b,C.points,_,P)),x}function gt(b,x,C,_,P){return(0,O.Wi)(C)||(x.x=E(b,C.x),x.y=D(b,C.y),x!==C&&(_&&(x.z=C.z),P&&(x.m=C.m))),x}function q(b,x,C,_,P){return(0,O.pC)(C)&&(x.rings=function ut(b,x,C,_){return X(b,C?_?U:G:_?G:L,x)}(b,C.rings,_,P)),x}function st(b,x,C,_,P){return(0,O.pC)(C)&&(x.paths=function et(b,x,C,_){return X(b,C?_?U:G:_?G:L,x)}(b,C.paths,_,P)),x}},4720:(xt,V,T)=>{T.r(V),T.d(V,{default:()=>A});var O=T(31385),w=T(53661),Y=T(29962),L=T(68230),G=T(83970),it=(T(84625),T(67087),T(73327),T(6848),T(6099),T(86230),T(23973));T(53492);class ${constructor(d,M,I){this.uid=d,this.geometry=M,this.attributes=I,this.visible=!0,this.objectId=null,this.centroid=null}}class ht{constructor(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null}}var q=T(50805);function st(g,d){return d}function b(g,d,M,I){switch(M){case 0:return P(g,d+I,0);case 1:return"lowerLeft"===g.originPosition?P(g,d+I,1):function v({translate:g,scale:d},M,I){return g[I]-M*d[I]}(g,d+I,1)}}function x(g,d,M,I){return 2===M?P(g,d,2):b(g,d,M,I)}function C(g,d,M,I){return 2===M?P(g,d,3):b(g,d,M,I)}function _(g,d,M,I){return 3===M?P(g,d,3):x(g,d,M,I)}function P({translate:g,scale:d},M,I){return g[I]+M*d[I]}class R{constructor(d){this._options=d,this.geometryTypes=["point","multipoint","polyline","polygon"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=st,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{}}createFeatureResult(){return new ht}finishFeatureResult(d){if(this._options.applyTransform&&(d.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!d.hasZ)return;const M=(0,G.k)(d.geometryType,this._options.sourceSpatialReference,d.spatialReference);if(!(0,w.Wi)(M))for(const I of d.features)M(I.geometry)}createSpatialReference(){return new L.Z}addField(d,M){d.fields.push(it.Z.fromJSON(M));const I=d.fields.map(F=>F.name);this._attributesConstructor=function(){for(const F of I)this[F]=null}}addFeature(d,M){const I=this._options.maxStringAttributeLength?this._options.maxStringAttributeLength:0;if(I>0)for(const F in M.attributes){const z=M.attributes[F];"string"==typeof z&&z.length>I&&(M.attributes[F]="")}d.features.push(M)}addQueryGeometry(d,M){const{queryGeometry:I,queryGeometryType:F}=M,z=(0,q.$g)(I.clone(),I,!1,!1,this._transform),S=(0,q.di)(z,F,!1,!1);let Z=null;switch(F){case"esriGeometryPoint":Z="point";break;case"esriGeometryPolygon":Z="polygon";break;case"esriGeometryPolyline":Z="polyline";break;case"esriGeometryMultipoint":Z="multipoint"}S.type=Z,d.queryGeometryType=F,d.queryGeometry=S}prepareFeatures(d){switch(this._transform=d.transform??null,this._options.applyTransform&&d.transform&&(this._applyTransform=this._deriveApplyTransform(d)),this._vertexDimension=2,d.hasZ&&this._vertexDimension++,d.hasM&&this._vertexDimension++,d.geometryType){case"point":this.addCoordinate=(M,I,F)=>this.addCoordinatePoint(M,I,F),this.createGeometry=M=>this.createPointGeometry(M);break;case"polygon":this.addCoordinate=(M,I,F)=>this._addCoordinatePolygon(M,I,F),this.createGeometry=M=>this._createPolygonGeometry(M);break;case"polyline":this.addCoordinate=(M,I,F)=>this._addCoordinatePolyline(M,I,F),this.createGeometry=M=>this._createPolylineGeometry(M);break;case"multipoint":this.addCoordinate=(M,I,F)=>this._addCoordinateMultipoint(M,I,F),this.createGeometry=M=>this._createMultipointGeometry(M);break;case"mesh":case"extent":break;default:(0,O.Bg)(d.geometryType)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,new $((0,Y.D)(),null,new this._attributesConstructor)}allocateCoordinates(){const d=this._lengths.reduce((M,I)=>M+I,0);this._coordinateBuffer=new Float64Array(d*this._vertexDimension),this._coordinateBufferPtr=0}addLength(d,M){0===this._lengths.length&&(this._toAddInCurrentPath=M),this._lengths.push(M)}createPointGeometry(d){const M={type:"point",x:0,y:0,spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM};return M.hasZ&&(M.z=0),M.hasM&&(M.m=0),M}addCoordinatePoint(d,M,I){const F=this._transform?this._applyTransform(this._transform,M,I,0):M;if(null!=F)switch(I){case 0:d.x=F;break;case 1:d.y=F;break;case 2:d.hasZ?d.z=F:d.m=F;break;case 3:d.m=F}}_transformPathLikeValue(d,M){let I=0;return M<=1&&(I=this._previousCoordinate[M],this._previousCoordinate[M]+=d),this._transform?this._applyTransform(this._transform,d,M,I):d}_addCoordinatePolyline(d,M,I){this._dehydratedAddPointsCoordinate(d.paths,M,I)}_addCoordinatePolygon(d,M,I){this._dehydratedAddPointsCoordinate(d.rings,M,I)}_addCoordinateMultipoint(d,M,I){0===I&&d.points.push([]);const F=this._transformPathLikeValue(M,I);d.points[d.points.length-1].push(F)}_createPolygonGeometry(d){return{type:"polygon",rings:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}}_createPolylineGeometry(d){return{type:"polyline",paths:[[]],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}}_createMultipointGeometry(d){return{type:"multipoint",points:[],spatialReference:d.spatialReference,hasZ:!!d.hasZ,hasM:!!d.hasM}}_dehydratedAddPointsCoordinate(d,M,I){0===I&&0==this._toAddInCurrentPath--&&(d.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const F=this._transformPathLikeValue(M,I),S=this._coordinateBuffer;if(S){if(0===I){const Z=this._coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT;d[d.length-1].push(new Float64Array(S.buffer,Z,this._vertexDimension))}S[this._coordinateBufferPtr++]=F}}_deriveApplyTransform(d){const{hasZ:M,hasM:I}=d;return M&&I?_:M?x:I?C:b}}var N=T(49592);class k{_parseFeatureQuery(d){const M=(0,N.C)(d.buffer,new R(d.options)),I={...M,spatialReference:M.spatialReference?.toJSON(),fields:M.fields?M.fields.map(F=>F.toJSON()):void 0};return Promise.resolve(I)}}function A(){return new k}}}]);
//# sourceMappingURL=4720.47d2cc168c4779a1.js.map