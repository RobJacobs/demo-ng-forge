"use strict";(self.webpackChunkdemo_ng_forge=self.webpackChunkdemo_ng_forge||[]).push([[378],{9378:(de,At,G)=>{G.r(At),G.d(At,{ChartTypes:()=>L,ChartsComponent:()=>Ld});var yt=G(316),vt=G(496),tt=G(4607),_=G(8559),Z=G(9074),et=G(8537),j=G(4956);const W="app-chart",C={classes:{CHART_PREFIX:W,CHART_ROOT:`${W}__root`,CHART_YAXIS:`${W}__yaxis`,CHART_XAXIS:`${W}__xaxis`,CHART_NODE:`${W}__node`,CHART_TEXT:`${W}__text`,CHART_LEGEND:`${W}__legend`,CHART_METER:`${W}__meter`,CHART_POPOVER:`${W}__popover`,CHART_CLIP:`${W}__clip`,CHART_TEXT_LABEL:`${W}__text-label`,CHART_TEXT_VALUE:`${W}__text-value`,LEGEND_TEXT:`${W}__legend-text`,LEGEND_TEXT_LABEL:`${W}__legend-text-label`,LEGEND_TEXT_VALUE:`${W}__legend-text-value`},numbers:{TRANSITION_DURATION:500},strings:{FONT_FAMILY:"Roboto",FONT_SIZE_SMALL:"10px",FONT_SIZE:"16px"},chartPalette:{amber600:"#ffb300",cyan400:"#26c6da",purple300:"#ba68c8",indigoA200:"#536dfe",green400:"#66bb6a",deepOrangeA200:"#ff6e40",amberA200:"#ffd740",purple200:"#ce93d8",indigo200:"#9fa8da",lightBlue200:"#81d4fa",green200:"#a5d6a7",lime200:"#e6ee9c",amber200:"#ffe082",deepOrange200:"#ffab91",grey400:"#bdbdbd"},chartTheme:{textHigh:"var(--forge-theme-text-high, rgba(0, 0, 0, 0.87))",textMedium:"var(--forge-theme-text-medium, rgba(0, 0, 0, 0.6))",textInverse:"var(--forge-theme-on-surface-inverse, #ffffff)",outline:"var(--forge-theme-outline, #e0e0e0)",outlineMedium:"var(--forge-theme-outline-medium, #757575)",surface:"var(--forge-theme-surface, #ffffff)",surfaceDim:"var(--forge-theme-surface-dim, #f5f5f5)"}};function at(t,e){let n,r;if(void 0===e)for(const a of t)null!=a&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of t)null!=(i=e(i,++a,t))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}function Ut(t){return t}var Rt=1,Ft=2,ee=3,ne=4,Qt=1e-6;function pe(t){return"translate("+t+",0)"}function Ne(t){return"translate(0,"+t+")"}function rs(t){return e=>+t(e)}function as(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function is(){return!this.__axis}function Je(t,e){var n=[],r=null,a=null,i=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Rt||t===ne?-1:1,h=t===ne||t===Ft?"x":"y",d=t===Rt||t===ee?pe:Ne;function c(p){var v=r??(e.ticks?e.ticks.apply(e,n):e.domain()),x=a??(e.tickFormat?e.tickFormat.apply(e,n):Ut),f=Math.max(i,0)+o,m=e.range(),w=+m[0]+l,T=+m[m.length-1]+l,b=(e.bandwidth?as:rs)(e.copy(),l),k=p.selection?p.selection():p,D=k.selectAll(".domain").data([null]),P=k.selectAll(".tick").data(v,e).order(),$=P.exit(),O=P.enter().append("g").attr("class","tick"),E=P.select("line"),y=P.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(O),E=E.merge(O.append("line").attr("stroke","currentColor").attr(h+"2",u*i)),y=y.merge(O.append("text").attr("fill","currentColor").attr(h,u*f).attr("dy",t===Rt?"0em":t===ee?"0.71em":"0.32em")),p!==k&&(D=D.transition(p),P=P.transition(p),E=E.transition(p),y=y.transition(p),$=$.transition(p).attr("opacity",Qt).attr("transform",function(S){return isFinite(S=b(S))?d(S+l):this.getAttribute("transform")}),O.attr("opacity",Qt).attr("transform",function(S){var M=this.parentNode.__axis;return d((M&&isFinite(M=M(S))?M:b(S))+l)})),$.remove(),D.attr("d",t===ne||t===Ft?s?"M"+u*s+","+w+"H"+l+"V"+T+"H"+u*s:"M"+l+","+w+"V"+T:s?"M"+w+","+u*s+"V"+l+"H"+T+"V"+u*s:"M"+w+","+l+"H"+T),P.attr("opacity",1).attr("transform",function(S){return d(b(S)+l)}),E.attr(h+"2",u*i),y.attr(h,u*f).text(x),k.filter(is).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ft?"start":t===ne?"end":"middle"),k.each(function(){this.__axis=b})}return c.scale=function(p){return arguments.length?(e=p,c):e},c.ticks=function(){return n=Array.from(arguments),c},c.tickArguments=function(p){return arguments.length?(n=null==p?[]:Array.from(p),c):n.slice()},c.tickValues=function(p){return arguments.length?(r=null==p?null:Array.from(p),c):r&&r.slice()},c.tickFormat=function(p){return arguments.length?(a=p,c):a},c.tickSize=function(p){return arguments.length?(i=s=+p,c):i},c.tickSizeInner=function(p){return arguments.length?(i=+p,c):i},c.tickSizeOuter=function(p){return arguments.length?(s=+p,c):s},c.tickPadding=function(p){return arguments.length?(o=+p,c):o},c.offset=function(p){return arguments.length?(l=+p,c):l},c}function Hr(t){return Je(ee,t)}function Lr(t){return Je(ne,t)}function os(){}function Un(t){return null==t?os:function(){return this.querySelector(t)}}function cs(){return[]}function Ur(t){return null==t?cs:function(){return this.querySelectorAll(t)}}function Xr(t){return function(){return this.matches(t)}}function Yr(t){return function(e){return e.matches(t)}}var ds=Array.prototype.find;function ms(){return this.firstElementChild}var ys=Array.prototype.filter;function vs(){return Array.from(this.children)}function Vr(t){return new Array(t.length)}function tn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Cs(t,e,n,r,a,i){for(var o,s=0,l=e.length,u=i.length;s<u;++s)(o=e[s])?(o.__data__=i[s],r[s]=o):n[s]=new tn(t,i[s]);for(;s<l;++s)(o=e[s])&&(a[s]=o)}function Ms(t,e,n,r,a,i,s){var o,l,p,u=new Map,h=e.length,d=i.length,c=new Array(h);for(o=0;o<h;++o)(l=e[o])&&(c[o]=p=s.call(l,l.__data__,o,e)+"",u.has(p)?a[o]=l:u.set(p,l));for(o=0;o<d;++o)p=s.call(t,i[o],o,i)+"",(l=u.get(p))?(r[o]=l,l.__data__=i[o],u.delete(p)):n[o]=new tn(t,i[o]);for(o=0;o<h;++o)(l=e[o])&&u.get(c[o])===l&&(a[o]=l)}function As(t){return t.__data__}function Ds(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function $s(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}tn.prototype={constructor:tn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Xn="http://www.w3.org/1999/xhtml";const Wr={svg:"http://www.w3.org/2000/svg",xhtml:Xn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function en(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Wr.hasOwnProperty(e)?{space:Wr[e],local:t}:t}function Us(t){return function(){this.removeAttribute(t)}}function Xs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ys(t,e){return function(){this.setAttribute(t,e)}}function Vs(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ws(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Bs(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Br(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function qs(t){return function(){this.style.removeProperty(t)}}function js(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Zs(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function me(t,e){return t.style.getPropertyValue(e)||Br(t).getComputedStyle(t,null).getPropertyValue(e)}function Ks(t){return function(){delete this[t]}}function Js(t,e){return function(){this[t]=e}}function to(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Gr(t){return t.trim().split(/^|\s+/)}function Yn(t){return t.classList||new qr(t)}function qr(t){this._node=t,this._names=Gr(t.getAttribute("class")||"")}function jr(t,e){for(var n=Yn(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function Zr(t,e){for(var n=Yn(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function no(t){return function(){jr(this,t)}}function ro(t){return function(){Zr(this,t)}}function ao(t,e){return function(){(e.apply(this,arguments)?jr:Zr)(this,t)}}function so(){this.textContent=""}function oo(t){return function(){this.textContent=t}}function uo(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function co(){this.innerHTML=""}function ho(t){return function(){this.innerHTML=t}}function fo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function mo(){this.nextSibling&&this.parentNode.appendChild(this)}function yo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _o(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Xn&&e.documentElement.namespaceURI===Xn?e.createElement(t):e.createElementNS(n,t)}}function wo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Qr(t){var e=en(t);return(e.local?wo:_o)(e)}function xo(){return null}function Co(){var t=this.parentNode;t&&t.removeChild(this)}function Ao(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ko(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Eo(t){return function(){var e=this.__on;if(e){for(var i,n=0,r=-1,a=e.length;n<a;++n)i=e[n],t.type&&i.type!==t.type||i.name!==t.name?e[++r]=i:this.removeEventListener(i.type,i.listener,i.options);++r?e.length=r:delete this.__on}}}function Io(t,e,n){return function(){var a,r=this.__on,i=function So(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var s=0,o=r.length;s<o;++s)if((a=r[s]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),void(a.value=e);this.addEventListener(t.type,i,n),a={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(a):this.__on=[a]}}function Kr(t,e,n){var r=Br(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function Oo(t,e){return function(){return Kr(this,t,e)}}function Fo(t,e){return function(){return Kr(this,t,e.apply(this,arguments))}}qr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Jr=[null];function St(t,e){this._groups=t,this._parents=e}function ta(){return new St([[document.documentElement]],Jr)}St.prototype=ta.prototype={constructor:St,select:function us(t){"function"!=typeof t&&(t=Un(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var l,u,i=e[a],s=i.length,o=r[a]=new Array(s),h=0;h<s;++h)(l=i[h])&&(u=t.call(l,l.__data__,h,i))&&("__data__"in l&&(u.__data__=l.__data__),o[h]=u);return new St(r,this._parents)},selectAll:function fs(t){t="function"==typeof t?function hs(t){return function(){return function ls(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}(t):Ur(t);for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var l,s=e[i],o=s.length,u=0;u<o;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),a.push(l));return new St(r,a)},selectChild:function gs(t){return this.select(null==t?ms:function ps(t){return function(){return ds.call(this.children,t)}}("function"==typeof t?t:Yr(t)))},selectChildren:function ws(t){return this.selectAll(null==t?vs:function _s(t){return function(){return ys.call(this.children,t)}}("function"==typeof t?t:Yr(t)))},filter:function bs(t){"function"!=typeof t&&(t=Xr(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var l,i=e[a],s=i.length,o=r[a]=[],u=0;u<s;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&o.push(l);return new St(r,this._parents)},data:function ks(t,e){if(!arguments.length)return Array.from(this,As);var n=e?Ms:Cs,r=this._parents,a=this._groups;"function"!=typeof t&&(t=function Ts(t){return function(){return t}}(t));for(var i=a.length,s=new Array(i),o=new Array(i),l=new Array(i),u=0;u<i;++u){var h=r[u],d=a[u],c=d.length,p=Ds(t.call(h,h&&h.__data__,u,r)),v=p.length,x=o[u]=new Array(v),f=s[u]=new Array(v);n(h,d,x,f,l[u]=new Array(c),p,e);for(var b,k,w=0,T=0;w<v;++w)if(b=x[w]){for(w>=T&&(T=w+1);!(k=f[T])&&++T<v;);b._next=k||null}}return(s=new St(s,r))._enter=o,s._exit=l,s},enter:function xs(){return new St(this._enter||this._groups.map(Vr),this._parents)},exit:function Rs(){return new St(this._exit||this._groups.map(Vr),this._parents)},join:function Ss(t,e,n){var r=this.enter(),a=this,i=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(a=e(a))&&(a=a.selection()),null==n?i.remove():n(i),r&&a?r.merge(a).order():a},merge:function Ns(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,s=Math.min(a,r.length),o=new Array(a),l=0;l<s;++l)for(var p,u=n[l],h=r[l],d=u.length,c=o[l]=new Array(d),v=0;v<d;++v)(p=u[v]||h[v])&&(c[v]=p);for(;l<a;++l)o[l]=n[l];return new St(o,this._parents)},selection:function Ho(){return this},order:function Es(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var s,r=t[e],a=r.length-1,i=r[a];--a>=0;)(s=r[a])&&(i&&4^s.compareDocumentPosition(i)&&i.parentNode.insertBefore(s,i),i=s);return this},sort:function Is(t){function e(d,c){return d&&c?t(d.__data__,c.__data__):!d-!c}t||(t=$s);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var u,s=n[i],o=s.length,l=a[i]=new Array(o),h=0;h<o;++h)(u=s[h])&&(l[h]=u);l.sort(e)}return new St(a,this._parents).order()},call:function Os(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function Fs(){return Array.from(this)},node:function Ps(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var s=r[a];if(s)return s}return null},size:function zs(){let t=0;for(const e of this)++t;return t},empty:function Hs(){return!this.node()},each:function Ls(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,a=e[n],i=0,s=a.length;i<s;++i)(o=a[i])&&t.call(o,o.__data__,i,a);return this},attr:function Gs(t,e){var n=en(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Xs:Us:"function"==typeof e?n.local?Bs:Ws:n.local?Vs:Ys)(n,e))},style:function Qs(t,e,n){return arguments.length>1?this.each((null==e?qs:"function"==typeof e?Zs:js)(t,e,n??"")):me(this.node(),t)},property:function eo(t,e){return arguments.length>1?this.each((null==e?Ks:"function"==typeof e?to:Js)(t,e)):this.node()[t]},classed:function io(t,e){var n=Gr(t+"");if(arguments.length<2){for(var r=Yn(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?ao:e?no:ro)(n,e))},text:function lo(t){return arguments.length?this.each(null==t?so:("function"==typeof t?uo:oo)(t)):this.node().textContent},html:function po(t){return arguments.length?this.each(null==t?co:("function"==typeof t?fo:ho)(t)):this.node().innerHTML},raise:function go(){return this.each(mo)},lower:function vo(){return this.each(yo)},append:function bo(t){var e="function"==typeof t?t:Qr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function To(t,e){var n="function"==typeof t?t:Qr(t),r=null==e?xo:"function"==typeof e?e:Un(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function Mo(){return this.each(Co)},clone:function Do(t){return this.select(t?ko:Ao)},datum:function Ro(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function $o(t,e,n){var a,s,r=function No(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}(t+""),i=r.length;if(!(arguments.length<2)){for(o=e?Io:Eo,a=0;a<i;++a)this.each(o(r[a],e,n));return this}var o=this.node().__on;if(o)for(var h,l=0,u=o.length;l<u;++l)for(a=0,h=o[l];a<i;++a)if((s=r[a]).type===h.type&&s.name===h.name)return h.value},dispatch:function Po(t,e){return this.each(("function"==typeof e?Fo:Oo)(t,e))},[Symbol.iterator]:function*zo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var s,r=t[e],a=0,i=r.length;a<i;++a)(s=r[a])&&(yield s)}};const Ee=ta;var Lo={value:()=>{}};function ea(){for(var r,t=0,e=arguments.length,n={};t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new nn(n)}function nn(t){this._=t}function Xo(t,e){for(var a,n=0,r=t.length;n<r;++n)if((a=t[n]).name===e)return a.value}function na(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=Lo,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}nn.prototype=ea.prototype={constructor:nn,on:function(t,e){var a,n=this._,r=function Uo(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}(t+"",n),i=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<s;)if(a=(t=r[i]).type)n[a]=na(n[a],t.name,e);else if(null==e)for(a in n)n[a]=na(n[a],t.name,null);return this}for(;++i<s;)if((a=(t=r[i]).type)&&(a=Xo(n[a],t.name)))return a},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new nn(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var a,i,n=new Array(a),r=0;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=0,a=(i=this._[t]).length;r<a;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};const ra=ea;var rn,Oe,ge=0,Ie=0,$e=0,aa=1e3,an=0,re=0,sn=0,Fe="object"==typeof performance&&performance.now?performance:Date,ia="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Vn(){return re||(ia(Yo),re=Fe.now()+sn)}function Yo(){re=0}function on(){this._call=this._time=this._next=null}function sa(t,e,n){var r=new on;return r.restart(t,e,n),r}function oa(){re=(an=Fe.now())+sn,ge=Ie=0;try{!function Vo(){Vn(),++ge;for(var e,t=rn;t;)(e=re-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ge}()}finally{ge=0,function Bo(){for(var t,n,e=rn,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:rn=n);Oe=t,Wn(r)}(),re=0}}function Wo(){var t=Fe.now(),e=t-an;e>aa&&(sn-=e,an=t)}function Wn(t){ge||(Ie&&(Ie=clearTimeout(Ie)),t-re>24?(t<1/0&&(Ie=setTimeout(oa,t-Fe.now()-sn)),$e&&($e=clearInterval($e))):($e||(an=Fe.now(),$e=setInterval(Wo,aa)),ge=1,ia(oa)))}function ua(t,e,n){var r=new on;return r.restart(a=>{r.stop(),t(a+e)},e=null==e?0:+e,n),r}on.prototype=sa.prototype={constructor:on,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Vn():+n)+(null==e?0:+e),!this._next&&Oe!==this&&(Oe?Oe._next=this:rn=this,Oe=this),this._call=t,this._time=n,Wn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wn())}};var Go=ra("start","end","cancel","interrupt"),qo=[],la=0,Bn=2,un=3,Gn=5,ln=6;function cn(t,e,n,r,a,i){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function jo(t,e,n){var a,r=t.__transition;function s(u){var h,d,c,p;if(1!==n.state)return l();for(h in r)if((p=r[h]).name===n.name){if(p.state===un)return ua(s);4===p.state?(p.state=ln,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[h]):+h<e&&(p.state=ln,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[h])}if(ua(function(){n.state===un&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=Bn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Bn){for(n.state=un,a=new Array(c=n.tween.length),h=0,d=-1;h<c;++h)(p=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(a[++d]=p);a.length=d+1}}function o(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Gn,1),d=-1,c=a.length;++d<c;)a[d].call(t,h);n.state===Gn&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var u in n.state=ln,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=sa(function i(u){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:a,on:Go,tween:qo,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:la})}function qn(t,e){var n=It(t,e);if(n.state>la)throw new Error("too late; already scheduled");return n}function Pt(t,e){var n=It(t,e);if(n.state>un)throw new Error("too late; already running");return n}function It(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function hn(t,e){var r,a,s,n=t.__transition,i=!0;if(n){for(s in e=null==e?null:e+"",n)(r=n[s]).name===e?(a=r.state>Bn&&r.state<Gn,r.state=ln,r.timer.stop(),r.on.call(a?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]):i=!1;i&&delete t.__transition}}function $t(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var fn,fa=180/Math.PI,jn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function da(t,e,n,r,a,i){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*fa,skewX:Math.atan(l)*fa,scaleX:s,scaleY:o}}function pa(t,e,n,r){function a(u){return u.length?u.pop()+" ":""}return function(u,h){var d=[],c=[];return u=t(u),h=t(h),function i(u,h,d,c,p,v){if(u!==d||h!==c){var x=p.push("translate(",null,e,null,n);v.push({i:x-4,x:$t(u,d)},{i:x-2,x:$t(h,c)})}else(d||c)&&p.push("translate("+d+e+c+n)}(u.translateX,u.translateY,h.translateX,h.translateY,d,c),function s(u,h,d,c){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),c.push({i:d.push(a(d)+"rotate(",null,r)-2,x:$t(u,h)})):h&&d.push(a(d)+"rotate("+h+r)}(u.rotate,h.rotate,d,c),function o(u,h,d,c){u!==h?c.push({i:d.push(a(d)+"skewX(",null,r)-2,x:$t(u,h)}):h&&d.push(a(d)+"skewX("+h+r)}(u.skewX,h.skewX,d,c),function l(u,h,d,c,p,v){if(u!==d||h!==c){var x=p.push(a(p)+"scale(",null,",",null,")");v.push({i:x-4,x:$t(u,d)},{i:x-2,x:$t(h,c)})}else(1!==d||1!==c)&&p.push(a(p)+"scale("+d+","+c+")")}(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,c),u=h=null,function(p){for(var f,v=-1,x=c.length;++v<x;)d[(f=c[v]).i]=f.x(p);return d.join("")}}}var Jo=pa(function Qo(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?jn:da(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),tu=pa(function Ko(t){return null!=t&&(fn||(fn=document.createElementNS("http://www.w3.org/2000/svg","g")),fn.setAttribute("transform",t),t=fn.transform.baseVal.consolidate())?da((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):jn},", ",")",")");function eu(t,e){var n,r;return function(){var a=Pt(this,t),i=a.tween;if(i!==n)for(var s=0,o=(r=n=i).length;s<o;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}a.tween=r}}function nu(t,e,n){var r,a;if("function"!=typeof n)throw new Error;return function(){var i=Pt(this,t),s=i.tween;if(s!==r){a=(r=s).slice();for(var o={name:e,value:n},l=0,u=a.length;l<u;++l)if(a[l].name===e){a[l]=o;break}l===u&&a.push(o)}i.tween=a}}function Zn(t,e,n){var r=t._id;return t.each(function(){var a=Pt(this,r);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return It(a,r).value[e]}}function Qn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ma(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pe(){}var dn=1/.7,ye="\\s*([+-]?\\d+)\\s*",He="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",au=/^#([0-9a-f]{3,8})$/,iu=new RegExp(`^rgb\\(${ye},${ye},${ye}\\)$`),su=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),ou=new RegExp(`^rgba\\(${ye},${ye},${ye},${He}\\)$`),uu=new RegExp(`^rgba\\(${zt},${zt},${zt},${He}\\)$`),lu=new RegExp(`^hsl\\(${He},${zt},${zt}\\)$`),cu=new RegExp(`^hsla\\(${He},${zt},${zt},${He}\\)$`),ga={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ya(){return this.rgb().formatHex()}function va(){return this.rgb().formatRgb()}function ae(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=au.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?_a(e):3===n?new kt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?pn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?pn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=iu.exec(t))?new kt(e[1],e[2],e[3],1):(e=su.exec(t))?new kt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ou.exec(t))?pn(e[1],e[2],e[3],e[4]):(e=uu.exec(t))?pn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=lu.exec(t))?xa(e[1],e[2]/100,e[3]/100,1):(e=cu.exec(t))?xa(e[1],e[2]/100,e[3]/100,e[4]):ga.hasOwnProperty(t)?_a(ga[t]):"transparent"===t?new kt(NaN,NaN,NaN,0):null}function _a(t){return new kt(t>>16&255,t>>8&255,255&t,1)}function pn(t,e,n,r){return r<=0&&(t=e=n=NaN),new kt(t,e,n,r)}function mn(t,e,n,r){return 1===arguments.length?function du(t){return t instanceof Pe||(t=ae(t)),t?new kt((t=t.rgb()).r,t.g,t.b,t.opacity):new kt}(t):new kt(t,e,n,r??1)}function kt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function wa(){return`#${se(this.r)}${se(this.g)}${se(this.b)}`}function ba(){const t=gn(this.opacity);return`${1===t?"rgb(":"rgba("}${ie(this.r)}, ${ie(this.g)}, ${ie(this.b)}${1===t?")":`, ${t})`}`}function gn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ie(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function se(t){return((t=ie(t))<16?"0":"")+t.toString(16)}function xa(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ot(t,e,n,r)}function Ta(t){if(t instanceof Ot)return new Ot(t.h,t.s,t.l,t.opacity);if(t instanceof Pe||(t=ae(t)),!t)return new Ot;if(t instanceof Ot)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,o=i-a,l=(i+a)/2;return o?(s=e===i?(n-r)/o+6*(n<r):n===i?(r-e)/o+2:(e-n)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Ot(s,o,l,t.opacity)}function Ot(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ca(t){return(t=(t||0)%360)<0?t+360:t}function yn(t){return Math.max(0,Math.min(1,t||0))}function Kn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ma(t,e,n,r,a){var i=t*t,s=i*t;return((1-3*t+3*i-s)*e+(4-6*i+3*s)*n+(1+3*t+3*i-3*s)*r+s*a)/6}Qn(Pe,ae,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ya,formatHex:ya,formatHex8:function hu(){return this.rgb().formatHex8()},formatHsl:function fu(){return Ta(this).formatHsl()},formatRgb:va,toString:va}),Qn(kt,mn,ma(Pe,{brighter(t){return t=null==t?dn:Math.pow(dn,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new kt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kt(ie(this.r),ie(this.g),ie(this.b),gn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wa,formatHex:wa,formatHex8:function pu(){return`#${se(this.r)}${se(this.g)}${se(this.b)}${se(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ba,toString:ba})),Qn(Ot,function mu(t,e,n,r){return 1===arguments.length?Ta(t):new Ot(t,e,n,r??1)},ma(Pe,{brighter(t){return t=null==t?dn:Math.pow(dn,t),new Ot(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Ot(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new kt(Kn(t>=240?t-240:t+120,a,r),Kn(t,a,r),Kn(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Ot(Ca(this.h),yn(this.s),yn(this.l),gn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gn(this.opacity);return`${1===t?"hsl(":"hsla("}${Ca(this.h)}, ${100*yn(this.s)}%, ${100*yn(this.l)}%${1===t?")":`, ${t})`}`}}));const Jn=t=>()=>t;function ka(t,e){var n=e-t;return n?function Aa(t,e){return function(n){return t+n*e}}(t,n):Jn(isNaN(t)?e:t)}const vn=function t(e){var n=function _u(t){return 1==(t=+t)?ka:function(e,n){return n-e?function vu(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Jn(isNaN(e)?n:e)}}(e);function r(a,i){var s=n((a=mn(a)).r,(i=mn(i)).r),o=n(a.g,i.g),l=n(a.b,i.b),u=ka(a.opacity,i.opacity);return function(h){return a.r=s(h),a.g=o(h),a.b=l(h),a.opacity=u(h),a+""}}return r.gamma=t,r}(1);function Da(t){return function(e){var s,o,n=e.length,r=new Array(n),a=new Array(n),i=new Array(n);for(s=0;s<n;++s)o=mn(e[s]),r[s]=o.r||0,a[s]=o.g||0,i[s]=o.b||0;return r=t(r),a=t(a),i=t(i),o.opacity=1,function(l){return o.r=r(l),o.g=a(l),o.b=i(l),o+""}}}Da(function gu(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],i=t[r+1];return Ma((n-r/e)*e,r>0?t[r-1]:2*a-i,a,i,r<e-1?t[r+2]:2*i-a)}}),Da(function yu(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return Ma((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}});var tr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,er=new RegExp(tr.source,"g");function Ra(t,e){var r,a,i,n=tr.lastIndex=er.lastIndex=0,s=-1,o=[],l=[];for(t+="",e+="";(r=tr.exec(t))&&(a=er.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:$t(r,a)})),n=er.lastIndex;return n<e.length&&(i=e.slice(n),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?function bu(t){return function(e){return t(e)+""}}(l[0].x):function wu(t){return function(){return t}}(e):(e=l.length,function(u){for(var d,h=0;h<e;++h)o[(d=l[h]).i]=d.x(u);return o.join("")})}function Sa(t,e){var n;return("number"==typeof e?$t:e instanceof ae?vn:(n=ae(e))?(e=n,vn):Ra)(t,e)}function xu(t){return function(){this.removeAttribute(t)}}function Tu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Cu(t,e,n){var r,i,a=n+"";return function(){var s=this.getAttribute(t);return s===a?null:s===r?i:i=e(r=s,n)}}function Mu(t,e,n){var r,i,a=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===a?null:s===r?i:i=e(r=s,n)}}function Au(t,e,n){var r,a,i;return function(){var s,l,o=n(this);return null==o?void this.removeAttribute(t):(s=this.getAttribute(t))===(l=o+"")?null:s===r&&l===a?i:(a=l,i=e(r=s,o))}}function ku(t,e,n){var r,a,i;return function(){var s,l,o=n(this);return null==o?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local))===(l=o+"")?null:s===r&&l===a?i:(a=l,i=e(r=s,o))}}function Nu(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function Su(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return a._value=e,a}function Eu(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function Ru(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return a._value=e,a}function $u(t,e){return function(){qn(this,t).delay=+e.apply(this,arguments)}}function Ou(t,e){return e=+e,function(){qn(this,t).delay=e}}function Pu(t,e){return function(){Pt(this,t).duration=+e.apply(this,arguments)}}function zu(t,e){return e=+e,function(){Pt(this,t).duration=e}}var Ju=Ee.prototype.constructor;function Na(t){return function(){this.style.removeProperty(t)}}var yl=0;function Xt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ea(){return++yl}var Yt=Ee.prototype;Xt.prototype=function vl(t){return Ee().transition(t)}.prototype={constructor:Xt,select:function Qu(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Un(t));for(var r=this._groups,a=r.length,i=new Array(a),s=0;s<a;++s)for(var h,d,o=r[s],l=o.length,u=i[s]=new Array(l),c=0;c<l;++c)(h=o[c])&&(d=t.call(h,h.__data__,c,o))&&("__data__"in h&&(d.__data__=h.__data__),u[c]=d,cn(u[c],e,n,c,u,It(h,n)));return new Xt(i,this._parents,e,n)},selectAll:function Ku(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ur(t));for(var r=this._groups,a=r.length,i=[],s=[],o=0;o<a;++o)for(var h,l=r[o],u=l.length,d=0;d<u;++d)if(h=l[d]){for(var p,c=t.call(h,h.__data__,d,l),v=It(h,n),x=0,f=c.length;x<f;++x)(p=c[x])&&cn(p,e,n,x,c,v);i.push(c),s.push(h)}return new Xt(i,s,e,n)},selectChild:Yt.selectChild,selectChildren:Yt.selectChildren,filter:function Vu(t){"function"!=typeof t&&(t=Xr(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var l,i=e[a],s=i.length,o=r[a]=[],u=0;u<s;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&o.push(l);return new Xt(r,this._parents,this._name,this._id)},merge:function Wu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),s=new Array(r),o=0;o<i;++o)for(var c,l=e[o],u=n[o],h=l.length,d=s[o]=new Array(h),p=0;p<h;++p)(c=l[p]||u[p])&&(d[p]=c);for(;o<r;++o)s[o]=e[o];return new Xt(s,this._parents,this._name,this._id)},selection:function tl(){return new Ju(this._groups,this._parents)},transition:function ml(){for(var t=this._name,e=this._id,n=Ea(),r=this._groups,a=r.length,i=0;i<a;++i)for(var l,s=r[i],o=s.length,u=0;u<o;++u)if(l=s[u]){var h=It(l,e);cn(l,t,n,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Xt(r,this._parents,t,n)},call:Yt.call,nodes:Yt.nodes,node:Yt.node,size:Yt.size,empty:Yt.empty,each:Yt.each,on:function qu(t,e){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(t):this.each(function Gu(t,e,n){var r,a,i=function Bu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||"start"===e})}(e)?qn:Pt;return function(){var s=i(this,t),o=s.on;o!==r&&(a=(r=o).copy()).on(e,n),s.on=a}}(n,t,e))},attr:function Du(t,e){var n=en(t),r="transform"===n?tu:Sa;return this.attrTween(t,"function"==typeof e?(n.local?ku:Au)(n,r,Zn(this,"attr."+t,e)):null==e?(n.local?Tu:xu)(n):(n.local?Mu:Cu)(n,r,e))},attrTween:function Iu(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=en(t);return this.tween(n,(r.local?Nu:Eu)(r,e))},style:function il(t,e,n){var r="transform"==(t+="")?Jo:Sa;return null==e?this.styleTween(t,function el(t,e){var n,r,a;return function(){var i=me(this,t),s=(this.style.removeProperty(t),me(this,t));return i===s?null:i===n&&s===r?a:a=e(n=i,r=s)}}(t,r)).on("end.style."+t,Na(t)):"function"==typeof e?this.styleTween(t,function rl(t,e,n){var r,a,i;return function(){var s=me(this,t),o=n(this),l=o+"";return null==o&&(this.style.removeProperty(t),l=o=me(this,t)),s===l?null:s===r&&l===a?i:(a=l,i=e(r=s,o))}}(t,r,Zn(this,"style."+t,e))).each(function al(t,e){var n,r,a,o,i="style."+e,s="end."+i;return function(){var l=Pt(this,t),u=l.on,h=null==l.value[i]?o||(o=Na(e)):void 0;(u!==n||a!==h)&&(r=(n=u).copy()).on(s,a=h),l.on=r}}(this._id,t)):this.styleTween(t,function nl(t,e,n){var r,i,a=n+"";return function(){var s=me(this,t);return s===a?null:s===r?i:i=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function ul(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function ol(t,e,n){var r,a;function i(){var s=e.apply(this,arguments);return s!==a&&(r=(a=s)&&function sl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,s,n)),r}return i._value=e,i}(t,e,n??""))},text:function hl(t){return this.tween("text","function"==typeof t?function cl(t){return function(){var e=t(this);this.textContent=e??""}}(Zn(this,"text",t)):function ll(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function pl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function dl(t){var e,n;function r(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&function fl(t){return function(e){this.textContent=t.call(this,e)}}(a)),e}return r._value=t,r}(t))},remove:function Zu(){return this.on("end.remove",function ju(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function ru(t,e){var n=this._id;if(t+="",arguments.length<2){for(var s,r=It(this.node(),n).tween,a=0,i=r.length;a<i;++a)if((s=r[a]).name===t)return s.value;return null}return this.each((null==e?eu:nu)(n,t,e))},delay:function Fu(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?$u:Ou)(e,t)):It(this.node(),e).delay},duration:function Hu(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Pu:zu)(e,t)):It(this.node(),e).duration},ease:function Uu(t){var e=this._id;return arguments.length?this.each(function Lu(t,e){if("function"!=typeof e)throw new Error;return function(){Pt(this,t).ease=e}}(e,t)):It(this.node(),e).ease},easeVarying:function Yu(t){if("function"!=typeof t)throw new Error;return this.each(function Xu(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Pt(this,t).ease=n}}(this._id,t))},end:function gl(){var t,e,n=this,r=n._id,a=n.size();return new Promise(function(i,s){var o={value:s},l={value:function(){0==--a&&i()}};n.each(function(){var u=Pt(this,r),h=u.on;h!==t&&((e=(t=h).copy())._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),0===a&&i()})},[Symbol.iterator]:Yt[Symbol.iterator]};var wl={time:null,delay:0,duration:250,ease:function _l(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function bl(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Ee.prototype.interrupt=function Zo(t){return this.each(function(){hn(this,t)})},Ee.prototype.transition=function xl(t){var e,n;t instanceof Xt?(e=t._id,t=t._name):(e=Ea(),(n=wl).time=Vn(),t=null==t?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var l,s=r[i],o=s.length,u=0;u<o;++u)(l=s[u])&&cn(l,t,e,u,s,n||bl(l,e));return new Xt(r,this._parents,t,e)};Math;function Le(t){return{type:t}}function bn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function we(t){return(t=bn(Math.abs(t)))?t[1]:NaN}["w","e"].map(Le),["n","s"].map(Le),["n","w","e","s","nw","ne","sw","se"].map(Le);var za,Il=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xn(t){if(!(e=Il.exec(t)))throw new Error("invalid format: "+t);var e;return new sr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function sr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ha(t,e){var n=bn(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}xn.prototype=sr.prototype,sr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const La={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function Sl(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ha(100*t,e),r:Ha,s:function Ol(t,e){var n=bn(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(za=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+bn(t,Math.max(0,e+i-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ua(t){return t}var Tn,Wt,Va,Xa=Array.prototype.map,Ya=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function zl(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Ue(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=ec)):void 0===e&&(e=tc);for(var r,i,s,o,l,n=new Xe(t),a=[n];r=a.pop();)if((s=e(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,o=l-1;o>=0;--o)a.push(i=s[o]=new Xe(s[o])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(rc)}function tc(t){return t.children}function ec(t){return Array.isArray(t)?t[1]:null}function nc(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function rc(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Xe(t){this.data=t,this.depth=this.height=0,this.parent=null}function Wa(t){if("function"!=typeof t)throw new Error;return t}function oe(){return 0}function be(t){return function(){return t}}!function Pl(t){Tn=function Fl(t){var e=void 0===t.grouping||void 0===t.thousands?Ua:function Nl(t,e){return function(n,r){for(var a=n.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),i.push(n.substring(a-=o,a+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}(Xa.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",i=void 0===t.numerals?Ua:function El(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}(Xa.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",o=void 0===t.minus?"\u2212":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function u(d){var c=(d=xn(d)).fill,p=d.align,v=d.sign,x=d.symbol,f=d.zero,m=d.width,w=d.comma,T=d.precision,b=d.trim,k=d.type;"n"===k?(w=!0,k="g"):La[k]||(void 0===T&&(T=12),b=!0,k="g"),(f||"0"===c&&"="===p)&&(f=!0,c="0",p="=");var D="$"===x?n:"#"===x&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",P="$"===x?r:/[%p]/.test(k)?s:"",$=La[k],O=/[defgprs%]/.test(k);function E(y){var g,R,A,S=D,M=P;if("c"===k)M=$(y)+M,y="";else{var I=(y=+y)<0||1/y<0;if(y=isNaN(y)?l:$(Math.abs(y),T),b&&(y=function $l(t){t:for(var a,e=t.length,n=1,r=-1;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":0===r&&(r=n),a=n;break;default:if(!+t[n])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(a+1):t}(y)),I&&0==+y&&"+"!==v&&(I=!1),S=(I?"("===v?v:o:"-"===v||"("===v?"":v)+S,M=("s"===k?Ya[8+za/3]:"")+M+(I&&"("===v?")":""),O)for(g=-1,R=y.length;++g<R;)if(48>(A=y.charCodeAt(g))||A>57){M=(46===A?a+y.slice(g+1):y.slice(g))+M,y=y.slice(0,g);break}}w&&!f&&(y=e(y,1/0));var H=S.length+y.length+M.length,z=H<m?new Array(m-H+1).join(c):"";switch(w&&f&&(y=e(z+y,z.length?m-M.length:1/0),z=""),p){case"<":y=S+y+M+z;break;case"=":y=S+z+y+M;break;case"^":y=z.slice(0,H=z.length>>1)+S+y+M+z.slice(H);break;default:y=z+S+y+M}return i(y)}return T=void 0===T?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T)),E.toString=function(){return d+""},E}return{format:u,formatPrefix:function h(d,c){var p=u(((d=xn(d)).type="f",d)),v=3*Math.max(-8,Math.min(8,Math.floor(we(c)/3))),x=Math.pow(10,-v),f=Ya[8+v/3];return function(m){return p(x*m)+f}}}}(t),Wt=Tn.format,Va=Tn.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]}),Xe.prototype=Ue.prototype={constructor:Xe,count:function Hl(){return this.eachAfter(zl)},each:function Ll(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function Xl(t,e){for(var i,s,o,n=this,r=[n],a=[],l=-1;n=r.pop();)if(a.push(n),i=n.children)for(s=0,o=i.length;s<o;++s)r.push(i[s]);for(;n=a.pop();)t.call(e,n,++l,this);return this},eachBefore:function Ul(t,e){for(var a,i,n=this,r=[n],s=-1;n=r.pop();)if(t.call(e,n,++s,this),a=n.children)for(i=a.length-1;i>=0;--i)r.push(a[i]);return this},find:function Yl(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function Vl(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,a=r&&r.length;--a>=0;)n+=r[a].value;e.value=n})},sort:function Wl(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function Bl(t){for(var e=this,n=function Gl(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),a=null;for(t=n.pop(),e=r.pop();t===e;)a=t,t=n.pop(),e=r.pop();return a}(e,t),r=[e];e!==n;)r.push(e=e.parent);for(var a=r.length;t!==n;)r.splice(a,0,t),t=t.parent;return r},ancestors:function ql(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function jl(){return Array.from(this)},leaves:function Zl(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function Ql(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function Jl(){return Ue(this).eachBefore(nc)},[Symbol.iterator]:function*Kl(){var e,r,a,i,t=this,n=[t];do{for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(a=0,i=r.length;a<i;++a)n.push(r[a])}while(n.length)}};const Ba=4294967296;function cc(t,e){var n,r;if(or(e,t))return[e];for(n=0;n<t.length;++n)if(Cn(e,t[n])&&or(Ye(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Cn(Ye(t[n],t[r]),e)&&Cn(Ye(t[n],e),t[r])&&Cn(Ye(t[r],e),t[n])&&or(ja(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Cn(t,e){var n=t.r-e.r,r=e.x-t.x,a=e.y-t.y;return n<0||n*n<r*r+a*a}function qa(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,a=e.y-t.y;return n>0&&n*n>r*r+a*a}function or(t,e){for(var n=0;n<e.length;++n)if(!qa(t,e[n]))return!1;return!0}function hc(t){switch(t.length){case 1:return function fc(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Ye(t[0],t[1]);case 3:return ja(t[0],t[1],t[2])}}function Ye(t,e){var n=t.x,r=t.y,a=t.r,i=e.x,s=e.y,o=e.r,l=i-n,u=s-r,h=o-a,d=Math.sqrt(l*l+u*u);return{x:(n+i+l/d*h)/2,y:(r+s+u/d*h)/2,r:(d+a+o)/2}}function ja(t,e,n){var r=t.x,a=t.y,i=t.r,s=e.x,o=e.y,l=e.r,u=n.x,h=n.y,d=n.r,c=r-s,p=r-u,v=a-o,x=a-h,f=l-i,m=d-i,w=r*r+a*a-i*i,T=w-s*s-o*o+l*l,b=w-u*u-h*h+d*d,k=p*v-c*x,D=(v*b-x*T)/(2*k)-r,P=(x*f-v*m)/k,$=(p*T-c*b)/(2*k)-a,O=(c*m-p*f)/k,E=P*P+O*O-1,y=2*(i+D*P+$*O),S=D*D+$*$-i*i,M=-(Math.abs(E)>1e-6?(y+Math.sqrt(y*y-4*E*S))/(2*E):S/y);return{x:r+D+P*M,y:a+$+O*M,r:M}}function Za(t,e,n){var a,i,o,l,r=t.x-e.x,s=t.y-e.y,u=r*r+s*s;u?(i=e.r+n.r,l=t.r+n.r,(i*=i)>(l*=l)?(a=(u+l-i)/(2*u),o=Math.sqrt(Math.max(0,l/u-a*a)),n.x=t.x-a*r-o*s,n.y=t.y-a*s+o*r):(a=(u+i-l)/(2*u),o=Math.sqrt(Math.max(0,i/u-a*a)),n.x=e.x+a*r-o*s,n.y=e.y+a*s+o*r)):(n.x=e.x+n.r,n.y=e.y)}function Qa(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,a=e.y-t.y;return n>0&&n*n>r*r+a*a}function Ka(t){var e=t._,n=t.next._,r=e.r+n.r,a=(e.x*n.r+n.x*e.r)/r,i=(e.y*n.r+n.y*e.r)/r;return a*a+i*i}function Mn(t){this._=t,this.next=null,this.previous=null}function Ja(t,e){if(!(i=(t=function uc(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(t)).length))return 0;var n,r,a,i,s,o,l,u,h,d,c;if((n=t[0]).x=0,n.y=0,!(i>1))return n.r;if(n.x=-(r=t[1]).r,r.x=n.r,r.y=0,!(i>2))return n.r+r.r;Za(r,n,a=t[2]),n=new Mn(n),r=new Mn(r),a=new Mn(a),n.next=a.previous=r,r.next=n.previous=a,a.next=r.previous=n;t:for(l=3;l<i;++l){Za(n._,r._,a=t[l]),a=new Mn(a),u=r.next,h=n.previous,d=r._.r,c=n._.r;do{if(d<=c){if(Qa(u._,a._)){n.next=r=u,r.previous=n,--l;continue t}d+=u._.r,u=u.next}else{if(Qa(h._,a._)){(n=h).next=r,r.previous=n,--l;continue t}c+=h._.r,h=h.previous}}while(u!==h.next);for(a.previous=n,a.next=r,n.next=r.previous=r=a,s=Ka(n);(a=a.next)!==r;)(o=Ka(a))<s&&(n=a,s=o);r=n.next}for(n=[r._],a=r;(a=a.next)!==r;)n.push(a._);for(a=function Ga(t,e){for(var i,s,n=0,r=(t=function lc(t,e){let r,a,n=t.length;for(;n;)a=e()*n--|0,r=t[n],t[n]=t[a],t[a]=r;return t}(Array.from(t),e)).length,a=[];n<r;)i=t[n],s&&qa(s,i)?++n:(s=hc(a=cc(a,i)),n=0);return s}(n,e),l=0;l<i;++l)(n=t[l]).x-=a.x,n.y-=a.y;return a.r}function dc(t){return Math.sqrt(t.value)}function ti(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function ur(t,e,n){return function(r){if(a=r.children){var a,i,l,s=a.length,o=t(r)*e||0;if(o)for(i=0;i<s;++i)a[i].r+=o;if(l=Ja(a,n),o)for(i=0;i<s;++i)a[i].r-=o;r.r=l+o}}}function ei(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function mc(t,e){return t.parent===e.parent?1:2}function lr(t){var e=t.children;return e?e[0]:t.t}function cr(t){var e=t.children;return e?e[e.length-1]:t.t}function gc(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function vc(t,e,n){return t.a.parent===e.parent?t.a:n}function An(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function bc(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function xc(t,e,n,r,a){for(var s,i=t.children,o=-1,l=i.length,u=t.value&&(r-e)/t.value;++o<l;)(s=i[o]).y0=n,s.y1=a,s.x0=e,s.x1=e+=s.value*u}function Tc(t,e,n,r,a){for(var s,i=t.children,o=-1,l=i.length,u=t.value&&(a-n)/t.value;++o<l;)(s=i[o]).x0=e,s.x1=r,s.y0=n,s.y1=n+=s.value*u}An.prototype=Object.create(Xe.prototype);const Ac=function t(e){function n(r,a,i,s,o){!function Mc(t,e,n,r,a,i){for(var l,u,p,v,f,m,w,T,b,k,D,s=[],o=e.children,h=0,d=0,c=o.length,x=e.value;h<c;){p=a-n,v=i-r;do{f=o[d++].value}while(!f&&d<c);for(m=w=f,D=f*f*(k=Math.max(v/p,p/v)/(x*t)),b=Math.max(w/D,D/m);d<c;++d){if(f+=u=o[d].value,u<m&&(m=u),u>w&&(w=u),D=f*f*k,(T=Math.max(w/D,D/m))>b){f-=u;break}b=T}s.push(l={value:f,dice:p<v,children:o.slice(h,d)}),l.dice?xc(l,n,r,a,x?r+=v*f/x:i):Tc(l,n,r,x?n+=p*f/x:a,i),x-=f,h=d}}(e,r,a,i,s,o)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}((1+Math.sqrt(5))/2);function ni(t,e){var s,n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n);for(s=0;s<r;++s)a[s]=kn(t[s],e[s]);for(;s<n;++s)i[s]=e[s];return function(o){for(s=0;s<r;++s)i[s]=a[s](o);return i}}function Dc(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Rc(t,e){var a,n={},r={};for(a in(null===t||"object"!=typeof t)&&(t={}),(null===e||"object"!=typeof e)&&(e={}),e)a in t?n[a]=kn(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}function Sc(t,e){e||(e=[]);var a,n=t?Math.min(e.length,t.length):0,r=e.slice();return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function kn(t,e){var r,n=typeof e;return null==e||"boolean"===n?Jn(e):("number"===n?$t:"string"===n?(r=ae(e))?(e=r,vn):Ra:e instanceof ae?vn:e instanceof Date?Dc:function Nc(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Sc:Array.isArray(e)?ni:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Rc:$t)(t,e)}function Dn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}class ri extends Map{constructor(e,n=si){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=e)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(hr(this,e))}has(e){return super.has(hr(this,e))}set(e,n){return super.set(function ai({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,e),n)}delete(e){return super.delete(function ii({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}(this,e))}}function hr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function si(t){return null!==t&&"object"==typeof t?t.valueOf():t}Set;const oi=Symbol("implicit");function ui(){var t=new ri,e=[],n=[],r=oi;function a(i){let s=t.get(i);if(void 0===s){if(r!==oi)return r;t.set(i,s=e.push(i)-1)}return n[s%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new ri;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return ui(e,n).unknown(r)},Dn.apply(a,arguments),a}function fr(){var i,s,t=ui().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,o=!1,l=0,u=0,h=.5;function d(){var c=e().length,p=a<r,v=p?a:r,x=p?r:a;i=(x-v)/Math.max(1,c-l+2*u),o&&(i=Math.floor(i)),v+=(x-v-i*(c-l))*h,s=i*(1-l),o&&(v=Math.round(v),s=Math.round(s));var f=function Ec(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i}(c).map(function(m){return v+i*m});return n(p?f.reverse():f)}return delete t.unknown,t.domain=function(c){return arguments.length?(e(c),d()):e()},t.range=function(c){return arguments.length?([r,a]=c,r=+r,a=+a,d()):[r,a]},t.rangeRound=function(c){return[r,a]=c,r=+r,a=+a,o=!0,d()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(c){return arguments.length?(o=!!c,d()):o},t.padding=function(c){return arguments.length?(l=Math.min(1,u=+c),d()):l},t.paddingInner=function(c){return arguments.length?(l=Math.min(1,c),d()):l},t.paddingOuter=function(c){return arguments.length?(u=+c,d()):u},t.align=function(c){return arguments.length?(h=Math.max(0,Math.min(1,c)),d()):h},t.copy=function(){return fr(e(),[r,a]).round(o).paddingInner(l).paddingOuter(u).align(h)},Dn.apply(d(),arguments)}const Ic=Math.sqrt(50),$c=Math.sqrt(10),Oc=Math.sqrt(2);function Rn(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=Ic?10:i>=$c?5:i>=Oc?2:1;let o,l,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,a)*s,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=n&&n<2?Rn(t,e,2*n):[o,l,u]}function dr(t,e,n){return Rn(t=+t,e=+e,n=+n)[2]}function pr(t,e,n){n=+n;const r=(e=+e)<(t=+t),a=r?dr(e,t,n):dr(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function Sn(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pc(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mr(t){let e,n,r;function a(o,l,u=0,h=o.length){if(u<h){if(0!==e(l,l))return h;do{const d=u+h>>>1;n(o[d],l)<0?u=d+1:h=d}while(u<h)}return u}return 2!==t.length?(e=Sn,n=(o,l)=>Sn(t(o),l),r=(o,l)=>t(o)-l):(e=t===Sn||t===Pc?t:zc,n=t,r=t),{left:a,center:function s(o,l,u=0,h=o.length){const d=a(o,l,u,h-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d},right:function i(o,l,u=0,h=o.length){if(u<h){if(0!==e(l,l))return h;do{const d=u+h>>>1;n(o[d],l)<=0?u=d+1:h=d}while(u<h)}return u}}}function zc(){return 0}const Lc=mr(Sn).right,Uc=(mr(function Hc(t){return null===t?NaN:+t}),Lc);function Xc(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Vc(t){return+t}var hi=[0,1];function xe(t){return t}function gr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function Yc(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Bc(t,e,n){var r=t[0],a=t[1],i=e[0],s=e[1];return a<r?(r=gr(a,r),i=n(s,i)):(r=gr(r,a),i=n(i,s)),function(o){return i(r(o))}}function Gc(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=gr(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(o){var l=Uc(t,o,1,r)-1;return i[l](a[l](o))}}function fi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function di(){return function qc(){var r,a,i,o,l,u,t=hi,e=hi,n=kn,s=xe;function h(){var c=Math.min(t.length,e.length);return s!==xe&&(s=function Wc(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}(t[0],t[c-1])),o=c>2?Gc:Bc,l=u=null,d}function d(c){return null==c||isNaN(c=+c)?i:(l||(l=o(t.map(r),e,n)))(r(s(c)))}return d.invert=function(c){return s(a((u||(u=o(e,t.map(r),$t)))(c)))},d.domain=function(c){return arguments.length?(t=Array.from(c,Vc),h()):t.slice()},d.range=function(c){return arguments.length?(e=Array.from(c),h()):e.slice()},d.rangeRound=function(c){return e=Array.from(c),n=Xc,h()},d.clamp=function(c){return arguments.length?(s=!!c||xe,h()):s!==xe},d.interpolate=function(c){return arguments.length?(n=c,h()):n},d.unknown=function(c){return arguments.length?(i=c,d):i},function(c,p){return r=c,a=p,h()}}()(xe,xe)}function Jc(t){var e=t.domain;return t.ticks=function(n){var r=e();return function Fc(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[a,i,s]=r?Rn(e,t,n):Rn(t,e,n);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(i-u)/-s;else for(let u=0;u<o;++u)l[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(a+u)/-s;else for(let u=0;u<o;++u)l[u]=(a+u)*s;return l}(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return function Kc(t,e,n,r){var i,a=pr(t,e,n);switch((r=xn(r??",f")).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null==r.precision&&!isNaN(i=function jc(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(we(e)/3)))-we(Math.abs(t)))}(a,s))&&(r.precision=i),Va(r,s);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(i=function Zc(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,we(e)-we(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(i=function Qc(t){return Math.max(0,-we(Math.abs(t)))}(a))&&(r.precision=i-2*("%"===r.type))}return Wt(r)}(a[0],a[a.length-1],n??10,r)},t.nice=function(n){null==n&&(n=10);var l,u,r=e(),a=0,i=r.length-1,s=r[a],o=r[i],h=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);h-- >0;){if((u=dr(s,o,n))===l)return r[a]=s,r[i]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else{if(!(u<0))break;s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u}l=u}return t},t}function Kt(){var t=di();return t.copy=function(){return fi(t,Kt())},Dn.apply(t,arguments),Jc(t)}const Bt=1e3,Et=6e4,Gt=60*Et,qt=24*Gt,yr=7*qt,pi=30*qt,vr=365*qt,_r=new Date,wr=new Date;function pt(t,e,n,r){function a(i){return t(i=0===arguments.length?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(e(i=new Date(+i),null==s?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=null==o?1:Math.floor(o),!(i<s&&o>0))return l;let u;do{l.push(u=new Date(+i)),e(i,o),t(i)}while(u<i&&i<s);return l},a.filter=i=>pt(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!i(s););else for(;--o>=0;)for(;e(s,1),!i(s););}),n&&(a.count=(i,s)=>(_r.setTime(+i),wr.setTime(+s),t(_r),t(wr),Math.floor(n(_r,wr))),a.every=i=>(i=Math.floor(i),isFinite(i)&&i>0?i>1?a.filter(r?s=>r(s)%i==0:s=>a.count(0,s)%i==0):a:null)),a}const Nn=pt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Nn.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?pt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Nn:null);const Te=pt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bt)},(t,e)=>(e-t)/Bt,t=>t.getUTCSeconds()),br=pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bt)},(t,e)=>{t.setTime(+t+e*Et)},(t,e)=>(e-t)/Et,t=>t.getMinutes()),mi=pt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Et)},(t,e)=>(e-t)/Et,t=>t.getUTCMinutes()),xr=pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bt-t.getMinutes()*Et)},(t,e)=>{t.setTime(+t+e*Gt)},(t,e)=>(e-t)/Gt,t=>t.getHours()),gi=pt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Gt)},(t,e)=>(e-t)/Gt,t=>t.getUTCHours()),Ce=pt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Et)/qt,t=>t.getDate()-1),Tr=pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qt,t=>t.getUTCDate()-1),yi=pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qt,t=>Math.floor(t/qt));function ue(t){return pt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+7*n)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Et)/yr)}const Ve=ue(0),En=ue(1),Me=(ue(2),ue(3),ue(4));function le(t){return pt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+7*n)},(e,n)=>(n-e)/yr)}ue(5),ue(6);const Cr=le(0),In=le(1),Ae=(le(2),le(3),le(4)),$n=(le(5),le(6),pt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear()),t=>t.getMonth())),vi=pt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth()),Ht=pt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ht.every=t=>isFinite(t=Math.floor(t))&&t>0?pt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)}):null;const Jt=pt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function _i(t,e,n,r,a,i){const s=[[Te,1,Bt],[Te,5,5e3],[Te,15,15e3],[Te,30,3e4],[i,1,Et],[i,5,5*Et],[i,15,15*Et],[i,30,30*Et],[a,1,Gt],[a,3,3*Gt],[a,6,6*Gt],[a,12,12*Gt],[r,1,qt],[r,2,2*qt],[n,1,yr],[e,1,pi],[e,3,3*pi],[t,1,vr]];function l(u,h,d){const c=Math.abs(h-u)/d,p=mr(([,,f])=>f).right(s,c);if(p===s.length)return t.every(pr(u/vr,h/vr,d));if(0===p)return Nn.every(Math.max(pr(u,h,d),1));const[v,x]=s[c/s[p-1][2]<s[p][2]/c?p-1:p];return v.every(x)}return[function o(u,h,d){const c=h<u;c&&([u,h]=[h,u]);const p=d&&"function"==typeof d.range?d:l(u,h,d),v=p?p.range(u,+h+1):[];return c?v.reverse():v},l]}Jt.every=t=>isFinite(t=Math.floor(t))&&t>0?pt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null;const[I0,$0]=_i(Jt,vi,Cr,yi,gi,mi),[uh,lh]=_i(Ht,$n,Ve,Ce,xr,br);function Mr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ar(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function We(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var ke,jt,wi={"-":"",_:" ",0:"0"},mt=/^\s*\d+/,hh=/^%/,fh=/[\\^$*+?|[\]().{}]/g;function K(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function dh(t){return t.replace(fh,"\\$&")}function Be(t){return new RegExp("^(?:"+t.map(dh).join("|")+")","i")}function Ge(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ph(t,e,n){var r=mt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function mh(t,e,n){var r=mt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function gh(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function yh(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function vh(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bi(t,e,n){var r=mt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xi(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _h(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wh(t,e,n){var r=mt.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function bh(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ti(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xh(t,e,n){var r=mt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Ci(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Th(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ch(t,e,n){var r=mt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Mh(t,e,n){var r=mt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ah(t,e,n){var r=mt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kh(t,e,n){var r=hh.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Dh(t,e,n){var r=mt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Rh(t,e,n){var r=mt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Mi(t,e){return K(t.getDate(),e,2)}function Sh(t,e){return K(t.getHours(),e,2)}function Nh(t,e){return K(t.getHours()%12||12,e,2)}function Eh(t,e){return K(1+Ce.count(Ht(t),t),e,3)}function Ai(t,e){return K(t.getMilliseconds(),e,3)}function Ih(t,e){return Ai(t,e)+"000"}function $h(t,e){return K(t.getMonth()+1,e,2)}function Oh(t,e){return K(t.getMinutes(),e,2)}function Fh(t,e){return K(t.getSeconds(),e,2)}function Ph(t){var e=t.getDay();return 0===e?7:e}function zh(t,e){return K(Ve.count(Ht(t)-1,t),e,2)}function ki(t){var e=t.getDay();return e>=4||0===e?Me(t):Me.ceil(t)}function Hh(t,e){return t=ki(t),K(Me.count(Ht(t),t)+(4===Ht(t).getDay()),e,2)}function Lh(t){return t.getDay()}function Uh(t,e){return K(En.count(Ht(t)-1,t),e,2)}function Xh(t,e){return K(t.getFullYear()%100,e,2)}function Yh(t,e){return K((t=ki(t)).getFullYear()%100,e,2)}function Vh(t,e){return K(t.getFullYear()%1e4,e,4)}function Wh(t,e){var n=t.getDay();return K((t=n>=4||0===n?Me(t):Me.ceil(t)).getFullYear()%1e4,e,4)}function Bh(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+K(e/60|0,"0",2)+K(e%60,"0",2)}function Di(t,e){return K(t.getUTCDate(),e,2)}function Gh(t,e){return K(t.getUTCHours(),e,2)}function qh(t,e){return K(t.getUTCHours()%12||12,e,2)}function jh(t,e){return K(1+Tr.count(Jt(t),t),e,3)}function Ri(t,e){return K(t.getUTCMilliseconds(),e,3)}function Zh(t,e){return Ri(t,e)+"000"}function Qh(t,e){return K(t.getUTCMonth()+1,e,2)}function Kh(t,e){return K(t.getUTCMinutes(),e,2)}function Jh(t,e){return K(t.getUTCSeconds(),e,2)}function tf(t){var e=t.getUTCDay();return 0===e?7:e}function ef(t,e){return K(Cr.count(Jt(t)-1,t),e,2)}function Si(t){var e=t.getUTCDay();return e>=4||0===e?Ae(t):Ae.ceil(t)}function nf(t,e){return t=Si(t),K(Ae.count(Jt(t),t)+(4===Jt(t).getUTCDay()),e,2)}function rf(t){return t.getUTCDay()}function af(t,e){return K(In.count(Jt(t)-1,t),e,2)}function sf(t,e){return K(t.getUTCFullYear()%100,e,2)}function of(t,e){return K((t=Si(t)).getUTCFullYear()%100,e,2)}function uf(t,e){return K(t.getUTCFullYear()%1e4,e,4)}function lf(t,e){var n=t.getUTCDay();return K((t=n>=4||0===n?Ae(t):Ae.ceil(t)).getUTCFullYear()%1e4,e,4)}function cf(){return"+0000"}function Ni(){return"%"}function Ei(t){return+t}function Ii(t){return Math.floor(+t/1e3)}function gf(t){return new Date(t)}function yf(t){return t instanceof Date?+t:+new Date(+t)}function $i(t,e,n,r,a,i,s,o,l,u){var h=di(),d=h.invert,c=h.domain,p=u(".%L"),v=u(":%S"),x=u("%I:%M"),f=u("%I %p"),m=u("%a %d"),w=u("%b %d"),T=u("%B"),b=u("%Y");function k(D){return(l(D)<D?p:o(D)<D?v:s(D)<D?x:i(D)<D?f:r(D)<D?a(D)<D?m:w:n(D)<D?T:b)(D)}return h.invert=function(D){return new Date(d(D))},h.domain=function(D){return arguments.length?c(Array.from(D,yf)):c().map(gf)},h.ticks=function(D){var P=c();return t(P[0],P[P.length-1],D??10)},h.tickFormat=function(D,P){return null==P?k:u(P)},h.nice=function(D){var P=c();return(!D||"function"!=typeof D.range)&&(D=e(P[0],P[P.length-1],D??10)),D?c(function mf(t,e){var s,n=0,r=(t=t.slice()).length-1,a=t[n],i=t[r];return i<a&&(s=n,n=r,r=s,s=a,a=i,i=s),t[n]=e.floor(a),t[r]=e.ceil(i),t}(P,D)):h},h.copy=function(){return fi(h,$i(t,e,n,r,a,i,s,o,l,u))},h}function Oi(){return Dn.apply($i(uh,lh,Ht,$n,Ve,Ce,xr,br,Te,jt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gt(t){return"string"==typeof t?new St([[document.querySelector(t)]],[document.documentElement]):new St([[t]],Jr)}function ct(t){return function(){return t}}!function pf(t){ke=function ch(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=Be(a),h=Ge(a),d=Be(i),c=Ge(i),p=Be(s),v=Ge(s),x=Be(o),f=Ge(o),m=Be(l),w=Ge(l),T={a:function I(F){return s[F.getDay()]},A:function H(F){return i[F.getDay()]},b:function z(F){return l[F.getMonth()]},B:function U(F){return o[F.getMonth()]},c:null,d:Mi,e:Mi,f:Ih,g:Yh,G:Wh,H:Sh,I:Nh,j:Eh,L:Ai,m:$h,M:Oh,p:function X(F){return a[+(F.getHours()>=12)]},q:function V(F){return 1+~~(F.getMonth()/3)},Q:Ei,s:Ii,S:Fh,u:Ph,U:zh,V:Hh,w:Lh,W:Uh,x:null,X:null,y:Xh,Y:Vh,Z:Bh,"%":Ni},b={a:function ft(F){return s[F.getUTCDay()]},A:function st(F){return i[F.getUTCDay()]},b:function ot(F){return l[F.getUTCMonth()]},B:function dt(F){return o[F.getUTCMonth()]},c:null,d:Di,e:Di,f:Zh,g:of,G:lf,H:Gh,I:qh,j:jh,L:Ri,m:Qh,M:Kh,p:function J(F){return a[+(F.getUTCHours()>=12)]},q:function ht(F){return 1+~~(F.getUTCMonth()/3)},Q:Ei,s:Ii,S:Jh,u:tf,U:ef,V:nf,w:rf,W:af,x:null,X:null,y:sf,Y:uf,Z:cf,"%":Ni},k={a:function E(F,B,q){var N=p.exec(B.slice(q));return N?(F.w=v.get(N[0].toLowerCase()),q+N[0].length):-1},A:function y(F,B,q){var N=d.exec(B.slice(q));return N?(F.w=c.get(N[0].toLowerCase()),q+N[0].length):-1},b:function S(F,B,q){var N=m.exec(B.slice(q));return N?(F.m=w.get(N[0].toLowerCase()),q+N[0].length):-1},B:function M(F,B,q){var N=x.exec(B.slice(q));return N?(F.m=f.get(N[0].toLowerCase()),q+N[0].length):-1},c:function g(F,B,q){return $(F,e,B,q)},d:Ti,e:Ti,f:Ah,g:xi,G:bi,H:Ci,I:Ci,j:xh,L:Mh,m:bh,M:Th,p:function O(F,B,q){var N=u.exec(B.slice(q));return N?(F.p=h.get(N[0].toLowerCase()),q+N[0].length):-1},q:wh,Q:Dh,s:Rh,S:Ch,u:mh,U:gh,V:yh,w:ph,W:vh,x:function R(F,B,q){return $(F,n,B,q)},X:function A(F,B,q){return $(F,r,B,q)},y:xi,Y:bi,Z:_h,"%":kh};function D(F,B){return function(q){var Mt,Y,lt,N=[],ut=-1,rt=0,Ct=F.length;for(q instanceof Date||(q=new Date(+q));++ut<Ct;)37===F.charCodeAt(ut)&&(N.push(F.slice(rt,ut)),null!=(Y=wi[Mt=F.charAt(++ut)])?Mt=F.charAt(++ut):Y="e"===Mt?" ":"0",(lt=B[Mt])&&(Mt=lt(q,Y)),N.push(Mt),rt=ut+1);return N.push(F.slice(rt,ut)),N.join("")}}function P(F,B){return function(q){var rt,Ct,N=We(1900,void 0,1);if($(N,F,q+="",0)!=q.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(1e3*N.s+("L"in N?N.L:0));if(B&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+12*N.p),void 0===N.m&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(Ct=(rt=Ar(We(N.y,0,1))).getUTCDay(),rt=Ct>4||0===Ct?In.ceil(rt):In(rt),rt=Tr.offset(rt,7*(N.V-1)),N.y=rt.getUTCFullYear(),N.m=rt.getUTCMonth(),N.d=rt.getUTCDate()+(N.w+6)%7):(Ct=(rt=Mr(We(N.y,0,1))).getDay(),rt=Ct>4||0===Ct?En.ceil(rt):En(rt),rt=Ce.offset(rt,7*(N.V-1)),N.y=rt.getFullYear(),N.m=rt.getMonth(),N.d=rt.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),Ct="Z"in N?Ar(We(N.y,0,1)).getUTCDay():Mr(We(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+7*N.W-(Ct+5)%7:N.w+7*N.U-(Ct+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,Ar(N)):Mr(N)}}function $(F,B,q,N){for(var Mt,Y,ut=0,rt=B.length,Ct=q.length;ut<rt;){if(N>=Ct)return-1;if(37===(Mt=B.charCodeAt(ut++))){if(Mt=B.charAt(ut++),!(Y=k[Mt in wi?B.charAt(ut++):Mt])||(N=Y(F,q,N))<0)return-1}else if(Mt!=q.charCodeAt(N++))return-1}return N}return T.x=D(n,T),T.X=D(r,T),T.c=D(e,T),b.x=D(n,b),b.X=D(r,b),b.c=D(e,b),{format:function(F){var B=D(F+="",T);return B.toString=function(){return F},B},parse:function(F){var B=P(F+="",!1);return B.toString=function(){return F},B},utcFormat:function(F){var B=D(F+="",b);return B.toString=function(){return F},B},utcParse:function(F){var B=P(F+="",!0);return B.toString=function(){return F},B}}}(t),jt=ke.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Fi=Math.abs,xt=Math.atan2,ce=Math.cos,vf=Math.max,kr=Math.min,Lt=Math.sin,De=Math.sqrt,Dt=1e-12,qe=Math.PI,On=qe/2,Fn=2*qe;function Pi(t){return t>=1?On:t<=-1?-On:Math.asin(t)}const Dr=Math.PI,Rr=2*Dr,he=1e-6,wf=Rr-he;function zi(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class Pn{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?zi:function bf(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return zi;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,s){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,(i=+i)<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=r-e,u=a-n,h=s-e,d=o-n,c=h*h+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=n}`;else if(c>he)if(Math.abs(d*l-u*h)>he&&i){let p=r-s,v=a-o,x=l*l+u*u,f=p*p+v*v,m=Math.sqrt(x),w=Math.sqrt(c),T=i*Math.tan((Dr-Math.acos((x+c-f)/(2*m*w)))/2),b=T/w,k=T/m;Math.abs(b-1)>he&&this._append`L${e+b*h},${n+b*d}`,this._append`A${i},${i},0,0,${+(d*p>h*v)},${this._x1=e+k*l},${this._y1=n+k*u}`}else this._append`L${this._x1=e},${this._y1=n}`}arc(e,n,r,a,i,s){if(e=+e,n=+n,s=!!s,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(a),l=r*Math.sin(a),u=e+o,h=n+l,d=1^s,c=s?a-i:i-a;null===this._x1?this._append`M${u},${h}`:(Math.abs(this._x1-u)>he||Math.abs(this._y1-h)>he)&&this._append`L${u},${h}`,r&&(c<0&&(c=c%Rr+Rr),c>wf?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=h}`:c>he&&this._append`A${r},${r},0,${+(c>=Dr)},${d},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Hi(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Pn(e)}function Tf(t){return t.innerRadius}function Cf(t){return t.outerRadius}function Mf(t){return t.startAngle}function Af(t){return t.endAngle}function kf(t){return t&&t.padAngle}function zn(t,e,n,r,a,i,s){var o=t-n,l=e-r,u=(s?i:-i)/De(o*o+l*l),h=u*l,d=-u*o,c=t+h,p=e+d,v=n+h,x=r+d,f=(c+v)/2,m=(p+x)/2,w=v-c,T=x-p,b=w*w+T*T,k=a-i,D=c*x-v*p,P=(T<0?-1:1)*De(vf(0,k*k*b-D*D)),$=(D*T-w*P)/b,O=(-D*w-T*P)/b,E=(D*T+w*P)/b,y=(-D*w+T*P)/b,S=$-f,M=O-m,g=E-f,R=y-m;return S*S+M*M>g*g+R*R&&($=E,O=y),{cx:$,cy:O,x01:-h,y01:-d,x11:$*(a/k-1),y11:O*(a/k-1)}}function Li(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ui(t){this._context=t}function Sf(t){return new Ui(t)}function Nf(t){return t[0]}function Ef(t){return t[1]}function Sr(t,e){var n=ct(!0),r=null,a=Sf,i=null,s=Hi(o);function o(l){var u,d,p,h=(l=Li(l)).length,c=!1;for(null==r&&(i=a(p=s())),u=0;u<=h;++u)!(u<h&&n(d=l[u],u,l))===c&&((c=!c)?i.lineStart():i.lineEnd()),c&&i.point(+t(d,u,l),+e(d,u,l));if(p)return i=null,p+""||null}return t="function"==typeof t?t:void 0===t?Nf:ct(t),e="function"==typeof e?e:void 0===e?Ef:ct(e),o.x=function(l){return arguments.length?(t="function"==typeof l?l:ct(+l),o):t},o.y=function(l){return arguments.length?(e="function"==typeof l?l:ct(+l),o):e},o.defined=function(l){return arguments.length?(n="function"==typeof l?l:ct(!!l),o):n},o.curve=function(l){return arguments.length?(a=l,null!=r&&(i=a(r)),o):a},o.context=function(l){return arguments.length?(null==l?r=i=null:i=a(r=l),o):r},o}function If(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function $f(t){return t}Ui.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};const Nr={capture:!0,passive:!1};function Er(t){t.preventDefault(),t.stopImmediatePropagation()}function Xi(t){return((t=Math.exp(t))+1/t)/2}const Uf=function t(e,n,r){function a(i,s){var f,m,o=i[0],l=i[1],u=i[2],c=s[2],p=s[0]-o,v=s[1]-l,x=p*p+v*v;if(x<1e-12)m=Math.log(c/u)/e,f=function(P){return[o+P*p,l+P*v,u*Math.exp(e*P*m)]};else{var w=Math.sqrt(x),T=(c*c-u*u+r*x)/(2*u*n*w),b=(c*c-u*u-r*x)/(2*c*n*w),k=Math.log(Math.sqrt(T*T+1)-T),D=Math.log(Math.sqrt(b*b+1)-b);m=(D-k)/e,f=function(P){var $=P*m,O=Xi(k),E=u/(n*w)*(O*function Lf(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*$+k)-function Hf(t){return((t=Math.exp(t))-1/t)/2}(k));return[o+E*p,l+E*v,u*O/Xi(e*$+k)]}}return f.duration=1e3*m*e/Math.SQRT2,f}return a.rho=function(i){var s=Math.max(.001,+i),o=s*s;return t(s,o,o*o)},a}(Math.SQRT2,2,4);function fe(t,e){if(t=function Xf(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}const Hn=t=>()=>t;function Yf(t,{sourceEvent:e,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function Zt(t,e,n){this.k=t,this.x=e,this.y=n}Zt.prototype={constructor:Zt,scale:function(t){return 1===t?this:new Zt(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Zt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ir=new Zt(1,0,0);function $r(t){t.stopImmediatePropagation()}function je(t){t.preventDefault(),t.stopImmediatePropagation()}function Wf(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Bf(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Yi(){return this.__zoom||Ir}function Gf(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function qf(){return navigator.maxTouchPoints||"ontouchstart"in this}function jf(t,e,n){var r=t.invertX(e[0][0])-n[0][0],a=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}var it=G(8758);let nt=(()=>{class t{static#t=this.svgNS="http://www.w3.org/2000/svg";static get bodyFont(){if(!this._bodyFont){const n=getComputedStyle(document.body);this._bodyFont=`${n.fontSize} ${n.fontFamily}`}return this._bodyFont}static chartSize(n){if(!n)return{width:0,height:0};const r=n.parentNode;if(!r)return{width:0,height:0};const a=getComputedStyle(r);return{height:Math.round(r.clientHeight-parseFloat(a.paddingTop)-parseFloat(a.paddingBottom)),width:Math.round(r.clientWidth-parseFloat(a.paddingLeft)-parseFloat(a.paddingRight))}}static xScale(n,r,a=!0,i=!1){let s;return s=i?Oi().domain(at(n)):Kt().domain(at(n)),a?s.rangeRound([0,r]):s.range([0,r]),s}static yScale(n,r,a=!0,i=!1){let s;return s=i?Oi().domain([0,Math.max(...n)]):Kt().domain([0,Math.max(...n)]),a?s.rangeRound([r,0]):s.range([r,0]),s}static colorScale(n,r){return r instanceof Array?Kt().domain(at(n)).range([r[0],r[1]]):Kt().domain(at(n)).rangeRound([0,r-1])}static arcTween(n,r,a){const i=kn({startAngle:n.startAngle,endAngle:n.endAngle},{startAngle:r.startAngle,endAngle:r.endAngle});return s=>a(i(s))}static transitionsComplete(n,r){let a=0;n.each(()=>{a++}).on("end",()=>{a--,0===a&&r()})}static convertData(n,r){return n.map(a=>{const i="number"==typeof a[r.value.toString()]?a[r.value.toString()]:a[r.value.toString()]instanceof Date?a[r.value.toString()].valueOf():parseInt(a[r.value.toString()],10);return{id:a[r.id],value:i,category:(0,it.O9)(r.category)?a[r.category]:void 0,label:(0,it.O9)(r.label)?a[r.label]:void 0,color:(0,it.O9)(r.color)?a[r.color]:void 0}})}static getTextWidth(n,r=this.bodyFont){if(!(0,it.O9)(n)||!n.length)return 0;const i=document.createElement("canvas").getContext("2d");return i.font=r,Math.ceil(i.measureText(n).width)}static getMaxTextWidth(n,r){if(!(0,it.O9)(n)||!n.length)return 0;let a=0;return n.forEach(i=>{const s=this.getTextWidth(i,r);s>a&&(a=s)}),a}static trimText(n,r,a=!0,i=this.bodyFont){if(!(0,it.O9)(n)||!n.length)return n;const o=document.createElement("canvas").getContext("2d");o.font=i;let l=Math.ceil(o.measureText(n).width);for(;l>r;)n=a?`${n.substring(0,n.length-4)}...`:n.slice(0,-1),l=Math.ceil(o.measureText(n).width);return n}static wrapText(n,r,a=this.bodyFont){if(!(0,it.O9)(n)||!n.length)return n;const i=[],o=document.createElement("canvas").getContext("2d");o.font=a;let l=Math.ceil(o.measureText(n).width);if(l<r)return[n];let u="";for(const h of n)u+=h,l=Math.ceil(o.measureText(u).width),l>r&&(i.push(u.slice(0,-1)),u=h);return u.length&&i.push(u),i}}return t})();class Qf{static buildBarChart(e){return new Promise((n,r)=>{if(!e.container||"svg"!==e.container.tagName)return void r();e.valueTicks=e.valueTicks||5;const i=Math.max(...e.data.map(b=>b.value))||0,s=gt(e.container),o=e.palette&&e.palette.length?nt.colorScale(e.data.map(b=>b.value),2===e.palette.length?e.palette:e.palette.length):void 0,l=e.valueFormat?Wt(e.valueFormat):e.valueDateFormat?jt(e.valueDateFormat):void 0,u=(0,it.cy)(e.valueTickValues)?e.valueTickValues:e.data.map(b=>(0,it.O9)(l)?l(b.value):b.value.toString()),h=(0,it.O9)(e.barPadding)?e.barPadding:20,d=(0,it.O9)(e.barWidth)?e.barWidth:20,c_left=16+nt.getMaxTextWidth(u,`${C.strings.FONT_SIZE_SMALL} ${C.strings.FONT_FAMILY}`),p=nt.chartSize(e.container);p.width=e.data.length*(d+h);const v=nt.yScale(e.data.map(b=>b.value),p.height-16-16).nice(),x=Lr(v).ticks(e.valueTicks).tickSize(-p.width);if((0,it.cy)(e.valueTickValues)){const b=Kt().domain([0,e.valueTickValues.length-1]).range([0,i]);e.valueTicks=[],e.valueTickValues?.forEach((k,D)=>{e.valueTicks.push(b(D))}),x.tickFormat((k,D)=>e.valueTickValues[D]||"")}(0,it.cy)(e.valueTicks)?x.tickValues(e.valueTicks):x.ticks(e.valueTicks),e.valueFormat?.length&&x.tickFormat(Wt(e.valueFormat)),e.valueDateFormat&&x.tickFormat(jt(e.valueDateFormat));let f=s.select(`g.${C.classes.CHART_ROOT}`);if(f.node()||(f=s.append("g").classed(C.classes.CHART_ROOT,!0),f.append("g").classed(C.classes.CHART_YAXIS,!0),f.append("g").classed(C.classes.CHART_XAXIS,!0),f.append("g").classed(`${C.classes.CHART_PREFIX}__chart`,!0).classed(`${C.classes.CHART_PREFIX}__bar`,!0)),s.attr("width",p.width+c_left),s.attr("height",p.height),s.select(`g.${C.classes.CHART_YAXIS}`).attr("transform",`translate(${c_left}, 16)`).call(x),s.select(`g.${C.classes.CHART_XAXIS}`).attr("transform",`translate(${c_left}, ${p.height-16})`),(0,it.cy)(e.categoryTickValues)&&e.categoryTickValues?.length){const b=Hr(fr().domain(e.categoryTickValues).range([0,p.width]));s.select(`g.${C.classes.CHART_XAXIS}`).call(b)}const m=f.select(`g.${C.classes.CHART_PREFIX}__bar`);m.attr("transform",`translate(${c_left}, -0)`);const w=m.selectAll("rect").data(e.data,b=>b.id);w.exit().transition().duration(C.numbers.TRANSITION_DURATION).attr("y",b=>p.height-16).attr("height",0),w.exit().transition().delay(C.numbers.TRANSITION_DURATION).remove();const T=w.enter();T.append("rect").attr("x",(b,k)=>k*(d+h)+h/2).attr("y",p.height-16).attr("width",b=>d).attr("height",0).merge(w).attr("id",b=>`${C.classes.CHART_PREFIX}__node-${b.id}`).transition().call(nt.transitionsComplete,()=>{n()}).duration(C.numbers.TRANSITION_DURATION).attr("y",b=>b.value?v(b.value)+16:0).attr("height",b=>b.value?p.height-16-16-v(b.value):0).attr("fill",b=>b.color?b.color:o&&b.value&&e.palette?2===e.palette.length?o(b.value):e.palette[o(b.value)]:"#fff"),e.selectedCallback&&T.selectAll("rect").on("click",(b,k)=>e.selectedCallback(k,b.target)),e.hoverCallback&&(T.selectAll("rect").on("mouseenter",(b,k)=>e.hoverCallback(!0,k,b.target)),T.selectAll("rect").on("mouseleave",(b,k)=>e.hoverCallback(!1,k,b.target)))})}}class Kf{static buildBubbleChart(e){return new Promise((n,r)=>{if(!e.container||"svg"!==e.container.tagName)return void r();const a=gt(e.container),i=e.palette&&e.palette.length?nt.colorScale(e.data.map(f=>f.value),2===e.palette.length?e.palette:e.palette.length):void 0,s=e.valueFormat?Wt(e.valueFormat):e.valueDateFormat?jt(e.valueDateFormat):void 0,l=nt.chartSize(e.container),u=Ue({children:e.data}).sum(f=>f.value).sort((f,m)=>m.value-f.value);(function pc(){var t=null,e=1,n=1,r=oe;function a(i){const s=function oc(){let t=1;return()=>(t=(1664525*t+1013904223)%Ba)/Ba}();return i.x=e/2,i.y=n/2,t?i.eachBefore(ti(t)).eachAfter(ur(r,.5,s)).eachBefore(ei(1)):i.eachBefore(ti(dc)).eachAfter(ur(oe,1,s)).eachAfter(ur(r,i.r/Math.min(e,n),s)).eachBefore(ei(Math.min(e,n)/(2*i.r))),i}return a.radius=function(i){return arguments.length?(t=function ac(t){return null==t?null:Wa(t)}(i),a):t},a.size=function(i){return arguments.length?(e=+i[0],n=+i[1],a):[e,n]},a.padding=function(i){return arguments.length?(r="function"==typeof i?i:be(+i),a):r},a})().size([Math.min(l.width,l.height),Math.min(l.width,l.height)])(u);let d=a.select(`g.${C.classes.CHART_ROOT}`);d.node()||(d=a.append("g").classed(C.classes.CHART_ROOT,!0),d.append("g").classed(`${C.classes.CHART_PREFIX}__chart`,!0).classed(`${C.classes.CHART_PREFIX}__bubble`,!0)),a.attr("width",l.width),a.attr("height",l.height);const p=d.select(`g.${C.classes.CHART_PREFIX}__bubble`).selectAll("g").data(u.leaves(),f=>f.data.id);p.exit().select("text").remove(),p.exit().select("circle").transition().duration(C.numbers.TRANSITION_DURATION).attr("r",0),p.exit().transition().delay(C.numbers.TRANSITION_DURATION).remove();const v=p.enter().append("g");v.append("circle"),v.append("clipPath").attr("id",f=>`${C.classes.CHART_CLIP}-${f.data.id}`).append("circle"),v.append("text").classed(C.classes.CHART_TEXT,!0).attr("clip-path",f=>`url(#${C.classes.CHART_CLIP}-${f.data.id})`).style("text-anchor","middle"),e.selectedCallback&&v.on("click",(f,m)=>e.selectedCallback(m.data,f.target.parentElement)),e.hoverCallback&&(v.on("mouseenter",(f,m)=>e.hoverCallback(!0,m.data,f.target)),v.on("mouseleave",(f,m)=>e.hoverCallback(!1,m.data,f.target)));const x=v.merge(p);x.select("text").style("display","none").attr("y",".35em").text(f=>s?s(f.data.value):f.data.value),x.transition().duration(C.numbers.TRANSITION_DURATION).attr("transform",f=>"translate("+f.x+","+f.y+")"),x.select("g > circle").attr("fill",f=>f.data.color?f.data.color:i&&f.value&&e.palette?2===e.palette.length?i(f.value):e.palette[i(f.value)]:"#fff").attr("id",f=>`${C.classes.CHART_PREFIX}__node-${f.data.id}`).transition().call(nt.transitionsComplete,()=>{x.select("clipPath > circle").attr("r",f=>f.r>5?f.r-5:0),x.select("text").style("display",null),n()}).duration(C.numbers.TRANSITION_DURATION).attr("r",f=>f.r)})}}var _t=G(8700);function Vi(t){return(0,_t.a)(t).getDay()}var Wi=G(8797);var ld=G(4786);function Bi(t,e){const n=(0,_t.a)(t),r=(0,_t.a)(e),a=Gi(n,r),i=Math.abs((0,ld.m)(n,r));n.setDate(n.getDate()-a*i);const o=a*(i-+(Gi(n,r)===-a));return 0===o?0:o}function Gi(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Or(t,e){const n=(0,_t.a)(t),r=(0,_t.a)(e),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function md(t,e){const n=(0,_t.a)(t),r=(0,_t.a)(e),a=Or(n,r),i=Math.abs(function hd(t,e){const n=(0,_t.a)(t),r=(0,_t.a)(e);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(n,r));let s;if(i<1)s=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let o=Or(n,r)===-a;(function pd(t){const e=(0,_t.a)(t);return+function fd(t){const e=(0,_t.a)(t);return e.setHours(23,59,59,999),e}(e)==+function dd(t){const e=(0,_t.a)(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}(e)})((0,_t.a)(t))&&1===i&&1===Or(t,r)&&(o=!1),s=a*(i-Number(o))}return 0===s?0:s}var qi=G(764);class gd{static buildGanttChart(e){return new Promise((n,r)=>{if(!e.container||"svg"!==e.container.tagName)return void r();let a=function Jf(t){let e;return t.forEach(n=>{const r=(0,_t.a)(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}(e.data.map(O=>O.startDate));(function td(t){return 1===(0,_t.a)(t).getDay()})(a)||(a=function rd(t){return function nd(t,e){let n=Vi(t)-e;return n<=0&&(n+=7),function ed(t,e){return(0,Wi.f)(t,-e)}(t,n)}(t,1)}(a));let i=function ad(t){let e;return t.forEach(function(n){const r=(0,_t.a)(n);(void 0===e||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}(e.data.map(O=>O.endDate));(function id(t){return 0===(0,_t.a)(t).getDay()})(i)||(i=function od(t){return function sd(t,e){let n=e-Vi(t);return n<=0&&(n+=7),(0,Wi.f)(t,n)}(t,0)}(i));const s=gt(e.container);let o;const d=nt.chartSize(e.container);d.height=56*e.data.length;let v=$n,x="",f=0;switch(e.categoryTimeSpan){case"year":v=Ht,x="%Y";break;case"week":v=Ve,x="%m/%d",f=function cd(t,e,n){const r=Bi(t,e)/7;return function ud(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return 0===r?0:r}}(n?.roundingMethod)(r)}(i,a);break;case"day":v=Ce,x="%m/%d",f=Bi(i,a);break;default:x="%m/%y",f=md(i,a)}d.width<48*f&&(d.width=48*f);const m=nt.xScale([a,i],d.width-16-16,!1,!0).nice(),w=function ss(t){return Je(Rt,t)}(m).ticks(v,x).tickSize(-d.height);let T=s.select(`g.${C.classes.CHART_ROOT}`);T.node()||(T=s.append("g").classed(C.classes.CHART_ROOT,!0),T.append("g").classed(C.classes.CHART_XAXIS,!0),T.append("g").classed(`${C.classes.CHART_PREFIX}__gantt`,!0),o=gt(e.container.parentElement).append("div").classed(`${C.classes.CHART_POPOVER}`,!0)),s.attr("width",d.width),s.attr("height",d.height+16),s.select(`g.${C.classes.CHART_XAXIS}`).attr("transform","translate(16, 16)").call(w);const b=T.select(`g.${C.classes.CHART_PREFIX}__gantt`);b.attr("transform","translate(16, -0)");const k=b.selectAll("g").data(e.data,O=>O.id);k.exit().transition().duration(C.numbers.TRANSITION_DURATION).attr("width",0),k.exit().transition().delay(C.numbers.TRANSITION_DURATION).remove();const D=k.enter().append("g").attr("id",O=>`${C.classes.CHART_PREFIX}__node-${O.id}`).on("mouseenter",(O,E)=>{let y=`\n            <span style="grid-column: 1 / -1; font-weight: 700">${E.label}</span>\n            <span>Start</span>\n            <span style="justify-self: end">${(0,qi.GP)(E.startDate,"MM/dd/yyyy")}</span>\n            <span>End</span>\n            <span style="justify-self: end">${(0,qi.GP)(E.endDate,"MM/dd/yyyy")}</span>\n            <span>Progress</span>\n            <span style="justify-self: end">${E.progress||0}%</span>\n          `;E.description?.length&&(y+=`<span style="grid-column: 1 / -1; font-size: .75rem;">${E.description}</span>`),o.html(y).style("top",`${O.layerY}px`).style("left",`${O.layerX}px`).style("visibility","visible"),e.hoverCallback&&e.hoverCallback(!0,E,O.target)}).on("mouseleave",(O,E)=>{o.style("visibility",null),e.hoverCallback&&e.hoverCallback(!1,E,O.target)});e.selectedCallback&&D.on("click",(O,E)=>e.selectedCallback(E,O.target.parentElement));const P=D.append("defs").append("linearGradient").attr("id",(O,E)=>`meter-gradient--${E}`);P.append("stop").attr("offset","0%").attr("stop-color",C.chartPalette.indigoA200),P.append("stop").attr("offset",O=>`${O.progress||0}%`).attr("stop-color",C.chartPalette.indigoA200),P.append("stop").attr("offset",O=>`${O.progress||0}%`).attr("stop-color",C.chartPalette.indigo200),P.append("stop").attr("offset","100%").attr("stop-color",C.chartPalette.indigo200),D.append("rect").classed(C.classes.CHART_NODE,!0).attr("width",0).attr("height",40).attr("rx",4).style("stroke",O=>O.color?.length?O.color:C.chartTheme.outlineMedium).style("fill",C.chartTheme.surfaceDim),D.append("text").classed(C.classes.CHART_TEXT,!0).attr("x",8).attr("y",16).style("font-size",".85rem").style("stroke",C.chartTheme.surfaceDim).style("stroke-width",".5rem").style("fill",C.chartTheme.textHigh).style("paint-order","stroke").style("stroke-linejoin","round").style("display","none"),D.append("rect").classed(C.classes.CHART_METER,!0).attr("x",8).attr("y",24).attr("width",0).attr("height",8).style("fill",(O,E)=>`url(#meter-gradient--${E})`);const $=D.merge(k);$.attr("transform",(O,E)=>`translate(${m(O.startDate)}, ${56*E+16+8})`),$.select(`g > .${C.classes.CHART_NODE}`).transition().duration(C.numbers.TRANSITION_DURATION).attr("width",O=>{const E=m(O.endDate)-m(O.startDate);return E>0?E:0}),$.select(`g > .${C.classes.CHART_METER}`).transition().duration(C.numbers.TRANSITION_DURATION).attr("width",O=>{const E=m(O.endDate)-m(O.startDate)-16;return E>0?E:0}),$.select("g > text").transition().call(nt.transitionsComplete,()=>{$.select("g > text").style("display",null),n()}).duration(C.numbers.TRANSITION_DURATION).text((O,E,y)=>`${O.label}`)})}}function ji(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ze(t){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function vd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ln(){return Ln=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ln.apply(this,arguments)}function Zi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qi(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function _d(t,e){if(t){if("string"==typeof t)return Zi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zi(t,e)}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return i=l.done,l},e:function(l){s=!0,o=l},f:function(){try{!i&&null!=n.return&&n.return()}finally{if(s)throw o}}}}function wd(t,e){var n=[],r=[];return t.length&&function a(i,s){if(1===i.length)n.push(i[0]),r.push(i[0]);else{for(var o=Array(i.length-1),l=0;l<o.length;l++)0===l&&n.push(i[0]),l===o.length-1&&r.push(i[l+1]),o[l]=[(1-s)*i[l][0]+s*i[l+1][0],(1-s)*i[l][1]+s*i[l+1][1]];a(o,s)}}(t,e),{left:n,right:r.reverse()}}function bd(t){var e={};return 4===t.length&&(e.x2=t[2][0],e.y2=t[2][1]),t.length>=3&&(e.x1=t[1][0],e.y1=t[1][1]),e.x=t[t.length-1][0],e.y=t[t.length-1][1],e.type=4===t.length?"C":3===t.length?"Q":"L",e}var Cd=/[MLCSTQAHVZmlcstqahv]|-?[\d.e+-]+/g,Re={M:["x","y"],L:["x","y"],H:["x"],V:["y"],C:["x1","y1","x2","y2","x","y"],S:["x2","y2","x","y"],Q:["x1","y1","x","y"],T:["x","y"],A:["rx","ry","xAxisRotation","largeArcFlag","sweepFlag","x","y"],Z:[]};function Fr(t,e){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n}function Md(t){return"".concat(t.type).concat(Re[t.type].map(function(e){return t[e]}).join(","))}function Ki(t,e,n){var a=e.length-1,i=(t.length-1)/a,o=Fr(a).reduce(function(l,u,h){var d=Math.floor(i*h);return n&&d<t.length-1&&n(t[d],t[d+1])&&l[d]&&(i*h%1<.5?d>0?d-=1:d<t.length-1&&(d+=1):d<t.length-1?d+=1:d>0&&(d-=1)),l[d]=(l[d]||0)+1,l},[]).reduce(function(l,u,h){if(h===t.length-1){var d=Fr(u,Ln({},t[t.length-1]));return"M"===d[0].type&&d.forEach(function(c){c.type="L"}),l.concat(d)}return l.concat(function kd(t,e,n){var r=[];if("L"===e.type||"Q"===e.type||"C"===e.type)r=r.concat(function Td(t,e,n){var r=[[t.x,t.y]];return null!=e.x1&&r.push([e.x1,e.y1]),null!=e.x2&&r.push([e.x2,e.y2]),r.push([e.x,e.y]),function xd(t,e){for(var n=[],r=t,a=1/(e=e||2),i=0;i<e-1;i++){var o=wd(r,a/(1-a*i));n.push(o.left),r=o.right}return n.push(r),n}(r,n).map(bd)}(t,e,n));else{var a=Ln({},t);"M"===a.type&&(a.type="L"),(r=r.concat(Fr(n-1).map(function(){return a}))).push(e)}return r}(t[h],t[h+1],u))},[]);return o.unshift(t[0]),o}function Ji(t){for(var r,a,e=(t||"").match(Cd)||[],n=[],i=0;i<e.length;++i)if(r=Re[e[i]]){a={type:e[i]};for(var s=0;s<r.length;++s)a[r[s]]=+e[i+s+1];i+=r.length,n.push(a)}return n}function Pr(t,e,n){var r=Ji(t),a=Ji(e),i="object"===Ze(n)?n:{excludeSegment:n,snapEndsToInput:!0},o=i.snapEndsToInput;if(!r.length&&!a.length)return function(){return""};var l=function Dd(t,e,n){var r=null==t?[]:t.slice(),a=null==e?[]:e.slice(),i="object"===Ze(n)?n:{excludeSegment:n,snapEndsToInput:!0},s=i.excludeSegment,o=i.snapEndsToInput;if(!r.length&&!a.length)return function(){return[]};var l=!(0!==r.length&&"Z"!==r[r.length-1].type||0!==a.length&&"Z"!==a[a.length-1].type);r.length>0&&"Z"===r[r.length-1].type&&r.pop(),a.length>0&&"Z"===a[a.length-1].type&&a.pop(),r.length?a.length||a.push(r[0]):r.push(a[0]),0!==Math.abs(a.length-r.length)&&(a.length>r.length?r=Ki(r,a,s):a.length<r.length&&(a=Ki(a,r,s))),r=r.map(function(d,c){return function Ad(t,e){var n={x1:"x",y1:"y",x2:"x",y2:"y"},r=["xAxisRotation","largeArcFlag","sweepFlag"];if(t.type!==e.type&&"M"!==e.type.toUpperCase()){var a={};Object.keys(e).forEach(function(i){var s=e[i],o=t[i];void 0===o&&(r.includes(i)?o=s:(void 0===o&&n[i]&&(o=t[n[i]]),void 0===o&&(o=0))),a[i]=o}),a.type=e.type,t=a}return t}(d,a[c])});var h=r.map(function(d){return function yd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ji(Object(n),!0).forEach(function(r){vd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}({},d)});return l&&(h.push({type:"Z"}),r.push({type:"Z"})),function(c){if(1===c&&o)return e??[];if(0===c)return r;for(var p=0;p<h.length;++p){var w,v=r[p],x=a[p],f=h[p],m=Qi(Re[f.type]);try{for(m.s();!(w=m.n()).done;){var T=w.value;f[T]=(1-c)*v[T]+c*x[T],("largeArcFlag"===T||"sweepFlag"===T)&&(f[T]=Math.round(f[T]))}}catch(b){m.e(b)}finally{m.f()}}return h}}(r,a,{excludeSegment:i.excludeSegment,snapEndsToInput:o});return function(h){if(1===h&&o)return e??"";var v,c="",p=Qi(l(h));try{for(p.s();!(v=p.n()).done;)c+=Md(v.value)}catch(f){p.e(f)}finally{p.f()}return c}}Object.keys(Re).forEach(function(t){Re[t.toLowerCase()]=Re[t]});class Rd{static buildLineChart(e){return new Promise((n,r)=>{if(!e.container||"svg"!==e.container.tagName)return void r();e.categoryTicks=e.categoryTicks||10,e.valueTicks=e.valueTicks||5;const a=e.data.map($=>$.data).reduce(($,O)=>$.concat(O),[]),i=a.map($=>$.value),s=a.map($=>parseFloat($.category)).filter(($,O,E)=>E.indexOf($)===O).sort(($,O)=>$-O),o=Math.min(...i)||0,l=Math.max(...i)||0,u=Math.min(...s)||0,h=Math.max(...s)||0,d=gt(e.container),p_left=16+nt.getTextWidth(l.toString(),`${C.strings.FONT_SIZE_SMALL} ${C.strings.FONT_FAMILY}`),v=nt.chartSize(e.container),x=nt.xScale([u,h],v.width-p_left-16),f=Hr(x);if((0,it.cy)(e.categoryTickValues)){const $=Kt().domain([0,e.categoryTickValues.length-1]).range([u,h]);e.categoryTicks=[],e.categoryTickValues?.forEach((O,E)=>{e.categoryTicks.push($(E))}),f.tickFormat((O,E)=>e.categoryTickValues[E]||"")}(0,it.cy)(e.categoryTicks)?f.tickValues(e.categoryTicks):f.ticks(e.categoryTicks),e.categoryFormat&&f.tickFormat(Wt(e.categoryFormat)),e.categoryDateFormat&&f.tickFormat(jt(e.categoryDateFormat));const m=nt.yScale([o,l],v.height-16-16),w=Lr(m).tickSize(-(v.width-p_left-16));if((0,it.cy)(e.valueTickValues)){const $=Kt().domain([0,e.valueTickValues.length-1]).range([o,l]);e.valueTicks=[],e.valueTickValues?.forEach((O,E)=>{e.valueTicks.push($(E))}),w.tickFormat((O,E)=>e.valueTickValues[E]||"")}(0,it.cy)(e.valueTicks)?w.tickValues(e.valueTicks):w.ticks(e.valueTicks),e.valueFormat&&w.tickFormat(Wt(e.valueFormat)),e.valueDateFormat&&w.tickFormat(jt(e.valueDateFormat));const T=Sr().x($=>x($.category)).y($=>m($.value)),b=Sr().x($=>x($.category)).y(v.height-16);let k=d.select(`g.${C.classes.CHART_ROOT}`);k.node()||(k=d.append("g").classed(C.classes.CHART_ROOT,!0),k.append("g").classed(C.classes.CHART_XAXIS,!0),(0,it.cy)(e.categoryTickValues)&&k.select(`g.${C.classes.CHART_XAXIS}`).classed(`${C.classes.CHART_PREFIX}__xaxis--align-boundry-ticks`,!0),k.append("g").classed(C.classes.CHART_YAXIS,!0),k.append("g").classed(`${C.classes.CHART_PREFIX}__line`,!0)),d.attr("width",v.width),d.attr("height",v.height),d.select(`g.${C.classes.CHART_XAXIS}`).attr("transform",`translate(${p_left}, ${v.height-16})`).call(f),d.select(`g.${C.classes.CHART_YAXIS}`).attr("transform",`translate(${p_left}, 16)`).call(w);const D=k.select(`g.${C.classes.CHART_PREFIX}__line`);D.attr("transform",`translate(${p_left+2}, 16)`),e.data.forEach(($,O)=>{const E=D.selectAll(`path.path-${$.id}`).data([$],S=>S.id);E.exit().remove(),E.enter().append("path").classed(`path-${$.id}`,!0).style("fill","none").style("stroke-linejoin","round").style("stroke-linecap","round").attr("d",S=>b(S.data)).merge(E).attr("stroke",S=>S.color).transition().duration(C.numbers.TRANSITION_DURATION).call(nt.transitionsComplete,()=>{O===e.data.length-1&&n()}).attrTween("d",(S,M,g)=>Pr(g[0].getAttribute("d"),T(S.data)))});const P=D.selectAll("path").nodes();if(P.length>e.data.length)for(let $=P.length;$>e.data.length;$--)P[$-1]?.remove()})}}class zr{static buildPieChart(e){return new Promise((n,r)=>{if(!e.container||"svg"!==e.container.tagName)return void r();const a=[],i=gt(e.container),s=e.palette&&e.palette.length?nt.colorScale(e.data.map(m=>m.value),2===e.palette.length?e.palette:e.palette.length):void 0,o=e.valueFormat?Wt(e.valueFormat):e.valueDateFormat?jt(e.valueDateFormat):void 0,l=nt.chartSize(e.container),u={outer:Math.min(l.width,l.height)/2,inner:0};("donut"===e.type||"donut-meter"===e.type)&&(u.inner=u.outer-.35*u.outer);const h=function Rf(){var t=Tf,e=Cf,n=ct(0),r=null,a=Mf,i=Af,s=kf,o=null,l=Hi(u);function u(){var h,d,c=+t.apply(this,arguments),p=+e.apply(this,arguments),v=a.apply(this,arguments)-On,x=i.apply(this,arguments)-On,f=Fi(x-v),m=x>v;if(o||(o=h=l()),p<c&&(d=p,p=c,c=d),p>Dt)if(f>Fn-Dt)o.moveTo(p*ce(v),p*Lt(v)),o.arc(0,0,p,v,x,!m),c>Dt&&(o.moveTo(c*ce(x),c*Lt(x)),o.arc(0,0,c,x,v,m));else{var M,g,w=v,T=x,b=v,k=x,D=f,P=f,$=s.apply(this,arguments)/2,O=$>Dt&&(r?+r.apply(this,arguments):De(c*c+p*p)),E=kr(Fi(p-c)/2,+n.apply(this,arguments)),y=E,S=E;if(O>Dt){var R=Pi(O/c*Lt($)),A=Pi(O/p*Lt($));(D-=2*R)>Dt?(b+=R*=m?1:-1,k-=R):(D=0,b=k=(v+x)/2),(P-=2*A)>Dt?(w+=A*=m?1:-1,T-=A):(P=0,w=T=(v+x)/2)}var I=p*ce(w),H=p*Lt(w),z=c*ce(k),U=c*Lt(k);if(E>Dt){var ot,X=p*ce(T),V=p*Lt(T),ft=c*ce(b),st=c*Lt(b);if(f<qe)if(ot=function Df(t,e,n,r,a,i,s,o){var l=n-t,u=r-e,h=s-a,d=o-i,c=d*l-h*u;if(!(c*c<Dt))return[t+(c=(h*(e-i)-d*(t-a))/c)*l,e+c*u]}(I,H,ft,st,X,V,z,U)){var dt=I-ot[0],J=H-ot[1],ht=X-ot[0],F=V-ot[1],B=1/Lt(function _f(t){return t>1?0:t<-1?qe:Math.acos(t)}((dt*ht+J*F)/(De(dt*dt+J*J)*De(ht*ht+F*F)))/2),q=De(ot[0]*ot[0]+ot[1]*ot[1]);y=kr(E,(c-q)/(B-1)),S=kr(E,(p-q)/(B+1))}else y=S=0}P>Dt?S>Dt?(M=zn(ft,st,I,H,p,S,m),g=zn(X,V,z,U,p,S,m),o.moveTo(M.cx+M.x01,M.cy+M.y01),S<E?o.arc(M.cx,M.cy,S,xt(M.y01,M.x01),xt(g.y01,g.x01),!m):(o.arc(M.cx,M.cy,S,xt(M.y01,M.x01),xt(M.y11,M.x11),!m),o.arc(0,0,p,xt(M.cy+M.y11,M.cx+M.x11),xt(g.cy+g.y11,g.cx+g.x11),!m),o.arc(g.cx,g.cy,S,xt(g.y11,g.x11),xt(g.y01,g.x01),!m))):(o.moveTo(I,H),o.arc(0,0,p,w,T,!m)):o.moveTo(I,H),c>Dt&&D>Dt?y>Dt?(M=zn(z,U,X,V,c,-y,m),g=zn(I,H,ft,st,c,-y,m),o.lineTo(M.cx+M.x01,M.cy+M.y01),y<E?o.arc(M.cx,M.cy,y,xt(M.y01,M.x01),xt(g.y01,g.x01),!m):(o.arc(M.cx,M.cy,y,xt(M.y01,M.x01),xt(M.y11,M.x11),!m),o.arc(0,0,c,xt(M.cy+M.y11,M.cx+M.x11),xt(g.cy+g.y11,g.cx+g.x11),m),o.arc(g.cx,g.cy,y,xt(g.y11,g.x11),xt(g.y01,g.x01),!m))):o.arc(0,0,c,k,b,m):o.lineTo(z,U)}else o.moveTo(0,0);if(o.closePath(),h)return o=null,h+""||null}return u.centroid=function(){var h=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,d=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-qe/2;return[ce(d)*h,Lt(d)*h]},u.innerRadius=function(h){return arguments.length?(t="function"==typeof h?h:ct(+h),u):t},u.outerRadius=function(h){return arguments.length?(e="function"==typeof h?h:ct(+h),u):e},u.cornerRadius=function(h){return arguments.length?(n="function"==typeof h?h:ct(+h),u):n},u.padRadius=function(h){return arguments.length?(r=null==h?null:"function"==typeof h?h:ct(+h),u):r},u.startAngle=function(h){return arguments.length?(a="function"==typeof h?h:ct(+h),u):a},u.endAngle=function(h){return arguments.length?(i="function"==typeof h?h:ct(+h),u):i},u.padAngle=function(h){return arguments.length?(s="function"==typeof h?h:ct(+h),u):s},u.context=function(h){return arguments.length?(o=h??null,u):o},u}().outerRadius(u.outer).innerRadius(u.inner),d=function Of(){var t=$f,e=If,n=null,r=ct(0),a=ct(Fn),i=ct(0);function s(o){var l,h,d,m,b,u=(o=Li(o)).length,c=0,p=new Array(u),v=new Array(u),x=+r.apply(this,arguments),f=Math.min(Fn,Math.max(-Fn,a.apply(this,arguments)-x)),w=Math.min(Math.abs(f)/u,i.apply(this,arguments)),T=w*(f<0?-1:1);for(l=0;l<u;++l)(b=v[p[l]=l]=+t(o[l],l,o))>0&&(c+=b);for(null!=e?p.sort(function(k,D){return e(v[k],v[D])}):null!=n&&p.sort(function(k,D){return n(o[k],o[D])}),l=0,d=c?(f-u*T)/c:0;l<u;++l,x=m)v[h=p[l]]={data:o[h],index:l,value:b=v[h],startAngle:x,endAngle:m=x+(b>0?b*d:0)+T,padAngle:w};return v}return s.value=function(o){return arguments.length?(t="function"==typeof o?o:ct(+o),s):t},s.sortValues=function(o){return arguments.length?(e=o,n=null,s):e},s.sort=function(o){return arguments.length?(n=o,e=null,s):n},s.startAngle=function(o){return arguments.length?(r="function"==typeof o?o:ct(+o),s):r},s.endAngle=function(o){return arguments.length?(a="function"==typeof o?o:ct(+o),s):a},s.padAngle=function(o){return arguments.length?(i="function"==typeof o?o:ct(+o),s):i},s}().value(m=>m.value).sort(null);let c=i.select(`g.${C.classes.CHART_ROOT}`);c.node()||(c=i.append("g").classed(C.classes.CHART_ROOT,!0),c.append("g").classed(`${C.classes.CHART_PREFIX}__${e.type}`,!0)),i.attr("width",l.width),i.attr("height",l.height);const p=c.select(`g.${C.classes.CHART_PREFIX}__${e.type}`);p.attr("transform",`translate(${u.outer}, ${u.outer})`),p.selectAll("g").select("path").each(m=>{a[m.data.id]={startAngle:m.startAngle,endAngle:m.endAngle}});const v=p.selectAll("g").data(d(e.data),m=>m.data.id);v.exit().select("path").transition().duration(C.numbers.TRANSITION_DURATION).attrTween("d",m=>nt.arcTween(m,{startAngle:0,endAngle:0},h)),v.exit().transition().delay(C.numbers.TRANSITION_DURATION).remove();const x=v.enter().append("g");x.append("path"),e.selectedCallback&&x.on("click",(m,w)=>e.selectedCallback(w.data,m.target.parentElement)),e.hoverCallback&&(x.on("mouseenter",(m,w)=>e.hoverCallback(!0,w.data,m.target)),x.on("mouseleave",(m,w)=>e.hoverCallback(!1,w.data,m.target))),x.merge(v).select("g > path").attr("fill",m=>m.data.color?m.data.color:s&&m.value&&e.palette?2===e.palette.length?s(m.value):e.palette[s(m.value)]:"#fff").attr("id",m=>`${C.classes.CHART_PREFIX}__node-${m.data.id}`).transition().call(nt.transitionsComplete,()=>{switch(e.type){case"donut-meter":if(!e.hideLabel){let m=p.select("."+C.classes.CHART_TEXT);m.node()||(m=p.append("text").style("fill",C.chartTheme.textHigh).style("text-anchor","middle").classed(C.classes.CHART_TEXT,!0),m.append("tspan").style("font-size","2rem").classed(C.classes.CHART_TEXT_VALUE,!0),m.append("tspan").attr("x",0).attr("y",0).attr("dy","1.25em").classed(C.classes.CHART_TEXT_LABEL,!0));let w="";w=e.centerValue?e.centerValue:o?o(e.data[0].value):e.data[0].value.toString(),m.select(`tspan.${C.classes.CHART_TEXT_VALUE}`).text(w),m.select(`tspan.${C.classes.CHART_TEXT_LABEL}`).text((0,it.O9)(e.data[0].label)?e.data[0].label:"");break}}n()}).duration(C.numbers.TRANSITION_DURATION).style("stroke","#fff").attrTween("d",m=>nt.arcTween(a[m.data.id]||{startAngle:0,endAngle:0},m,h))})}}let Sd=(()=>{class t{static#t=this.hasChildren=n=>!0===n.data.children||(0,it.cy)(n.data.children)&&n.data.children.length>0;static#e=this.getParentIds=n=>{const r=[];let a=n.parent;for(;a;)r.push(a.data.id),a=a.parent;return r.reverse().slice(1)};static#n=this.getParentDepths=n=>{const r=[];let a=n.parent;for(;a;)r.push(a.depth),a=a.parent;return r.reverse().slice(1)};static#r=this.nodeCenterHorizontal=(n,r,a=n.x)=>Math.round(a-r/2);static buildTreeChart(n){return new Promise((r,a)=>{if(!n.container||"svg"!==n.container.tagName)return void a();const i=gt(n.container),s={width:0,height:0},o=[],u="#212121",h_width=i.attr("width")?parseInt(i.attr("width"),10):0,h_height=i.attr("height")?parseInt(i.attr("height"),10):0,d=Ue(n.data),p=function wc(){var t=mc,e=1,n=1,r=null;function a(u){var h=function _c(t){for(var n,a,i,s,o,e=new An(t,0),r=[e];n=r.pop();)if(i=n._.children)for(n.children=new Array(o=i.length),s=o-1;s>=0;--s)r.push(a=n.children[s]=new An(i[s],s)),a.parent=n;return(e.parent=new An(null,0)).children=[e],e}(u);if(h.eachAfter(i),h.parent.m=-h.z,h.eachBefore(s),r)u.eachBefore(l);else{var d=u,c=u,p=u;u.eachBefore(function(w){w.x<d.x&&(d=w),w.x>c.x&&(c=w),w.depth>p.depth&&(p=w)});var v=d===c?1:t(d,c)/2,x=v-d.x,f=e/(c.x+v+x),m=n/(p.depth||1);u.eachBefore(function(w){w.x=(w.x+x)*f,w.y=w.depth*m})}return u}function i(u){var h=u.children,d=u.parent.children,c=u.i?d[u.i-1]:null;if(h){!function yc(t){for(var i,e=0,n=0,r=t.children,a=r.length;--a>=0;)(i=r[a]).z+=e,i.m+=e,e+=i.s+(n+=i.c)}(u);var p=(h[0].z+h[h.length-1].z)/2;c?(u.z=c.z+t(u._,c._),u.m=u.z-p):u.z=p}else c&&(u.z=c.z+t(u._,c._));u.parent.A=function o(u,h,d){if(h){for(var b,c=u,p=u,v=h,x=c.parent.children[0],f=c.m,m=p.m,w=v.m,T=x.m;v=cr(v),c=lr(c),v&&c;)x=lr(x),(p=cr(p)).a=u,(b=v.z+w-c.z-f+t(v._,c._))>0&&(gc(vc(v,u,d),u,b),f+=b,m+=b),w+=v.m,f+=c.m,T+=x.m,m+=p.m;v&&!cr(p)&&(p.t=v,p.m+=w-m),c&&!lr(x)&&(x.t=c,x.m+=f-T,d=u)}return d}(u,c,u.parent.A||d[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function l(u){u.x*=e,u.y=u.depth*n}return a.separation=function(u){return arguments.length?(t=u,a):t},a.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],a):r?null:[e,n]},a.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],a):r?[e,n]:null},a}().nodeSize([n.node.size.width+24,n.node.size.height+n.node.margin]).separation((y,S)=>y.parent===S.parent?1:1.25)(d);let v=0,x=0;p.descendants().filter(y=>y.depth>0).forEach(y=>{if(!(0,it.O9)(y.data.nodeId)){const S=this.getParentDepths(y),M=[];this.getParentIds(y).forEach((g,R)=>{M.push(`${S[R]}-${g}`)}),M.push(`${y.depth}-${y.data.id}`),y.data.nodeId=M.join("--")}y.y=(y.depth-1)*(n.node.size.height+n.node.margin),y.y>s.height&&(s.height=y.y),y.x>x?x=y.x:y.x<v&&(v=y.x)});let f=i.select(`g.${C.classes.CHART_ROOT}`);f.node()||(f=i.append("g").classed(C.classes.CHART_ROOT,!0),f.append("g").classed(`${C.classes.CHART_PREFIX}__tree`,!0));const m=f.node().getCTM().a;if(s.width=(Math.abs(v)+x+n.node.size.width)*m+16,s.height=(s.height+n.node.size.height)*m+16,h_width<s.width&&i.attr("width",s.width),h_height<s.height&&i.attr("height",s.height),n.zoomScale){const y=(0,it.mi)(i.node().parentElement,!0);let S={left:0,top:0,x:0,y:0};i.style("cursor","grab"),i.call(function Zf(){var h,d,c,t=Wf,e=Bf,n=jf,r=Gf,a=qf,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=Uf,u=ra("start","zoom","end"),p=500,v=150,x=0,f=10;function m(g){g.property("__zoom",Yi).on("wheel.zoom",$,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",E).filter(a).on("touchstart.zoom",y).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function w(g,R){return(R=Math.max(i[0],Math.min(i[1],R)))===g.k?g:new Zt(R,g.x,g.y)}function T(g,R,A){var I=R[0]-A[0]*g.k,H=R[1]-A[1]*g.k;return I===g.x&&H===g.y?g:new Zt(g.k,I,H)}function b(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function k(g,R,A,I){g.on("start.zoom",function(){D(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(I).end()}).tween("zoom",function(){var H=this,z=arguments,U=D(H,z).event(I),X=e.apply(H,z),V=null==A?b(X):"function"==typeof A?A.apply(H,z):A,ft=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),st=H.__zoom,ot="function"==typeof R?R.apply(H,z):R,dt=l(st.invert(V).concat(ft/st.k),ot.invert(V).concat(ft/ot.k));return function(J){if(1===J)J=ot;else{var ht=dt(J),F=ft/ht[2];J=new Zt(F,V[0]-ht[0]*F,V[1]-ht[1]*F)}U.zoom(null,J)}})}function D(g,R,A){return!A&&g.__zooming||new P(g,R)}function P(g,R){this.that=g,this.args=R,this.active=0,this.sourceEvent=null,this.extent=e.apply(g,R),this.taps=0}function $(g,...R){if(t.apply(this,arguments)){var A=D(this,R).event(g),I=this.__zoom,H=Math.max(i[0],Math.min(i[1],I.k*Math.pow(2,r.apply(this,arguments)))),z=fe(g);if(A.wheel)(A.mouse[0][0]!==z[0]||A.mouse[0][1]!==z[1])&&(A.mouse[1]=I.invert(A.mouse[0]=z)),clearTimeout(A.wheel);else{if(I.k===H)return;A.mouse=[z,I.invert(z)],hn(this),A.start()}je(g),A.wheel=setTimeout(function U(){A.wheel=null,A.end()},v),A.zoom("mouse",n(T(w(I,H),A.mouse[0],A.mouse[1]),A.extent,s))}}function O(g,...R){if(!c&&t.apply(this,arguments)){var A=g.currentTarget,I=D(this,R,!0).event(g),H=gt(g.view).on("mousemove.zoom",function V(st){if(je(st),!I.moved){var ot=st.clientX-U,dt=st.clientY-X;I.moved=ot*ot+dt*dt>x}I.event(st).zoom("mouse",n(T(I.that.__zoom,I.mouse[0]=fe(st,A),I.mouse[1]),I.extent,s))},!0).on("mouseup.zoom",function ft(st){H.on("mousemove.zoom mouseup.zoom",null),function Pf(t,e){var n=t.document.documentElement,r=gt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Er,Nr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(st.view,I.moved),je(st),I.event(st).end()},!0),z=fe(g,A),U=g.clientX,X=g.clientY;(function Ff(t){var e=t.document.documentElement,n=gt(t).on("dragstart.drag",Er,Nr);"onselectstart"in e?n.on("selectstart.drag",Er,Nr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")})(g.view),$r(g),I.mouse=[z,this.__zoom.invert(z)],hn(this),I.start()}}function E(g,...R){if(t.apply(this,arguments)){var A=this.__zoom,I=fe(g.changedTouches?g.changedTouches[0]:g,this),H=A.invert(I),U=n(T(w(A,A.k*(g.shiftKey?.5:2)),I,H),e.apply(this,R),s);je(g),o>0?gt(this).transition().duration(o).call(k,U,I,g):gt(this).call(m.transform,U,I,g)}}function y(g,...R){if(t.apply(this,arguments)){var z,U,X,V,A=g.touches,I=A.length,H=D(this,R,g.changedTouches.length===I).event(g);for($r(g),U=0;U<I;++U)V=[V=fe(X=A[U],this),this.__zoom.invert(V),X.identifier],H.touch0?!H.touch1&&H.touch0[2]!==V[2]&&(H.touch1=V,H.taps=0):(H.touch0=V,z=!0,H.taps=1+!!h);h&&(h=clearTimeout(h)),z&&(H.taps<2&&(d=V[0],h=setTimeout(function(){h=null},p)),hn(this),H.start())}}function S(g,...R){if(this.__zooming){var z,U,X,V,A=D(this,R).event(g),I=g.changedTouches,H=I.length;for(je(g),z=0;z<H;++z)X=fe(U=I[z],this),A.touch0&&A.touch0[2]===U.identifier?A.touch0[0]=X:A.touch1&&A.touch1[2]===U.identifier&&(A.touch1[0]=X);if(U=A.that.__zoom,A.touch1){var ft=A.touch0[0],st=A.touch0[1],ot=A.touch1[0],dt=A.touch1[1],J=(J=ot[0]-ft[0])*J+(J=ot[1]-ft[1])*J,ht=(ht=dt[0]-st[0])*ht+(ht=dt[1]-st[1])*ht;U=w(U,Math.sqrt(J/ht)),X=[(ft[0]+ot[0])/2,(ft[1]+ot[1])/2],V=[(st[0]+dt[0])/2,(st[1]+dt[1])/2]}else{if(!A.touch0)return;X=A.touch0[0],V=A.touch0[1]}A.zoom("touch",n(T(U,X,V),A.extent,s))}}function M(g,...R){if(this.__zooming){var z,U,A=D(this,R).event(g),I=g.changedTouches,H=I.length;for($r(g),c&&clearTimeout(c),c=setTimeout(function(){c=null},p),z=0;z<H;++z)U=I[z],A.touch0&&A.touch0[2]===U.identifier?delete A.touch0:A.touch1&&A.touch1[2]===U.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),2===A.taps&&(U=fe(U,this),Math.hypot(d[0]-U[0],d[1]-U[1])<f)){var X=gt(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return m.transform=function(g,R,A,I){var H=g.selection?g.selection():g;H.property("__zoom",Yi),g!==H?k(g,R,A,I):H.interrupt().each(function(){D(this,arguments).event(I).start().zoom(null,"function"==typeof R?R.apply(this,arguments):R).end()})},m.scaleBy=function(g,R,A,I){m.scaleTo(g,function(){return this.__zoom.k*("function"==typeof R?R.apply(this,arguments):R)},A,I)},m.scaleTo=function(g,R,A,I){m.transform(g,function(){var H=e.apply(this,arguments),z=this.__zoom,U=null==A?b(H):"function"==typeof A?A.apply(this,arguments):A,X=z.invert(U),V="function"==typeof R?R.apply(this,arguments):R;return n(T(w(z,V),U,X),H,s)},A,I)},m.translateBy=function(g,R,A,I){m.transform(g,function(){return n(this.__zoom.translate("function"==typeof R?R.apply(this,arguments):R,"function"==typeof A?A.apply(this,arguments):A),e.apply(this,arguments),s)},null,I)},m.translateTo=function(g,R,A,I,H){m.transform(g,function(){var z=e.apply(this,arguments),U=this.__zoom,X=null==I?b(z):"function"==typeof I?I.apply(this,arguments):I;return n(Ir.translate(X[0],X[1]).scale(U.k).translate("function"==typeof R?-R.apply(this,arguments):-R,"function"==typeof A?-A.apply(this,arguments):-A),z,s)},I,H)},P.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,R){return this.mouse&&"mouse"!==g&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&"touch"!==g&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&"touch"!==g&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var R=gt(this.that).datum();u.call(g,this.that,new Yf(g,{sourceEvent:this.sourceEvent,target:m,type:g,transform:this.that.__zoom,dispatch:u}),R)}},m.wheelDelta=function(g){return arguments.length?(r="function"==typeof g?g:Hn(+g),m):r},m.filter=function(g){return arguments.length?(t="function"==typeof g?g:Hn(!!g),m):t},m.touchable=function(g){return arguments.length?(a="function"==typeof g?g:Hn(!!g),m):a},m.extent=function(g){return arguments.length?(e="function"==typeof g?g:Hn([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),m):e},m.scaleExtent=function(g){return arguments.length?(i[0]=+g[0],i[1]=+g[1],m):[i[0],i[1]]},m.translateExtent=function(g){return arguments.length?(s[0][0]=+g[0][0],s[1][0]=+g[1][0],s[0][1]=+g[0][1],s[1][1]=+g[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(g){return arguments.length?(n=g,m):n},m.duration=function(g){return arguments.length?(o=+g,m):o},m.interpolate=function(g){return arguments.length?(l=g,m):l},m.on=function(){var g=u.on.apply(u,arguments);return g===u?m:g},m.clickDistance=function(g){return arguments.length?(x=(g=+g)*g,m):Math.sqrt(x)},m.tapDistance=function(g){return arguments.length?(f=+g,m):f},m}().scaleExtent([n.zoomScale.min,n.zoomScale.max]).on("zoom",M=>{if("mousemove"===M.sourceEvent.type)y&&(y.scrollTop=S.top+(S.y-M.sourceEvent.clientY),y.scrollLeft=S.left+(S.x-M.sourceEvent.clientX));else if("wheel"===M.sourceEvent.type){f.attr("transform",`scale(${M.transform.k},${M.transform.k})`);const g=f.node().getBBox();s.width=g.width*M.transform.k+16,s.height=g.height*M.transform.k+16,i.attr("width",s.width),i.attr("height",s.height)}}).on("start",M=>{"mousedown"===M.sourceEvent.type&&(S={left:y.scrollLeft,top:y.scrollTop,x:M.sourceEvent.clientX,y:M.sourceEvent.clientY})}))}const w=f.select(`g.${C.classes.CHART_PREFIX}__tree`);w.attr("transform",`translate(${Math.abs(v)+Math.round(n.node.size.width/2)+8}, 8)`);const T=w.selectAll(`.${C.classes.CHART_PREFIX}__tree__node`).data(d.descendants().filter(y=>y.depth>0),y=>y.data.nodeId),b=T.exit();b.transition().duration(C.numbers.TRANSITION_DURATION).attr("transform",y=>y.parent?`translate(${this.nodeCenterHorizontal(y,n.node.size.width,y.parent.x)}, ${y.parent.y})`:`translate(${this.nodeCenterHorizontal(y,n.node.size.width)}, ${y.y})`).remove();const k=T.enter().append("g").classed(`${C.classes.CHART_PREFIX}__tree__node`,!0).attr("transform",y=>y.parent?`translate(${this.nodeCenterHorizontal(y,n.node.size.width,y.parent.x)}, ${y.parent.y})`:`translate(${this.nodeCenterHorizontal(y,n.node.size.width)}, ${y.y})`).attr("cursor",y=>!0===y.data.children||(0,it.cy)(y.data.children)&&y.data.children.length?"pointer":"default");k.append("rect").attr("width",n.node.size.width).attr("height",n.node.size.height).attr("rx",4).style("stroke",C.chartTheme.outlineMedium).style("fill",y=>n.palette[y.depth-Math.trunc(y.depth/n.palette.length)*n.palette.length]),n.nodeBuilder?n.nodeBuilder(k):k.append("text").classed(C.classes.CHART_TEXT,!0).attr("x",n.node.padding).attr("y",n.node.size.height/2).style("pointer-events","none").style("dominant-baseline","middle").text((y,S)=>{if(!(0,it.O9)(y.data.label))return null;let M=n.node.size.width-2*n.node.padding;return n.popupCallback&&(M-=24),this.hasChildren(y)&&(M-=24),nt.trimText(y.data.label,M)}),n.selectedCallback&&k.on("click",(y,S)=>n.selectedCallback(S.data,this.getParentIds(S),y.target.parentElement)),n.hoverCallback&&(k.on("mouseenter",(y,S)=>n.hoverCallback(!0,S.data,this.getParentIds(S),y.target)),k.on("mouseleave",(y,S)=>n.hoverCallback(!1,S.data,this.getParentIds(S),y.target)));const D=k.merge(T);D.transition().call(nt.transitionsComplete,()=>{h_width>s.width&&i.attr("width",s.width),h_height>s.height&&i.attr("height",s.height);const y=k.nodes().length?k.data()[0].parent:b.nodes().length?b.data().sort((S,M)=>S.depth<M.depth)[0].parent:null;if((0,it.O9)(y)&&y.depth>0){const S=T.filter(M=>M.data.nodeId===y.data.nodeId).node();S&&S.scrollIntoView({behavior:"smooth"})}r()}).duration(C.numbers.TRANSITION_DURATION).attr("transform",y=>`translate(${this.nodeCenterHorizontal(y,n.node.size.width)}, ${y.y})`);const P=(y,S)=>{const M=(y.y-S.y)/2;return Sr()([[y.x,y.y],[y.x,y.y-M],[S.x,S.y+M],[S.x,S.y]])},$=w.selectAll(`.${C.classes.CHART_PREFIX}__tree__path`).data(d.descendants().filter(y=>y.depth>1),y=>y.data.nodeId);if($.exit().transition().duration(C.numbers.TRANSITION_DURATION).attrTween("d",(y,S,M)=>Pr(M[S].getAttribute("d"),P({x:Math.round(y.parent.x),y:Math.round(y.parent.y+n.node.size.height)},{x:Math.round(y.parent.x),y:Math.round(y.parent.y+n.node.size.height)}))).remove(),$.enter().insert("path").classed(`${C.classes.CHART_PREFIX}__tree__path`,!0).style("fill","none").style("stroke",C.chartTheme.outlineMedium).style("shape-rendering","crispEdges").style("stroke-width","2").merge($).transition().call(nt.transitionsComplete,()=>{w.selectAll(`.${C.classes.CHART_PREFIX}__tree__path-label`).raise()}).duration(C.numbers.TRANSITION_DURATION).attrTween("d",(y,S,M)=>Pr(M[S].getAttribute("d"),P({x:Math.round(y.parent.x),y:Math.round(y.parent.y+n.node.size.height)},{x:Math.round(y.x),y:Math.round(y.y)}))),n.levelLabels.length){const y=w.selectAll(`.${C.classes.CHART_PREFIX}__tree__path-label`).data(d.descendants().filter(R=>R.depth>0&&(0,it.cy)(R.data.children)&&R.data.children.length),R=>R.data.nodeId),S=24,M=y.enter().insert("g").classed(`${C.classes.CHART_PREFIX}__tree__path-label`,!0).attr("visibility","hidden").attr("transform",R=>`translate(${this.nodeCenterHorizontal(R,n.node.size.width)}, ${R.y+n.node.size.height+n.node.padding})`);M.append("rect").attr("width",R=>{const A=R.depth-1,I=n.levelLabels[A];return(0,it.O9)(I)&&I.length?(o[A]||(o[A]=nt.getTextWidth(I,"14px Roboto, sans-serif")+S),o[A]):(o[A]=0,0)}).attr("transform",R=>`translate(${n.node.size.width/2-o[R.depth-1]/2}, 0)`).attr("height",S).attr("rx",S/2).style("fill",C.chartTheme.outlineMedium),M.append("text").classed(C.classes.CHART_TEXT,!0).attr("x",Math.round(n.node.size.width/2)).attr("y",S/2).style("pointer-events","none").style("dominant-baseline","middle").style("text-anchor","middle").style("font-size","14px").style("fill",C.chartTheme.textInverse).text(R=>n.levelLabels[R.depth-1]),y.exit().remove(),M.merge(y).transition().call(nt.transitionsComplete,()=>{M.attr("visibility",null),r()}).duration(C.numbers.TRANSITION_DURATION).attr("transform",R=>`translate(${this.nodeCenterHorizontal(R,n.node.size.width)}, ${R.y+n.node.size.height+(n.node.margin-S)/2})`)}D.each((y,S)=>{const M=gt(D.nodes()[S]),g=gt(M.node()?.querySelector(`.${C.classes.CHART_PREFIX}__tree__node__children-icon`));if(this.hasChildren(y)?g.node()||M.append("path").classed(`${C.classes.CHART_PREFIX}__tree__node__children-icon`,!0).attr("d","M0,0L12,0L6,6,L0,0").attr("transform",`translate(${n.node.size.width-20}, ${n.node.size.height/2-4})`).style("fill",u):g.node()&&g.remove(),n.popupCallback){let R=gt(M.node()?.querySelector(`.${C.classes.CHART_PREFIX}__tree__node__info-icon`));if(!R.node()){const A=this.hasChildren(y)?n.node.size.width-54:n.node.size.width-32;R=M.append("path").classed(`${C.classes.CHART_PREFIX}__tree__node__info-icon`,!0).attr("d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z").attr("transform",`translate(${A}, ${n.node.size.height/2-12})`).style("fill",u).attr("cursor","pointer").on("click",I=>{I.stopPropagation();const H=JSON.parse(JSON.stringify(y.data));delete H.children,delete H.nodeId,n.popupCallback(H,this.getParentIds(y),R.node())})}}})})}}return t})();class Nd{static buildTreemapChart(e){return new Promise((n,r)=>{if(!e.container||"svg"!==e.container.tagName)return void r();const a=gt(e.container),i=e.palette&&e.palette.length?nt.colorScale(e.data.map(f=>f.value),2===e.palette.length?e.palette:e.palette.length):void 0,s=e.valueFormat?Wt(e.valueFormat):e.valueDateFormat?jt(e.valueDateFormat):void 0,l=nt.chartSize(e.container),u=Ue({children:e.data}).sum(f=>f.value).sort((f,m)=>m.value-f.value);(function kc(){var t=Ac,e=!1,n=1,r=1,a=[0],i=oe,s=oe,o=oe,l=oe,u=oe;function h(c){return c.x0=c.y0=0,c.x1=n,c.y1=r,c.eachBefore(d),a=[0],e&&c.eachBefore(bc),c}function d(c){var p=a[c.depth],v=c.x0+p,x=c.y0+p,f=c.x1-p,m=c.y1-p;f<v&&(v=f=(v+f)/2),m<x&&(x=m=(x+m)/2),c.x0=v,c.y0=x,c.x1=f,c.y1=m,c.children&&(p=a[c.depth+1]=i(c)/2,v+=u(c)-p,x+=s(c)-p,(f-=o(c)-p)<v&&(v=f=(v+f)/2),(m-=l(c)-p)<x&&(x=m=(x+m)/2),t(c,v,x,f,m))}return h.round=function(c){return arguments.length?(e=!!c,h):e},h.size=function(c){return arguments.length?(n=+c[0],r=+c[1],h):[n,r]},h.tile=function(c){return arguments.length?(t=Wa(c),h):t},h.padding=function(c){return arguments.length?h.paddingInner(c).paddingOuter(c):h.paddingInner()},h.paddingInner=function(c){return arguments.length?(i="function"==typeof c?c:be(+c),h):i},h.paddingOuter=function(c){return arguments.length?h.paddingTop(c).paddingRight(c).paddingBottom(c).paddingLeft(c):h.paddingTop()},h.paddingTop=function(c){return arguments.length?(s="function"==typeof c?c:be(+c),h):s},h.paddingRight=function(c){return arguments.length?(o="function"==typeof c?c:be(+c),h):o},h.paddingBottom=function(c){return arguments.length?(l="function"==typeof c?c:be(+c),h):l},h.paddingLeft=function(c){return arguments.length?(u="function"==typeof c?c:be(+c),h):u},h})().size([l.width,l.height])(u);let d=a.select(`g.${C.classes.CHART_ROOT}`);d.node()||(d=a.append("g").classed(C.classes.CHART_ROOT,!0),d.append("g").classed(`${C.classes.CHART_PREFIX}__treemap`,!0)),a.attr("width",l.width),a.attr("height",l.height);const p=d.select(`g.${C.classes.CHART_PREFIX}__treemap`).selectAll("g").data(u.leaves(),f=>f.data.id);p.exit().select("text").remove(),p.exit().select("rect").transition().duration(C.numbers.TRANSITION_DURATION).attr("width",0).attr("height",0),p.exit().transition().delay(C.numbers.TRANSITION_DURATION).remove();const v=p.enter().append("g");v.append("rect"),v.append("clipPath").attr("id",f=>`${C.classes.CHART_CLIP}-${f.data.id}`).append("rect"),v.append("text").classed(C.classes.CHART_TEXT,!0).attr("clip-path",f=>`url(#${C.classes.CHART_CLIP}-${f.data.id})`).attr("dx",5).attr("dy",20),e.selectedCallback&&v.on("click",(f,m)=>e.selectedCallback(m.data,f.target.parentElement)),e.hoverCallback&&(v.on("mouseenter",(f,m)=>e.hoverCallback(!0,m.data,f.target)),v.on("mouseleave",(f,m)=>e.hoverCallback(!1,m.data,f.target)));const x=v.merge(p);x.transition().duration(C.numbers.TRANSITION_DURATION).attr("transform",f=>`translate(${f.x0}, ${f.y0})`),x.select("text").style("display","none").text(f=>s?s(f.data.value):f.data.value),x.select("rect").attr("fill",f=>f.color?f.color:i&&f.value&&e.palette?2===e.palette.length?i(f.value):e.palette[i(f.value)]:"#fff").style("stroke","#fff").attr("id",f=>`${C.classes.CHART_PREFIX}__node-${f.data.id}`).transition().call(nt.transitionsComplete,()=>{x.select("clipPath > rect").attr("x",f=>4).attr("y",f=>4).attr("width",f=>f.x1-f.x0>8?f.x1-f.x0-8:0).attr("height",f=>f.y1-f.y0>8?f.y1-f.y0-8:0),x.select("text").style("display",null),n()}).duration(C.numbers.TRANSITION_DURATION).attr("width",f=>f.x1-f.x0).attr("height",f=>f.y1-f.y0)})}}const Ed=["chartContainer"];function Id(t,e){if(1&t&&(_.j41(0,"forge-list-item"),_.nrm(1,"div",6),_.j41(2,"span"),_.EFF(3),_.k0s(),_.j41(4,"span",7),_.EFF(5),_.k0s()()),2&t){const n=e.$implicit;_.R7$(),_.xc7("--item-color",n.color),_.R7$(2),_.JRh(n.label),_.R7$(2),_.JRh(n.value)}}function $d(t,e){if(1&t&&(_.j41(0,"div",3)(1,"forge-list",4),_.DNE(2,Id,6,4,"forge-list-item",5),_.k0s()()),2&t){const n=_.XpG();_.R7$(2),_.Y8G("ngForOf",n.legendData)}}let ts=(()=>{class t{constructor(){this.destroyRef=(0,_.WQX)(_.abz),this.chartPalette=Object.keys(C.chartPalette).map(n=>C.chartPalette[n]),this.#t=L.bar,this.donutMeterChartData=0,this.showLegend=!1}#t;set chartType(n){this.#t=n,this.setChartData("create"),this.initializeChartContainer(),requestAnimationFrame(()=>{this.drawChart()}),this.showLegend=this.#t!==L.donutMeter&&this.#t!==L.gantt&&this.#t!==L.treemap&&this.#t!==L.tree}get chartType(){return this.#t}ngOnInit(){(0,et.R)(window,"resize").pipe((0,Z.pQ)(this.destroyRef),(0,j.B)(100)).subscribe(()=>this.drawChart())}onAction(n){this.setChartData(n),this.drawChart()}initializeChartContainer(){(this.chartContainer?.nativeElement).querySelector("svg")?.remove();const n=document.createElementNS("http://www.w3.org/2000/svg","svg");(this.chartContainer?.nativeElement).appendChild(n)}setChartData(n){if(this.chartType!==L.donutMeter){switch(n){case"create":this.chartType===L.line?this.lineChartData=[this.getData(10)]:this.chartType===L.tree?this.treeChartData={id:"0",children:[{id:"0-1",label:"Item 0-1",children:!0},{id:"0-2",label:"Item 0-2",children:!0}]}:this.chartData=this.getData(10);break;case"update":this.chartType===L.line?this.lineChartData?.forEach((r,a)=>{this.getData(r.length).forEach((i,s)=>{r[s].value=i.value})}):this.getData(this.chartData.length).forEach((r,a)=>{this.chartData[a].value=r.value});break;case"add":if(this.chartType===L.line)this.lineChartData?.push(this.getData(10));else{let r=Math.max(...this.chartData.map(a=>a.id))||0;r++,this.chartData=this.chartData?.concat(this.getData(10,r))}break;case"delete":this.chartType===L.line?this.lineChartData?.pop():this.chartData.length>10&&(this.chartData=this.chartData?.slice(0,this.chartData.length-10))}(this.chartType===L.bubble||this.chartType===L.donut||this.chartType===L.pie||this.chartType===L.treemap)&&(this.chartData=this.chartData?.sort((r,a)=>r.category-a.category))}else this.donutMeterChartData=this.randomNumber(20,80)}getData(n,r=0){const a=[];Date.now();for(let s=0;s<n;s++)a.push({id:s+r,value:this.randomNumber(0,1e3),label:`Item ${s+r}`,category:this.randomNumber(0,100)});return console.log(a.sort((s,o)=>s.category-o.category)),a.sort((s,o)=>s.category-o.category)}drawChart(){this.legendData=this.chartData?.map((r,a)=>({id:r.id,label:r.label,value:r.value,color:this.chartPalette[a%this.chartPalette.length]}));const n={container:this.chartContainer?.nativeElement.querySelector("svg"),data:this.chartData?.map((r,a)=>({...r,color:this.chartPalette[a%this.chartPalette.length]})),palette:this.chartPalette,selectedCallback:this.selectedCallback,hoverCallback:this.hoverCallback};switch(n.container.setAttribute("width","0"),n.container.setAttribute("height","0"),this.chartType){case L.bar:{const r={...n};Qf.buildBarChart(r);break}case L.bubble:Kf.buildBubbleChart(n);break;case L.donut:{const r={...n,type:"donut"};zr.buildPieChart(r);break}case L.donutMeter:{const r={...n,type:"donut-meter",data:[{id:0,value:this.donutMeterChartData,label:"percent",color:C.chartPalette.indigoA200},{id:1,value:100-this.donutMeterChartData,color:C.chartPalette.grey400}]};zr.buildPieChart(r);break}case L.line:{const r=this.lineChartData?.map((i,s)=>({id:s,label:`Item ${s}`,data:i,color:this.chartPalette[s%this.chartPalette.length]})),a={...n,data:r};Rd.buildLineChart(a),this.legendData=r?.map((i,s)=>({id:i.id,color:i.color,value:null,label:i.data[0].label}));break}case L.pie:{const r={...n,type:"pie"};zr.buildPieChart(r);break}case L.treemap:Nd.buildTreemapChart(n);break;case L.tree:{const r={...n,data:this.treeChartData,node:{size:{width:200,height:48},padding:8,margin:48},palette:["#6f74dd","#8e99f3","#d1d9ff","#ede7f6","#e3f2fd","#e0f2f1","#f1f8e9","#eceff1","#f5f5f5"],levelLabels:["Level one","Level two","Level three"],zoomScale:{min:.5,max:1},selectedCallback:(a,i,s)=>{if(console.log(`selectedCallback: ${a.id}`),a.children){if(Array.isArray(a.children))a.children=!0;else{const o=this.randomNumber(5,10);a.children=[];for(let l=0;l<o;l++)a.children.push({id:`${i.length+1}-${l}`,label:`Item ${i.length+1} - ${l}`,children:!!this.randomNumber(0,10)})}this.drawChart()}}};Sd.buildTreeChart(r);break}case L.gantt:{const r={...n,data:[{id:0,label:"Item 01",startDate:new Date(2024,0,1),endDate:new Date(2024,0,31),progress:10},{id:1,label:"Item 02",startDate:new Date(2024,1,1),endDate:new Date(2024,1,10),progress:20},{id:2,label:"Item 03",startDate:new Date(2024,1,1),endDate:new Date(2024,1,20),progress:30},{id:3,label:"Item 04",startDate:new Date(2024,3,15),endDate:new Date(2024,8,20),progress:40,color:"red"},{id:4,label:"Item 05",description:"Item 05 description goes here, blah blah blah.  This description should wrap at 320px",startDate:new Date(2024,10,1),endDate:new Date(2025,10,30),progress:90}]};gd.buildGanttChart(r);break}}}randomNumber(n,r){return Math.floor(Math.random()*(r-n+1))+n}selectedCallback(n,r){console.log(n),console.log(r)}hoverCallback(n,r,a){console.log(r),console.log(a)}static#e=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=_.VBU({type:t,selectors:[["app-charts-d3-chart"]],viewQuery:function(r,a){if(1&r&&_.GBs(Ed,7),2&r){let i;_.mGM(i=_.lsd())&&(a.chartContainer=i.first)}},inputs:{chartType:"chartType"},standalone:!0,features:[_.aNF],decls:4,vars:1,consts:[["chartContainer",""],[1,"chart-card"],[1,"chart-container","app-chart"],[1,"legend-container"],[1,"chart-legend"],[4,"ngFor","ngForOf"],["slot","start"],["slot","secondary-text"]],template:function(r,a){1&r&&(_.j41(0,"div",1),_.nrm(1,"div",2,0),_.k0s(),_.DNE(3,$d,3,1,"div",3)),2&r&&(_.R7$(3),_.vxM(3,a.showLegend?3:-1))},dependencies:[yt.MD,yt.Sq,tt.nkw,tt.Ptl,tt.svQ,tt.sB8],styles:["\n\n\n\n\n[_nghost-%COMP%]{overflow-x:auto;overflow-y:hidden;height:100%;width:100%;display:grid;grid-template-columns:1fr auto;column-gap:16px}[_nghost-%COMP%]     .app-chart{--app-chart-text-high: var(--forge-theme-text-high, rgba(0, 0, 0, .87));--app-chart-text-medium: var(--forge-theme-text-medium, rgba(0, 0, 0, .6));--app-chart-text-inverse: var(--forge-theme-on-surface-inverse, #ffffff);--app-chart-outline: var(--forge-theme-outline, #e0e0e0);--app-chart-outline-medium: var(--forge-theme-outline-medium, #757575);--app-chart-surface: var(--forge-theme-surface, #ffffff);--app-chart-surface-dim: var(--forge-theme-surface-dim, #f5f5f5)}[_nghost-%COMP%]     .app-chart__xaxis, [_nghost-%COMP%]     .app-chart__yaxis{font-family:Roboto,sans-serif;font-size:10px}[_nghost-%COMP%]     .app-chart__xaxis .domain, [_nghost-%COMP%]     .app-chart__yaxis .domain{stroke:var(--app-chart-outline)}[_nghost-%COMP%]     .app-chart__xaxis .tick line, [_nghost-%COMP%]     .app-chart__yaxis .tick line{stroke:var(--app-chart-outline)}[_nghost-%COMP%]     .app-chart__xaxis--align-boundry-ticks .tick:first-of-type>text{text-anchor:start}[_nghost-%COMP%]     .app-chart__xaxis--align-boundry-ticks .tick:last-of-type>text{text-anchor:end}[_nghost-%COMP%]     .app-chart__popover{position:absolute;border:1px solid var(--app-chart-outline);border-radius:4px;background-color:var(--app-chart-surface);padding:4px 8px;font-size:.85rem;display:grid;grid-template-columns:auto 1fr;column-gap:8px;pointer-events:none;visibility:hidden;min-width:176px;max-width:320px;word-break:break-word}.chart-card[_ngcontent-%COMP%]{padding:8px;margin:24px;background-color:var(--forge-theme-surface);border-radius:var(--forge-shape-medium);border-color:var(--forge-theme-outline);box-shadow:var(--forge-elevation-1)}.chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.legend-container[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;min-width:280px;max-height:100%;background-color:var(--forge-theme-surface);border-left:1px solid var(--forge-theme-outline);--forge-list-item-padding: 0;padding:16px}.legend-container[_ngcontent-%COMP%]   forge-list-item[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]{background-color:var(--item-color);width:24px;height:24px}  .chart-legend [slot=leading]{width:16px;height:16px;background-color:var(--item-color)}"]})}return t})();var Od=G(1567),Fd=G(3942);let es=(()=>{class t{static loadGoogleChartService(){return new Fd.c(n=>{let r=document.querySelector('script[src="https://www.gstatic.com/charts/loader.js"]');r?(n.next(),n.complete()):(r=document.createElement("script"),r.type="text/javascript",r.src="https://www.gstatic.com/charts/loader.js",r.onload=()=>{n.next(),n.complete()},document.body.appendChild(r))})}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275prov=_.jDH({token:t,factory:t.\u0275fac})}return t})();const Pd=["chartContainer"];let ns=(()=>{class t{constructor(){this.destroyRef=(0,_.WQX)(_.abz),this.chartAnimation={startup:!0,duration:500},this.chartScale=1,this.googleChartsLoaded=!1,this.chartIsPanning=!1,this.#t=L.bar}#t;set chartType(n){this.#t=n,this.googleChartsLoaded&&this.drawChart("create")}get chartType(){return this.#t}ngOnInit(){es.loadGoogleChartService().subscribe(()=>{google.charts.load("current",{packages:["corechart","treemap","orgchart","gantt"]}).then(()=>{this.googleChartsLoaded=!0,this.drawChart("create")})}),(0,et.R)(window,"resize").pipe((0,Z.pQ)(this.destroyRef),(0,j.B)(100)).subscribe(()=>this.drawChart("redraw")),(0,et.R)(this.chartContainer?.nativeElement,"wheel").pipe((0,Z.pQ)(this.destroyRef)).subscribe(n=>{const r=(this.chartContainer?.nativeElement).firstElementChild;n.deltaY>0&&this.chartScale<5.05?(this.chartScale+=.05,r.style.transform=`scale(${this.chartScale})`):n.deltaY<0&&this.chartScale>.1&&(this.chartScale-=.05,r.style.transform=`scale(${this.chartScale})`)})}ngOnDestroy(){this.chart?.clearChart()}onAction(n){this.drawChart(n)}drawChart(n){switch("redraw"!==n&&this.setChartData(n),this.chartType){case L.bar:"create"===n&&(this.chart=new google.visualization.ColumnChart(this.chartContainer?.nativeElement),this.addChartEvents()),this.chart.draw(this.chartData,{title:"Bar Chart",animation:this.chartAnimation});break;case L.bubble:"create"===n&&(this.chart=new google.visualization.BubbleChart(this.chartContainer?.nativeElement),this.addChartEvents()),this.chart.draw(this.chartData,{title:"Bubble Chart",animation:this.chartAnimation});break;case L.donut:"create"===n&&(this.chart=new google.visualization.PieChart(this.chartContainer?.nativeElement),this.addChartEvents()),this.chart.draw(this.chartData,{title:"Donut Chart",pieHole:.5});break;case L.pie:"create"===n&&(this.chart=new google.visualization.PieChart(this.chartContainer?.nativeElement),this.addChartEvents()),this.chart.draw(this.chartData,{title:"Pie Chart"});break;case L.line:"create"===n&&(this.chart=new google.visualization.LineChart(this.chartContainer?.nativeElement),this.addChartEvents()),this.chart.draw(this.chartData,{title:"Line Chart",animation:this.chartAnimation});break;case L.treemap:"create"===n&&(this.chart=new google.visualization.TreeMap(this.chartContainer?.nativeElement),this.addChartEvents()),this.chart.draw(this.chartData,{title:"Treemap Chart"});break;case L.tree:"create"===n&&(this.chart=new google.visualization.OrgChart(this.chartContainer?.nativeElement),this.addChartEvents()),this.chart.draw(this.chartData,{allowCollapse:!0,allowHtml:!0,nodeClass:"app--chart--tree-node",selectedNodeClass:"app--chart--tree-node--selected"});break;case L.gantt:"create"===n&&(this.chart=new google.visualization.Gantt(this.chartContainer?.nativeElement),this.addChartEvents()),this.chart.draw(this.chartData,{})}}setChartData(n){const r=this.chartData?.getNumberOfRows()||0,a=this.chartData?.getNumberOfColumns()||0;switch(n){case"create":switch(this.chartData=new google.visualization.DataTable,this.chartType){case L.bar:case L.donut:case L.pie:this.chartData.addColumn("string","Label","label"),this.chartData.addColumn("number","Value","value"),this.chartData.addRows(this.getData(10,0).map(i=>[i.label,i.value]));break;case L.bubble:{this.chartData.addColumn("string","Id","id"),this.chartData.addColumn("number","Value","value"),this.chartData.addColumn("number","Category","category"),this.chartData.addColumn("string","Label","label"),this.chartData.addColumn("number","Size","size");const i=[];for(let s=0;s<10;s++)i.push([s.toString(),this.randomNumber(0,1e3),this.randomNumber(0,1e3),`Item ${s}`,this.randomNumber(0,1e3)]);this.chartData.addRows(i);break}case L.line:{this.chartData.addColumn("string","Label","label"),this.chartData.addColumn("number","Line 1","line1"),this.chartData.addColumn("number","Line 2","line2"),this.chartData.addColumn("number","Line 3","line3");const i=[];for(let s=0;s<10;s++)i.push([`Item ${s}`,this.randomNumber(0,1e3),this.randomNumber(0,1e3),this.randomNumber(0,1e3)]);this.chartData.addRows(i);break}case L.treemap:this.chartData.addColumn("string","Label","label"),this.chartData.addColumn("string","Parent","parent"),this.chartData.addColumn("number","Value","value"),this.chartData.addColumn("number","Category","category"),this.chartData.addRow(["Root",null,0,0]),this.chartData.addRows(this.getData(20,0).map(i=>[i.label,"Root",i.value,i.category]));break;case L.tree:this.chartData.addColumn("string","Id","id"),this.chartData.addColumn("string","ParentId","parentId"),this.chartData.addRow([{v:"0",f:"Item 0"},null]),this.chartData.addRows(this.buildTreeNodeData("0",this.randomNumber(1,5)));break;case L.gantt:this.chartData.addColumn("string","Id","id"),this.chartData.addColumn("string","Name","name"),this.chartData.addColumn("string","Resource","resource"),this.chartData.addColumn("date","Start Date","startDate"),this.chartData.addColumn("date","End Date","endDate"),this.chartData.addColumn("number","Duration","duration"),this.chartData.addColumn("number","Progress","progress"),this.chartData.addColumn("string","Dependencies","dependencies"),this.chartData.addRows([["0","Item 01","",new Date(2024,0,1),new Date(2024,0,31),null,10,null],["1","Item 02","",new Date(2024,1,1),new Date(2024,1,10),null,20,null],["2","Item 03","",new Date(2024,1,1),new Date(2024,1,20),null,30,null],["3","Item 04","",new Date(2024,3,15),new Date(2024,8,20),null,40,null],["4","Item 05","",new Date(2024,10,1),new Date(2025,10,30),null,90,null]])}break;case"update":switch(this.chartType){case L.bar:case L.donut:case L.pie:this.getData(r).forEach((s,o)=>{this.chartData?.setValue(o,1,s.value)});break;case L.bubble:for(let i=0;i<r;i++)this.chartData?.setValue(i,1,this.randomNumber(0,1e3)),this.chartData?.setValue(i,2,this.randomNumber(0,1e3)),this.chartData?.setValue(i,4,this.randomNumber(0,1e3));break;case L.line:for(let i=0;i<r;i++)for(let s=1;s<a;s++)this.chartData?.setValue(i,s,this.randomNumber(0,1e3));break;case L.treemap:for(let i=1;i<r;i++)this.chartData?.setValue(i,2,this.randomNumber(0,1e3)),this.chartData?.setValue(i,3,this.randomNumber(0,1e3));break;case L.tree:this.chartData?.removeRows(0,this.chartData.getNumberOfRows()),this.chartData?.addRows(this.buildTreeNodeData("0",this.randomNumber(1,5)))}break;case"add":switch(this.chartType){case L.bar:case L.donut:case L.pie:this.chartData?.addRows(this.getData(1,r).map(i=>[i.label,i.value]));break;case L.bubble:this.chartData?.addRow([r.toString(),this.randomNumber(0,1e3),this.randomNumber(0,1e3),`Item ${r}`,this.randomNumber(0,1e3)]);break;case L.line:this.chartData?.addColumn("number",`Line ${a}`,`line${a}`);for(let i=0;i<10;i++)this.chartData?.setValue(i,a,this.randomNumber(0,1e3));break;case L.treemap:this.chartData?.addRow([`Item ${r}`,"Root",this.randomNumber(0,1e3),this.randomNumber(0,1e3)])}break;case"delete":if(r>1)switch(this.chartType){case L.bar:case L.bubble:case L.donut:case L.pie:case L.treemap:this.chartData?.removeRow(r-1);break;case L.line:this.chartData?.removeColumn(a-1)}}}getData(n,r=0){const a=[];for(let i=0;i<n;i++)a.push({id:i+r,value:this.randomNumber(0,1e3),label:`Item ${i+r}`,category:this.randomNumber(0,100)});return a}randomNumber(n,r){return Math.floor(Math.random()*(r-n+1))+n}addChartEvents(){google.visualization.events.addListener(this.chart,"ready",()=>{console.log("chart ready"),this.chartScale=1,this.addZoomPanEvents()}),google.visualization.events.addListener(this.chart,"select",()=>{console.log("chart item selected"),console.log(this.chart?.getSelection())}),google.visualization.events.addListener(this.chart,"mousedown",()=>{console.log("mousedown")})}buildTreeNodeData(n,r=1){const a=[],i=this.randomNumber(0,5);for(let s=0;s<i;s++)a.push([{v:`${n}-${s}`,f:`Item ${n}-${s}`},n]),r>1&&a.push(...this.buildTreeNodeData(`${n}-${s}`,r-1));return a}addZoomPanEvents(){const n=(this.chartContainer?.nativeElement).firstElementChild;(0,et.R)(n,"mousedown").pipe((0,Z.pQ)(this.destroyRef)).subscribe(r=>{this.chartIsPanning=!0,(this.chartContainer?.nativeElement).classList.add("app--chart--panning")}),(0,et.R)(n,"mousemove").pipe((0,Z.pQ)(this.destroyRef),(0,Od.p)(()=>this.chartIsPanning)).subscribe(r=>{(this.chartContainer?.nativeElement).scrollBy(-1*r.movementX,-1*r.movementY)}),(0,et.R)(n,"mouseup").pipe((0,Z.pQ)(this.destroyRef)).subscribe(()=>{this.chartIsPanning=!1,(this.chartContainer?.nativeElement).classList.remove("app--chart--panning")}),(0,et.R)(n,"mouseout").pipe((0,Z.pQ)(this.destroyRef)).subscribe(()=>{this.chartIsPanning=!1,(this.chartContainer?.nativeElement).classList.remove("app--chart--panning")})}static#e=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275cmp=_.VBU({type:t,selectors:[["app-charts-google-chart"]],viewQuery:function(r,a){if(1&r&&_.GBs(Pd,7),2&r){let i;_.mGM(i=_.lsd())&&(a.chartContainer=i.first)}},inputs:{chartType:"chartType"},standalone:!0,features:[_.Jv_([es]),_.aNF],decls:3,vars:0,consts:[["chartContainer",""],[1,"chart-card"],[1,"chart-container"]],template:function(r,a){1&r&&(_.j41(0,"div",1),_.nrm(1,"div",2,0),_.k0s())},dependencies:[yt.MD],styles:["\n\n\n\n\n[_nghost-%COMP%]{display:block;height:100%;width:100%}  .app--chart--tree-node{border:1px solid var(--forge-theme-outline);white-space:nowrap;background-color:#e8eaf6}  .app--chart--tree-node--selected{background-color:#3f51b5;color:#fff}  .app--chart--panning{-webkit-user-select:none;user-select:none}.chart-card[_ngcontent-%COMP%]{margin:24px;height:calc(100% - 48px);background-color:var(--forge-theme-surface);border-radius:var(--forge-shape-medium);border-color:var(--forge-theme-outline);box-shadow:var(--forge-elevation-1)}.chart-card[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{position:relative;height:100%}"]})}return t})();function zd(t,e){if(1&t&&_.nrm(0,"app-charts-d3-chart",9),2&t){const n=_.XpG();_.Y8G("chartType",n.chartType)}}function Hd(t,e){if(1&t&&_.nrm(0,"app-charts-google-chart",9),2&t){const n=_.XpG();_.Y8G("chartType",n.chartType)}}var L=function(t){return t[t.bar=0]="bar",t[t.bubble=1]="bubble",t[t.donut=2]="donut",t[t.donutMeter=3]="donutMeter",t[t.gantt=4]="gantt",t[t.line=5]="line",t[t.pie=6]="pie",t[t.treemap=7]="treemap",t[t.tree=8]="tree",t}(L||{});let Ld=(()=>{class t{constructor(){this.chartTypesEnum=L,this.chartType=L.bar,this.activeTab=0}onAction(n){0===this.activeTab?this.d3Chart?.onAction(n):1===this.activeTab&&this.googleChart?.onAction(n)}onTabSelected(n){this.activeTab=n}static#t=this.\u0275fac=function(r){return new(r||t)};static#e=this.\u0275cmp=_.VBU({type:t,selectors:[["app-charts"]],viewQuery:function(r,a){if(1&r&&(_.GBs(ts,5),_.GBs(ns,5)),2&r){let i;_.mGM(i=_.lsd())&&(a.d3Chart=i.first),_.mGM(i=_.lsd())&&(a.googleChart=i.first)}},standalone:!0,features:[_.aNF],decls:37,vars:15,consts:[[1,"header"],["slot","start"],[1,"forge-typography--subheading4"],["aria-label","Change chart type",3,"ngModelChange","ngModel"],[3,"value"],["variant","outlined",3,"click","disabled"],["secondary","",3,"activeTab"],[3,"forge-tab-select"],[1,"body"],[3,"chartType"]],template:function(r,a){1&r&&(_.j41(0,"forge-toolbar",0)(1,"div",1)(2,"h2",2),_.EFF(3,"Charts"),_.k0s(),_.j41(4,"forge-select",3),_.mxI("ngModelChange",function(s){return _.DH7(a.chartType,s)||(a.chartType=s),s}),_.j41(5,"forge-option",4),_.EFF(6,"Bar"),_.k0s(),_.j41(7,"forge-option",4),_.EFF(8,"Bubble"),_.k0s(),_.j41(9,"forge-option",4),_.EFF(10,"Donut"),_.k0s(),_.j41(11,"forge-option",4),_.EFF(12,"Donut Meter"),_.k0s(),_.j41(13,"forge-option",4),_.EFF(14,"Gantt"),_.k0s(),_.j41(15,"forge-option",4),_.EFF(16,"Line"),_.k0s(),_.j41(17,"forge-option",4),_.EFF(18,"Pie"),_.k0s(),_.j41(19,"forge-option",4),_.EFF(20,"Treemap"),_.k0s(),_.j41(21,"forge-option",4),_.EFF(22,"Tree"),_.k0s()(),_.j41(23,"forge-button",5),_.bIt("click",function(){return a.onAction("update")}),_.EFF(24," Update "),_.k0s(),_.j41(25,"forge-button",5),_.bIt("click",function(){return a.onAction("add")}),_.EFF(26," Add "),_.k0s(),_.j41(27,"forge-button",5),_.bIt("click",function(){return a.onAction("delete")}),_.EFF(28," Delete "),_.k0s()()(),_.j41(29,"forge-tab-bar",6)(30,"forge-tab",7),_.bIt("forge-tab-select",function(){return a.onTabSelected(0)}),_.EFF(31,"D3"),_.k0s(),_.j41(32,"forge-tab",7),_.bIt("forge-tab-select",function(){return a.onTabSelected(1)}),_.EFF(33,"Google"),_.k0s()(),_.j41(34,"div",8),_.DNE(35,zd,1,1,"app-charts-d3-chart",9)(36,Hd,1,1),_.k0s()),2&r&&(_.R7$(4),_.R50("ngModel",a.chartType),_.R7$(),_.Y8G("value",a.chartTypesEnum.bar),_.R7$(2),_.Y8G("value",a.chartTypesEnum.bubble),_.R7$(2),_.Y8G("value",a.chartTypesEnum.donut),_.R7$(2),_.Y8G("value",a.chartTypesEnum.donutMeter),_.R7$(2),_.Y8G("value",a.chartTypesEnum.gantt),_.R7$(2),_.Y8G("value",a.chartTypesEnum.line),_.R7$(2),_.Y8G("value",a.chartTypesEnum.pie),_.R7$(2),_.Y8G("value",a.chartTypesEnum.treemap),_.R7$(2),_.Y8G("value",a.chartTypesEnum.tree),_.R7$(2),_.Y8G("disabled",0===a.activeTab&&a.chartType===a.chartTypesEnum.tree||a.chartType===a.chartTypesEnum.gantt),_.R7$(2),_.Y8G("disabled",a.chartType===a.chartTypesEnum.donutMeter||a.chartType===a.chartTypesEnum.tree||a.chartType===a.chartTypesEnum.gantt),_.R7$(2),_.Y8G("disabled",a.chartType===a.chartTypesEnum.donutMeter||a.chartType===a.chartTypesEnum.tree||a.chartType===a.chartTypesEnum.gantt),_.R7$(2),_.Y8G("activeTab",a.activeTab),_.R7$(6),_.vxM(35,0===a.activeTab?35:1===a.activeTab?36:-1))},dependencies:[yt.MD,vt.YN,vt.BC,vt.vS,tt.ei2,tt.Qpp,tt.x6t,tt.POd,tt.KAo,tt.Je0,tt.wBS,tt.Yjf,tt.y_W,tt.jeq,tt.xxG,tt.N1z,tt.H_6,ts,ns],styles:["\n\n\n\n\n[_nghost-%COMP%]{overflow:hidden;height:100%;display:grid;grid-template-rows:auto auto 1fr}.header[_ngcontent-%COMP%]{overflow:hidden}.header[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:16px}.header[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]   forge-select[_ngcontent-%COMP%]{width:320px}.header[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]   forge-select[_ngcontent-%COMP%]::part(label){display:none}forge-tab-bar[_ngcontent-%COMP%]{background-color:var(--forge-theme-surface)}forge-tab-bar[_ngcontent-%COMP%]::part(container){justify-items:flex-start}forge-tab-bar[_ngcontent-%COMP%]   forge-tab[_ngcontent-%COMP%]{min-width:240px}.body[_ngcontent-%COMP%]{overflow:hidden;height:100%}"]})}return t})()},8537:(de,At,G)=>{G.d(At,{R:()=>Tt});var yt=G(2645),vt=G(3942),tt=G(1365),_=G(8830),Z=G(1530),et=G(8067);const j=["addListener","removeListener"],W=["addEventListener","removeEventListener"],Q=["on","off"];function Tt(at,Ut,Rt,Ft){if((0,Z.T)(Rt)&&(Ft=Rt,Rt=void 0),Ft)return Tt(at,Ut,Rt).pipe((0,et.I)(Ft));const[ee,ne]=function C(at){return(0,Z.T)(at.addEventListener)&&(0,Z.T)(at.removeEventListener)}(at)?W.map(Qt=>pe=>at[Qt](Ut,pe,Rt)):function Se(at){return(0,Z.T)(at.addListener)&&(0,Z.T)(at.removeListener)}(at)?j.map(Nt(at,Ut)):function Ke(at){return(0,Z.T)(at.on)&&(0,Z.T)(at.off)}(at)?Q.map(Nt(at,Ut)):[];if(!ee&&(0,_.X)(at))return(0,tt.Z)(Qt=>Tt(Qt,Ut,Rt))((0,yt.Tg)(at));if(!ee)throw new TypeError("Invalid event target");return new vt.c(Qt=>{const pe=(...Ne)=>Qt.next(1<Ne.length?Ne:Ne[0]);return ee(pe),()=>ne(pe)})}function Nt(at,Ut){return Rt=>Ft=>at[Rt](Ut,Ft)}},4956:(de,At,G)=>{G.d(At,{B:()=>_});var yt=G(8473),vt=G(819),tt=G(1687);function _(Z,et=yt.E){return(0,vt.N)((j,W)=>{let Q=null,Tt=null,Nt=null;const Se=()=>{if(Q){Q.unsubscribe(),Q=null;const C=Tt;Tt=null,W.next(C)}};function Ke(){const C=Nt+Z,at=et.now();if(at<C)return Q=this.schedule(void 0,C-at),void W.add(Q);Se()}j.subscribe((0,tt._)(W,C=>{Tt=C,Nt=et.now(),Q||(Q=et.schedule(Ke,Z),W.add(Q))},()=>{Se(),W.complete()},void 0,()=>{Tt=Q=null}))})}},428:(de,At,G)=>{G.d(At,{R:()=>Z});var yt=G(7092);class vt extends yt.yU{constructor(j,W){super()}schedule(j,W=0){return this}}const tt={setInterval(et,j,...W){const{delegate:Q}=tt;return Q?.setInterval?Q.setInterval(et,j,...W):setInterval(et,j,...W)},clearInterval(et){const{delegate:j}=tt;return(j?.clearInterval||clearInterval)(et)},delegate:void 0};var _=G(967);class Z extends vt{constructor(j,W){super(j,W),this.scheduler=j,this.work=W,this.pending=!1}schedule(j,W=0){var Q;if(this.closed)return this;this.state=j;const Tt=this.id,Nt=this.scheduler;return null!=Tt&&(this.id=this.recycleAsyncId(Nt,Tt,W)),this.pending=!0,this.delay=W,this.id=null!==(Q=this.id)&&void 0!==Q?Q:this.requestAsyncId(Nt,this.id,W),this}requestAsyncId(j,W,Q=0){return tt.setInterval(j.flush.bind(j,this),Q)}recycleAsyncId(j,W,Q=0){if(null!=Q&&this.delay===Q&&!1===this.pending)return W;null!=W&&tt.clearInterval(W)}execute(j,W){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Q=this._execute(j,W);if(Q)return Q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(j,W){let Tt,Q=!1;try{this.work(j)}catch(Nt){Q=!0,Tt=Nt||new Error("Scheduled action threw falsy error")}if(Q)return this.unsubscribe(),Tt}unsubscribe(){if(!this.closed){const{id:j,scheduler:W}=this,{actions:Q}=W;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_.o)(Q,this),null!=j&&(this.id=this.recycleAsyncId(W,j,null)),this.delay=null,super.unsubscribe()}}}},9576:(de,At,G)=>{G.d(At,{q:()=>tt});var yt=G(5152);class vt{constructor(Z,et=vt.now){this.schedulerActionCtor=Z,this.now=et}schedule(Z,et=0,j){return new this.schedulerActionCtor(this,Z).schedule(j,et)}}vt.now=yt.U.now;class tt extends vt{constructor(Z,et=vt.now){super(Z,et),this.actions=[],this._active=!1}flush(Z){const{actions:et}=this;if(this._active)return void et.push(Z);let j;this._active=!0;do{if(j=Z.execute(Z.state,Z.delay))break}while(Z=et.shift());if(this._active=!1,j){for(;Z=et.shift();)Z.unsubscribe();throw j}}}},8473:(de,At,G)=>{G.d(At,{E:()=>tt,b:()=>_});var yt=G(428);const tt=new(G(9576).q)(yt.R),_=tt},5152:(de,At,G)=>{G.d(At,{U:()=>yt});const yt={now:()=>(yt.delegate||Date).now(),delegate:void 0}}}]);
//# sourceMappingURL=378.ab9b5fe434bc86fc.js.map