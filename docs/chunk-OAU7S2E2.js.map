{"version":3,"sources":["node_modules/ieee754/index.js","node_modules/ms/index.js","node_modules/debug/src/common.js","node_modules/debug/src/browser.js","src/app/examples/examples.service.ts","src/app/examples/examples.component.ts","src/app/examples/examples.component.html","src/app/examples/autocomplete/autocomplete.component.ts","src/app/examples/autocomplete/autocomplete.component.html","src/app/examples/drag-drop/drag-drop.component.ts","src/app/examples/drag-drop/drag-drop.component.html","src/app/examples/select/select.component.ts","src/app/examples/select/select.component.html","src/app/examples/binding/child/child.component.ts","src/app/examples/binding/child/child.component.html","src/app/examples/binding/binding.component.ts","src/app/examples/binding/binding.component.html","node_modules/token-types/lib/index.js","node_modules/@borewit/text-codec/lib/index.js","node_modules/strtok3/lib/stream/Errors.js","node_modules/strtok3/lib/stream/AbstractStreamReader.js","node_modules/strtok3/lib/stream/WebStreamReader.js","node_modules/strtok3/lib/stream/WebStreamByobReader.js","node_modules/strtok3/lib/stream/WebStreamDefaultReader.js","node_modules/strtok3/lib/stream/WebStreamReaderFactory.js","node_modules/strtok3/lib/AbstractTokenizer.js","node_modules/strtok3/lib/ReadStreamTokenizer.js","node_modules/strtok3/lib/BufferTokenizer.js","node_modules/strtok3/lib/core.js","node_modules/fflate/esm/browser.js","node_modules/@tokenizer/inflate/lib/index.js","node_modules/@tokenizer/inflate/lib/ZipToken.js","node_modules/uint8array-extras/index.js","node_modules/file-type/util.js","node_modules/file-type/supported.js","node_modules/file-type/core.js","node_modules/rxjs/dist/esm/internal/observable/dom/WebSocketSubject.js","node_modules/rxjs/dist/esm/internal/observable/dom/webSocket.js","src/app/app-web-socket.service.ts","src/app/examples/misc/misc.component.ts","src/app/examples/misc/misc.component.html","src/app/examples/dashboard/dashboard.component.ts","src/app/examples/dashboard/dashboard.component.html","src/app/examples/routes.ts"],"sourcesContent":["/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = -7;\n  var i = isLE ? nBytes - 1 : 0;\n  var d = isLE ? -1 : 1;\n  var s = buffer[offset + i];\n  i += d;\n  e = s & (1 << -nBits) - 1;\n  s >>= -nBits;\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : (s ? -1 : 1) * Infinity;\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c;\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n  var i = isLE ? 0 : nBytes - 1;\n  var d = isLE ? 1 : -1;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  value = Math.abs(value);\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n  buffer[offset + i - d] |= s * 128;\n};","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val));\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}","/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n  createDebug.debug = createDebug;\n  createDebug.default = createDebug;\n  createDebug.coerce = coerce;\n  createDebug.disable = disable;\n  createDebug.enable = enable;\n  createDebug.enabled = enabled;\n  createDebug.humanize = require('ms');\n  createDebug.destroy = destroy;\n  Object.keys(env).forEach(key => {\n    createDebug[key] = env[key];\n  });\n\n  /**\n  * The currently active debug mode names, and names to skip.\n  */\n\n  createDebug.names = [];\n  createDebug.skips = [];\n\n  /**\n  * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n  *\n  * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n  */\n  createDebug.formatters = {};\n\n  /**\n  * Selects a color for a debug namespace\n  * @param {String} namespace The namespace string for the debug instance to be colored\n  * @return {Number|String} An ANSI color code for the given namespace\n  * @api private\n  */\n  function selectColor(namespace) {\n    let hash = 0;\n    for (let i = 0; i < namespace.length; i++) {\n      hash = (hash << 5) - hash + namespace.charCodeAt(i);\n      hash |= 0; // Convert to 32bit integer\n    }\n    return createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n  }\n  createDebug.selectColor = selectColor;\n\n  /**\n  * Create a debugger with the given `namespace`.\n  *\n  * @param {String} namespace\n  * @return {Function}\n  * @api public\n  */\n  function createDebug(namespace) {\n    let prevTime;\n    let enableOverride = null;\n    let namespacesCache;\n    let enabledCache;\n    function debug(...args) {\n      // Disabled?\n      if (!debug.enabled) {\n        return;\n      }\n      const self = debug;\n\n      // Set `diff` timestamp\n      const curr = Number(new Date());\n      const ms = curr - (prevTime || curr);\n      self.diff = ms;\n      self.prev = prevTime;\n      self.curr = curr;\n      prevTime = curr;\n      args[0] = createDebug.coerce(args[0]);\n      if (typeof args[0] !== 'string') {\n        // Anything else let's inspect with %O\n        args.unshift('%O');\n      }\n\n      // Apply any `formatters` transformations\n      let index = 0;\n      args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n        // If we encounter an escaped % then don't increase the array index\n        if (match === '%%') {\n          return '%';\n        }\n        index++;\n        const formatter = createDebug.formatters[format];\n        if (typeof formatter === 'function') {\n          const val = args[index];\n          match = formatter.call(self, val);\n\n          // Now we need to remove `args[index]` since it's inlined in the `format`\n          args.splice(index, 1);\n          index--;\n        }\n        return match;\n      });\n\n      // Apply env-specific formatting (colors, etc.)\n      createDebug.formatArgs.call(self, args);\n      const logFn = self.log || createDebug.log;\n      logFn.apply(self, args);\n    }\n    debug.namespace = namespace;\n    debug.useColors = createDebug.useColors();\n    debug.color = createDebug.selectColor(namespace);\n    debug.extend = extend;\n    debug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n    Object.defineProperty(debug, 'enabled', {\n      enumerable: true,\n      configurable: false,\n      get: () => {\n        if (enableOverride !== null) {\n          return enableOverride;\n        }\n        if (namespacesCache !== createDebug.namespaces) {\n          namespacesCache = createDebug.namespaces;\n          enabledCache = createDebug.enabled(namespace);\n        }\n        return enabledCache;\n      },\n      set: v => {\n        enableOverride = v;\n      }\n    });\n\n    // Env-specific initialization logic for debug instances\n    if (typeof createDebug.init === 'function') {\n      createDebug.init(debug);\n    }\n    return debug;\n  }\n  function extend(namespace, delimiter) {\n    const newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n    newDebug.log = this.log;\n    return newDebug;\n  }\n\n  /**\n  * Enables a debug mode by namespaces. This can include modes\n  * separated by a colon and wildcards.\n  *\n  * @param {String} namespaces\n  * @api public\n  */\n  function enable(namespaces) {\n    createDebug.save(namespaces);\n    createDebug.namespaces = namespaces;\n    createDebug.names = [];\n    createDebug.skips = [];\n    const split = (typeof namespaces === 'string' ? namespaces : '').trim().replace(/\\s+/g, ',').split(',').filter(Boolean);\n    for (const ns of split) {\n      if (ns[0] === '-') {\n        createDebug.skips.push(ns.slice(1));\n      } else {\n        createDebug.names.push(ns);\n      }\n    }\n  }\n\n  /**\n   * Checks if the given string matches a namespace template, honoring\n   * asterisks as wildcards.\n   *\n   * @param {String} search\n   * @param {String} template\n   * @return {Boolean}\n   */\n  function matchesTemplate(search, template) {\n    let searchIndex = 0;\n    let templateIndex = 0;\n    let starIndex = -1;\n    let matchIndex = 0;\n    while (searchIndex < search.length) {\n      if (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n        // Match character or proceed with wildcard\n        if (template[templateIndex] === '*') {\n          starIndex = templateIndex;\n          matchIndex = searchIndex;\n          templateIndex++; // Skip the '*'\n        } else {\n          searchIndex++;\n          templateIndex++;\n        }\n      } else if (starIndex !== -1) {\n        // eslint-disable-line no-negated-condition\n        // Backtrack to the last '*' and try to match more characters\n        templateIndex = starIndex + 1;\n        matchIndex++;\n        searchIndex = matchIndex;\n      } else {\n        return false; // No match\n      }\n    }\n\n    // Handle trailing '*' in template\n    while (templateIndex < template.length && template[templateIndex] === '*') {\n      templateIndex++;\n    }\n    return templateIndex === template.length;\n  }\n\n  /**\n  * Disable debug output.\n  *\n  * @return {String} namespaces\n  * @api public\n  */\n  function disable() {\n    const namespaces = [...createDebug.names, ...createDebug.skips.map(namespace => '-' + namespace)].join(',');\n    createDebug.enable('');\n    return namespaces;\n  }\n\n  /**\n  * Returns true if the given mode name is enabled, false otherwise.\n  *\n  * @param {String} name\n  * @return {Boolean}\n  * @api public\n  */\n  function enabled(name) {\n    for (const skip of createDebug.skips) {\n      if (matchesTemplate(name, skip)) {\n        return false;\n      }\n    }\n    for (const ns of createDebug.names) {\n      if (matchesTemplate(name, ns)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n  * Coerce `val`.\n  *\n  * @param {Mixed} val\n  * @return {Mixed}\n  * @api private\n  */\n  function coerce(val) {\n    if (val instanceof Error) {\n      return val.stack || val.message;\n    }\n    return val;\n  }\n\n  /**\n  * XXX DO NOT USE. This is a temporary stub function.\n  * XXX It WILL be removed in the next major release.\n  */\n  function destroy() {\n    console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n  }\n  createDebug.enable(createDebug.load());\n  return createDebug;\n}\nmodule.exports = setup;","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n  let warned = false;\n  return () => {\n    if (!warned) {\n      warned = true;\n      console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n    }\n  };\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n  let m;\n\n  // Is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  // eslint-disable-next-line no-return-assign\n  return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance ||\n  // Is firebug? http://stackoverflow.com/a/398120/376773\n  typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) ||\n  // Is firefox >= v31?\n  // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n  typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31 ||\n  // Double check webkit in userAgent just in case we are in a worker\n  typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/);\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  args[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + args[0] + (this.useColors ? '%c ' : ' ') + '+' + module.exports.humanize(this.diff);\n  if (!this.useColors) {\n    return;\n  }\n  const c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit');\n\n  // The final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  let index = 0;\n  let lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, match => {\n    if (match === '%%') {\n      return;\n    }\n    index++;\n    if (match === '%c') {\n      // We only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n  try {\n    if (namespaces) {\n      exports.storage.setItem('debug', namespaces);\n    } else {\n      exports.storage.removeItem('debug');\n    }\n  } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n  let r;\n  try {\n    r = exports.storage.getItem('debug') || exports.storage.getItem('DEBUG');\n  } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n  return r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    // TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n    // The Browser also has localStorage in the global context.\n    return localStorage;\n  } catch (error) {\n    // Swallow\n    // XXX (@Qix-) should we be logging these?\n  }\n}\nmodule.exports = require('./common')(exports);\nconst {\n  formatters\n} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n  try {\n    return JSON.stringify(v);\n  } catch (error) {\n    return '[UnexpectedJSONParseError]: ' + error.message;\n  }\n};","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Utils } from 'src/utils';\n\nexport interface IRecord {\n  id: number;\n  code: string;\n  description: string;\n}\n\n@Injectable()\nexport class ExamplesService {\n  public mockData: IRecord[] = [];\n\n  constructor() {\n    for (let index = 0; index < 300; index++) {\n      this.mockData.push({\n        id: index,\n        code: Utils.formatNumber(index, '3.0'),\n        description: `Item ${Utils.formatNumber(index, '3.0')}`\n      });\n    }\n  }\n\n  public getSingleSelectOptions(filterText?: string, value?: string | number | null, take = 100): Observable<IRecord[]> {\n    // NOTES\n    // if there is filter text, query records with case insensitive include - sort, take\n    // if there is a value, query records for value match, return single result as []\n    // if there is no value or filter text query top - sort, take\n    return new Observable((o) => {\n      setTimeout(() => {\n        let records = [];\n        if (filterText?.length) {\n          records = this.mockData.filter((d) => d.description.toLocaleLowerCase().includes(filterText.toLocaleLowerCase())).slice(0, take);\n        } else if (value) {\n          records = this.mockData.filter((d) => d.id.toString() === value.toString());\n        } else {\n          records = this.mockData.slice(0, take);\n        }\n        o.next(records);\n        o.complete();\n      }, 1000);\n    });\n  }\n\n  public getMutlipleSelectOptions(filterText?: string, values?: string[] | number[] | null, take = 100): Observable<IRecord[]> {\n    // NOTES\n    // if there is filter text, query records with case insensitive include - sort, take\n    // if there are values and no filter text, query records for values and top - sort by selected, take\n    // if there are no values or filter text query top - sort, take\n    return new Observable((o) => {\n      setTimeout(() => {\n        let records = [];\n        if (filterText?.length) {\n          records = this.mockData.filter((d) => d.description.toLocaleLowerCase().includes(filterText.toLocaleLowerCase())).slice(0, take);\n        } else {\n          if (values?.length) {\n            records = [\n              ...new Set([...this.mockData.filter((d) => values.map((v) => v.toString()).includes(d.id.toString())), ...this.mockData.slice(0, take)])\n            ];\n          } else {\n            records = this.mockData.slice(0, take);\n          }\n        }\n\n        o.next(records);\n        o.complete();\n      }, 1000);\n    });\n  }\n}\n","import { Component } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\n@Component({\n  selector: 'app-examples',\n  imports: [RouterModule],\n  templateUrl: './examples.component.html',\n  styleUrls: ['./examples.component.scss']\n})\nexport class ExamplesComponent {}\n","<router-outlet></router-outlet>\n","import { Component, inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormControl, FormGroup, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { lastValueFrom } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { AutocompleteFilterCallback, AutocompleteOptionBuilder, AutocompleteSelectedTextBuilder, IOption } from '@tylertech/forge';\nimport { ForgeAutocompleteModule, ForgeButtonModule, ForgeDividerModule, ForgeIconModule, ForgeTextFieldModule } from '@tylertech/forge-angular';\n\nimport { ExamplesService, IRecord } from '../examples.service';\n\n@Component({\n  selector: 'app-examples-autocomplete',\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ForgeAutocompleteModule,\n    ForgeButtonModule,\n    ForgeDividerModule,\n    ForgeIconModule,\n    ForgeTextFieldModule\n  ],\n  templateUrl: './autocomplete.component.html',\n  styleUrls: ['./autocomplete.component.scss']\n})\nexport class AutocompleteComponent {\n  public moduleService = inject(ExamplesService);\n\n  public formGroup = new FormGroup({\n    autocomplete01: new FormControl(1),\n    autocomplete02: new FormControl({\n      value: { id: 2, code: '002', description: 'Item 002' },\n      label: 'Item 002'\n    }),\n    autocomplete03: new FormControl([3, 4, 5]),\n    autocomplete04: new FormControl(),\n    autocomplete05: new FormControl()\n  });\n  public autocomplete06 = 6;\n  public autocomplete07 = 7;\n\n  public optionBuilder: AutocompleteOptionBuilder = (option: IOption, filterText: string, parentElement: HTMLElement) => {\n    const defaultSpan = document.createElement('span');\n    defaultSpan.innerText = option.value.description;\n    parentElement.appendChild(defaultSpan);\n\n    const subTitleSpan = document.createElement('span');\n    subTitleSpan.setAttribute('slot', 'secondary-text');\n    subTitleSpan.innerText = option.value.code;\n    parentElement.appendChild(subTitleSpan);\n\n    return undefined as unknown as HTMLElement;\n  };\n\n  public selectedTextBuilder: AutocompleteSelectedTextBuilder = (options: IOption[]): string => {\n    return options[0] ? `${options[0].value} - ${options[0]?.label}` : '';\n  };\n\n  public singleSelectPrimitiveFilter: AutocompleteFilterCallback = (filterText: string, value: string) => {\n    if (value) {\n      return lastValueFrom(\n        this.moduleService.getSingleSelectOptions(undefined, value).pipe(map((result) => result.map((d) => ({ value: d.id, label: d.description }))))\n      );\n    } else {\n      return lastValueFrom(\n        this.moduleService.getSingleSelectOptions(filterText).pipe(map((result) => result.map((d) => ({ value: d.id, label: d.description }))))\n      );\n    }\n  };\n\n  public singleSelectObjectFilter: AutocompleteFilterCallback = (filterText: string, value: IOption) => {\n    if (value) {\n      return [{ label: value.label, value }];\n    } else {\n      return lastValueFrom(\n        this.moduleService.getSingleSelectOptions(filterText).pipe(map((result) => result.map((d) => ({ label: d.description, value: d }))))\n      );\n    }\n  };\n\n  public multipleSelectFilter: AutocompleteFilterCallback = (filterText: string, value: string) => {\n    if (value) {\n      return [];\n    } else {\n      return lastValueFrom(\n        this.moduleService.getMutlipleSelectOptions(filterText, this.formGroup.value.autocomplete03).pipe(\n          map(\n            (result) =>\n              result.map((d: IRecord) => ({\n                value: d.id,\n                label: d.description\n              })) as IOption[]\n          )\n        )\n      );\n    }\n  };\n\n  public onAutocompleteChange(event: CustomEvent) {\n    this.autocomplete07 = event.detail;\n  }\n\n  public onDisable() {\n    const control = this.formGroup.controls.autocomplete01;\n    if (control?.disabled) {\n      control?.enable();\n    } else {\n      control?.disable();\n    }\n  }\n}\n","<form [formGroup]=\"formGroup\" novalidate autocomplete=\"off\" class=\"form-grid\">\r\n  <div>\r\n    <forge-autocomplete [filter]=\"singleSelectPrimitiveFilter\" formControlName=\"autocomplete01\" popupClasses=\"app--forge--popup--center\">\r\n      <forge-text-field>\r\n        <input id=\"examples--autocomplete--01\" type=\"text\" [disabled]=\"formGroup.controls.autocomplete01.disabled\" />\r\n        <label for=\"examples--autocomplete--01\">Autocomplete01 - single primitive</label>\r\n        <forge-icon slot=\"end\" class=\"forge-dropdown-icon\" name=\"arrow_drop_down\"></forge-icon>\r\n      </forge-text-field>\r\n    </forge-autocomplete>\r\n    <forge-button (click)=\"onDisable()\">Disable</forge-button>\r\n  </div>\r\n\r\n  <forge-autocomplete [filter]=\"singleSelectObjectFilter\" formControlName=\"autocomplete02\">\r\n    <forge-text-field>\r\n      <input id=\"examples--autocomplete--02\" type=\"text\" />\r\n      <label for=\"examples--autocomplete--02\">Autocomplete02 - single object</label>\r\n      <forge-icon slot=\"end\" class=\"forge-dropdown-icon\" name=\"arrow_drop_down\"></forge-icon>\r\n    </forge-text-field>\r\n  </forge-autocomplete>\r\n\r\n  <forge-autocomplete [filter]=\"multipleSelectFilter\" formControlName=\"autocomplete03\" multiple>\r\n    <forge-text-field>\r\n      <input id=\"examples--autocomplete--03\" type=\"text\" />\r\n      <label for=\"examples--autocomplete--03\">Autocomplete03 - multiple select</label>\r\n      <forge-icon slot=\"end\" class=\"forge-dropdown-icon\" name=\"arrow_drop_down\"></forge-icon>\r\n    </forge-text-field>\r\n  </forge-autocomplete>\r\n\r\n  <forge-autocomplete [filter]=\"singleSelectObjectFilter\" formControlName=\"autocomplete04\" [optionBuilder]=\"optionBuilder\">\r\n    <forge-text-field>\r\n      <input id=\"examples--autocomplete--04\" type=\"text\" />\r\n      <label for=\"examples--autocomplete--04\">Autocomplete04 - option builder</label>\r\n      <forge-icon slot=\"end\" class=\"forge-dropdown-icon\" name=\"arrow_drop_down\"></forge-icon>\r\n    </forge-text-field>\r\n  </forge-autocomplete>\r\n\r\n  <forge-autocomplete [filter]=\"singleSelectPrimitiveFilter\" formControlName=\"autocomplete05\" [selectedTextBuilder]=\"selectedTextBuilder\">\r\n    <forge-text-field>\r\n      <input id=\"examples--autocomplete--05\" type=\"text\" />\r\n      <label for=\"examples--autocomplete--05\">Autocomplete05 - selected text builder</label>\r\n      <forge-icon slot=\"end\" class=\"forge-dropdown-icon\" name=\"arrow_drop_down\"></forge-icon>\r\n    </forge-text-field>\r\n  </forge-autocomplete>\r\n\r\n  <p class=\"form-grid--col-span\">{{ formGroup.getRawValue() | json }}</p>\r\n</form>\r\n\r\n<forge-divider></forge-divider>\r\n\r\n<div class=\"form-grid\">\r\n  <forge-autocomplete [filter]=\"singleSelectPrimitiveFilter\" [(ngModel)]=\"autocomplete06\">\r\n    <forge-text-field>\r\n      <input id=\"examples--autocomplete--06\" type=\"text\" />\r\n      <label for=\"examples--autocomplete--06\">Autocomplete06 - ngModel binding</label>\r\n      <forge-icon slot=\"end\" class=\"forge-dropdown-icon\" name=\"arrow_drop_down\"></forge-icon>\r\n      <span slot=\"support-text\">selected value: {{ autocomplete06 }}</span>\r\n    </forge-text-field>\r\n  </forge-autocomplete>\r\n\r\n  <forge-autocomplete [filter]=\"singleSelectPrimitiveFilter\" [value]=\"autocomplete07\" (forge-autocomplete-change)=\"onAutocompleteChange($event)\">\r\n    <forge-text-field>\r\n      <input id=\"examples--autocomplete--07\" type=\"text\" />\r\n      <label for=\"examples--autocomplete--07\">Autocomplete07 - value binding</label>\r\n      <forge-icon slot=\"end\" class=\"forge-dropdown-icon\" name=\"arrow_drop_down\"></forge-icon>\r\n      <span slot=\"support-text\">selected value: {{ autocomplete07 }}</span>\r\n    </forge-text-field>\r\n  </forge-autocomplete>\r\n</div>\r\n","import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CdkDragDrop, DragDropModule, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport { ForgeListItemModule, ForgeListModule } from '@tylertech/forge-angular';\n\n@Component({\n  selector: 'app-examples-drag-drop',\n  imports: [CommonModule, DragDropModule, ForgeListItemModule, ForgeListModule],\n  templateUrl: './drag-drop.component.html',\n  styleUrls: ['./drag-drop.component.scss']\n})\nexport class DragDropComponent {\n  public items01 = ['List 1 - item 01', 'List 1 - item 02', 'List 1 - item 03', 'List 1 - item 04'];\n  public items02 = ['List 2 - item 01', 'List 2 - item 02', 'List 2 - item 03', 'List 2 - item 04'];\n\n  public onDrop(event: CdkDragDrop<string[]>) {\n    if (event.previousContainer === event.container) {\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n    } else {\n      transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\n    }\n  }\n}\n","<div class=\"card-container\" cdkDropListGroup>\n  <div class=\"card\">\n    <div class=\"title\">List 1</div>\n\n    <forge-list cdkDropList #item01List=\"cdkDropList\" [cdkDropListData]=\"items01\" [cdkDropListConnectedTo]=\"[item02List]\" (cdkDropListDropped)=\"onDrop($event)\">\n      @for (item of items01; track i; let i = $index) {\n        <forge-list-item cdkDrag>\n          <span class=\"cdk-drag__content\">{{ item }}</span>\n        </forge-list-item>\n      }\n      <forge-list-item class=\"cdk-drag-placeholder\" *cdkDragPlaceholder></forge-list-item>\n    </forge-list>\n  </div>\n\n  <div class=\"card\">\n    <div class=\"title\">List 2</div>\n\n    <forge-list cdkDropList #item02List=\"cdkDropList\" [cdkDropListData]=\"items02\" [cdkDropListConnectedTo]=\"[item01List]\" (cdkDropListDropped)=\"onDrop($event)\">\n      @for (item of items02; track i; let i = $index) {\n        <forge-list-item cdkDrag>\n          <span class=\"cdk-drag__content\">{{ item }}</span>\n        </forge-list-item>\n      }\n      <forge-list-item class=\"cdk-drag-placeholder\" *cdkDragPlaceholder></forge-list-item>\n    </forge-list>\n  </div>\n</div>\n","import { Component, inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormControl, FormGroup, FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IOption, SelectOptionBuilder, SelectSelectedTextBuilder } from '@tylertech/forge';\nimport { ForgeDividerModule, ForgeOptionModule, ForgeSelectModule } from '@tylertech/forge-angular';\n\nimport { ExamplesService } from '../examples.service';\n\n@Component({\n  selector: 'app-examples-select',\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, ForgeDividerModule, ForgeOptionModule, ForgeSelectModule],\n  templateUrl: './select.component.html',\n  styleUrls: ['./select.component.scss']\n})\nexport class SelectComponent {\n  public moduleService = inject(ExamplesService);\n\n  public options = this.moduleService.mockData.slice(0, 20).map((d) => ({ value: d.id, label: d.description }));\n  public objectOptions = this.moduleService.mockData.slice(0, 20).map((d) => ({ value: d, label: d.description }));\n  public formGroup = new FormGroup({\n    select01: new FormControl(1),\n    select02: new FormControl(this.objectOptions[2].value),\n    select03: new FormControl([3, 4, 5]),\n    select04: new FormControl(),\n    select05: new FormControl()\n  });\n  public select06 = 6;\n  public select07 = 7;\n\n  public optionBuilder: SelectOptionBuilder = (option: IOption, parentElement: HTMLElement) => {\n    const defaultSpan = document.createElement('span');\n    defaultSpan.innerText = option.value.description;\n    parentElement.appendChild(defaultSpan);\n\n    const subTitleSpan = document.createElement('span');\n    subTitleSpan.setAttribute('slot', 'secondary-text');\n    subTitleSpan.innerText = option.value.code;\n    parentElement.appendChild(subTitleSpan);\n\n    return undefined as unknown as HTMLElement;\n  };\n\n  public selectedTextBuilder: SelectSelectedTextBuilder = (options: IOption[]): string => {\n    return options[0] ? `${options[0].value} - ${options[0]?.label}` : '';\n  };\n\n  public onSelectChange(event: CustomEvent) {\n    this.select07 = event.detail;\n  }\n}\n","<form [formGroup]=\"formGroup\" novalidate autocomplete=\"off\" class=\"form-grid\">\n  <forge-select formControlName=\"select01\" label=\"Select01 - single primitive\">\n    @for (option of options; track i; let i = $index) {\n      <forge-option [value]=\"option.value\">{{ option.label }}</forge-option>\n    }\n  </forge-select>\n\n  <forge-select label=\"Select02 - single object\" [options]=\"objectOptions\" formControlName=\"select02\"></forge-select>\n\n  <forge-select label=\"Select03 - multiple select\" [options]=\"options\" multiple formControlName=\"select03\"></forge-select>\n\n  <forge-select label=\"Select04 - option builder\" [options]=\"objectOptions\" formControlName=\"select04\" [optionBuilder]=\"optionBuilder\"></forge-select>\n\n  <forge-select label=\"Select05 - selected text builder\" [options]=\"options\" formControlName=\"select05\" [selectedTextBuilder]=\"selectedTextBuilder\"></forge-select>\n\n  <p class=\"form-grid--col-span\">{{ formGroup.getRawValue() | json }}</p>\n</form>\n\n<forge-divider></forge-divider>\n\n<div class=\"form-grid\">\n  <forge-select label=\"Select06 - ngModel binding\" [options]=\"options\" [(ngModel)]=\"select06\">\n    <span slot=\"support-text\">selected value: {{ select06 }}</span>\n  </forge-select>\n  <forge-select label=\"Select07 - value binding\" [options]=\"options\" [value]=\"select07\" (change)=\"onSelectChange($event)\">\n    <span slot=\"support-text\">selected value: {{ select07 }}</span>\n  </forge-select>\n</div>\n","import { CommonModule } from '@angular/common';\nimport { Component, model } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { ForgeTextFieldModule } from '@tylertech/forge-angular';\n\n@Component({\n  selector: 'app-examples-binding-child',\n  imports: [CommonModule, FormsModule, ForgeTextFieldModule],\n  templateUrl: './child.component.html',\n  styleUrls: ['./child.component.scss']\n})\nexport class ChildComponent {\n  name = model<string>();\n}\n","<forge-text-field>\n  <!-- <input type=\"text\" id=\"examples--binding--child--name\" [(ngModel)]=\"name\" (input)=\"onNameChange()\" /> -->\n  <input type=\"text\" id=\"examples--binding--child--name\" [(ngModel)]=\"name\" autocomplete=\"off\" />\n  <label for=\"examples--binding--child--name\" slot=\"label\">Child component</label>\n</forge-text-field>\n","import { CommonModule } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { ForgeTextFieldModule } from '@tylertech/forge-angular';\n\nimport { ChildComponent } from './child/child.component';\n\n@Component({\n  selector: 'app-examples-binding',\n  imports: [CommonModule, FormsModule, ForgeTextFieldModule, ChildComponent],\n  templateUrl: './binding.component.html',\n  styleUrls: ['./binding.component.scss']\n})\nexport class BindingComponent {\n  public name = 'two way binding example';\n}\n","<div class=\"two-way-binding\">\n  <forge-text-field>\n    <input type=\"text\" id=\"examples--binding--name\" [(ngModel)]=\"name\" autocomplete=\"off\" />\n    <label for=\"examples--binding--name\" slot=\"label\">Parent component</label>\n  </forge-text-field>\n  <app-examples-binding-child [(name)]=\"name\"></app-examples-binding-child>\n</div>\n","import * as ieee754 from 'ieee754';\nimport { textDecode } from \"@borewit/text-codec\";\n// Primitive types\nfunction dv(array) {\n  return new DataView(array.buffer, array.byteOffset);\n}\n/*\n * 8-bit unsigned integer\n */\nexport const UINT8 = {\n  len: 1,\n  get(array, offset) {\n    return dv(array).getUint8(offset);\n  },\n  put(array, offset, value) {\n    dv(array).setUint8(offset, value);\n    return offset + 1;\n  }\n};\n/**\n * 16-bit unsigned integer, Little Endian byte order\n */\nexport const UINT16_LE = {\n  len: 2,\n  get(array, offset) {\n    return dv(array).getUint16(offset, true);\n  },\n  put(array, offset, value) {\n    dv(array).setUint16(offset, value, true);\n    return offset + 2;\n  }\n};\n/**\n * 16-bit unsigned integer, Big Endian byte order\n */\nexport const UINT16_BE = {\n  len: 2,\n  get(array, offset) {\n    return dv(array).getUint16(offset);\n  },\n  put(array, offset, value) {\n    dv(array).setUint16(offset, value);\n    return offset + 2;\n  }\n};\n/**\n * 24-bit unsigned integer, Little Endian byte order\n */\nexport const UINT24_LE = {\n  len: 3,\n  get(array, offset) {\n    const dataView = dv(array);\n    return dataView.getUint8(offset) + (dataView.getUint16(offset + 1, true) << 8);\n  },\n  put(array, offset, value) {\n    const dataView = dv(array);\n    dataView.setUint8(offset, value & 0xff);\n    dataView.setUint16(offset + 1, value >> 8, true);\n    return offset + 3;\n  }\n};\n/**\n * 24-bit unsigned integer, Big Endian byte order\n */\nexport const UINT24_BE = {\n  len: 3,\n  get(array, offset) {\n    const dataView = dv(array);\n    return (dataView.getUint16(offset) << 8) + dataView.getUint8(offset + 2);\n  },\n  put(array, offset, value) {\n    const dataView = dv(array);\n    dataView.setUint16(offset, value >> 8);\n    dataView.setUint8(offset + 2, value & 0xff);\n    return offset + 3;\n  }\n};\n/**\n * 32-bit unsigned integer, Little Endian byte order\n */\nexport const UINT32_LE = {\n  len: 4,\n  get(array, offset) {\n    return dv(array).getUint32(offset, true);\n  },\n  put(array, offset, value) {\n    dv(array).setUint32(offset, value, true);\n    return offset + 4;\n  }\n};\n/**\n * 32-bit unsigned integer, Big Endian byte order\n */\nexport const UINT32_BE = {\n  len: 4,\n  get(array, offset) {\n    return dv(array).getUint32(offset);\n  },\n  put(array, offset, value) {\n    dv(array).setUint32(offset, value);\n    return offset + 4;\n  }\n};\n/**\n * 8-bit signed integer\n */\nexport const INT8 = {\n  len: 1,\n  get(array, offset) {\n    return dv(array).getInt8(offset);\n  },\n  put(array, offset, value) {\n    dv(array).setInt8(offset, value);\n    return offset + 1;\n  }\n};\n/**\n * 16-bit signed integer, Big Endian byte order\n */\nexport const INT16_BE = {\n  len: 2,\n  get(array, offset) {\n    return dv(array).getInt16(offset);\n  },\n  put(array, offset, value) {\n    dv(array).setInt16(offset, value);\n    return offset + 2;\n  }\n};\n/**\n * 16-bit signed integer, Little Endian byte order\n */\nexport const INT16_LE = {\n  len: 2,\n  get(array, offset) {\n    return dv(array).getInt16(offset, true);\n  },\n  put(array, offset, value) {\n    dv(array).setInt16(offset, value, true);\n    return offset + 2;\n  }\n};\n/**\n * 24-bit signed integer, Little Endian byte order\n */\nexport const INT24_LE = {\n  len: 3,\n  get(array, offset) {\n    const unsigned = UINT24_LE.get(array, offset);\n    return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;\n  },\n  put(array, offset, value) {\n    const dataView = dv(array);\n    dataView.setUint8(offset, value & 0xff);\n    dataView.setUint16(offset + 1, value >> 8, true);\n    return offset + 3;\n  }\n};\n/**\n * 24-bit signed integer, Big Endian byte order\n */\nexport const INT24_BE = {\n  len: 3,\n  get(array, offset) {\n    const unsigned = UINT24_BE.get(array, offset);\n    return unsigned > 0x7fffff ? unsigned - 0x1000000 : unsigned;\n  },\n  put(array, offset, value) {\n    const dataView = dv(array);\n    dataView.setUint16(offset, value >> 8);\n    dataView.setUint8(offset + 2, value & 0xff);\n    return offset + 3;\n  }\n};\n/**\n * 32-bit signed integer, Big Endian byte order\n */\nexport const INT32_BE = {\n  len: 4,\n  get(array, offset) {\n    return dv(array).getInt32(offset);\n  },\n  put(array, offset, value) {\n    dv(array).setInt32(offset, value);\n    return offset + 4;\n  }\n};\n/**\n * 32-bit signed integer, Big Endian byte order\n */\nexport const INT32_LE = {\n  len: 4,\n  get(array, offset) {\n    return dv(array).getInt32(offset, true);\n  },\n  put(array, offset, value) {\n    dv(array).setInt32(offset, value, true);\n    return offset + 4;\n  }\n};\n/**\n * 64-bit unsigned integer, Little Endian byte order\n */\nexport const UINT64_LE = {\n  len: 8,\n  get(array, offset) {\n    return dv(array).getBigUint64(offset, true);\n  },\n  put(array, offset, value) {\n    dv(array).setBigUint64(offset, value, true);\n    return offset + 8;\n  }\n};\n/**\n * 64-bit signed integer, Little Endian byte order\n */\nexport const INT64_LE = {\n  len: 8,\n  get(array, offset) {\n    return dv(array).getBigInt64(offset, true);\n  },\n  put(array, offset, value) {\n    dv(array).setBigInt64(offset, value, true);\n    return offset + 8;\n  }\n};\n/**\n * 64-bit unsigned integer, Big Endian byte order\n */\nexport const UINT64_BE = {\n  len: 8,\n  get(array, offset) {\n    return dv(array).getBigUint64(offset);\n  },\n  put(array, offset, value) {\n    dv(array).setBigUint64(offset, value);\n    return offset + 8;\n  }\n};\n/**\n * 64-bit signed integer, Big Endian byte order\n */\nexport const INT64_BE = {\n  len: 8,\n  get(array, offset) {\n    return dv(array).getBigInt64(offset);\n  },\n  put(array, offset, value) {\n    dv(array).setBigInt64(offset, value);\n    return offset + 8;\n  }\n};\n/**\n * IEEE 754 16-bit (half precision) float, big endian\n */\nexport const Float16_BE = {\n  len: 2,\n  get(dataView, offset) {\n    return ieee754.read(dataView, offset, false, 10, this.len);\n  },\n  put(dataView, offset, value) {\n    ieee754.write(dataView, value, offset, false, 10, this.len);\n    return offset + this.len;\n  }\n};\n/**\n * IEEE 754 16-bit (half precision) float, little endian\n */\nexport const Float16_LE = {\n  len: 2,\n  get(array, offset) {\n    return ieee754.read(array, offset, true, 10, this.len);\n  },\n  put(array, offset, value) {\n    ieee754.write(array, value, offset, true, 10, this.len);\n    return offset + this.len;\n  }\n};\n/**\n * IEEE 754 32-bit (single precision) float, big endian\n */\nexport const Float32_BE = {\n  len: 4,\n  get(array, offset) {\n    return dv(array).getFloat32(offset);\n  },\n  put(array, offset, value) {\n    dv(array).setFloat32(offset, value);\n    return offset + 4;\n  }\n};\n/**\n * IEEE 754 32-bit (single precision) float, little endian\n */\nexport const Float32_LE = {\n  len: 4,\n  get(array, offset) {\n    return dv(array).getFloat32(offset, true);\n  },\n  put(array, offset, value) {\n    dv(array).setFloat32(offset, value, true);\n    return offset + 4;\n  }\n};\n/**\n * IEEE 754 64-bit (double precision) float, big endian\n */\nexport const Float64_BE = {\n  len: 8,\n  get(array, offset) {\n    return dv(array).getFloat64(offset);\n  },\n  put(array, offset, value) {\n    dv(array).setFloat64(offset, value);\n    return offset + 8;\n  }\n};\n/**\n * IEEE 754 64-bit (double precision) float, little endian\n */\nexport const Float64_LE = {\n  len: 8,\n  get(array, offset) {\n    return dv(array).getFloat64(offset, true);\n  },\n  put(array, offset, value) {\n    dv(array).setFloat64(offset, value, true);\n    return offset + 8;\n  }\n};\n/**\n * IEEE 754 80-bit (extended precision) float, big endian\n */\nexport const Float80_BE = {\n  len: 10,\n  get(array, offset) {\n    return ieee754.read(array, offset, false, 63, this.len);\n  },\n  put(array, offset, value) {\n    ieee754.write(array, value, offset, false, 63, this.len);\n    return offset + this.len;\n  }\n};\n/**\n * IEEE 754 80-bit (extended precision) float, little endian\n */\nexport const Float80_LE = {\n  len: 10,\n  get(array, offset) {\n    return ieee754.read(array, offset, true, 63, this.len);\n  },\n  put(array, offset, value) {\n    ieee754.write(array, value, offset, true, 63, this.len);\n    return offset + this.len;\n  }\n};\n/**\n * Ignore a given number of bytes\n */\nexport class IgnoreType {\n  /**\n   * @param len number of bytes to ignore\n   */\n  constructor(len) {\n    this.len = len;\n  }\n  // ToDo: don't read, but skip data\n  get(_array, _off) {}\n}\nexport class Uint8ArrayType {\n  constructor(len) {\n    this.len = len;\n  }\n  get(array, offset) {\n    return array.subarray(offset, offset + this.len);\n  }\n}\n/**\n * Consume a fixed number of bytes from the stream and return a string with a specified encoding.\n * Supports all encodings supported by TextDecoder, plus 'windows-1252'.\n */\nexport class StringType {\n  constructor(len, encoding) {\n    this.len = len;\n    this.encoding = encoding;\n  }\n  get(data, offset = 0) {\n    const bytes = data.subarray(offset, offset + this.len);\n    return textDecode(bytes, this.encoding);\n  }\n}\n/**\n * ANSI Latin 1 String using Windows-1252 (Code Page 1252)\n * Windows-1252 is a superset of ISO 8859-1 / Latin-1.\n */\nexport class AnsiStringType extends StringType {\n  constructor(len) {\n    super(len, 'windows-1252');\n  }\n}","// text-polyfill.ts\n// Minimal encode/decode for utf-8, utf-16le, ascii, latin1, windows-1252\nconst WINDOWS_1252_EXTRA = {\n  0x80: \"€\",\n  0x82: \"‚\",\n  0x83: \"ƒ\",\n  0x84: \"„\",\n  0x85: \"…\",\n  0x86: \"†\",\n  0x87: \"‡\",\n  0x88: \"ˆ\",\n  0x89: \"‰\",\n  0x8a: \"Š\",\n  0x8b: \"‹\",\n  0x8c: \"Œ\",\n  0x8e: \"Ž\",\n  0x91: \"‘\",\n  0x92: \"’\",\n  0x93: \"“\",\n  0x94: \"”\",\n  0x95: \"•\",\n  0x96: \"–\",\n  0x97: \"—\",\n  0x98: \"˜\",\n  0x99: \"™\",\n  0x9a: \"š\",\n  0x9b: \"›\",\n  0x9c: \"œ\",\n  0x9e: \"ž\",\n  0x9f: \"Ÿ\"\n};\nconst WINDOWS_1252_REVERSE = {};\nfor (const [code, char] of Object.entries(WINDOWS_1252_EXTRA)) {\n  WINDOWS_1252_REVERSE[char] = Number.parseInt(code);\n}\n/**\n * Decode text from binary data\n * @param bytes Binary data\n * @param encoding Encoding\n */\nexport function textDecode(bytes, encoding = \"utf-8\") {\n  switch (encoding.toLowerCase()) {\n    case \"utf-8\":\n    case \"utf8\":\n      if (typeof globalThis.TextDecoder !== \"undefined\") {\n        return new globalThis.TextDecoder(\"utf-8\").decode(bytes);\n      }\n      return decodeUTF8(bytes);\n    case \"utf-16le\":\n      return decodeUTF16LE(bytes);\n    case \"ascii\":\n      return decodeASCII(bytes);\n    case \"latin1\":\n    case \"iso-8859-1\":\n      return decodeLatin1(bytes);\n    case \"windows-1252\":\n      return decodeWindows1252(bytes);\n    default:\n      throw new RangeError(`Encoding '${encoding}' not supported`);\n  }\n}\nexport function textEncode(input = \"\", encoding = \"utf-8\") {\n  switch (encoding.toLowerCase()) {\n    case \"utf-8\":\n    case \"utf8\":\n      if (typeof globalThis.TextEncoder !== \"undefined\") {\n        return new globalThis.TextEncoder().encode(input);\n      }\n      return encodeUTF8(input);\n    case \"utf-16le\":\n      return encodeUTF16LE(input);\n    case \"ascii\":\n      return encodeASCII(input);\n    case \"latin1\":\n    case \"iso-8859-1\":\n      return encodeLatin1(input);\n    case \"windows-1252\":\n      return encodeWindows1252(input);\n    default:\n      throw new RangeError(`Encoding '${encoding}' not supported`);\n  }\n}\n// --- Internal helpers ---\nfunction decodeUTF8(bytes) {\n  let out = \"\";\n  let i = 0;\n  while (i < bytes.length) {\n    const b1 = bytes[i++];\n    if (b1 < 0x80) {\n      out += String.fromCharCode(b1);\n    } else if (b1 < 0xe0) {\n      const b2 = bytes[i++] & 0x3f;\n      out += String.fromCharCode((b1 & 0x1f) << 6 | b2);\n    } else if (b1 < 0xf0) {\n      const b2 = bytes[i++] & 0x3f;\n      const b3 = bytes[i++] & 0x3f;\n      out += String.fromCharCode((b1 & 0x0f) << 12 | b2 << 6 | b3);\n    } else {\n      const b2 = bytes[i++] & 0x3f;\n      const b3 = bytes[i++] & 0x3f;\n      const b4 = bytes[i++] & 0x3f;\n      let cp = (b1 & 0x07) << 18 | b2 << 12 | b3 << 6 | b4;\n      cp -= 0x10000;\n      out += String.fromCharCode(0xd800 + (cp >> 10 & 0x3ff), 0xdc00 + (cp & 0x3ff));\n    }\n  }\n  return out;\n}\nfunction decodeUTF16LE(bytes) {\n  let out = \"\";\n  for (let i = 0; i < bytes.length; i += 2) {\n    out += String.fromCharCode(bytes[i] | bytes[i + 1] << 8);\n  }\n  return out;\n}\nfunction decodeASCII(bytes) {\n  return String.fromCharCode(...bytes.map(b => b & 0x7f));\n}\nfunction decodeLatin1(bytes) {\n  return String.fromCharCode(...bytes);\n}\nfunction decodeWindows1252(bytes) {\n  let out = \"\";\n  for (const b of bytes) {\n    if (b >= 0x80 && b <= 0x9f && WINDOWS_1252_EXTRA[b]) {\n      out += WINDOWS_1252_EXTRA[b];\n    } else {\n      out += String.fromCharCode(b);\n    }\n  }\n  return out;\n}\nfunction encodeUTF8(str) {\n  const out = [];\n  for (let i = 0; i < str.length; i++) {\n    const cp = str.charCodeAt(i);\n    if (cp < 0x80) {\n      out.push(cp);\n    } else if (cp < 0x800) {\n      out.push(0xc0 | cp >> 6, 0x80 | cp & 0x3f);\n    } else if (cp < 0x10000) {\n      out.push(0xe0 | cp >> 12, 0x80 | cp >> 6 & 0x3f, 0x80 | cp & 0x3f);\n    } else {\n      out.push(0xf0 | cp >> 18, 0x80 | cp >> 12 & 0x3f, 0x80 | cp >> 6 & 0x3f, 0x80 | cp & 0x3f);\n    }\n  }\n  return new Uint8Array(out);\n}\nfunction encodeUTF16LE(str) {\n  const out = new Uint8Array(str.length * 2);\n  for (let i = 0; i < str.length; i++) {\n    const code = str.charCodeAt(i);\n    out[i * 2] = code & 0xff;\n    out[i * 2 + 1] = code >> 8;\n  }\n  return out;\n}\nfunction encodeASCII(str) {\n  return new Uint8Array([...str].map(ch => ch.charCodeAt(0) & 0x7f));\n}\nfunction encodeLatin1(str) {\n  return new Uint8Array([...str].map(ch => ch.charCodeAt(0) & 0xff));\n}\nfunction encodeWindows1252(str) {\n  return new Uint8Array([...str].map(ch => {\n    const code = ch.charCodeAt(0);\n    if (code <= 0xff) return code;\n    if (WINDOWS_1252_REVERSE[ch] !== undefined) return WINDOWS_1252_REVERSE[ch];\n    return 0x3f; // '?'\n  }));\n}","export const defaultMessages = 'End-Of-Stream';\n/**\n * Thrown on read operation of the end of file or stream has been reached\n */\nexport class EndOfStreamError extends Error {\n  constructor() {\n    super(defaultMessages);\n    this.name = \"EndOfStreamError\";\n  }\n}\nexport class AbortError extends Error {\n  constructor(message = \"The operation was aborted\") {\n    super(message);\n    this.name = \"AbortError\";\n  }\n}","import { EndOfStreamError, AbortError } from \"./Errors.js\";\nexport class AbstractStreamReader {\n  constructor() {\n    this.endOfStream = false;\n    this.interrupted = false;\n    /**\n     * Store peeked data\n     * @type {Array}\n     */\n    this.peekQueue = [];\n  }\n  async peek(uint8Array, mayBeLess = false) {\n    const bytesRead = await this.read(uint8Array, mayBeLess);\n    this.peekQueue.push(uint8Array.subarray(0, bytesRead)); // Put read data back to peek buffer\n    return bytesRead;\n  }\n  async read(buffer, mayBeLess = false) {\n    if (buffer.length === 0) {\n      return 0;\n    }\n    let bytesRead = this.readFromPeekBuffer(buffer);\n    if (!this.endOfStream) {\n      bytesRead += await this.readRemainderFromStream(buffer.subarray(bytesRead), mayBeLess);\n    }\n    if (bytesRead === 0 && !mayBeLess) {\n      throw new EndOfStreamError();\n    }\n    return bytesRead;\n  }\n  /**\n   * Read chunk from stream\n   * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in\n   * @returns Number of bytes read\n   */\n  readFromPeekBuffer(buffer) {\n    let remaining = buffer.length;\n    let bytesRead = 0;\n    // consume peeked data first\n    while (this.peekQueue.length > 0 && remaining > 0) {\n      const peekData = this.peekQueue.pop(); // Front of queue\n      if (!peekData) throw new Error('peekData should be defined');\n      const lenCopy = Math.min(peekData.length, remaining);\n      buffer.set(peekData.subarray(0, lenCopy), bytesRead);\n      bytesRead += lenCopy;\n      remaining -= lenCopy;\n      if (lenCopy < peekData.length) {\n        // remainder back to queue\n        this.peekQueue.push(peekData.subarray(lenCopy));\n      }\n    }\n    return bytesRead;\n  }\n  async readRemainderFromStream(buffer, mayBeLess) {\n    let bytesRead = 0;\n    // Continue reading from stream if required\n    while (bytesRead < buffer.length && !this.endOfStream) {\n      if (this.interrupted) {\n        throw new AbortError();\n      }\n      const chunkLen = await this.readFromStream(buffer.subarray(bytesRead), mayBeLess);\n      if (chunkLen === 0) break;\n      bytesRead += chunkLen;\n    }\n    if (!mayBeLess && bytesRead < buffer.length) {\n      throw new EndOfStreamError();\n    }\n    return bytesRead;\n  }\n}","import { AbstractStreamReader } from \"./AbstractStreamReader.js\";\nexport class WebStreamReader extends AbstractStreamReader {\n  constructor(reader) {\n    super();\n    this.reader = reader;\n  }\n  async abort() {\n    return this.close();\n  }\n  async close() {\n    this.reader.releaseLock();\n  }\n}","import { WebStreamReader } from './WebStreamReader.js';\n/**\n * Read from a WebStream using a BYOB reader\n * Reference: https://nodejs.org/api/webstreams.html#class-readablestreambyobreader\n */\nexport class WebStreamByobReader extends WebStreamReader {\n  /**\n   * Read from stream\n   * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in\n   * @param mayBeLess - If true, may fill the buffer partially\n   * @protected Bytes read\n   */\n  async readFromStream(buffer, mayBeLess) {\n    if (buffer.length === 0) return 0;\n    // @ts-ignore\n    const result = await this.reader.read(new Uint8Array(buffer.length), {\n      min: mayBeLess ? undefined : buffer.length\n    });\n    if (result.done) {\n      this.endOfStream = result.done;\n    }\n    if (result.value) {\n      buffer.set(result.value);\n      return result.value.length;\n    }\n    return 0;\n  }\n}","import { EndOfStreamError } from './Errors.js';\nimport { AbstractStreamReader } from \"./AbstractStreamReader.js\";\nexport class WebStreamDefaultReader extends AbstractStreamReader {\n  constructor(reader) {\n    super();\n    this.reader = reader;\n    this.buffer = null; // Internal buffer to store excess data\n  }\n  /**\n   * Copy chunk to target, and store the remainder in this.buffer\n   */\n  writeChunk(target, chunk) {\n    const written = Math.min(chunk.length, target.length);\n    target.set(chunk.subarray(0, written));\n    // Adjust the remainder of the buffer\n    if (written < chunk.length) {\n      this.buffer = chunk.subarray(written);\n    } else {\n      this.buffer = null;\n    }\n    return written;\n  }\n  /**\n   * Read from stream\n   * @param buffer - Target Uint8Array (or Buffer) to store data read from stream in\n   * @param mayBeLess - If true, may fill the buffer partially\n   * @protected Bytes read\n   */\n  async readFromStream(buffer, mayBeLess) {\n    if (buffer.length === 0) return 0;\n    let totalBytesRead = 0;\n    // Serve from the internal buffer first\n    if (this.buffer) {\n      totalBytesRead += this.writeChunk(buffer, this.buffer);\n    }\n    // Continue reading from the stream if more data is needed\n    while (totalBytesRead < buffer.length && !this.endOfStream) {\n      const result = await this.reader.read();\n      if (result.done) {\n        this.endOfStream = true;\n        break;\n      }\n      if (result.value) {\n        totalBytesRead += this.writeChunk(buffer.subarray(totalBytesRead), result.value);\n      }\n    }\n    if (!mayBeLess && totalBytesRead === 0 && this.endOfStream) {\n      throw new EndOfStreamError();\n    }\n    return totalBytesRead;\n  }\n  abort() {\n    this.interrupted = true;\n    return this.reader.cancel();\n  }\n  async close() {\n    await this.abort();\n    this.reader.releaseLock();\n  }\n}","import { WebStreamByobReader } from './WebStreamByobReader.js';\nimport { WebStreamDefaultReader } from './WebStreamDefaultReader.js';\nexport function makeWebStreamReader(stream) {\n  try {\n    const reader = stream.getReader({\n      mode: \"byob\"\n    });\n    if (reader instanceof ReadableStreamDefaultReader) {\n      // Fallback to default reader in case `mode: byob` is ignored\n      return new WebStreamDefaultReader(reader);\n    }\n    return new WebStreamByobReader(reader);\n  } catch (error) {\n    if (error instanceof TypeError) {\n      // Fallback to default reader in case `mode: byob` rejected by a `TypeError`\n      return new WebStreamDefaultReader(stream.getReader());\n    }\n    throw error;\n  }\n}","import { EndOfStreamError } from './stream/index.js';\n/**\n * Core tokenizer\n */\nexport class AbstractTokenizer {\n  /**\n   * Constructor\n   * @param options Tokenizer options\n   * @protected\n   */\n  constructor(options) {\n    this.numBuffer = new Uint8Array(8);\n    /**\n     * Tokenizer-stream position\n     */\n    this.position = 0;\n    this.onClose = options?.onClose;\n    if (options?.abortSignal) {\n      options.abortSignal.addEventListener('abort', () => {\n        this.abort();\n      });\n    }\n  }\n  /**\n   * Read a token from the tokenizer-stream\n   * @param token - The token to read\n   * @param position - If provided, the desired position in the tokenizer-stream\n   * @returns Promise with token data\n   */\n  async readToken(token, position = this.position) {\n    const uint8Array = new Uint8Array(token.len);\n    const len = await this.readBuffer(uint8Array, {\n      position\n    });\n    if (len < token.len) throw new EndOfStreamError();\n    return token.get(uint8Array, 0);\n  }\n  /**\n   * Peek a token from the tokenizer-stream.\n   * @param token - Token to peek from the tokenizer-stream.\n   * @param position - Offset where to begin reading within the file. If position is null, data will be read from the current file position.\n   * @returns Promise with token data\n   */\n  async peekToken(token, position = this.position) {\n    const uint8Array = new Uint8Array(token.len);\n    const len = await this.peekBuffer(uint8Array, {\n      position\n    });\n    if (len < token.len) throw new EndOfStreamError();\n    return token.get(uint8Array, 0);\n  }\n  /**\n   * Read a numeric token from the stream\n   * @param token - Numeric token\n   * @returns Promise with number\n   */\n  async readNumber(token) {\n    const len = await this.readBuffer(this.numBuffer, {\n      length: token.len\n    });\n    if (len < token.len) throw new EndOfStreamError();\n    return token.get(this.numBuffer, 0);\n  }\n  /**\n   * Read a numeric token from the stream\n   * @param token - Numeric token\n   * @returns Promise with number\n   */\n  async peekNumber(token) {\n    const len = await this.peekBuffer(this.numBuffer, {\n      length: token.len\n    });\n    if (len < token.len) throw new EndOfStreamError();\n    return token.get(this.numBuffer, 0);\n  }\n  /**\n   * Ignore number of bytes, advances the pointer in under tokenizer-stream.\n   * @param length - Number of bytes to ignore\n   * @return resolves the number of bytes ignored, equals length if this available, otherwise the number of bytes available\n   */\n  async ignore(length) {\n    if (this.fileInfo.size !== undefined) {\n      const bytesLeft = this.fileInfo.size - this.position;\n      if (length > bytesLeft) {\n        this.position += bytesLeft;\n        return bytesLeft;\n      }\n    }\n    this.position += length;\n    return length;\n  }\n  async close() {\n    await this.abort();\n    await this.onClose?.();\n  }\n  normalizeOptions(uint8Array, options) {\n    if (!this.supportsRandomAccess() && options && options.position !== undefined && options.position < this.position) {\n      throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\n    }\n    return {\n      ...{\n        mayBeLess: false,\n        offset: 0,\n        length: uint8Array.length,\n        position: this.position\n      },\n      ...options\n    };\n  }\n  abort() {\n    return Promise.resolve(); // Ignore abort signal\n  }\n}","import { AbstractTokenizer } from './AbstractTokenizer.js';\nimport { EndOfStreamError } from './stream/index.js';\nconst maxBufferSize = 256000;\nexport class ReadStreamTokenizer extends AbstractTokenizer {\n  /**\n   * Constructor\n   * @param streamReader stream-reader to read from\n   * @param options Tokenizer options\n   */\n  constructor(streamReader, options) {\n    super(options);\n    this.streamReader = streamReader;\n    this.fileInfo = options?.fileInfo ?? {};\n  }\n  /**\n   * Read buffer from tokenizer\n   * @param uint8Array - Target Uint8Array to fill with data read from the tokenizer-stream\n   * @param options - Read behaviour options\n   * @returns Promise with number of bytes read\n   */\n  async readBuffer(uint8Array, options) {\n    const normOptions = this.normalizeOptions(uint8Array, options);\n    const skipBytes = normOptions.position - this.position;\n    if (skipBytes > 0) {\n      await this.ignore(skipBytes);\n      return this.readBuffer(uint8Array, options);\n    }\n    if (skipBytes < 0) {\n      throw new Error('`options.position` must be equal or greater than `tokenizer.position`');\n    }\n    if (normOptions.length === 0) {\n      return 0;\n    }\n    const bytesRead = await this.streamReader.read(uint8Array.subarray(0, normOptions.length), normOptions.mayBeLess);\n    this.position += bytesRead;\n    if ((!options || !options.mayBeLess) && bytesRead < normOptions.length) {\n      throw new EndOfStreamError();\n    }\n    return bytesRead;\n  }\n  /**\n   * Peek (read ahead) buffer from tokenizer\n   * @param uint8Array - Uint8Array (or Buffer) to write data to\n   * @param options - Read behaviour options\n   * @returns Promise with number of bytes peeked\n   */\n  async peekBuffer(uint8Array, options) {\n    const normOptions = this.normalizeOptions(uint8Array, options);\n    let bytesRead = 0;\n    if (normOptions.position) {\n      const skipBytes = normOptions.position - this.position;\n      if (skipBytes > 0) {\n        const skipBuffer = new Uint8Array(normOptions.length + skipBytes);\n        bytesRead = await this.peekBuffer(skipBuffer, {\n          mayBeLess: normOptions.mayBeLess\n        });\n        uint8Array.set(skipBuffer.subarray(skipBytes));\n        return bytesRead - skipBytes;\n      }\n      if (skipBytes < 0) {\n        throw new Error('Cannot peek from a negative offset in a stream');\n      }\n    }\n    if (normOptions.length > 0) {\n      try {\n        bytesRead = await this.streamReader.peek(uint8Array.subarray(0, normOptions.length), normOptions.mayBeLess);\n      } catch (err) {\n        if (options?.mayBeLess && err instanceof EndOfStreamError) {\n          return 0;\n        }\n        throw err;\n      }\n      if (!normOptions.mayBeLess && bytesRead < normOptions.length) {\n        throw new EndOfStreamError();\n      }\n    }\n    return bytesRead;\n  }\n  async ignore(length) {\n    // debug(`ignore ${this.position}...${this.position + length - 1}`);\n    const bufSize = Math.min(maxBufferSize, length);\n    const buf = new Uint8Array(bufSize);\n    let totBytesRead = 0;\n    while (totBytesRead < length) {\n      const remaining = length - totBytesRead;\n      const bytesRead = await this.readBuffer(buf, {\n        length: Math.min(bufSize, remaining)\n      });\n      if (bytesRead < 0) {\n        return bytesRead;\n      }\n      totBytesRead += bytesRead;\n    }\n    return totBytesRead;\n  }\n  abort() {\n    return this.streamReader.abort();\n  }\n  async close() {\n    return this.streamReader.close();\n  }\n  supportsRandomAccess() {\n    return false;\n  }\n}","import { EndOfStreamError } from './stream/index.js';\nimport { AbstractTokenizer } from './AbstractTokenizer.js';\nexport class BufferTokenizer extends AbstractTokenizer {\n  /**\n   * Construct BufferTokenizer\n   * @param uint8Array - Uint8Array to tokenize\n   * @param options Tokenizer options\n   */\n  constructor(uint8Array, options) {\n    super(options);\n    this.uint8Array = uint8Array;\n    this.fileInfo = {\n      ...(options?.fileInfo ?? {}),\n      ...{\n        size: uint8Array.length\n      }\n    };\n  }\n  /**\n   * Read buffer from tokenizer\n   * @param uint8Array - Uint8Array to tokenize\n   * @param options - Read behaviour options\n   * @returns {Promise<number>}\n   */\n  async readBuffer(uint8Array, options) {\n    if (options?.position) {\n      this.position = options.position;\n    }\n    const bytesRead = await this.peekBuffer(uint8Array, options);\n    this.position += bytesRead;\n    return bytesRead;\n  }\n  /**\n   * Peek (read ahead) buffer from tokenizer\n   * @param uint8Array\n   * @param options - Read behaviour options\n   * @returns {Promise<number>}\n   */\n  async peekBuffer(uint8Array, options) {\n    const normOptions = this.normalizeOptions(uint8Array, options);\n    const bytes2read = Math.min(this.uint8Array.length - normOptions.position, normOptions.length);\n    if (!normOptions.mayBeLess && bytes2read < normOptions.length) {\n      throw new EndOfStreamError();\n    }\n    uint8Array.set(this.uint8Array.subarray(normOptions.position, normOptions.position + bytes2read));\n    return bytes2read;\n  }\n  close() {\n    return super.close();\n  }\n  supportsRandomAccess() {\n    return true;\n  }\n  setPosition(position) {\n    this.position = position;\n  }\n}","import { StreamReader, makeWebStreamReader } from './stream/index.js';\nimport { ReadStreamTokenizer } from './ReadStreamTokenizer.js';\nimport { BufferTokenizer } from './BufferTokenizer.js';\nimport { BlobTokenizer } from './BlobTokenizer.js';\nexport { EndOfStreamError, AbortError } from './stream/index.js';\nexport { AbstractTokenizer } from './AbstractTokenizer.js';\n/**\n * Construct ReadStreamTokenizer from given Stream.\n * Will set fileSize, if provided given Stream has set the .path property/\n * @param stream - Read from Node.js Stream.Readable\n * @param options - Tokenizer options\n * @returns ReadStreamTokenizer\n */\nexport function fromStream(stream, options) {\n  const streamReader = new StreamReader(stream);\n  const _options = options ?? {};\n  const chainedClose = _options.onClose;\n  _options.onClose = async () => {\n    await streamReader.close();\n    if (chainedClose) {\n      return chainedClose();\n    }\n  };\n  return new ReadStreamTokenizer(streamReader, _options);\n}\n/**\n * Construct ReadStreamTokenizer from given ReadableStream (WebStream API).\n * Will set fileSize, if provided given Stream has set the .path property/\n * @param webStream - Read from Node.js Stream.Readable (must be a byte stream)\n * @param options - Tokenizer options\n * @returns ReadStreamTokenizer\n */\nexport function fromWebStream(webStream, options) {\n  const webStreamReader = makeWebStreamReader(webStream);\n  const _options = options ?? {};\n  const chainedClose = _options.onClose;\n  _options.onClose = async () => {\n    await webStreamReader.close();\n    if (chainedClose) {\n      return chainedClose();\n    }\n  };\n  return new ReadStreamTokenizer(webStreamReader, _options);\n}\n/**\n * Construct ReadStreamTokenizer from given Buffer.\n * @param uint8Array - Uint8Array to tokenize\n * @param options - Tokenizer options\n * @returns BufferTokenizer\n */\nexport function fromBuffer(uint8Array, options) {\n  return new BufferTokenizer(uint8Array, options);\n}\n/**\n * Construct ReadStreamTokenizer from given Blob.\n * @param blob - Uint8Array to tokenize\n * @param options - Tokenizer options\n * @returns BufferTokenizer\n */\nexport function fromBlob(blob, options) {\n  return new BlobTokenizer(blob, options);\n}","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = function (c, id, msg, transfer, cb) {\n  var w = new Worker(ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([c + ';addEventListener(\"error\",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'], {\n    type: 'text/javascript'\n  }))));\n  w.onmessage = function (e) {\n    var d = e.data,\n      ed = d.$e$;\n    if (ed) {\n      var err = new Error(ed[0]);\n      err['code'] = ed[1];\n      err.stack = ed[2];\n      cb(err, null);\n    } else cb(null, d);\n  };\n  w.postMessage(msg, transfer);\n  return w;\n};\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array,\n  u16 = Uint16Array,\n  i32 = Int32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */0, 0, /* impossible */0]);\n// fixed distance extra bits\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n  var b = new u16(31);\n  for (var i = 0; i < 31; ++i) {\n    b[i] = start += 1 << eb[i - 1];\n  }\n  // numbers here are at max 18 bits\n  var r = new i32(b[30]);\n  for (var i = 1; i < 30; ++i) {\n    for (var j = b[i]; j < b[i + 1]; ++j) {\n      r[j] = j - b[i] << 5 | i;\n    }\n  }\n  return {\n    b: b,\n    r: r\n  };\n};\nvar _a = freb(fleb, 2),\n  fl = _a.b,\n  revfl = _a.r;\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0),\n  fd = _b.b,\n  revfd = _b.r;\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n  // reverse table algorithm from SO\n  var x = (i & 0xAAAA) >> 1 | (i & 0x5555) << 1;\n  x = (x & 0xCCCC) >> 2 | (x & 0x3333) << 2;\n  x = (x & 0xF0F0) >> 4 | (x & 0x0F0F) << 4;\n  rev[i] = ((x & 0xFF00) >> 8 | (x & 0x00FF) << 8) >> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = function (cd, mb, r) {\n  var s = cd.length;\n  // index\n  var i = 0;\n  // u16 \"map\": index -> # of codes with bit length = index\n  var l = new u16(mb);\n  // length of cd must be 288 (total # of codes)\n  for (; i < s; ++i) {\n    if (cd[i]) ++l[cd[i] - 1];\n  }\n  // u16 \"map\": index -> minimum code for bit length = index\n  var le = new u16(mb);\n  for (i = 1; i < mb; ++i) {\n    le[i] = le[i - 1] + l[i - 1] << 1;\n  }\n  var co;\n  if (r) {\n    // u16 \"map\": index -> number of actual bits, symbol for code\n    co = new u16(1 << mb);\n    // bits to remove for reverser\n    var rvb = 15 - mb;\n    for (i = 0; i < s; ++i) {\n      // ignore 0 lengths\n      if (cd[i]) {\n        // num encoding both symbol and bits read\n        var sv = i << 4 | cd[i];\n        // free bits\n        var r_1 = mb - cd[i];\n        // start value\n        var v = le[cd[i] - 1]++ << r_1;\n        // m is end value\n        for (var m = v | (1 << r_1) - 1; v <= m; ++v) {\n          // every 16 bit value starting with the code yields the same result\n          co[rev[v] >> rvb] = sv;\n        }\n      }\n    }\n  } else {\n    co = new u16(s);\n    for (i = 0; i < s; ++i) {\n      if (cd[i]) {\n        co[i] = rev[le[cd[i] - 1]++] >> 15 - cd[i];\n      }\n    }\n  }\n  return co;\n};\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i) flt[i] = 8;\nfor (var i = 144; i < 256; ++i) flt[i] = 9;\nfor (var i = 256; i < 280; ++i) flt[i] = 7;\nfor (var i = 280; i < 288; ++i) flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i) fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/hMap(flt, 9, 0),\n  flrm = /*#__PURE__*/hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/hMap(fdt, 5, 0),\n  fdrm = /*#__PURE__*/hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n  var m = a[0];\n  for (var i = 1; i < a.length; ++i) {\n    if (a[i] > m) m = a[i];\n  }\n  return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n  var o = p / 8 | 0;\n  return (d[o] | d[o + 1] << 8) >> (p & 7) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n  var o = p / 8 | 0;\n  return (d[o] | d[o + 1] << 8 | d[o + 2] << 16) >> (p & 7);\n};\n// get end of byte\nvar shft = function (p) {\n  return (p + 7) / 8 | 0;\n};\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n  if (s == null || s < 0) s = 0;\n  if (e == null || e > v.length) e = v.length;\n  // can't use .constructor in case user-supplied\n  return new u8(v.subarray(s, e));\n};\n/**\n * Codes for errors generated within this library\n */\nexport var FlateErrorCode = {\n  UnexpectedEOF: 0,\n  InvalidBlockType: 1,\n  InvalidLengthLiteral: 2,\n  InvalidDistance: 3,\n  StreamFinished: 4,\n  NoStreamHandler: 5,\n  InvalidHeader: 6,\n  NoCallback: 7,\n  InvalidUTF8: 8,\n  ExtraFieldTooLong: 9,\n  InvalidDate: 10,\n  FilenameTooLong: 11,\n  StreamFinishing: 12,\n  InvalidZipData: 13,\n  UnknownCompressionMethod: 14\n};\n// error codes\nvar ec = ['unexpected EOF', 'invalid block type', 'invalid length/literal', 'invalid distance', 'stream finished', 'no stream handler',, 'no callback', 'invalid UTF-8 data', 'extra field too long', 'date not in range 1980-2099', 'filename too long', 'stream finishing', 'invalid zip data'\n// determined by unknown compression method\n];\n;\nvar err = function (ind, msg, nt) {\n  var e = new Error(msg || ec[ind]);\n  e.code = ind;\n  if (Error.captureStackTrace) Error.captureStackTrace(e, err);\n  if (!nt) throw e;\n  return e;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, st, buf, dict) {\n  // source length       dict length\n  var sl = dat.length,\n    dl = dict ? dict.length : 0;\n  if (!sl || st.f && !st.l) return buf || new u8(0);\n  var noBuf = !buf;\n  // have to estimate size\n  var resize = noBuf || st.i != 2;\n  // no state\n  var noSt = st.i;\n  // Assumes roughly 33% compression ratio average\n  if (noBuf) buf = new u8(sl * 3);\n  // ensure buffer can fit at least l elements\n  var cbuf = function (l) {\n    var bl = buf.length;\n    // need to increase size to fit\n    if (l > bl) {\n      // Double or set to necessary, whichever is greater\n      var nbuf = new u8(Math.max(bl * 2, l));\n      nbuf.set(buf);\n      buf = nbuf;\n    }\n  };\n  //  last chunk         bitpos           bytes\n  var final = st.f || 0,\n    pos = st.p || 0,\n    bt = st.b || 0,\n    lm = st.l,\n    dm = st.d,\n    lbt = st.m,\n    dbt = st.n;\n  // total bits\n  var tbts = sl * 8;\n  do {\n    if (!lm) {\n      // BFINAL - this is only 1 when last chunk is next\n      final = bits(dat, pos, 1);\n      // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n      var type = bits(dat, pos + 1, 3);\n      pos += 3;\n      if (!type) {\n        // go to end of byte boundary\n        var s = shft(pos) + 4,\n          l = dat[s - 4] | dat[s - 3] << 8,\n          t = s + l;\n        if (t > sl) {\n          if (noSt) err(0);\n          break;\n        }\n        // ensure size\n        if (resize) cbuf(bt + l);\n        // Copy over uncompressed data\n        buf.set(dat.subarray(s, t), bt);\n        // Get new bitpos, update byte count\n        st.b = bt += l, st.p = pos = t * 8, st.f = final;\n        continue;\n      } else if (type == 1) lm = flrm, dm = fdrm, lbt = 9, dbt = 5;else if (type == 2) {\n        //  literal                            lengths\n        var hLit = bits(dat, pos, 31) + 257,\n          hcLen = bits(dat, pos + 10, 15) + 4;\n        var tl = hLit + bits(dat, pos + 5, 31) + 1;\n        pos += 14;\n        // length+distance tree\n        var ldt = new u8(tl);\n        // code length tree\n        var clt = new u8(19);\n        for (var i = 0; i < hcLen; ++i) {\n          // use index map to get real code\n          clt[clim[i]] = bits(dat, pos + i * 3, 7);\n        }\n        pos += hcLen * 3;\n        // code lengths bits\n        var clb = max(clt),\n          clbmsk = (1 << clb) - 1;\n        // code lengths map\n        var clm = hMap(clt, clb, 1);\n        for (var i = 0; i < tl;) {\n          var r = clm[bits(dat, pos, clbmsk)];\n          // bits read\n          pos += r & 15;\n          // symbol\n          var s = r >> 4;\n          // code length to copy\n          if (s < 16) {\n            ldt[i++] = s;\n          } else {\n            //  copy   count\n            var c = 0,\n              n = 0;\n            if (s == 16) n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];else if (s == 17) n = 3 + bits(dat, pos, 7), pos += 3;else if (s == 18) n = 11 + bits(dat, pos, 127), pos += 7;\n            while (n--) ldt[i++] = c;\n          }\n        }\n        //    length tree                 distance tree\n        var lt = ldt.subarray(0, hLit),\n          dt = ldt.subarray(hLit);\n        // max length bits\n        lbt = max(lt);\n        // max dist bits\n        dbt = max(dt);\n        lm = hMap(lt, lbt, 1);\n        dm = hMap(dt, dbt, 1);\n      } else err(1);\n      if (pos > tbts) {\n        if (noSt) err(0);\n        break;\n      }\n    }\n    // Make sure the buffer can hold this + the largest possible addition\n    // Maximum chunk size (practically, theoretically infinite) is 2^17\n    if (resize) cbuf(bt + 131072);\n    var lms = (1 << lbt) - 1,\n      dms = (1 << dbt) - 1;\n    var lpos = pos;\n    for (;; lpos = pos) {\n      // bits read, code\n      var c = lm[bits16(dat, pos) & lms],\n        sym = c >> 4;\n      pos += c & 15;\n      if (pos > tbts) {\n        if (noSt) err(0);\n        break;\n      }\n      if (!c) err(2);\n      if (sym < 256) buf[bt++] = sym;else if (sym == 256) {\n        lpos = pos, lm = null;\n        break;\n      } else {\n        var add = sym - 254;\n        // no extra bits needed if less\n        if (sym > 264) {\n          // index\n          var i = sym - 257,\n            b = fleb[i];\n          add = bits(dat, pos, (1 << b) - 1) + fl[i];\n          pos += b;\n        }\n        // dist\n        var d = dm[bits16(dat, pos) & dms],\n          dsym = d >> 4;\n        if (!d) err(3);\n        pos += d & 15;\n        var dt = fd[dsym];\n        if (dsym > 3) {\n          var b = fdeb[dsym];\n          dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n        }\n        if (pos > tbts) {\n          if (noSt) err(0);\n          break;\n        }\n        if (resize) cbuf(bt + 131072);\n        var end = bt + add;\n        if (bt < dt) {\n          var shift = dl - dt,\n            dend = Math.min(dt, end);\n          if (shift + bt < 0) err(3);\n          for (; bt < dend; ++bt) buf[bt] = dict[shift + bt];\n        }\n        for (; bt < end; ++bt) buf[bt] = buf[bt - dt];\n      }\n    }\n    st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n    if (lm) final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n  } while (!final);\n  // don't reallocate for streams or user buffers\n  return bt != buf.length && noBuf ? slc(buf, 0, bt) : buf.subarray(0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n  v <<= p & 7;\n  var o = p / 8 | 0;\n  d[o] |= v;\n  d[o + 1] |= v >> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n  v <<= p & 7;\n  var o = p / 8 | 0;\n  d[o] |= v;\n  d[o + 1] |= v >> 8;\n  d[o + 2] |= v >> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n  // Need extra info to make a tree\n  var t = [];\n  for (var i = 0; i < d.length; ++i) {\n    if (d[i]) t.push({\n      s: i,\n      f: d[i]\n    });\n  }\n  var s = t.length;\n  var t2 = t.slice();\n  if (!s) return {\n    t: et,\n    l: 0\n  };\n  if (s == 1) {\n    var v = new u8(t[0].s + 1);\n    v[t[0].s] = 1;\n    return {\n      t: v,\n      l: 1\n    };\n  }\n  t.sort(function (a, b) {\n    return a.f - b.f;\n  });\n  // after i2 reaches last ind, will be stopped\n  // freq must be greater than largest possible number of symbols\n  t.push({\n    s: -1,\n    f: 25001\n  });\n  var l = t[0],\n    r = t[1],\n    i0 = 0,\n    i1 = 1,\n    i2 = 2;\n  t[0] = {\n    s: -1,\n    f: l.f + r.f,\n    l: l,\n    r: r\n  };\n  // efficient algorithm from UZIP.js\n  // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n  // symbols that combined have high freq, will start processing i2 (high-freq,\n  // non-composite) symbols instead\n  // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n  while (i1 != s - 1) {\n    l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n    r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n    t[i1++] = {\n      s: -1,\n      f: l.f + r.f,\n      l: l,\n      r: r\n    };\n  }\n  var maxSym = t2[0].s;\n  for (var i = 1; i < s; ++i) {\n    if (t2[i].s > maxSym) maxSym = t2[i].s;\n  }\n  // code lengths\n  var tr = new u16(maxSym + 1);\n  // max bits in tree\n  var mbt = ln(t[i1 - 1], tr, 0);\n  if (mbt > mb) {\n    // more algorithms from UZIP.js\n    // TODO: find out how this code works (debt)\n    //  ind    debt\n    var i = 0,\n      dt = 0;\n    //    left            cost\n    var lft = mbt - mb,\n      cst = 1 << lft;\n    t2.sort(function (a, b) {\n      return tr[b.s] - tr[a.s] || a.f - b.f;\n    });\n    for (; i < s; ++i) {\n      var i2_1 = t2[i].s;\n      if (tr[i2_1] > mb) {\n        dt += cst - (1 << mbt - tr[i2_1]);\n        tr[i2_1] = mb;\n      } else break;\n    }\n    dt >>= lft;\n    while (dt > 0) {\n      var i2_2 = t2[i].s;\n      if (tr[i2_2] < mb) dt -= 1 << mb - tr[i2_2]++ - 1;else ++i;\n    }\n    for (; i >= 0 && dt; --i) {\n      var i2_3 = t2[i].s;\n      if (tr[i2_3] == mb) {\n        --tr[i2_3];\n        ++dt;\n      }\n    }\n    mbt = mb;\n  }\n  return {\n    t: new u8(tr),\n    l: mbt\n  };\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n  return n.s == -1 ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1)) : l[n.s] = d;\n};\n// length codes generation\nvar lc = function (c) {\n  var s = c.length;\n  // Note that the semicolon was intentional\n  while (s && !c[--s]);\n  var cl = new u16(++s);\n  //  ind      num         streak\n  var cli = 0,\n    cln = c[0],\n    cls = 1;\n  var w = function (v) {\n    cl[cli++] = v;\n  };\n  for (var i = 1; i <= s; ++i) {\n    if (c[i] == cln && i != s) ++cls;else {\n      if (!cln && cls > 2) {\n        for (; cls > 138; cls -= 138) w(32754);\n        if (cls > 2) {\n          w(cls > 10 ? cls - 11 << 5 | 28690 : cls - 3 << 5 | 12305);\n          cls = 0;\n        }\n      } else if (cls > 3) {\n        w(cln), --cls;\n        for (; cls > 6; cls -= 6) w(8304);\n        if (cls > 2) w(cls - 3 << 5 | 8208), cls = 0;\n      }\n      while (cls--) w(cln);\n      cls = 1;\n      cln = c[i];\n    }\n  }\n  return {\n    c: cl.subarray(0, cli),\n    n: s\n  };\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n  var l = 0;\n  for (var i = 0; i < cl.length; ++i) l += cf[i] * cl[i];\n  return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n  // no need to write 00 as type: TypedArray defaults to 0\n  var s = dat.length;\n  var o = shft(pos + 2);\n  out[o] = s & 255;\n  out[o + 1] = s >> 8;\n  out[o + 2] = out[o] ^ 255;\n  out[o + 3] = out[o + 1] ^ 255;\n  for (var i = 0; i < s; ++i) out[o + i + 4] = dat[i];\n  return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n  wbits(out, p++, final);\n  ++lf[256];\n  var _a = hTree(lf, 15),\n    dlt = _a.t,\n    mlb = _a.l;\n  var _b = hTree(df, 15),\n    ddt = _b.t,\n    mdb = _b.l;\n  var _c = lc(dlt),\n    lclt = _c.c,\n    nlc = _c.n;\n  var _d = lc(ddt),\n    lcdt = _d.c,\n    ndc = _d.n;\n  var lcfreq = new u16(19);\n  for (var i = 0; i < lclt.length; ++i) ++lcfreq[lclt[i] & 31];\n  for (var i = 0; i < lcdt.length; ++i) ++lcfreq[lcdt[i] & 31];\n  var _e = hTree(lcfreq, 7),\n    lct = _e.t,\n    mlcb = _e.l;\n  var nlcc = 19;\n  for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc);\n  var flen = bl + 5 << 3;\n  var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n  var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + 2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18];\n  if (bs >= 0 && flen <= ftlen && flen <= dtlen) return wfblk(out, p, dat.subarray(bs, bs + bl));\n  var lm, ll, dm, dl;\n  wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n  if (dtlen < ftlen) {\n    lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n    var llm = hMap(lct, mlcb, 0);\n    wbits(out, p, nlc - 257);\n    wbits(out, p + 5, ndc - 1);\n    wbits(out, p + 10, nlcc - 4);\n    p += 14;\n    for (var i = 0; i < nlcc; ++i) wbits(out, p + 3 * i, lct[clim[i]]);\n    p += 3 * nlcc;\n    var lcts = [lclt, lcdt];\n    for (var it = 0; it < 2; ++it) {\n      var clct = lcts[it];\n      for (var i = 0; i < clct.length; ++i) {\n        var len = clct[i] & 31;\n        wbits(out, p, llm[len]), p += lct[len];\n        if (len > 15) wbits(out, p, clct[i] >> 5 & 127), p += clct[i] >> 12;\n      }\n    }\n  } else {\n    lm = flm, ll = flt, dm = fdm, dl = fdt;\n  }\n  for (var i = 0; i < li; ++i) {\n    var sym = syms[i];\n    if (sym > 255) {\n      var len = sym >> 18 & 31;\n      wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n      if (len > 7) wbits(out, p, sym >> 23 & 31), p += fleb[len];\n      var dst = sym & 31;\n      wbits16(out, p, dm[dst]), p += dl[dst];\n      if (dst > 3) wbits16(out, p, sym >> 5 & 8191), p += fdeb[dst];\n    } else {\n      wbits16(out, p, lm[sym]), p += ll[sym];\n    }\n  }\n  wbits16(out, p, lm[256]);\n  return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/new i32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, st) {\n  var s = st.z || dat.length;\n  var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n  // writing to this writes to the output buffer\n  var w = o.subarray(pre, o.length - post);\n  var lst = st.l;\n  var pos = (st.r || 0) & 7;\n  if (lvl) {\n    if (pos) w[0] = st.r >> 3;\n    var opt = deo[lvl - 1];\n    var n = opt >> 13,\n      c = opt & 8191;\n    var msk_1 = (1 << plvl) - 1;\n    //    prev 2-byte val map    curr 2-byte val map\n    var prev = st.p || new u16(32768),\n      head = st.h || new u16(msk_1 + 1);\n    var bs1_1 = Math.ceil(plvl / 3),\n      bs2_1 = 2 * bs1_1;\n    var hsh = function (i) {\n      return (dat[i] ^ dat[i + 1] << bs1_1 ^ dat[i + 2] << bs2_1) & msk_1;\n    };\n    // 24576 is an arbitrary number of maximum symbols per block\n    // 424 buffer for last block\n    var syms = new i32(25000);\n    // length/literal freq   distance freq\n    var lf = new u16(288),\n      df = new u16(32);\n    //  l/lcnt  exbits  index          l/lind  waitdx          blkpos\n    var lc_1 = 0,\n      eb = 0,\n      i = st.i || 0,\n      li = 0,\n      wi = st.w || 0,\n      bs = 0;\n    for (; i + 2 < s; ++i) {\n      // hash value\n      var hv = hsh(i);\n      // index mod 32768    previous index mod\n      var imod = i & 32767,\n        pimod = head[hv];\n      prev[imod] = pimod;\n      head[hv] = imod;\n      // We always should modify head and prev, but only add symbols if\n      // this data is not yet processed (\"wait\" for wait index)\n      if (wi <= i) {\n        // bytes remaining\n        var rem = s - i;\n        if ((lc_1 > 7000 || li > 24576) && (rem > 423 || !lst)) {\n          pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n          li = lc_1 = eb = 0, bs = i;\n          for (var j = 0; j < 286; ++j) lf[j] = 0;\n          for (var j = 0; j < 30; ++j) df[j] = 0;\n        }\n        //  len    dist   chain\n        var l = 2,\n          d = 0,\n          ch_1 = c,\n          dif = imod - pimod & 32767;\n        if (rem > 2 && hv == hsh(i - dif)) {\n          var maxn = Math.min(n, rem) - 1;\n          var maxd = Math.min(32767, i);\n          // max possible length\n          // not capped at dif because decompressors implement \"rolling\" index population\n          var ml = Math.min(258, rem);\n          while (dif <= maxd && --ch_1 && imod != pimod) {\n            if (dat[i + l] == dat[i + l - dif]) {\n              var nl = 0;\n              for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl);\n              if (nl > l) {\n                l = nl, d = dif;\n                // break out early when we reach \"nice\" (we are satisfied enough)\n                if (nl > maxn) break;\n                // now, find the rarest 2-byte sequence within this\n                // length of literals and search for that instead.\n                // Much faster than just using the start\n                var mmd = Math.min(dif, nl - 2);\n                var md = 0;\n                for (var j = 0; j < mmd; ++j) {\n                  var ti = i - dif + j & 32767;\n                  var pti = prev[ti];\n                  var cd = ti - pti & 32767;\n                  if (cd > md) md = cd, pimod = ti;\n                }\n              }\n            }\n            // check the previous match\n            imod = pimod, pimod = prev[imod];\n            dif += imod - pimod & 32767;\n          }\n        }\n        // d will be nonzero only when a match was found\n        if (d) {\n          // store both dist and len data in one int32\n          // Make sure this is recognized as a len/dist with 28th bit (2^28)\n          syms[li++] = 268435456 | revfl[l] << 18 | revfd[d];\n          var lin = revfl[l] & 31,\n            din = revfd[d] & 31;\n          eb += fleb[lin] + fdeb[din];\n          ++lf[257 + lin];\n          ++df[din];\n          wi = i + l;\n          ++lc_1;\n        } else {\n          syms[li++] = dat[i];\n          ++lf[dat[i]];\n        }\n      }\n    }\n    for (i = Math.max(i, wi); i < s; ++i) {\n      syms[li++] = dat[i];\n      ++lf[dat[i]];\n    }\n    pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n    if (!lst) {\n      st.r = pos & 7 | w[pos / 8 | 0] << 3;\n      // shft(pos) now 1 less if pos & 7 != 0\n      pos -= 7;\n      st.h = head, st.p = prev, st.i = i, st.w = wi;\n    }\n  } else {\n    for (var i = st.w || 0; i < s + lst; i += 65535) {\n      // end\n      var e = i + 65535;\n      if (e >= s) {\n        // write final block\n        w[pos / 8 | 0] = lst;\n        e = s;\n      }\n      pos = wfblk(w, pos + 1, dat.subarray(i, e));\n    }\n    st.i = s;\n  }\n  return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/function () {\n  var t = new Int32Array(256);\n  for (var i = 0; i < 256; ++i) {\n    var c = i,\n      k = 9;\n    while (--k) c = (c & 1 && -306674912) ^ c >>> 1;\n    t[i] = c;\n  }\n  return t;\n}();\n// CRC32\nvar crc = function () {\n  var c = -1;\n  return {\n    p: function (d) {\n      // closures have awful performance\n      var cr = c;\n      for (var i = 0; i < d.length; ++i) cr = crct[cr & 255 ^ d[i]] ^ cr >>> 8;\n      c = cr;\n    },\n    d: function () {\n      return ~c;\n    }\n  };\n};\n// Adler32\nvar adler = function () {\n  var a = 1,\n    b = 0;\n  return {\n    p: function (d) {\n      // closures have awful performance\n      var n = a,\n        m = b;\n      var l = d.length | 0;\n      for (var i = 0; i != l;) {\n        var e = Math.min(i + 2655, l);\n        for (; i < e; ++i) m += n += d[i];\n        n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n      }\n      a = n, b = m;\n    },\n    d: function () {\n      a %= 65521, b %= 65521;\n      return (a & 255) << 24 | (a & 0xFF00) << 8 | (b & 255) << 8 | b >> 8;\n    }\n  };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n  if (!st) {\n    st = {\n      l: 1\n    };\n    if (opt.dictionary) {\n      var dict = opt.dictionary.subarray(-32768);\n      var newDat = new u8(dict.length + dat.length);\n      newDat.set(dict);\n      newDat.set(dat, dict.length);\n      dat = newDat;\n      st.w = dict.length;\n    }\n  }\n  return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? st.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 20 : 12 + opt.mem, pre, post, st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n  var o = {};\n  for (var k in a) o[k] = a[k];\n  for (var k in b) o[k] = b[k];\n  return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n  var dt = fn();\n  var st = fn.toString();\n  var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/\\s+/g, '').split(',');\n  for (var i = 0; i < dt.length; ++i) {\n    var v = dt[i],\n      k = ks[i];\n    if (typeof v == 'function') {\n      fnStr += ';' + k + '=';\n      var st_1 = v.toString();\n      if (v.prototype) {\n        // for global objects\n        if (st_1.indexOf('[native code]') != -1) {\n          var spInd = st_1.indexOf(' ', 8) + 1;\n          fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n        } else {\n          fnStr += st_1;\n          for (var t in v.prototype) fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n        }\n      } else fnStr += st_1;\n    } else td[k] = v;\n  }\n  return fnStr;\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n  var tl = [];\n  for (var k in v) {\n    if (v[k].buffer) {\n      tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n    }\n  }\n  return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n  if (!ch[id]) {\n    var fnStr = '',\n      td_1 = {},\n      m = fns.length - 1;\n    for (var i = 0; i < m; ++i) fnStr = wcln(fns[i], fnStr, td_1);\n    ch[id] = {\n      c: wcln(fns[m], fnStr, td_1),\n      e: td_1\n    };\n  }\n  var td = mrg({}, ch[id].e);\n  return wk(ch[id].c + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () {\n  return [u8, u16, i32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, ec, hMap, max, bits, bits16, shft, slc, err, inflt, inflateSync, pbf, gopt];\n};\nvar bDflt = function () {\n  return [u8, u16, i32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf];\n};\n// gzip extra\nvar gze = function () {\n  return [gzh, gzhl, wbytes, crc, crct];\n};\n// gunzip extra\nvar guze = function () {\n  return [gzs, gzl];\n};\n// zlib extra\nvar zle = function () {\n  return [zlh, wbytes, adler];\n};\n// unzlib extra\nvar zule = function () {\n  return [zls];\n};\n// post buf\nvar pbf = function (msg) {\n  return postMessage(msg, [msg.buffer]);\n};\n// get opts\nvar gopt = function (o) {\n  return o && {\n    out: o.size && new u8(o.size),\n    dictionary: o.dictionary\n  };\n};\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n  var w = wrkr(fns, init, id, function (err, dat) {\n    w.terminate();\n    cb(err, dat);\n  });\n  w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n  return function () {\n    w.terminate();\n  };\n};\n// auto stream\nvar astrm = function (strm) {\n  strm.ondata = function (dat, final) {\n    return postMessage([dat, final], [dat.buffer]);\n  };\n  return function (ev) {\n    if (ev.data.length) {\n      strm.push(ev.data[0], ev.data[1]);\n      postMessage([ev.data[0].length]);\n    } else strm.flush();\n  };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id, flush, ext) {\n  var t;\n  var w = wrkr(fns, init, id, function (err, dat) {\n    if (err) w.terminate(), strm.ondata.call(strm, err);else if (!Array.isArray(dat)) ext(dat);else if (dat.length == 1) {\n      strm.queuedSize -= dat[0];\n      if (strm.ondrain) strm.ondrain(dat[0]);\n    } else {\n      if (dat[1]) w.terminate();\n      strm.ondata.call(strm, err, dat[0], dat[1]);\n    }\n  });\n  w.postMessage(opts);\n  strm.queuedSize = 0;\n  strm.push = function (d, f) {\n    if (!strm.ondata) err(5);\n    if (t) strm.ondata(err(4, 0, 1), null, !!f);\n    strm.queuedSize += d.length;\n    w.postMessage([d, t = f], [d.buffer]);\n  };\n  strm.terminate = function () {\n    w.terminate();\n  };\n  if (flush) {\n    strm.flush = function () {\n      w.postMessage([]);\n    };\n  }\n};\n// read 2 bytes\nvar b2 = function (d, b) {\n  return d[b] | d[b + 1] << 8;\n};\n// read 4 bytes\nvar b4 = function (d, b) {\n  return (d[b] | d[b + 1] << 8 | d[b + 2] << 16 | d[b + 3] << 24) >>> 0;\n};\nvar b8 = function (d, b) {\n  return b4(d, b) + b4(d, b + 4) * 4294967296;\n};\n// write bytes\nvar wbytes = function (d, b, v) {\n  for (; v; ++b) d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n  var fn = o.filename;\n  c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n  if (o.mtime != 0) wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n  if (fn) {\n    c[3] = 8;\n    for (var i = 0; i <= fn.length; ++i) c[i + 10] = fn.charCodeAt(i);\n  }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n  if (d[0] != 31 || d[1] != 139 || d[2] != 8) err(6, 'invalid gzip data');\n  var flg = d[3];\n  var st = 10;\n  if (flg & 4) st += (d[10] | d[11] << 8) + 2;\n  for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++]);\n  return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n  var l = d.length;\n  return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16 | d[l - 1] << 24) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) {\n  return 10 + (o.filename ? o.filename.length + 1 : 0);\n};\n// zlib header\nvar zlh = function (c, o) {\n  var lv = o.level,\n    fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n  c[0] = 120, c[1] = fl << 6 | (o.dictionary && 32);\n  c[1] |= 31 - (c[0] << 8 | c[1]) % 31;\n  if (o.dictionary) {\n    var h = adler();\n    h.p(o.dictionary);\n    wbytes(c, 2, h.d());\n  }\n};\n// zlib start\nvar zls = function (d, dict) {\n  if ((d[0] & 15) != 8 || d[0] >> 4 > 7 || (d[0] << 8 | d[1]) % 31) err(6, 'invalid zlib data');\n  if ((d[1] >> 5 & 1) == +!dict) err(6, 'invalid zlib data: ' + (d[1] & 32 ? 'need' : 'unexpected') + ' dictionary');\n  return (d[1] >> 3 & 4) + 2;\n};\nfunction StrmOpt(opts, cb) {\n  if (typeof opts == 'function') cb = opts, opts = {};\n  this.ondata = cb;\n  return opts;\n}\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/function () {\n  function Deflate(opts, cb) {\n    if (typeof opts == 'function') cb = opts, opts = {};\n    this.ondata = cb;\n    this.o = opts || {};\n    this.s = {\n      l: 0,\n      i: 32768,\n      w: 32768,\n      z: 32768\n    };\n    // Buffer length must always be 0 mod 32768 for index calculations to be correct when modifying head and prev\n    // 98304 = 32768 (lookback) + 65536 (common chunk size)\n    this.b = new u8(98304);\n    if (this.o.dictionary) {\n      var dict = this.o.dictionary.subarray(-32768);\n      this.b.set(dict, 32768 - dict.length);\n      this.s.i = 32768 - dict.length;\n    }\n  }\n  Deflate.prototype.p = function (c, f) {\n    this.ondata(dopt(c, this.o, 0, 0, this.s), f);\n  };\n  /**\n   * Pushes a chunk to be deflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Deflate.prototype.push = function (chunk, final) {\n    if (!this.ondata) err(5);\n    if (this.s.l) err(4);\n    var endLen = chunk.length + this.s.z;\n    if (endLen > this.b.length) {\n      if (endLen > 2 * this.b.length - 32768) {\n        var newBuf = new u8(endLen & -32768);\n        newBuf.set(this.b.subarray(0, this.s.z));\n        this.b = newBuf;\n      }\n      var split = this.b.length - this.s.z;\n      this.b.set(chunk.subarray(0, split), this.s.z);\n      this.s.z = this.b.length;\n      this.p(this.b, false);\n      this.b.set(this.b.subarray(-32768));\n      this.b.set(chunk.subarray(split), 32768);\n      this.s.z = chunk.length - split + 32768;\n      this.s.i = 32766, this.s.w = 32768;\n    } else {\n      this.b.set(chunk, this.s.z);\n      this.s.z += chunk.length;\n    }\n    this.s.l = final & 1;\n    if (this.s.z > this.s.w + 8191 || final) {\n      this.p(this.b, final || false);\n      this.s.w = this.s.i, this.s.i -= 2;\n    }\n  };\n  /**\n   * Flushes buffered uncompressed data. Useful to immediately retrieve the\n   * deflated output for small inputs.\n   */\n  Deflate.prototype.flush = function () {\n    if (!this.ondata) err(5);\n    if (this.s.l) err(4);\n    this.p(this.b, false);\n    this.s.w = this.s.i, this.s.i -= 2;\n  };\n  return Deflate;\n}();\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/function () {\n  function AsyncDeflate(opts, cb) {\n    astrmify([bDflt, function () {\n      return [astrm, Deflate];\n    }], this, StrmOpt.call(this, opts, cb), function (ev) {\n      var strm = new Deflate(ev.data);\n      onmessage = astrm(strm);\n    }, 6, 1);\n  }\n  return AsyncDeflate;\n}();\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return cbify(data, opts, [bDflt], function (ev) {\n    return pbf(deflateSync(ev.data[0], ev.data[1]));\n  }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n  return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/function () {\n  function Inflate(opts, cb) {\n    // no StrmOpt here to avoid adding to workerizer\n    if (typeof opts == 'function') cb = opts, opts = {};\n    this.ondata = cb;\n    var dict = opts && opts.dictionary && opts.dictionary.subarray(-32768);\n    this.s = {\n      i: 0,\n      b: dict ? dict.length : 0\n    };\n    this.o = new u8(32768);\n    this.p = new u8(0);\n    if (dict) this.o.set(dict);\n  }\n  Inflate.prototype.e = function (c) {\n    if (!this.ondata) err(5);\n    if (this.d) err(4);\n    if (!this.p.length) this.p = c;else if (c.length) {\n      var n = new u8(this.p.length + c.length);\n      n.set(this.p), n.set(c, this.p.length), this.p = n;\n    }\n  };\n  Inflate.prototype.c = function (final) {\n    this.s.i = +(this.d = final || false);\n    var bts = this.s.b;\n    var dt = inflt(this.p, this.s, this.o);\n    this.ondata(slc(dt, bts, this.s.b), this.d);\n    this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n    this.p = slc(this.p, this.s.p / 8 | 0), this.s.p &= 7;\n  };\n  /**\n   * Pushes a chunk to be inflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the final chunk\n   */\n  Inflate.prototype.push = function (chunk, final) {\n    this.e(chunk), this.c(final);\n  };\n  return Inflate;\n}();\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/function () {\n  function AsyncInflate(opts, cb) {\n    astrmify([bInflt, function () {\n      return [astrm, Inflate];\n    }], this, StrmOpt.call(this, opts, cb), function (ev) {\n      var strm = new Inflate(ev.data);\n      onmessage = astrm(strm);\n    }, 7, 0);\n  }\n  return AsyncInflate;\n}();\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return cbify(data, opts, [bInflt], function (ev) {\n    return pbf(inflateSync(ev.data[0], gopt(ev.data[1])));\n  }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, opts) {\n  return inflt(data, {\n    i: 2\n  }, opts && opts.out, opts && opts.dictionary);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/function () {\n  function Gzip(opts, cb) {\n    this.c = crc();\n    this.l = 0;\n    this.v = 1;\n    Deflate.call(this, opts, cb);\n  }\n  /**\n   * Pushes a chunk to be GZIPped\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Gzip.prototype.push = function (chunk, final) {\n    this.c.p(chunk);\n    this.l += chunk.length;\n    Deflate.prototype.push.call(this, chunk, final);\n  };\n  Gzip.prototype.p = function (c, f) {\n    var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, this.s);\n    if (this.v) gzh(raw, this.o), this.v = 0;\n    if (f) wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n    this.ondata(raw, f);\n  };\n  /**\n   * Flushes buffered uncompressed data. Useful to immediately retrieve the\n   * GZIPped output for small inputs.\n   */\n  Gzip.prototype.flush = function () {\n    Deflate.prototype.flush.call(this);\n  };\n  return Gzip;\n}();\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/function () {\n  function AsyncGzip(opts, cb) {\n    astrmify([bDflt, gze, function () {\n      return [astrm, Deflate, Gzip];\n    }], this, StrmOpt.call(this, opts, cb), function (ev) {\n      var strm = new Gzip(ev.data);\n      onmessage = astrm(strm);\n    }, 8, 1);\n  }\n  return AsyncGzip;\n}();\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return cbify(data, opts, [bDflt, gze, function () {\n    return [gzipSync];\n  }], function (ev) {\n    return pbf(gzipSync(ev.data[0], ev.data[1]));\n  }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n  if (!opts) opts = {};\n  var c = crc(),\n    l = data.length;\n  c.p(data);\n  var d = dopt(data, opts, gzhl(opts), 8),\n    s = d.length;\n  return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming single or multi-member GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/function () {\n  function Gunzip(opts, cb) {\n    this.v = 1;\n    this.r = 0;\n    Inflate.call(this, opts, cb);\n  }\n  /**\n   * Pushes a chunk to be GUNZIPped\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Gunzip.prototype.push = function (chunk, final) {\n    Inflate.prototype.e.call(this, chunk);\n    this.r += chunk.length;\n    if (this.v) {\n      var p = this.p.subarray(this.v - 1);\n      var s = p.length > 3 ? gzs(p) : 4;\n      if (s > p.length) {\n        if (!final) return;\n      } else if (this.v > 1 && this.onmember) {\n        this.onmember(this.r - p.length);\n      }\n      this.p = p.subarray(s), this.v = 0;\n    }\n    // necessary to prevent TS from using the closure value\n    // This allows for workerization to function correctly\n    Inflate.prototype.c.call(this, final);\n    // process concatenated GZIP\n    if (this.s.f && !this.s.l && !final) {\n      this.v = shft(this.s.p) + 9;\n      this.s = {\n        i: 0\n      };\n      this.o = new u8(0);\n      this.push(new u8(0), final);\n    }\n  };\n  return Gunzip;\n}();\nexport { Gunzip };\n/**\n * Asynchronous streaming single or multi-member GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/function () {\n  function AsyncGunzip(opts, cb) {\n    var _this = this;\n    astrmify([bInflt, guze, function () {\n      return [astrm, Inflate, Gunzip];\n    }], this, StrmOpt.call(this, opts, cb), function (ev) {\n      var strm = new Gunzip(ev.data);\n      strm.onmember = function (offset) {\n        return postMessage(offset);\n      };\n      onmessage = astrm(strm);\n    }, 9, 0, function (offset) {\n      return _this.onmember && _this.onmember(offset);\n    });\n  }\n  return AsyncGunzip;\n}();\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return cbify(data, opts, [bInflt, guze, function () {\n    return [gunzipSync];\n  }], function (ev) {\n    return pbf(gunzipSync(ev.data[0], ev.data[1]));\n  }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, opts) {\n  var st = gzs(data);\n  if (st + 8 > data.length) err(6, 'invalid gzip data');\n  return inflt(data.subarray(st, -8), {\n    i: 2\n  }, opts && opts.out || new u8(gzl(data)), opts && opts.dictionary);\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/function () {\n  function Zlib(opts, cb) {\n    this.c = adler();\n    this.v = 1;\n    Deflate.call(this, opts, cb);\n  }\n  /**\n   * Pushes a chunk to be zlibbed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Zlib.prototype.push = function (chunk, final) {\n    this.c.p(chunk);\n    Deflate.prototype.push.call(this, chunk, final);\n  };\n  Zlib.prototype.p = function (c, f) {\n    var raw = dopt(c, this.o, this.v && (this.o.dictionary ? 6 : 2), f && 4, this.s);\n    if (this.v) zlh(raw, this.o), this.v = 0;\n    if (f) wbytes(raw, raw.length - 4, this.c.d());\n    this.ondata(raw, f);\n  };\n  /**\n   * Flushes buffered uncompressed data. Useful to immediately retrieve the\n   * zlibbed output for small inputs.\n   */\n  Zlib.prototype.flush = function () {\n    Deflate.prototype.flush.call(this);\n  };\n  return Zlib;\n}();\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/function () {\n  function AsyncZlib(opts, cb) {\n    astrmify([bDflt, zle, function () {\n      return [astrm, Deflate, Zlib];\n    }], this, StrmOpt.call(this, opts, cb), function (ev) {\n      var strm = new Zlib(ev.data);\n      onmessage = astrm(strm);\n    }, 10, 1);\n  }\n  return AsyncZlib;\n}();\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return cbify(data, opts, [bDflt, zle, function () {\n    return [zlibSync];\n  }], function (ev) {\n    return pbf(zlibSync(ev.data[0], ev.data[1]));\n  }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n  if (!opts) opts = {};\n  var a = adler();\n  a.p(data);\n  var d = dopt(data, opts, opts.dictionary ? 6 : 2, 4);\n  return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/function () {\n  function Unzlib(opts, cb) {\n    Inflate.call(this, opts, cb);\n    this.v = opts && opts.dictionary ? 2 : 1;\n  }\n  /**\n   * Pushes a chunk to be unzlibbed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Unzlib.prototype.push = function (chunk, final) {\n    Inflate.prototype.e.call(this, chunk);\n    if (this.v) {\n      if (this.p.length < 6 && !final) return;\n      this.p = this.p.subarray(zls(this.p, this.v - 1)), this.v = 0;\n    }\n    if (final) {\n      if (this.p.length < 4) err(6, 'invalid zlib data');\n      this.p = this.p.subarray(0, -4);\n    }\n    // necessary to prevent TS from using the closure value\n    // This allows for workerization to function correctly\n    Inflate.prototype.c.call(this, final);\n  };\n  return Unzlib;\n}();\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/function () {\n  function AsyncUnzlib(opts, cb) {\n    astrmify([bInflt, zule, function () {\n      return [astrm, Inflate, Unzlib];\n    }], this, StrmOpt.call(this, opts, cb), function (ev) {\n      var strm = new Unzlib(ev.data);\n      onmessage = astrm(strm);\n    }, 11, 0);\n  }\n  return AsyncUnzlib;\n}();\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return cbify(data, opts, [bInflt, zule, function () {\n    return [unzlibSync];\n  }], function (ev) {\n    return pbf(unzlibSync(ev.data[0], gopt(ev.data[1])));\n  }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, opts) {\n  return inflt(data.subarray(zls(data, opts && opts.dictionary), -4), {\n    i: 2\n  }, opts && opts.out, opts && opts.dictionary);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/function () {\n  function Decompress(opts, cb) {\n    this.o = StrmOpt.call(this, opts, cb) || {};\n    this.G = Gunzip;\n    this.I = Inflate;\n    this.Z = Unzlib;\n  }\n  // init substream\n  // overriden by AsyncDecompress\n  Decompress.prototype.i = function () {\n    var _this = this;\n    this.s.ondata = function (dat, final) {\n      _this.ondata(dat, final);\n    };\n  };\n  /**\n   * Pushes a chunk to be decompressed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Decompress.prototype.push = function (chunk, final) {\n    if (!this.ondata) err(5);\n    if (!this.s) {\n      if (this.p && this.p.length) {\n        var n = new u8(this.p.length + chunk.length);\n        n.set(this.p), n.set(chunk, this.p.length);\n      } else this.p = chunk;\n      if (this.p.length > 2) {\n        this.s = this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8 ? new this.G(this.o) : (this.p[0] & 15) != 8 || this.p[0] >> 4 > 7 || (this.p[0] << 8 | this.p[1]) % 31 ? new this.I(this.o) : new this.Z(this.o);\n        this.i();\n        this.s.push(this.p, final);\n        this.p = null;\n      }\n    } else this.s.push(chunk, final);\n  };\n  return Decompress;\n}();\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/function () {\n  function AsyncDecompress(opts, cb) {\n    Decompress.call(this, opts, cb);\n    this.queuedSize = 0;\n    this.G = AsyncGunzip;\n    this.I = AsyncInflate;\n    this.Z = AsyncUnzlib;\n  }\n  AsyncDecompress.prototype.i = function () {\n    var _this = this;\n    this.s.ondata = function (err, dat, final) {\n      _this.ondata(err, dat, final);\n    };\n    this.s.ondrain = function (size) {\n      _this.queuedSize -= size;\n      if (_this.ondrain) _this.ondrain(size);\n    };\n  };\n  /**\n   * Pushes a chunk to be decompressed\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  AsyncDecompress.prototype.push = function (chunk, final) {\n    this.queuedSize += chunk.length;\n    Decompress.prototype.push.call(this, chunk, final);\n  };\n  return AsyncDecompress;\n}();\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzip(data, opts, cb) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflate(data, opts, cb) : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, opts) {\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzipSync(data, opts) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflateSync(data, opts) : unzlibSync(data, opts);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n  for (var k in d) {\n    var val = d[k],\n      n = p + k,\n      op = o;\n    if (Array.isArray(val)) op = mrg(o, val[1]), val = val[0];\n    if (val instanceof u8) t[n] = [val, op];else {\n      t[n += '/'] = [new u8(0), op];\n      fltn(val, n, t, o);\n    }\n  }\n};\n// text encoder\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n  td.decode(et, {\n    stream: true\n  });\n  tds = 1;\n} catch (e) {}\n// decode UTF8\nvar dutf8 = function (d) {\n  for (var r = '', i = 0;;) {\n    var c = d[i++];\n    var eb = (c > 127) + (c > 223) + (c > 239);\n    if (i + eb > d.length) return {\n      s: r,\n      r: slc(d, i - 1)\n    };\n    if (!eb) r += String.fromCharCode(c);else if (eb == 3) {\n      c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | d[i++] & 63) - 65536, r += String.fromCharCode(55296 | c >> 10, 56320 | c & 1023);\n    } else if (eb & 1) r += String.fromCharCode((c & 31) << 6 | d[i++] & 63);else r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | d[i++] & 63);\n  }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/function () {\n  /**\n   * Creates a UTF-8 decoding stream\n   * @param cb The callback to call whenever data is decoded\n   */\n  function DecodeUTF8(cb) {\n    this.ondata = cb;\n    if (tds) this.t = new TextDecoder();else this.p = et;\n  }\n  /**\n   * Pushes a chunk to be decoded from UTF-8 binary\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  DecodeUTF8.prototype.push = function (chunk, final) {\n    if (!this.ondata) err(5);\n    final = !!final;\n    if (this.t) {\n      this.ondata(this.t.decode(chunk, {\n        stream: true\n      }), final);\n      if (final) {\n        if (this.t.decode().length) err(8);\n        this.t = null;\n      }\n      return;\n    }\n    if (!this.p) err(4);\n    var dat = new u8(this.p.length + chunk.length);\n    dat.set(this.p);\n    dat.set(chunk, this.p.length);\n    var _a = dutf8(dat),\n      s = _a.s,\n      r = _a.r;\n    if (final) {\n      if (r.length) err(8);\n      this.p = null;\n    } else this.p = r;\n    this.ondata(s, final);\n  };\n  return DecodeUTF8;\n}();\nexport { DecodeUTF8 };\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/function () {\n  /**\n   * Creates a UTF-8 decoding stream\n   * @param cb The callback to call whenever data is encoded\n   */\n  function EncodeUTF8(cb) {\n    this.ondata = cb;\n  }\n  /**\n   * Pushes a chunk to be encoded to UTF-8\n   * @param chunk The string data to push\n   * @param final Whether this is the last chunk\n   */\n  EncodeUTF8.prototype.push = function (chunk, final) {\n    if (!this.ondata) err(5);\n    if (this.d) err(4);\n    this.ondata(strToU8(chunk), this.d = final || false);\n  };\n  return EncodeUTF8;\n}();\nexport { EncodeUTF8 };\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n  if (latin1) {\n    var ar_1 = new u8(str.length);\n    for (var i = 0; i < str.length; ++i) ar_1[i] = str.charCodeAt(i);\n    return ar_1;\n  }\n  if (te) return te.encode(str);\n  var l = str.length;\n  var ar = new u8(str.length + (str.length >> 1));\n  var ai = 0;\n  var w = function (v) {\n    ar[ai++] = v;\n  };\n  for (var i = 0; i < l; ++i) {\n    if (ai + 5 > ar.length) {\n      var n = new u8(ai + 8 + (l - i << 1));\n      n.set(ar);\n      ar = n;\n    }\n    var c = str.charCodeAt(i);\n    if (c < 128 || latin1) w(c);else if (c < 2048) w(192 | c >> 6), w(128 | c & 63);else if (c > 55295 && c < 57344) c = 65536 + (c & 1023 << 10) | str.charCodeAt(++i) & 1023, w(240 | c >> 18), w(128 | c >> 12 & 63), w(128 | c >> 6 & 63), w(128 | c & 63);else w(224 | c >> 12), w(128 | c >> 6 & 63), w(128 | c & 63);\n  }\n  return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n  if (latin1) {\n    var r = '';\n    for (var i = 0; i < dat.length; i += 16384) r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n    return r;\n  } else if (td) {\n    return td.decode(dat);\n  } else {\n    var _a = dutf8(dat),\n      s = _a.s,\n      r = _a.r;\n    if (r.length) err(8);\n    return s;\n  }\n}\n;\n// deflate bit flag\nvar dbf = function (l) {\n  return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0;\n};\n// skip local zip header\nvar slzh = function (d, b) {\n  return b + 30 + b2(d, b + 26) + b2(d, b + 28);\n};\n// read zip header\nvar zh = function (d, b, z) {\n  var fnl = b2(d, b + 28),\n    fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)),\n    es = b + 46 + fnl,\n    bs = b4(d, b + 20);\n  var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)],\n    sc = _a[0],\n    su = _a[1],\n    off = _a[2];\n  return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n  for (; b2(d, b) != 1; b += 4 + b2(d, b + 2));\n  return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n  var le = 0;\n  if (ex) {\n    for (var k in ex) {\n      var l = ex[k].length;\n      if (l > 65535) err(9);\n      le += l + 4;\n    }\n  }\n  return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n  var fl = fn.length,\n    ex = f.extra,\n    col = co && co.length;\n  var exl = exfl(ex);\n  wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n  if (ce != null) d[b++] = 20, d[b++] = f.os;\n  d[b] = 20, b += 2; // spec compliance? what's that?\n  d[b++] = f.flag << 1 | (c < 0 && 8), d[b++] = u && 8;\n  d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n  var dt = new Date(f.mtime == null ? Date.now() : f.mtime),\n    y = dt.getFullYear() - 1980;\n  if (y < 0 || y > 119) err(10);\n  wbytes(d, b, y << 25 | dt.getMonth() + 1 << 21 | dt.getDate() << 16 | dt.getHours() << 11 | dt.getMinutes() << 5 | dt.getSeconds() >> 1), b += 4;\n  if (c != -1) {\n    wbytes(d, b, f.crc);\n    wbytes(d, b + 4, c < 0 ? -c - 2 : c);\n    wbytes(d, b + 8, f.size);\n  }\n  wbytes(d, b + 12, fl);\n  wbytes(d, b + 14, exl), b += 16;\n  if (ce != null) {\n    wbytes(d, b, col);\n    wbytes(d, b + 6, f.attrs);\n    wbytes(d, b + 10, ce), b += 14;\n  }\n  d.set(fn, b);\n  b += fl;\n  if (exl) {\n    for (var k in ex) {\n      var exf = ex[k],\n        l = exf.length;\n      wbytes(d, b, +k);\n      wbytes(d, b + 2, l);\n      d.set(exf, b + 4), b += 4 + l;\n    }\n  }\n  if (col) d.set(co, b), b += col;\n  return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n  wbytes(o, b, 0x6054B50); // skip disk\n  wbytes(o, b + 8, c);\n  wbytes(o, b + 10, c);\n  wbytes(o, b + 12, d);\n  wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/function () {\n  /**\n   * Creates a pass-through stream that can be added to ZIP archives\n   * @param filename The filename to associate with this data stream\n   */\n  function ZipPassThrough(filename) {\n    this.filename = filename;\n    this.c = crc();\n    this.size = 0;\n    this.compression = 0;\n  }\n  /**\n   * Processes a chunk and pushes to the output stream. You can override this\n   * method in a subclass for custom behavior, but by default this passes\n   * the data through. You must call this.ondata(err, chunk, final) at some\n   * point in this method.\n   * @param chunk The chunk to process\n   * @param final Whether this is the last chunk\n   */\n  ZipPassThrough.prototype.process = function (chunk, final) {\n    this.ondata(null, chunk, final);\n  };\n  /**\n   * Pushes a chunk to be added. If you are subclassing this with a custom\n   * compression algorithm, note that you must push data from the source\n   * file only, pre-compression.\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  ZipPassThrough.prototype.push = function (chunk, final) {\n    if (!this.ondata) err(5);\n    this.c.p(chunk);\n    this.size += chunk.length;\n    if (final) this.crc = this.c.d();\n    this.process(chunk, final || false);\n  };\n  return ZipPassThrough;\n}();\nexport { ZipPassThrough };\n// I don't extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/function () {\n  /**\n   * Creates a DEFLATE stream that can be added to ZIP archives\n   * @param filename The filename to associate with this data stream\n   * @param opts The compression options\n   */\n  function ZipDeflate(filename, opts) {\n    var _this = this;\n    if (!opts) opts = {};\n    ZipPassThrough.call(this, filename);\n    this.d = new Deflate(opts, function (dat, final) {\n      _this.ondata(null, dat, final);\n    });\n    this.compression = 8;\n    this.flag = dbf(opts.level);\n  }\n  ZipDeflate.prototype.process = function (chunk, final) {\n    try {\n      this.d.push(chunk, final);\n    } catch (e) {\n      this.ondata(e, null, final);\n    }\n  };\n  /**\n   * Pushes a chunk to be deflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  ZipDeflate.prototype.push = function (chunk, final) {\n    ZipPassThrough.prototype.push.call(this, chunk, final);\n  };\n  return ZipDeflate;\n}();\nexport { ZipDeflate };\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/function () {\n  /**\n   * Creates an asynchronous DEFLATE stream that can be added to ZIP archives\n   * @param filename The filename to associate with this data stream\n   * @param opts The compression options\n   */\n  function AsyncZipDeflate(filename, opts) {\n    var _this = this;\n    if (!opts) opts = {};\n    ZipPassThrough.call(this, filename);\n    this.d = new AsyncDeflate(opts, function (err, dat, final) {\n      _this.ondata(err, dat, final);\n    });\n    this.compression = 8;\n    this.flag = dbf(opts.level);\n    this.terminate = this.d.terminate;\n  }\n  AsyncZipDeflate.prototype.process = function (chunk, final) {\n    this.d.push(chunk, final);\n  };\n  /**\n   * Pushes a chunk to be deflated\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  AsyncZipDeflate.prototype.push = function (chunk, final) {\n    ZipPassThrough.prototype.push.call(this, chunk, final);\n  };\n  return AsyncZipDeflate;\n}();\nexport { AsyncZipDeflate };\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/function () {\n  /**\n   * Creates an empty ZIP archive to which files can be added\n   * @param cb The callback to call whenever data for the generated ZIP archive\n   *           is available\n   */\n  function Zip(cb) {\n    this.ondata = cb;\n    this.u = [];\n    this.d = 1;\n  }\n  /**\n   * Adds a file to the ZIP archive\n   * @param file The file stream to add\n   */\n  Zip.prototype.add = function (file) {\n    var _this = this;\n    if (!this.ondata) err(5);\n    // finishing or finished\n    if (this.d & 2) this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, false);else {\n      var f = strToU8(file.filename),\n        fl_1 = f.length;\n      var com = file.comment,\n        o = com && strToU8(com);\n      var u = fl_1 != file.filename.length || o && com.length != o.length;\n      var hl_1 = fl_1 + exfl(file.extra) + 30;\n      if (fl_1 > 65535) this.ondata(err(11, 0, 1), null, false);\n      var header = new u8(hl_1);\n      wzh(header, 0, file, f, u, -1);\n      var chks_1 = [header];\n      var pAll_1 = function () {\n        for (var _i = 0, chks_2 = chks_1; _i < chks_2.length; _i++) {\n          var chk = chks_2[_i];\n          _this.ondata(null, chk, false);\n        }\n        chks_1 = [];\n      };\n      var tr_1 = this.d;\n      this.d = 0;\n      var ind_1 = this.u.length;\n      var uf_1 = mrg(file, {\n        f: f,\n        u: u,\n        o: o,\n        t: function () {\n          if (file.terminate) file.terminate();\n        },\n        r: function () {\n          pAll_1();\n          if (tr_1) {\n            var nxt = _this.u[ind_1 + 1];\n            if (nxt) nxt.r();else _this.d = 1;\n          }\n          tr_1 = 1;\n        }\n      });\n      var cl_1 = 0;\n      file.ondata = function (err, dat, final) {\n        if (err) {\n          _this.ondata(err, dat, final);\n          _this.terminate();\n        } else {\n          cl_1 += dat.length;\n          chks_1.push(dat);\n          if (final) {\n            var dd = new u8(16);\n            wbytes(dd, 0, 0x8074B50);\n            wbytes(dd, 4, file.crc);\n            wbytes(dd, 8, cl_1);\n            wbytes(dd, 12, file.size);\n            chks_1.push(dd);\n            uf_1.c = cl_1, uf_1.b = hl_1 + cl_1 + 16, uf_1.crc = file.crc, uf_1.size = file.size;\n            if (tr_1) uf_1.r();\n            tr_1 = 1;\n          } else if (tr_1) pAll_1();\n        }\n      };\n      this.u.push(uf_1);\n    }\n  };\n  /**\n   * Ends the process of adding files and prepares to emit the final chunks.\n   * This *must* be called after adding all desired files for the resulting\n   * ZIP file to work properly.\n   */\n  Zip.prototype.end = function () {\n    var _this = this;\n    if (this.d & 2) {\n      this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, true);\n      return;\n    }\n    if (this.d) this.e();else this.u.push({\n      r: function () {\n        if (!(_this.d & 1)) return;\n        _this.u.splice(-1, 1);\n        _this.e();\n      },\n      t: function () {}\n    });\n    this.d = 3;\n  };\n  Zip.prototype.e = function () {\n    var bt = 0,\n      l = 0,\n      tl = 0;\n    for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n      var f = _a[_i];\n      tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n    }\n    var out = new u8(tl + 22);\n    for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n      var f = _c[_b];\n      wzh(out, bt, f, f.f, f.u, -f.c - 2, l, f.o);\n      bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n    }\n    wzf(out, bt, this.u.length, tl, l);\n    this.ondata(null, out, true);\n    this.d = 2;\n  };\n  /**\n   * A method to terminate any internal workers used by the stream. Subsequent\n   * calls to add() will fail.\n   */\n  Zip.prototype.terminate = function () {\n    for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n      var f = _a[_i];\n      f.t();\n    }\n    this.d = 2;\n  };\n  return Zip;\n}();\nexport { Zip };\nexport function zip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  var r = {};\n  fltn(data, '', r, opts);\n  var k = Object.keys(r);\n  var lft = k.length,\n    o = 0,\n    tot = 0;\n  var slft = lft,\n    files = new Array(lft);\n  var term = [];\n  var tAll = function () {\n    for (var i = 0; i < term.length; ++i) term[i]();\n  };\n  var cbd = function (a, b) {\n    mt(function () {\n      cb(a, b);\n    });\n  };\n  mt(function () {\n    cbd = cb;\n  });\n  var cbf = function () {\n    var out = new u8(tot + 22),\n      oe = o,\n      cdl = tot - o;\n    tot = 0;\n    for (var i = 0; i < slft; ++i) {\n      var f = files[i];\n      try {\n        var l = f.c.length;\n        wzh(out, tot, f, f.f, f.u, l);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        var loc = tot + badd;\n        out.set(f.c, loc);\n        wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n      } catch (e) {\n        return cbd(e, null);\n      }\n    }\n    wzf(out, o, files.length, cdl, oe);\n    cbd(null, out);\n  };\n  if (!lft) cbf();\n  var _loop_1 = function (i) {\n    var fn = k[i];\n    var _a = r[fn],\n      file = _a[0],\n      p = _a[1];\n    var c = crc(),\n      size = file.length;\n    c.p(file);\n    var f = strToU8(fn),\n      s = f.length;\n    var com = p.comment,\n      m = com && strToU8(com),\n      ms = m && m.length;\n    var exl = exfl(p.extra);\n    var compression = p.level == 0 ? 0 : 8;\n    var cbl = function (e, d) {\n      if (e) {\n        tAll();\n        cbd(e, null);\n      } else {\n        var l = d.length;\n        files[i] = mrg(p, {\n          size: size,\n          crc: c.d(),\n          c: d,\n          f: f,\n          m: m,\n          u: s != fn.length || m && com.length != ms,\n          compression: compression\n        });\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n        if (! --lft) cbf();\n      }\n    };\n    if (s > 65535) cbl(err(11, 0, 1), null);\n    if (!compression) cbl(null, file);else if (size < 160000) {\n      try {\n        cbl(null, deflateSync(file, p));\n      } catch (e) {\n        cbl(e, null);\n      }\n    } else term.push(deflate(file, p, cbl));\n  };\n  // Cannot use lft because it can decrease\n  for (var i = 0; i < slft; ++i) {\n    _loop_1(i);\n  }\n  return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n  if (!opts) opts = {};\n  var r = {};\n  var files = [];\n  fltn(data, '', r, opts);\n  var o = 0;\n  var tot = 0;\n  for (var fn in r) {\n    var _a = r[fn],\n      file = _a[0],\n      p = _a[1];\n    var compression = p.level == 0 ? 0 : 8;\n    var f = strToU8(fn),\n      s = f.length;\n    var com = p.comment,\n      m = com && strToU8(com),\n      ms = m && m.length;\n    var exl = exfl(p.extra);\n    if (s > 65535) err(11);\n    var d = compression ? deflateSync(file, p) : file,\n      l = d.length;\n    var c = crc();\n    c.p(file);\n    files.push(mrg(p, {\n      size: file.length,\n      crc: c.d(),\n      c: d,\n      f: f,\n      m: m,\n      u: s != fn.length || m && com.length != ms,\n      o: o,\n      compression: compression\n    }));\n    o += 30 + s + exl + l;\n    tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n  }\n  var out = new u8(tot + 22),\n    oe = o,\n    cdl = tot - o;\n  for (var i = 0; i < files.length; ++i) {\n    var f = files[i];\n    wzh(out, f.o, f, f.f, f.u, f.c.length);\n    var badd = 30 + f.f.length + exfl(f.extra);\n    out.set(f.c, f.o + badd);\n    wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n  }\n  wzf(out, o, files.length, cdl, oe);\n  return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/function () {\n  function UnzipPassThrough() {}\n  UnzipPassThrough.prototype.push = function (data, final) {\n    this.ondata(null, data, final);\n  };\n  UnzipPassThrough.compression = 0;\n  return UnzipPassThrough;\n}();\nexport { UnzipPassThrough };\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/function () {\n  /**\n   * Creates a DEFLATE decompression that can be used in ZIP archives\n   */\n  function UnzipInflate() {\n    var _this = this;\n    this.i = new Inflate(function (dat, final) {\n      _this.ondata(null, dat, final);\n    });\n  }\n  UnzipInflate.prototype.push = function (data, final) {\n    try {\n      this.i.push(data, final);\n    } catch (e) {\n      this.ondata(e, null, final);\n    }\n  };\n  UnzipInflate.compression = 8;\n  return UnzipInflate;\n}();\nexport { UnzipInflate };\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/function () {\n  /**\n   * Creates a DEFLATE decompression that can be used in ZIP archives\n   */\n  function AsyncUnzipInflate(_, sz) {\n    var _this = this;\n    if (sz < 320000) {\n      this.i = new Inflate(function (dat, final) {\n        _this.ondata(null, dat, final);\n      });\n    } else {\n      this.i = new AsyncInflate(function (err, dat, final) {\n        _this.ondata(err, dat, final);\n      });\n      this.terminate = this.i.terminate;\n    }\n  }\n  AsyncUnzipInflate.prototype.push = function (data, final) {\n    if (this.i.terminate) data = slc(data, 0);\n    this.i.push(data, final);\n  };\n  AsyncUnzipInflate.compression = 8;\n  return AsyncUnzipInflate;\n}();\nexport { AsyncUnzipInflate };\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/function () {\n  /**\n   * Creates a ZIP decompression stream\n   * @param cb The callback to call whenever a file in the ZIP archive is found\n   */\n  function Unzip(cb) {\n    this.onfile = cb;\n    this.k = [];\n    this.o = {\n      0: UnzipPassThrough\n    };\n    this.p = et;\n  }\n  /**\n   * Pushes a chunk to be unzipped\n   * @param chunk The chunk to push\n   * @param final Whether this is the last chunk\n   */\n  Unzip.prototype.push = function (chunk, final) {\n    var _this = this;\n    if (!this.onfile) err(5);\n    if (!this.p) err(4);\n    if (this.c > 0) {\n      var len = Math.min(this.c, chunk.length);\n      var toAdd = chunk.subarray(0, len);\n      this.c -= len;\n      if (this.d) this.d.push(toAdd, !this.c);else this.k[0].push(toAdd);\n      chunk = chunk.subarray(len);\n      if (chunk.length) return this.push(chunk, final);\n    } else {\n      var f = 0,\n        i = 0,\n        is = void 0,\n        buf = void 0;\n      if (!this.p.length) buf = chunk;else if (!chunk.length) buf = this.p;else {\n        buf = new u8(this.p.length + chunk.length);\n        buf.set(this.p), buf.set(chunk, this.p.length);\n      }\n      var l = buf.length,\n        oc = this.c,\n        add = oc && this.d;\n      var _loop_2 = function () {\n        var _a;\n        var sig = b4(buf, i);\n        if (sig == 0x4034B50) {\n          f = 1, is = i;\n          this_1.d = null;\n          this_1.c = 0;\n          var bf = b2(buf, i + 6),\n            cmp_1 = b2(buf, i + 8),\n            u = bf & 2048,\n            dd = bf & 8,\n            fnl = b2(buf, i + 26),\n            es = b2(buf, i + 28);\n          if (l > i + 30 + fnl + es) {\n            var chks_3 = [];\n            this_1.k.unshift(chks_3);\n            f = 2;\n            var sc_1 = b4(buf, i + 18),\n              su_1 = b4(buf, i + 22);\n            var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n            if (sc_1 == 4294967295) {\n              _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n            } else if (dd) sc_1 = -1;\n            i += es;\n            this_1.c = sc_1;\n            var d_1;\n            var file_1 = {\n              name: fn_1,\n              compression: cmp_1,\n              start: function () {\n                if (!file_1.ondata) err(5);\n                if (!sc_1) file_1.ondata(null, et, true);else {\n                  var ctr = _this.o[cmp_1];\n                  if (!ctr) file_1.ondata(err(14, 'unknown compression type ' + cmp_1, 1), null, false);\n                  d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                  d_1.ondata = function (err, dat, final) {\n                    file_1.ondata(err, dat, final);\n                  };\n                  for (var _i = 0, chks_4 = chks_3; _i < chks_4.length; _i++) {\n                    var dat = chks_4[_i];\n                    d_1.push(dat, false);\n                  }\n                  if (_this.k[0] == chks_3 && _this.c) _this.d = d_1;else d_1.push(et, true);\n                }\n              },\n              terminate: function () {\n                if (d_1 && d_1.terminate) d_1.terminate();\n              }\n            };\n            if (sc_1 >= 0) file_1.size = sc_1, file_1.originalSize = su_1;\n            this_1.onfile(file_1);\n          }\n          return \"break\";\n        } else if (oc) {\n          if (sig == 0x8074B50) {\n            is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n            return \"break\";\n          } else if (sig == 0x2014B50) {\n            is = i -= 4, f = 3, this_1.c = 0;\n            return \"break\";\n          }\n        }\n      };\n      var this_1 = this;\n      for (; i < l - 4; ++i) {\n        var state_1 = _loop_2();\n        if (state_1 === \"break\") break;\n      }\n      this.p = et;\n      if (oc < 0) {\n        var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n        if (add) add.push(dat, !!f);else this.k[+(f == 2)].push(dat);\n      }\n      if (f & 2) return this.push(buf.subarray(i), final);\n      this.p = buf.subarray(i);\n    }\n    if (final) {\n      if (this.c) err(13);\n      this.p = null;\n    }\n  };\n  /**\n   * Registers a decoder with the stream, allowing for files compressed with\n   * the compression type provided to be expanded correctly\n   * @param decoder The decoder constructor\n   */\n  Unzip.prototype.register = function (decoder) {\n    this.o[decoder.compression] = decoder;\n  };\n  return Unzip;\n}();\nexport { Unzip };\nvar mt = typeof queueMicrotask == 'function' ? queueMicrotask : typeof setTimeout == 'function' ? setTimeout : function (fn) {\n  fn();\n};\nexport function unzip(data, opts, cb) {\n  if (!cb) cb = opts, opts = {};\n  if (typeof cb != 'function') err(7);\n  var term = [];\n  var tAll = function () {\n    for (var i = 0; i < term.length; ++i) term[i]();\n  };\n  var files = {};\n  var cbd = function (a, b) {\n    mt(function () {\n      cb(a, b);\n    });\n  };\n  mt(function () {\n    cbd = cb;\n  });\n  var e = data.length - 22;\n  for (; b4(data, e) != 0x6054B50; --e) {\n    if (!e || data.length - e > 65558) {\n      cbd(err(13, 0, 1), null);\n      return tAll;\n    }\n  }\n  ;\n  var lft = b2(data, e + 8);\n  if (lft) {\n    var c = lft;\n    var o = b4(data, e + 16);\n    var z = o == 4294967295 || c == 65535;\n    if (z) {\n      var ze = b4(data, e - 12);\n      z = b4(data, ze) == 0x6064B50;\n      if (z) {\n        c = lft = b4(data, ze + 32);\n        o = b4(data, ze + 48);\n      }\n    }\n    var fltr = opts && opts.filter;\n    var _loop_3 = function (i) {\n      var _a = zh(data, o, z),\n        c_1 = _a[0],\n        sc = _a[1],\n        su = _a[2],\n        fn = _a[3],\n        no = _a[4],\n        off = _a[5],\n        b = slzh(data, off);\n      o = no;\n      var cbl = function (e, d) {\n        if (e) {\n          tAll();\n          cbd(e, null);\n        } else {\n          if (d) files[fn] = d;\n          if (! --lft) cbd(null, files);\n        }\n      };\n      if (!fltr || fltr({\n        name: fn,\n        size: sc,\n        originalSize: su,\n        compression: c_1\n      })) {\n        if (!c_1) cbl(null, slc(data, b, b + sc));else if (c_1 == 8) {\n          var infl = data.subarray(b, b + sc);\n          // Synchronously decompress under 512KB, or barely-compressed data\n          if (su < 524288 || sc > 0.8 * su) {\n            try {\n              cbl(null, inflateSync(infl, {\n                out: new u8(su)\n              }));\n            } catch (e) {\n              cbl(e, null);\n            }\n          } else term.push(inflate(infl, {\n            size: su\n          }, cbl));\n        } else cbl(err(14, 'unknown compression type ' + c_1, 1), null);\n      } else cbl(null, null);\n    };\n    for (var i = 0; i < c; ++i) {\n      _loop_3(i);\n    }\n  } else cbd(null, {});\n  return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @param opts The ZIP extraction options\n * @returns The decompressed files\n */\nexport function unzipSync(data, opts) {\n  var files = {};\n  var e = data.length - 22;\n  for (; b4(data, e) != 0x6054B50; --e) {\n    if (!e || data.length - e > 65558) err(13);\n  }\n  ;\n  var c = b2(data, e + 8);\n  if (!c) return {};\n  var o = b4(data, e + 16);\n  var z = o == 4294967295 || c == 65535;\n  if (z) {\n    var ze = b4(data, e - 12);\n    z = b4(data, ze) == 0x6064B50;\n    if (z) {\n      c = b4(data, ze + 32);\n      o = b4(data, ze + 48);\n    }\n  }\n  var fltr = opts && opts.filter;\n  for (var i = 0; i < c; ++i) {\n    var _a = zh(data, o, z),\n      c_2 = _a[0],\n      sc = _a[1],\n      su = _a[2],\n      fn = _a[3],\n      no = _a[4],\n      off = _a[5],\n      b = slzh(data, off);\n    o = no;\n    if (!fltr || fltr({\n      name: fn,\n      size: sc,\n      originalSize: su,\n      compression: c_2\n    })) {\n      if (!c_2) files[fn] = slc(data, b, b + sc);else if (c_2 == 8) files[fn] = inflateSync(data.subarray(b, b + sc), {\n        out: new u8(su)\n      });else err(14, 'unknown compression type ' + c_2);\n    }\n  }\n  return files;\n}","import { StringType, UINT32_LE } from 'token-types';\nimport { decompressSync } from 'fflate';\nimport initDebug from 'debug';\nimport { DataDescriptor, EndOfCentralDirectoryRecordToken, FileHeader, LocalFileHeaderToken, Signature } from \"./ZipToken.js\";\nfunction signatureToArray(signature) {\n  const signatureBytes = new Uint8Array(UINT32_LE.len);\n  UINT32_LE.put(signatureBytes, 0, signature);\n  return signatureBytes;\n}\nconst debug = initDebug('tokenizer:inflate');\nconst syncBufferSize = 256 * 1024;\nconst ddSignatureArray = signatureToArray(Signature.DataDescriptor);\nconst eocdSignatureBytes = signatureToArray(Signature.EndOfCentralDirectory);\nexport class ZipHandler {\n  constructor(tokenizer) {\n    this.tokenizer = tokenizer;\n    this.syncBuffer = new Uint8Array(syncBufferSize);\n  }\n  async isZip() {\n    return (await this.peekSignature()) === Signature.LocalFileHeader;\n  }\n  peekSignature() {\n    return this.tokenizer.peekToken(UINT32_LE);\n  }\n  async findEndOfCentralDirectoryLocator() {\n    const randomReadTokenizer = this.tokenizer;\n    const chunkLength = Math.min(16 * 1024, randomReadTokenizer.fileInfo.size);\n    const buffer = this.syncBuffer.subarray(0, chunkLength);\n    await this.tokenizer.readBuffer(buffer, {\n      position: randomReadTokenizer.fileInfo.size - chunkLength\n    });\n    // Search the buffer from end to beginning for EOCD signature\n    // const signature = 0x06054b50;\n    for (let i = buffer.length - 4; i >= 0; i--) {\n      // Compare 4 bytes directly without calling readUInt32LE\n      if (buffer[i] === eocdSignatureBytes[0] && buffer[i + 1] === eocdSignatureBytes[1] && buffer[i + 2] === eocdSignatureBytes[2] && buffer[i + 3] === eocdSignatureBytes[3]) {\n        return randomReadTokenizer.fileInfo.size - chunkLength + i;\n      }\n    }\n    return -1;\n  }\n  async readCentralDirectory() {\n    if (!this.tokenizer.supportsRandomAccess()) {\n      debug('Cannot reading central-directory without random-read support');\n      return;\n    }\n    debug('Reading central-directory...');\n    const pos = this.tokenizer.position;\n    const offset = await this.findEndOfCentralDirectoryLocator();\n    if (offset > 0) {\n      debug('Central-directory 32-bit signature found');\n      const eocdHeader = await this.tokenizer.readToken(EndOfCentralDirectoryRecordToken, offset);\n      const files = [];\n      this.tokenizer.setPosition(eocdHeader.offsetOfStartOfCd);\n      for (let n = 0; n < eocdHeader.nrOfEntriesOfSize; ++n) {\n        const entry = await this.tokenizer.readToken(FileHeader);\n        if (entry.signature !== Signature.CentralFileHeader) {\n          throw new Error('Expected Central-File-Header signature');\n        }\n        entry.filename = await this.tokenizer.readToken(new StringType(entry.filenameLength, 'utf-8'));\n        await this.tokenizer.ignore(entry.extraFieldLength);\n        await this.tokenizer.ignore(entry.fileCommentLength);\n        files.push(entry);\n        debug(`Add central-directory file-entry: n=${n + 1}/${files.length}: filename=${files[n].filename}`);\n      }\n      this.tokenizer.setPosition(pos);\n      return files;\n    }\n    this.tokenizer.setPosition(pos);\n  }\n  async unzip(fileCb) {\n    const entries = await this.readCentralDirectory();\n    if (entries) {\n      // Use Central Directory to iterate over files\n      return this.iterateOverCentralDirectory(entries, fileCb);\n    }\n    // Scan Zip files for local-file-header\n    let stop = false;\n    do {\n      const zipHeader = await this.readLocalFileHeader();\n      if (!zipHeader) break;\n      const next = fileCb(zipHeader);\n      stop = !!next.stop;\n      let fileData = undefined;\n      await this.tokenizer.ignore(zipHeader.extraFieldLength);\n      if (zipHeader.dataDescriptor && zipHeader.compressedSize === 0) {\n        const chunks = [];\n        let len = syncBufferSize;\n        debug('Compressed-file-size unknown, scanning for next data-descriptor-signature....');\n        let nextHeaderIndex = -1;\n        while (nextHeaderIndex < 0 && len === syncBufferSize) {\n          len = await this.tokenizer.peekBuffer(this.syncBuffer, {\n            mayBeLess: true\n          });\n          nextHeaderIndex = indexOf(this.syncBuffer.subarray(0, len), ddSignatureArray);\n          const size = nextHeaderIndex >= 0 ? nextHeaderIndex : len;\n          if (next.handler) {\n            const data = new Uint8Array(size);\n            await this.tokenizer.readBuffer(data);\n            chunks.push(data);\n          } else {\n            // Move position to the next header if found, skip the whole buffer otherwise\n            await this.tokenizer.ignore(size);\n          }\n        }\n        debug(`Found data-descriptor-signature at pos=${this.tokenizer.position}`);\n        if (next.handler) {\n          await this.inflate(zipHeader, mergeArrays(chunks), next.handler);\n        }\n      } else {\n        if (next.handler) {\n          debug(`Reading compressed-file-data: ${zipHeader.compressedSize} bytes`);\n          fileData = new Uint8Array(zipHeader.compressedSize);\n          await this.tokenizer.readBuffer(fileData);\n          await this.inflate(zipHeader, fileData, next.handler);\n        } else {\n          debug(`Ignoring compressed-file-data: ${zipHeader.compressedSize} bytes`);\n          await this.tokenizer.ignore(zipHeader.compressedSize);\n        }\n      }\n      debug(`Reading data-descriptor at pos=${this.tokenizer.position}`);\n      if (zipHeader.dataDescriptor) {\n        // await this.tokenizer.ignore(DataDescriptor.len);\n        const dataDescriptor = await this.tokenizer.readToken(DataDescriptor);\n        if (dataDescriptor.signature !== 0x08074b50) {\n          throw new Error(`Expected data-descriptor-signature at position ${this.tokenizer.position - DataDescriptor.len}`);\n        }\n      }\n    } while (!stop);\n  }\n  async iterateOverCentralDirectory(entries, fileCb) {\n    for (const fileHeader of entries) {\n      const next = fileCb(fileHeader);\n      if (next.handler) {\n        this.tokenizer.setPosition(fileHeader.relativeOffsetOfLocalHeader);\n        const zipHeader = await this.readLocalFileHeader();\n        if (zipHeader) {\n          await this.tokenizer.ignore(zipHeader.extraFieldLength);\n          const fileData = new Uint8Array(fileHeader.compressedSize);\n          await this.tokenizer.readBuffer(fileData);\n          await this.inflate(zipHeader, fileData, next.handler);\n        }\n      }\n      if (next.stop) break;\n    }\n  }\n  inflate(zipHeader, fileData, cb) {\n    if (zipHeader.compressedMethod === 0) {\n      return cb(fileData);\n    }\n    debug(`Decompress filename=${zipHeader.filename}, compressed-size=${fileData.length}`);\n    const uncompressedData = decompressSync(fileData);\n    return cb(uncompressedData);\n  }\n  async readLocalFileHeader() {\n    const signature = await this.tokenizer.peekToken(UINT32_LE);\n    if (signature === Signature.LocalFileHeader) {\n      const header = await this.tokenizer.readToken(LocalFileHeaderToken);\n      header.filename = await this.tokenizer.readToken(new StringType(header.filenameLength, 'utf-8'));\n      return header;\n    }\n    if (signature === Signature.CentralFileHeader) {\n      return false;\n    }\n    if (signature === 0xE011CFD0) {\n      throw new Error('Encrypted ZIP');\n    }\n    throw new Error('Unexpected signature');\n  }\n}\nfunction indexOf(buffer, portion) {\n  const bufferLength = buffer.length;\n  const portionLength = portion.length;\n  // Return -1 if the portion is longer than the buffer\n  if (portionLength > bufferLength) return -1;\n  // Search for the portion in the buffer\n  for (let i = 0; i <= bufferLength - portionLength; i++) {\n    let found = true;\n    for (let j = 0; j < portionLength; j++) {\n      if (buffer[i + j] !== portion[j]) {\n        found = false;\n        break;\n      }\n    }\n    if (found) {\n      return i; // Return the starting offset\n    }\n  }\n  return -1; // Not found\n}\nfunction mergeArrays(chunks) {\n  // Concatenate chunks into a single Uint8Array\n  const totalLength = chunks.reduce((acc, curr) => acc + curr.length, 0);\n  const mergedArray = new Uint8Array(totalLength);\n  let offset = 0;\n  for (const chunk of chunks) {\n    mergedArray.set(chunk, offset);\n    offset += chunk.length;\n  }\n  return mergedArray;\n}","/**\n * Ref https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT\n */\nimport { UINT16_LE, UINT32_LE } from \"token-types\";\nexport const Signature = {\n  LocalFileHeader: 0x04034b50,\n  DataDescriptor: 0x08074b50,\n  CentralFileHeader: 0x02014b50,\n  EndOfCentralDirectory: 0x06054b50\n};\nexport const DataDescriptor = {\n  get(array) {\n    const flags = UINT16_LE.get(array, 6);\n    return {\n      signature: UINT32_LE.get(array, 0),\n      compressedSize: UINT32_LE.get(array, 8),\n      uncompressedSize: UINT32_LE.get(array, 12)\n    };\n  },\n  len: 16\n};\n/**\n * First part of the ZIP Local File Header\n * Offset | Bytes| Description\n * -------|------+-------------------------------------------------------------------\n *      0 |    4 | Signature (0x04034b50)\n *      4 |    2 | Minimum version needed to extract\n *      6 |    2 | Bit flag\n *      8 |    2 | Compression method\n *     10 |    2 | File last modification time (MS-DOS format)\n *     12 |    2 | File last modification date (MS-DOS format)\n *     14 |    4 | CRC-32 of uncompressed data\n *     18 |    4 | Compressed size\n *     22 |    4 | Uncompressed size\n *     26 |    2 | File name length (n)\n *     28 |    2 | Extra field length (m)\n *     30 |    n | File name\n * 30 + n |    m | Extra field\n */\nexport const LocalFileHeaderToken = {\n  get(array) {\n    const flags = UINT16_LE.get(array, 6);\n    return {\n      signature: UINT32_LE.get(array, 0),\n      minVersion: UINT16_LE.get(array, 4),\n      dataDescriptor: !!(flags & 0x0008),\n      compressedMethod: UINT16_LE.get(array, 8),\n      compressedSize: UINT32_LE.get(array, 18),\n      uncompressedSize: UINT32_LE.get(array, 22),\n      filenameLength: UINT16_LE.get(array, 26),\n      extraFieldLength: UINT16_LE.get(array, 28),\n      filename: null\n    };\n  },\n  len: 30\n};\n/**\n * 4.3.16  End of central directory record:\n *  end of central dir signature (0x06064b50)                                      4 bytes\n *  number of this disk                                                            2 bytes\n *  number of the disk with the start of the central directory                     2 bytes\n *  total number of entries in the central directory on this disk                  2 bytes\n *  total number of entries in the size of the central directory                   2 bytes\n *  sizeOfTheCentralDirectory                                                      4 bytes\n *  offset of start of central directory with respect to the starting disk number  4 bytes\n *  .ZIP file comment length                                                       2 bytes\n *  .ZIP file comment       (variable size)\n */\nexport const EndOfCentralDirectoryRecordToken = {\n  get(array) {\n    return {\n      signature: UINT32_LE.get(array, 0),\n      nrOfThisDisk: UINT16_LE.get(array, 4),\n      nrOfThisDiskWithTheStart: UINT16_LE.get(array, 6),\n      nrOfEntriesOnThisDisk: UINT16_LE.get(array, 8),\n      nrOfEntriesOfSize: UINT16_LE.get(array, 10),\n      sizeOfCd: UINT32_LE.get(array, 12),\n      offsetOfStartOfCd: UINT32_LE.get(array, 16),\n      zipFileCommentLength: UINT16_LE.get(array, 20)\n    };\n  },\n  len: 22\n};\n/**\n * File header:\n *    central file header signature   4 bytes   0 (0x02014b50)\n *    version made by                 2 bytes   4\n *    version needed to extract       2 bytes   6\n *    general purpose bit flag        2 bytes   8\n *    compression method              2 bytes  10\n *    last mod file time              2 bytes  12\n *    last mod file date              2 bytes  14\n *    crc-32                          4 bytes  16\n *    compressed size                 4 bytes  20\n *    uncompressed size               4 bytes  24\n *    file name length                2 bytes  28\n *    extra field length              2 bytes  30\n *    file comment length             2 bytes  32\n *    disk number start               2 bytes  34\n *    internal file attributes        2 bytes  36\n *    external file attributes        4 bytes  38\n *    relative offset of local header 4 bytes  42\n */\nexport const FileHeader = {\n  get(array) {\n    const flags = UINT16_LE.get(array, 8);\n    return {\n      signature: UINT32_LE.get(array, 0),\n      minVersion: UINT16_LE.get(array, 6),\n      dataDescriptor: !!(flags & 0x0008),\n      compressedMethod: UINT16_LE.get(array, 10),\n      compressedSize: UINT32_LE.get(array, 20),\n      uncompressedSize: UINT32_LE.get(array, 24),\n      filenameLength: UINT16_LE.get(array, 28),\n      extraFieldLength: UINT16_LE.get(array, 30),\n      fileCommentLength: UINT16_LE.get(array, 32),\n      relativeOffsetOfLocalHeader: UINT32_LE.get(array, 42),\n      filename: null\n    };\n  },\n  len: 46\n};","const objectToString = Object.prototype.toString;\nconst uint8ArrayStringified = '[object Uint8Array]';\nconst arrayBufferStringified = '[object ArrayBuffer]';\nfunction isType(value, typeConstructor, typeStringified) {\n  if (!value) {\n    return false;\n  }\n  if (value.constructor === typeConstructor) {\n    return true;\n  }\n  return objectToString.call(value) === typeStringified;\n}\nexport function isUint8Array(value) {\n  return isType(value, Uint8Array, uint8ArrayStringified);\n}\nfunction isArrayBuffer(value) {\n  return isType(value, ArrayBuffer, arrayBufferStringified);\n}\nfunction isUint8ArrayOrArrayBuffer(value) {\n  return isUint8Array(value) || isArrayBuffer(value);\n}\nexport function assertUint8Array(value) {\n  if (!isUint8Array(value)) {\n    throw new TypeError(`Expected \\`Uint8Array\\`, got \\`${typeof value}\\``);\n  }\n}\nexport function assertUint8ArrayOrArrayBuffer(value) {\n  if (!isUint8ArrayOrArrayBuffer(value)) {\n    throw new TypeError(`Expected \\`Uint8Array\\` or \\`ArrayBuffer\\`, got \\`${typeof value}\\``);\n  }\n}\nexport function toUint8Array(value) {\n  if (value instanceof ArrayBuffer) {\n    return new Uint8Array(value);\n  }\n  if (ArrayBuffer.isView(value)) {\n    return new Uint8Array(value.buffer, value.byteOffset, value.byteLength);\n  }\n  throw new TypeError(`Unsupported value, got \\`${typeof value}\\`.`);\n}\nexport function concatUint8Arrays(arrays, totalLength) {\n  if (arrays.length === 0) {\n    return new Uint8Array(0);\n  }\n  totalLength ??= arrays.reduce((accumulator, currentValue) => accumulator + currentValue.length, 0);\n  const returnValue = new Uint8Array(totalLength);\n  let offset = 0;\n  for (const array of arrays) {\n    assertUint8Array(array);\n    returnValue.set(array, offset);\n    offset += array.length;\n  }\n  return returnValue;\n}\nexport function areUint8ArraysEqual(a, b) {\n  assertUint8Array(a);\n  assertUint8Array(b);\n  if (a === b) {\n    return true;\n  }\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  // eslint-disable-next-line unicorn/no-for-loop\n  for (let index = 0; index < a.length; index++) {\n    if (a[index] !== b[index]) {\n      return false;\n    }\n  }\n  return true;\n}\nexport function compareUint8Arrays(a, b) {\n  assertUint8Array(a);\n  assertUint8Array(b);\n  const length = Math.min(a.length, b.length);\n  for (let index = 0; index < length; index++) {\n    const diff = a[index] - b[index];\n    if (diff !== 0) {\n      return Math.sign(diff);\n    }\n  }\n\n  // At this point, all the compared elements are equal.\n  // The shorter array should come first if the arrays are of different lengths.\n  return Math.sign(a.length - b.length);\n}\nconst cachedDecoders = {\n  utf8: new globalThis.TextDecoder('utf8')\n};\nexport function uint8ArrayToString(array, encoding = 'utf8') {\n  assertUint8ArrayOrArrayBuffer(array);\n  cachedDecoders[encoding] ??= new globalThis.TextDecoder(encoding);\n  return cachedDecoders[encoding].decode(array);\n}\nfunction assertString(value) {\n  if (typeof value !== 'string') {\n    throw new TypeError(`Expected \\`string\\`, got \\`${typeof value}\\``);\n  }\n}\nconst cachedEncoder = new globalThis.TextEncoder();\nexport function stringToUint8Array(string) {\n  assertString(string);\n  return cachedEncoder.encode(string);\n}\nfunction base64ToBase64Url(base64) {\n  return base64.replaceAll('+', '-').replaceAll('/', '_').replace(/=+$/, '');\n}\nfunction base64UrlToBase64(base64url) {\n  return base64url.replaceAll('-', '+').replaceAll('_', '/');\n}\n\n// Reference: https://phuoc.ng/collection/this-vs-that/concat-vs-push/\nconst MAX_BLOCK_SIZE = 65_535;\nexport function uint8ArrayToBase64(array, {\n  urlSafe = false\n} = {}) {\n  assertUint8Array(array);\n  let base64;\n  if (array.length < MAX_BLOCK_SIZE) {\n    // Required as `btoa` and `atob` don't properly support Unicode: https://developer.mozilla.org/en-US/docs/Glossary/Base64#the_unicode_problem\n    base64 = globalThis.btoa(String.fromCodePoint.apply(this, array));\n  } else {\n    base64 = '';\n    for (const value of array) {\n      base64 += String.fromCodePoint(value);\n    }\n    base64 = globalThis.btoa(base64);\n  }\n  return urlSafe ? base64ToBase64Url(base64) : base64;\n}\nexport function base64ToUint8Array(base64String) {\n  assertString(base64String);\n  return Uint8Array.from(globalThis.atob(base64UrlToBase64(base64String)), x => x.codePointAt(0));\n}\nexport function stringToBase64(string, {\n  urlSafe = false\n} = {}) {\n  assertString(string);\n  return uint8ArrayToBase64(stringToUint8Array(string), {\n    urlSafe\n  });\n}\nexport function base64ToString(base64String) {\n  assertString(base64String);\n  return uint8ArrayToString(base64ToUint8Array(base64String));\n}\nconst byteToHexLookupTable = Array.from({\n  length: 256\n}, (_, index) => index.toString(16).padStart(2, '0'));\nexport function uint8ArrayToHex(array) {\n  assertUint8Array(array);\n\n  // Concatenating a string is faster than using an array.\n  let hexString = '';\n\n  // eslint-disable-next-line unicorn/no-for-loop -- Max performance is critical.\n  for (let index = 0; index < array.length; index++) {\n    hexString += byteToHexLookupTable[array[index]];\n  }\n  return hexString;\n}\nconst hexToDecimalLookupTable = {\n  0: 0,\n  1: 1,\n  2: 2,\n  3: 3,\n  4: 4,\n  5: 5,\n  6: 6,\n  7: 7,\n  8: 8,\n  9: 9,\n  a: 10,\n  b: 11,\n  c: 12,\n  d: 13,\n  e: 14,\n  f: 15,\n  A: 10,\n  B: 11,\n  C: 12,\n  D: 13,\n  E: 14,\n  F: 15\n};\nexport function hexToUint8Array(hexString) {\n  assertString(hexString);\n  if (hexString.length % 2 !== 0) {\n    throw new Error('Invalid Hex string length.');\n  }\n  const resultLength = hexString.length / 2;\n  const bytes = new Uint8Array(resultLength);\n  for (let index = 0; index < resultLength; index++) {\n    const highNibble = hexToDecimalLookupTable[hexString[index * 2]];\n    const lowNibble = hexToDecimalLookupTable[hexString[index * 2 + 1]];\n    if (highNibble === undefined || lowNibble === undefined) {\n      throw new Error(`Invalid Hex character encountered at position ${index * 2}`);\n    }\n    bytes[index] = highNibble << 4 | lowNibble; // eslint-disable-line no-bitwise\n  }\n  return bytes;\n}\n\n/**\n@param {DataView} view\n@returns {number}\n*/\nexport function getUintBE(view) {\n  const {\n    byteLength\n  } = view;\n  if (byteLength === 6) {\n    return view.getUint16(0) * 2 ** 32 + view.getUint32(2);\n  }\n  if (byteLength === 5) {\n    return view.getUint8(0) * 2 ** 32 + view.getUint32(1);\n  }\n  if (byteLength === 4) {\n    return view.getUint32(0);\n  }\n  if (byteLength === 3) {\n    return view.getUint8(0) * 2 ** 16 + view.getUint16(1);\n  }\n  if (byteLength === 2) {\n    return view.getUint16(0);\n  }\n  if (byteLength === 1) {\n    return view.getUint8(0);\n  }\n}\n\n/**\n@param {Uint8Array} array\n@param {Uint8Array} value\n@returns {number}\n*/\nexport function indexOf(array, value) {\n  const arrayLength = array.length;\n  const valueLength = value.length;\n  if (valueLength === 0) {\n    return -1;\n  }\n  if (valueLength > arrayLength) {\n    return -1;\n  }\n  const validOffsetLength = arrayLength - valueLength;\n  for (let index = 0; index <= validOffsetLength; index++) {\n    let isMatch = true;\n    for (let index2 = 0; index2 < valueLength; index2++) {\n      if (array[index + index2] !== value[index2]) {\n        isMatch = false;\n        break;\n      }\n    }\n    if (isMatch) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n@param {Uint8Array} array\n@param {Uint8Array} value\n@returns {boolean}\n*/\nexport function includes(array, value) {\n  return indexOf(array, value) !== -1;\n}","import { StringType } from 'token-types';\nexport function stringToBytes(string) {\n  return [...string].map(character => character.charCodeAt(0)); // eslint-disable-line unicorn/prefer-code-point\n}\n\n/**\nChecks whether the TAR checksum is valid.\n\n@param {Uint8Array} arrayBuffer - The TAR header `[offset ... offset + 512]`.\n@param {number} offset - TAR header offset.\n@returns {boolean} `true` if the TAR checksum is valid, otherwise `false`.\n*/\nexport function tarHeaderChecksumMatches(arrayBuffer, offset = 0) {\n  const readSum = Number.parseInt(new StringType(6).get(arrayBuffer, 148).replace(/\\0.*$/, '').trim(), 8); // Read sum in header\n  if (Number.isNaN(readSum)) {\n    return false;\n  }\n  let sum = 8 * 0x20; // Initialize signed bit sum\n\n  for (let index = offset; index < offset + 148; index++) {\n    sum += arrayBuffer[index];\n  }\n  for (let index = offset + 156; index < offset + 512; index++) {\n    sum += arrayBuffer[index];\n  }\n  return readSum === sum;\n}\n\n/**\nID3 UINT32 sync-safe tokenizer token.\n28 bits (representing up to 256MB) integer, the msb is 0 to avoid \"false syncsignals\".\n*/\nexport const uint32SyncSafeToken = {\n  get: (buffer, offset) => buffer[offset + 3] & 0x7F | buffer[offset + 2] << 7 | buffer[offset + 1] << 14 | buffer[offset] << 21,\n  len: 4\n};","export const extensions = ['jpg', 'png', 'apng', 'gif', 'webp', 'flif', 'xcf', 'cr2', 'cr3', 'orf', 'arw', 'dng', 'nef', 'rw2', 'raf', 'tif', 'bmp', 'icns', 'jxr', 'psd', 'indd', 'zip', 'tar', 'rar', 'gz', 'bz2', '7z', 'dmg', 'mp4', 'mid', 'mkv', 'webm', 'mov', 'avi', 'mpg', 'mp2', 'mp3', 'm4a', 'oga', 'ogg', 'ogv', 'opus', 'flac', 'wav', 'spx', 'amr', 'pdf', 'epub', 'elf', 'macho', 'exe', 'swf', 'rtf', 'wasm', 'woff', 'woff2', 'eot', 'ttf', 'otf', 'ttc', 'ico', 'flv', 'ps', 'xz', 'sqlite', 'nes', 'crx', 'xpi', 'cab', 'deb', 'ar', 'rpm', 'Z', 'lz', 'cfb', 'mxf', 'mts', 'blend', 'bpg', 'docx', 'pptx', 'xlsx', '3gp', '3g2', 'j2c', 'jp2', 'jpm', 'jpx', 'mj2', 'aif', 'qcp', 'odt', 'ods', 'odp', 'xml', 'mobi', 'heic', 'cur', 'ktx', 'ape', 'wv', 'dcm', 'ics', 'glb', 'pcap', 'dsf', 'lnk', 'alias', 'voc', 'ac3', 'm4v', 'm4p', 'm4b', 'f4v', 'f4p', 'f4b', 'f4a', 'mie', 'asf', 'ogm', 'ogx', 'mpc', 'arrow', 'shp', 'aac', 'mp1', 'it', 's3m', 'xm', 'skp', 'avif', 'eps', 'lzh', 'pgp', 'asar', 'stl', 'chm', '3mf', 'zst', 'jxl', 'vcf', 'jls', 'pst', 'dwg', 'parquet', 'class', 'arj', 'cpio', 'ace', 'avro', 'icc', 'fbx', 'vsdx', 'vtt', 'apk', 'drc', 'lz4', 'potx', 'xltx', 'dotx', 'xltm', 'ott', 'ots', 'otp', 'odg', 'otg', 'xlsm', 'docm', 'dotm', 'potm', 'pptm', 'jar', 'rm', 'ppsm', 'ppsx'];\nexport const mimeTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp', 'image/flif', 'image/x-xcf', 'image/x-canon-cr2', 'image/x-canon-cr3', 'image/tiff', 'image/bmp', 'image/vnd.ms-photo', 'image/vnd.adobe.photoshop', 'application/x-indesign', 'application/epub+zip', 'application/x-xpinstall', 'application/vnd.ms-powerpoint.slideshow.macroenabled.12', 'application/vnd.oasis.opendocument.text', 'application/vnd.oasis.opendocument.spreadsheet', 'application/vnd.oasis.opendocument.presentation', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'application/vnd.openxmlformats-officedocument.presentationml.presentation', 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'application/vnd.openxmlformats-officedocument.presentationml.slideshow', 'application/zip', 'application/x-tar', 'application/x-rar-compressed', 'application/gzip', 'application/x-bzip2', 'application/x-7z-compressed', 'application/x-apple-diskimage', 'application/vnd.apache.arrow.file', 'video/mp4', 'audio/midi', 'video/matroska', 'video/webm', 'video/quicktime', 'video/vnd.avi', 'audio/wav', 'audio/qcelp', 'audio/x-ms-asf', 'video/x-ms-asf', 'application/vnd.ms-asf', 'video/mpeg', 'video/3gpp', 'audio/mpeg', 'audio/mp4',\n// RFC 4337\n'video/ogg', 'audio/ogg', 'audio/ogg; codecs=opus', 'application/ogg', 'audio/flac', 'audio/ape', 'audio/wavpack', 'audio/amr', 'application/pdf', 'application/x-elf', 'application/x-mach-binary', 'application/x-msdownload', 'application/x-shockwave-flash', 'application/rtf', 'application/wasm', 'font/woff', 'font/woff2', 'application/vnd.ms-fontobject', 'font/ttf', 'font/otf', 'font/collection', 'image/x-icon', 'video/x-flv', 'application/postscript', 'application/eps', 'application/x-xz', 'application/x-sqlite3', 'application/x-nintendo-nes-rom', 'application/x-google-chrome-extension', 'application/vnd.ms-cab-compressed', 'application/x-deb', 'application/x-unix-archive', 'application/x-rpm', 'application/x-compress', 'application/x-lzip', 'application/x-cfb', 'application/x-mie', 'application/mxf', 'video/mp2t', 'application/x-blender', 'image/bpg', 'image/j2c', 'image/jp2', 'image/jpx', 'image/jpm', 'image/mj2', 'audio/aiff', 'application/xml', 'application/x-mobipocket-ebook', 'image/heif', 'image/heif-sequence', 'image/heic', 'image/heic-sequence', 'image/icns', 'image/ktx', 'application/dicom', 'audio/x-musepack', 'text/calendar', 'text/vcard', 'text/vtt', 'model/gltf-binary', 'application/vnd.tcpdump.pcap', 'audio/x-dsf',\n// Non-standard\n'application/x.ms.shortcut',\n// Invented by us\n'application/x.apple.alias',\n// Invented by us\n'audio/x-voc', 'audio/vnd.dolby.dd-raw', 'audio/x-m4a', 'image/apng', 'image/x-olympus-orf', 'image/x-sony-arw', 'image/x-adobe-dng', 'image/x-nikon-nef', 'image/x-panasonic-rw2', 'image/x-fujifilm-raf', 'video/x-m4v', 'video/3gpp2', 'application/x-esri-shape', 'audio/aac', 'audio/x-it', 'audio/x-s3m', 'audio/x-xm', 'video/MP1S', 'video/MP2P', 'application/vnd.sketchup.skp', 'image/avif', 'application/x-lzh-compressed', 'application/pgp-encrypted', 'application/x-asar', 'model/stl', 'application/vnd.ms-htmlhelp', 'model/3mf', 'image/jxl', 'application/zstd', 'image/jls', 'application/vnd.ms-outlook', 'image/vnd.dwg', 'application/vnd.apache.parquet', 'application/java-vm', 'application/x-arj', 'application/x-cpio', 'application/x-ace-compressed', 'application/avro', 'application/vnd.iccprofile', 'application/x.autodesk.fbx',\n// Invented by us\n'application/vnd.visio', 'application/vnd.android.package-archive', 'application/vnd.google.draco',\n// Invented by us\n'application/x-lz4',\n// Invented by us\n'application/vnd.openxmlformats-officedocument.presentationml.template', 'application/vnd.openxmlformats-officedocument.spreadsheetml.template', 'application/vnd.openxmlformats-officedocument.wordprocessingml.template', 'application/vnd.ms-excel.template.macroenabled.12', 'application/vnd.oasis.opendocument.text-template', 'application/vnd.oasis.opendocument.spreadsheet-template', 'application/vnd.oasis.opendocument.presentation-template', 'application/vnd.oasis.opendocument.graphics', 'application/vnd.oasis.opendocument.graphics-template', 'application/vnd.ms-excel.sheet.macroenabled.12', 'application/vnd.ms-word.document.macroenabled.12', 'application/vnd.ms-word.template.macroenabled.12', 'application/vnd.ms-powerpoint.template.macroenabled.12', 'application/vnd.ms-powerpoint.presentation.macroenabled.12', 'application/java-archive', 'application/vnd.rn-realmedia'];","/**\nPrimary entry point, Node.js specific entry point is index.js\n*/\n\nimport * as Token from 'token-types';\nimport * as strtok3 from 'strtok3/core';\nimport { ZipHandler } from '@tokenizer/inflate';\nimport { getUintBE } from 'uint8array-extras';\nimport { stringToBytes, tarHeaderChecksumMatches, uint32SyncSafeToken } from './util.js';\nimport { extensions, mimeTypes } from './supported.js';\nexport const reasonableDetectionSizeInBytes = 4100; // A fair amount of file-types are detectable within this range.\n\nexport async function fileTypeFromStream(stream, options) {\n  return new FileTypeParser(options).fromStream(stream);\n}\nexport async function fileTypeFromBuffer(input, options) {\n  return new FileTypeParser(options).fromBuffer(input);\n}\nexport async function fileTypeFromBlob(blob, options) {\n  return new FileTypeParser(options).fromBlob(blob);\n}\nfunction getFileTypeFromMimeType(mimeType) {\n  mimeType = mimeType.toLowerCase();\n  switch (mimeType) {\n    case 'application/epub+zip':\n      return {\n        ext: 'epub',\n        mime: mimeType\n      };\n    case 'application/vnd.oasis.opendocument.text':\n      return {\n        ext: 'odt',\n        mime: mimeType\n      };\n    case 'application/vnd.oasis.opendocument.text-template':\n      return {\n        ext: 'ott',\n        mime: mimeType\n      };\n    case 'application/vnd.oasis.opendocument.spreadsheet':\n      return {\n        ext: 'ods',\n        mime: mimeType\n      };\n    case 'application/vnd.oasis.opendocument.spreadsheet-template':\n      return {\n        ext: 'ots',\n        mime: mimeType\n      };\n    case 'application/vnd.oasis.opendocument.presentation':\n      return {\n        ext: 'odp',\n        mime: mimeType\n      };\n    case 'application/vnd.oasis.opendocument.presentation-template':\n      return {\n        ext: 'otp',\n        mime: mimeType\n      };\n    case 'application/vnd.oasis.opendocument.graphics':\n      return {\n        ext: 'odg',\n        mime: mimeType\n      };\n    case 'application/vnd.oasis.opendocument.graphics-template':\n      return {\n        ext: 'otg',\n        mime: mimeType\n      };\n    case 'application/vnd.openxmlformats-officedocument.presentationml.slideshow':\n      return {\n        ext: 'ppsx',\n        mime: mimeType\n      };\n    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':\n      return {\n        ext: 'xlsx',\n        mime: mimeType\n      };\n    case 'application/vnd.ms-excel.sheet.macroenabled':\n      return {\n        ext: 'xlsm',\n        mime: 'application/vnd.ms-excel.sheet.macroenabled.12'\n      };\n    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.template':\n      return {\n        ext: 'xltx',\n        mime: mimeType\n      };\n    case 'application/vnd.ms-excel.template.macroenabled':\n      return {\n        ext: 'xltm',\n        mime: 'application/vnd.ms-excel.template.macroenabled.12'\n      };\n    case 'application/vnd.ms-powerpoint.slideshow.macroenabled':\n      return {\n        ext: 'ppsm',\n        mime: 'application/vnd.ms-powerpoint.slideshow.macroenabled.12'\n      };\n    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':\n      return {\n        ext: 'docx',\n        mime: mimeType\n      };\n    case 'application/vnd.ms-word.document.macroenabled':\n      return {\n        ext: 'docm',\n        mime: 'application/vnd.ms-word.document.macroenabled.12'\n      };\n    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.template':\n      return {\n        ext: 'dotx',\n        mime: mimeType\n      };\n    case 'application/vnd.ms-word.template.macroenabledtemplate':\n      return {\n        ext: 'dotm',\n        mime: 'application/vnd.ms-word.template.macroenabled.12'\n      };\n    case 'application/vnd.openxmlformats-officedocument.presentationml.template':\n      return {\n        ext: 'potx',\n        mime: mimeType\n      };\n    case 'application/vnd.ms-powerpoint.template.macroenabled':\n      return {\n        ext: 'potm',\n        mime: 'application/vnd.ms-powerpoint.template.macroenabled.12'\n      };\n    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n      return {\n        ext: 'pptx',\n        mime: mimeType\n      };\n    case 'application/vnd.ms-powerpoint.presentation.macroenabled':\n      return {\n        ext: 'pptm',\n        mime: 'application/vnd.ms-powerpoint.presentation.macroenabled.12'\n      };\n    case 'application/vnd.ms-visio.drawing':\n      return {\n        ext: 'vsdx',\n        mime: 'application/vnd.visio'\n      };\n    case 'application/vnd.ms-package.3dmanufacturing-3dmodel+xml':\n      return {\n        ext: '3mf',\n        mime: 'model/3mf'\n      };\n    default:\n  }\n}\nfunction _check(buffer, headers, options) {\n  options = {\n    offset: 0,\n    ...options\n  };\n  for (const [index, header] of headers.entries()) {\n    // If a bitmask is set\n    if (options.mask) {\n      // If header doesn't equal `buf` with bits masked off\n      if (header !== (options.mask[index] & buffer[index + options.offset])) {\n        return false;\n      }\n    } else if (header !== buffer[index + options.offset]) {\n      return false;\n    }\n  }\n  return true;\n}\nexport async function fileTypeFromTokenizer(tokenizer, options) {\n  return new FileTypeParser(options).fromTokenizer(tokenizer);\n}\nexport async function fileTypeStream(webStream, options) {\n  return new FileTypeParser(options).toDetectionStream(webStream, options);\n}\nexport class FileTypeParser {\n  constructor(options) {\n    this.options = {\n      mpegOffsetTolerance: 0,\n      ...options\n    };\n    this.detectors = [...(options?.customDetectors ?? []), {\n      id: 'core',\n      detect: this.detectConfident\n    }, {\n      id: 'core.imprecise',\n      detect: this.detectImprecise\n    }];\n    this.tokenizerOptions = {\n      abortSignal: options?.signal\n    };\n  }\n  async fromTokenizer(tokenizer) {\n    const initialPosition = tokenizer.position;\n\n    // Iterate through all file-type detectors\n    for (const detector of this.detectors) {\n      const fileType = await detector.detect(tokenizer);\n      if (fileType) {\n        return fileType;\n      }\n      if (initialPosition !== tokenizer.position) {\n        return undefined; // Cannot proceed scanning of the tokenizer is at an arbitrary position\n      }\n    }\n  }\n  async fromBuffer(input) {\n    if (!(input instanceof Uint8Array || input instanceof ArrayBuffer)) {\n      throw new TypeError(`Expected the \\`input\\` argument to be of type \\`Uint8Array\\` or \\`ArrayBuffer\\`, got \\`${typeof input}\\``);\n    }\n    const buffer = input instanceof Uint8Array ? input : new Uint8Array(input);\n    if (!(buffer?.length > 1)) {\n      return;\n    }\n    return this.fromTokenizer(strtok3.fromBuffer(buffer, this.tokenizerOptions));\n  }\n  async fromBlob(blob) {\n    return this.fromStream(blob.stream());\n  }\n  async fromStream(stream) {\n    const tokenizer = await strtok3.fromWebStream(stream, this.tokenizerOptions);\n    try {\n      return await this.fromTokenizer(tokenizer);\n    } finally {\n      await tokenizer.close();\n    }\n  }\n  async toDetectionStream(stream, options) {\n    const {\n      sampleSize = reasonableDetectionSizeInBytes\n    } = options;\n    let detectedFileType;\n    let firstChunk;\n    const reader = stream.getReader({\n      mode: 'byob'\n    });\n    try {\n      // Read the first chunk from the stream\n      const {\n        value: chunk,\n        done\n      } = await reader.read(new Uint8Array(sampleSize));\n      firstChunk = chunk;\n      if (!done && chunk) {\n        try {\n          // Attempt to detect the file type from the chunk\n          detectedFileType = await this.fromBuffer(chunk.subarray(0, sampleSize));\n        } catch (error) {\n          if (!(error instanceof strtok3.EndOfStreamError)) {\n            throw error; // Re-throw non-EndOfStreamError\n          }\n          detectedFileType = undefined;\n        }\n      }\n      firstChunk = chunk;\n    } finally {\n      reader.releaseLock(); // Ensure the reader is released\n    }\n\n    // Create a new ReadableStream to manage locking issues\n    const transformStream = new TransformStream({\n      async start(controller) {\n        controller.enqueue(firstChunk); // Enqueue the initial chunk\n      },\n      transform(chunk, controller) {\n        // Pass through the chunks without modification\n        controller.enqueue(chunk);\n      }\n    });\n    const newStream = stream.pipeThrough(transformStream);\n    newStream.fileType = detectedFileType;\n    return newStream;\n  }\n  check(header, options) {\n    return _check(this.buffer, header, options);\n  }\n  checkString(header, options) {\n    return this.check(stringToBytes(header), options);\n  }\n\n  // Detections with a high degree of certainty in identifying the correct file type\n  detectConfident = async tokenizer => {\n    this.buffer = new Uint8Array(reasonableDetectionSizeInBytes);\n\n    // Keep reading until EOF if the file size is unknown.\n    if (tokenizer.fileInfo.size === undefined) {\n      tokenizer.fileInfo.size = Number.MAX_SAFE_INTEGER;\n    }\n    this.tokenizer = tokenizer;\n    await tokenizer.peekBuffer(this.buffer, {\n      length: 12,\n      mayBeLess: true\n    });\n\n    // -- 2-byte signatures --\n\n    if (this.check([0x42, 0x4D])) {\n      return {\n        ext: 'bmp',\n        mime: 'image/bmp'\n      };\n    }\n    if (this.check([0x0B, 0x77])) {\n      return {\n        ext: 'ac3',\n        mime: 'audio/vnd.dolby.dd-raw'\n      };\n    }\n    if (this.check([0x78, 0x01])) {\n      return {\n        ext: 'dmg',\n        mime: 'application/x-apple-diskimage'\n      };\n    }\n    if (this.check([0x4D, 0x5A])) {\n      return {\n        ext: 'exe',\n        mime: 'application/x-msdownload'\n      };\n    }\n    if (this.check([0x25, 0x21])) {\n      await tokenizer.peekBuffer(this.buffer, {\n        length: 24,\n        mayBeLess: true\n      });\n      if (this.checkString('PS-Adobe-', {\n        offset: 2\n      }) && this.checkString(' EPSF-', {\n        offset: 14\n      })) {\n        return {\n          ext: 'eps',\n          mime: 'application/eps'\n        };\n      }\n      return {\n        ext: 'ps',\n        mime: 'application/postscript'\n      };\n    }\n    if (this.check([0x1F, 0xA0]) || this.check([0x1F, 0x9D])) {\n      return {\n        ext: 'Z',\n        mime: 'application/x-compress'\n      };\n    }\n    if (this.check([0xC7, 0x71])) {\n      return {\n        ext: 'cpio',\n        mime: 'application/x-cpio'\n      };\n    }\n    if (this.check([0x60, 0xEA])) {\n      return {\n        ext: 'arj',\n        mime: 'application/x-arj'\n      };\n    }\n\n    // -- 3-byte signatures --\n\n    if (this.check([0xEF, 0xBB, 0xBF])) {\n      // UTF-8-BOM\n      // Strip off UTF-8-BOM\n      this.tokenizer.ignore(3);\n      return this.detectConfident(tokenizer);\n    }\n    if (this.check([0x47, 0x49, 0x46])) {\n      return {\n        ext: 'gif',\n        mime: 'image/gif'\n      };\n    }\n    if (this.check([0x49, 0x49, 0xBC])) {\n      return {\n        ext: 'jxr',\n        mime: 'image/vnd.ms-photo'\n      };\n    }\n    if (this.check([0x1F, 0x8B, 0x8])) {\n      return {\n        ext: 'gz',\n        mime: 'application/gzip'\n      };\n    }\n    if (this.check([0x42, 0x5A, 0x68])) {\n      return {\n        ext: 'bz2',\n        mime: 'application/x-bzip2'\n      };\n    }\n    if (this.checkString('ID3')) {\n      await tokenizer.ignore(6); // Skip ID3 header until the header size\n      const id3HeaderLength = await tokenizer.readToken(uint32SyncSafeToken);\n      if (tokenizer.position + id3HeaderLength > tokenizer.fileInfo.size) {\n        // Guess file type based on ID3 header for backward compatibility\n        return {\n          ext: 'mp3',\n          mime: 'audio/mpeg'\n        };\n      }\n      await tokenizer.ignore(id3HeaderLength);\n      return this.fromTokenizer(tokenizer); // Skip ID3 header, recursion\n    }\n\n    // Musepack, SV7\n    if (this.checkString('MP+')) {\n      return {\n        ext: 'mpc',\n        mime: 'audio/x-musepack'\n      };\n    }\n    if ((this.buffer[0] === 0x43 || this.buffer[0] === 0x46) && this.check([0x57, 0x53], {\n      offset: 1\n    })) {\n      return {\n        ext: 'swf',\n        mime: 'application/x-shockwave-flash'\n      };\n    }\n\n    // -- 4-byte signatures --\n\n    // Requires a sample size of 4 bytes\n    if (this.check([0xFF, 0xD8, 0xFF])) {\n      if (this.check([0xF7], {\n        offset: 3\n      })) {\n        // JPG7/SOF55, indicating a ISO/IEC 14495 / JPEG-LS file\n        return {\n          ext: 'jls',\n          mime: 'image/jls'\n        };\n      }\n      return {\n        ext: 'jpg',\n        mime: 'image/jpeg'\n      };\n    }\n    if (this.check([0x4F, 0x62, 0x6A, 0x01])) {\n      return {\n        ext: 'avro',\n        mime: 'application/avro'\n      };\n    }\n    if (this.checkString('FLIF')) {\n      return {\n        ext: 'flif',\n        mime: 'image/flif'\n      };\n    }\n    if (this.checkString('8BPS')) {\n      return {\n        ext: 'psd',\n        mime: 'image/vnd.adobe.photoshop'\n      };\n    }\n\n    // Musepack, SV8\n    if (this.checkString('MPCK')) {\n      return {\n        ext: 'mpc',\n        mime: 'audio/x-musepack'\n      };\n    }\n    if (this.checkString('FORM')) {\n      return {\n        ext: 'aif',\n        mime: 'audio/aiff'\n      };\n    }\n    if (this.checkString('icns', {\n      offset: 0\n    })) {\n      return {\n        ext: 'icns',\n        mime: 'image/icns'\n      };\n    }\n\n    // Zip-based file formats\n    // Need to be before the `zip` check\n    if (this.check([0x50, 0x4B, 0x3, 0x4])) {\n      // Local file header signature\n      let fileType;\n      await new ZipHandler(tokenizer).unzip(zipHeader => {\n        switch (zipHeader.filename) {\n          case 'META-INF/mozilla.rsa':\n            fileType = {\n              ext: 'xpi',\n              mime: 'application/x-xpinstall'\n            };\n            return {\n              stop: true\n            };\n          case 'META-INF/MANIFEST.MF':\n            fileType = {\n              ext: 'jar',\n              mime: 'application/java-archive'\n            };\n            return {\n              stop: true\n            };\n          case 'mimetype':\n            return {\n              async handler(fileData) {\n                // Use TextDecoder to decode the UTF-8 encoded data\n                const mimeType = new TextDecoder('utf-8').decode(fileData).trim();\n                fileType = getFileTypeFromMimeType(mimeType);\n              },\n              stop: true\n            };\n          case '[Content_Types].xml':\n            return {\n              async handler(fileData) {\n                // Use TextDecoder to decode the UTF-8 encoded data\n                let xmlContent = new TextDecoder('utf-8').decode(fileData);\n                const endPos = xmlContent.indexOf('.main+xml\"');\n                if (endPos === -1) {\n                  const mimeType = 'application/vnd.ms-package.3dmanufacturing-3dmodel+xml';\n                  if (xmlContent.includes(`ContentType=\"${mimeType}\"`)) {\n                    fileType = getFileTypeFromMimeType(mimeType);\n                  }\n                } else {\n                  xmlContent = xmlContent.slice(0, Math.max(0, endPos));\n                  const firstPos = xmlContent.lastIndexOf('\"');\n                  const mimeType = xmlContent.slice(Math.max(0, firstPos + 1));\n                  fileType = getFileTypeFromMimeType(mimeType);\n                }\n              },\n              stop: true\n            };\n          default:\n            if (/classes\\d*\\.dex/.test(zipHeader.filename)) {\n              fileType = {\n                ext: 'apk',\n                mime: 'application/vnd.android.package-archive'\n              };\n              return {\n                stop: true\n              };\n            }\n            return {};\n        }\n      });\n      return fileType ?? {\n        ext: 'zip',\n        mime: 'application/zip'\n      };\n    }\n    if (this.checkString('OggS')) {\n      // This is an OGG container\n      await tokenizer.ignore(28);\n      const type = new Uint8Array(8);\n      await tokenizer.readBuffer(type);\n\n      // Needs to be before `ogg` check\n      if (_check(type, [0x4F, 0x70, 0x75, 0x73, 0x48, 0x65, 0x61, 0x64])) {\n        return {\n          ext: 'opus',\n          mime: 'audio/ogg; codecs=opus'\n        };\n      }\n\n      // If ' theora' in header.\n      if (_check(type, [0x80, 0x74, 0x68, 0x65, 0x6F, 0x72, 0x61])) {\n        return {\n          ext: 'ogv',\n          mime: 'video/ogg'\n        };\n      }\n\n      // If '\\x01video' in header.\n      if (_check(type, [0x01, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x00])) {\n        return {\n          ext: 'ogm',\n          mime: 'video/ogg'\n        };\n      }\n\n      // If ' FLAC' in header  https://xiph.org/flac/faq.html\n      if (_check(type, [0x7F, 0x46, 0x4C, 0x41, 0x43])) {\n        return {\n          ext: 'oga',\n          mime: 'audio/ogg'\n        };\n      }\n\n      // 'Speex  ' in header https://en.wikipedia.org/wiki/Speex\n      if (_check(type, [0x53, 0x70, 0x65, 0x65, 0x78, 0x20, 0x20])) {\n        return {\n          ext: 'spx',\n          mime: 'audio/ogg'\n        };\n      }\n\n      // If '\\x01vorbis' in header\n      if (_check(type, [0x01, 0x76, 0x6F, 0x72, 0x62, 0x69, 0x73])) {\n        return {\n          ext: 'ogg',\n          mime: 'audio/ogg'\n        };\n      }\n\n      // Default OGG container https://www.iana.org/assignments/media-types/application/ogg\n      return {\n        ext: 'ogx',\n        mime: 'application/ogg'\n      };\n    }\n    if (this.check([0x50, 0x4B]) && (this.buffer[2] === 0x3 || this.buffer[2] === 0x5 || this.buffer[2] === 0x7) && (this.buffer[3] === 0x4 || this.buffer[3] === 0x6 || this.buffer[3] === 0x8)) {\n      return {\n        ext: 'zip',\n        mime: 'application/zip'\n      };\n    }\n    if (this.checkString('MThd')) {\n      return {\n        ext: 'mid',\n        mime: 'audio/midi'\n      };\n    }\n    if (this.checkString('wOFF') && (this.check([0x00, 0x01, 0x00, 0x00], {\n      offset: 4\n    }) || this.checkString('OTTO', {\n      offset: 4\n    }))) {\n      return {\n        ext: 'woff',\n        mime: 'font/woff'\n      };\n    }\n    if (this.checkString('wOF2') && (this.check([0x00, 0x01, 0x00, 0x00], {\n      offset: 4\n    }) || this.checkString('OTTO', {\n      offset: 4\n    }))) {\n      return {\n        ext: 'woff2',\n        mime: 'font/woff2'\n      };\n    }\n    if (this.check([0xD4, 0xC3, 0xB2, 0xA1]) || this.check([0xA1, 0xB2, 0xC3, 0xD4])) {\n      return {\n        ext: 'pcap',\n        mime: 'application/vnd.tcpdump.pcap'\n      };\n    }\n\n    // Sony DSD Stream File (DSF)\n    if (this.checkString('DSD ')) {\n      return {\n        ext: 'dsf',\n        mime: 'audio/x-dsf' // Non-standard\n      };\n    }\n    if (this.checkString('LZIP')) {\n      return {\n        ext: 'lz',\n        mime: 'application/x-lzip'\n      };\n    }\n    if (this.checkString('fLaC')) {\n      return {\n        ext: 'flac',\n        mime: 'audio/flac'\n      };\n    }\n    if (this.check([0x42, 0x50, 0x47, 0xFB])) {\n      return {\n        ext: 'bpg',\n        mime: 'image/bpg'\n      };\n    }\n    if (this.checkString('wvpk')) {\n      return {\n        ext: 'wv',\n        mime: 'audio/wavpack'\n      };\n    }\n    if (this.checkString('%PDF')) {\n      // Assume this is just a normal PDF\n      return {\n        ext: 'pdf',\n        mime: 'application/pdf'\n      };\n    }\n    if (this.check([0x00, 0x61, 0x73, 0x6D])) {\n      return {\n        ext: 'wasm',\n        mime: 'application/wasm'\n      };\n    }\n\n    // TIFF, little-endian type\n    if (this.check([0x49, 0x49])) {\n      const fileType = await this.readTiffHeader(false);\n      if (fileType) {\n        return fileType;\n      }\n    }\n\n    // TIFF, big-endian type\n    if (this.check([0x4D, 0x4D])) {\n      const fileType = await this.readTiffHeader(true);\n      if (fileType) {\n        return fileType;\n      }\n    }\n    if (this.checkString('MAC ')) {\n      return {\n        ext: 'ape',\n        mime: 'audio/ape'\n      };\n    }\n\n    // https://github.com/file/file/blob/master/magic/Magdir/matroska\n    if (this.check([0x1A, 0x45, 0xDF, 0xA3])) {\n      // Root element: EBML\n      async function readField() {\n        const msb = await tokenizer.peekNumber(Token.UINT8);\n        let mask = 0x80;\n        let ic = 0; // 0 = A, 1 = B, 2 = C, 3 = D\n\n        while ((msb & mask) === 0 && mask !== 0) {\n          ++ic;\n          mask >>= 1;\n        }\n        const id = new Uint8Array(ic + 1);\n        await tokenizer.readBuffer(id);\n        return id;\n      }\n      async function readElement() {\n        const idField = await readField();\n        const lengthField = await readField();\n        lengthField[0] ^= 0x80 >> lengthField.length - 1;\n        const nrLength = Math.min(6, lengthField.length); // JavaScript can max read 6 bytes integer\n\n        const idView = new DataView(idField.buffer);\n        const lengthView = new DataView(lengthField.buffer, lengthField.length - nrLength, nrLength);\n        return {\n          id: getUintBE(idView),\n          len: getUintBE(lengthView)\n        };\n      }\n      async function readChildren(children) {\n        while (children > 0) {\n          const element = await readElement();\n          if (element.id === 0x42_82) {\n            const rawValue = await tokenizer.readToken(new Token.StringType(element.len));\n            return rawValue.replaceAll(/\\00.*$/g, ''); // Return DocType\n          }\n          await tokenizer.ignore(element.len); // ignore payload\n          --children;\n        }\n      }\n      const re = await readElement();\n      const documentType = await readChildren(re.len);\n      switch (documentType) {\n        case 'webm':\n          return {\n            ext: 'webm',\n            mime: 'video/webm'\n          };\n        case 'matroska':\n          return {\n            ext: 'mkv',\n            mime: 'video/matroska'\n          };\n        default:\n          return;\n      }\n    }\n    if (this.checkString('SQLi')) {\n      return {\n        ext: 'sqlite',\n        mime: 'application/x-sqlite3'\n      };\n    }\n    if (this.check([0x4E, 0x45, 0x53, 0x1A])) {\n      return {\n        ext: 'nes',\n        mime: 'application/x-nintendo-nes-rom'\n      };\n    }\n    if (this.checkString('Cr24')) {\n      return {\n        ext: 'crx',\n        mime: 'application/x-google-chrome-extension'\n      };\n    }\n    if (this.checkString('MSCF') || this.checkString('ISc(')) {\n      return {\n        ext: 'cab',\n        mime: 'application/vnd.ms-cab-compressed'\n      };\n    }\n    if (this.check([0xED, 0xAB, 0xEE, 0xDB])) {\n      return {\n        ext: 'rpm',\n        mime: 'application/x-rpm'\n      };\n    }\n    if (this.check([0xC5, 0xD0, 0xD3, 0xC6])) {\n      return {\n        ext: 'eps',\n        mime: 'application/eps'\n      };\n    }\n    if (this.check([0x28, 0xB5, 0x2F, 0xFD])) {\n      return {\n        ext: 'zst',\n        mime: 'application/zstd'\n      };\n    }\n    if (this.check([0x7F, 0x45, 0x4C, 0x46])) {\n      return {\n        ext: 'elf',\n        mime: 'application/x-elf'\n      };\n    }\n    if (this.check([0x21, 0x42, 0x44, 0x4E])) {\n      return {\n        ext: 'pst',\n        mime: 'application/vnd.ms-outlook'\n      };\n    }\n    if (this.checkString('PAR1') || this.checkString('PARE')) {\n      return {\n        ext: 'parquet',\n        mime: 'application/vnd.apache.parquet'\n      };\n    }\n    if (this.checkString('ttcf')) {\n      return {\n        ext: 'ttc',\n        mime: 'font/collection'\n      };\n    }\n    if (this.check([0xCF, 0xFA, 0xED, 0xFE])) {\n      return {\n        ext: 'macho',\n        mime: 'application/x-mach-binary'\n      };\n    }\n    if (this.check([0x04, 0x22, 0x4D, 0x18])) {\n      return {\n        ext: 'lz4',\n        mime: 'application/x-lz4' // Invented by us\n      };\n    }\n\n    // -- 5-byte signatures --\n\n    if (this.check([0x4F, 0x54, 0x54, 0x4F, 0x00])) {\n      return {\n        ext: 'otf',\n        mime: 'font/otf'\n      };\n    }\n    if (this.checkString('#!AMR')) {\n      return {\n        ext: 'amr',\n        mime: 'audio/amr'\n      };\n    }\n    if (this.checkString('{\\\\rtf')) {\n      return {\n        ext: 'rtf',\n        mime: 'application/rtf'\n      };\n    }\n    if (this.check([0x46, 0x4C, 0x56, 0x01])) {\n      return {\n        ext: 'flv',\n        mime: 'video/x-flv'\n      };\n    }\n    if (this.checkString('IMPM')) {\n      return {\n        ext: 'it',\n        mime: 'audio/x-it'\n      };\n    }\n    if (this.checkString('-lh0-', {\n      offset: 2\n    }) || this.checkString('-lh1-', {\n      offset: 2\n    }) || this.checkString('-lh2-', {\n      offset: 2\n    }) || this.checkString('-lh3-', {\n      offset: 2\n    }) || this.checkString('-lh4-', {\n      offset: 2\n    }) || this.checkString('-lh5-', {\n      offset: 2\n    }) || this.checkString('-lh6-', {\n      offset: 2\n    }) || this.checkString('-lh7-', {\n      offset: 2\n    }) || this.checkString('-lzs-', {\n      offset: 2\n    }) || this.checkString('-lz4-', {\n      offset: 2\n    }) || this.checkString('-lz5-', {\n      offset: 2\n    }) || this.checkString('-lhd-', {\n      offset: 2\n    })) {\n      return {\n        ext: 'lzh',\n        mime: 'application/x-lzh-compressed'\n      };\n    }\n\n    // MPEG program stream (PS or MPEG-PS)\n    if (this.check([0x00, 0x00, 0x01, 0xBA])) {\n      //  MPEG-PS, MPEG-1 Part 1\n      if (this.check([0x21], {\n        offset: 4,\n        mask: [0xF1]\n      })) {\n        return {\n          ext: 'mpg',\n          // May also be .ps, .mpeg\n          mime: 'video/MP1S'\n        };\n      }\n\n      // MPEG-PS, MPEG-2 Part 1\n      if (this.check([0x44], {\n        offset: 4,\n        mask: [0xC4]\n      })) {\n        return {\n          ext: 'mpg',\n          // May also be .mpg, .m2p, .vob or .sub\n          mime: 'video/MP2P'\n        };\n      }\n    }\n    if (this.checkString('ITSF')) {\n      return {\n        ext: 'chm',\n        mime: 'application/vnd.ms-htmlhelp'\n      };\n    }\n    if (this.check([0xCA, 0xFE, 0xBA, 0xBE])) {\n      return {\n        ext: 'class',\n        mime: 'application/java-vm'\n      };\n    }\n    if (this.checkString('.RMF')) {\n      return {\n        ext: 'rm',\n        mime: 'application/vnd.rn-realmedia'\n      };\n    }\n\n    // -- 5-byte signatures --\n\n    if (this.checkString('DRACO')) {\n      return {\n        ext: 'drc',\n        mime: 'application/vnd.google.draco' // Invented by us\n      };\n    }\n\n    // -- 6-byte signatures --\n\n    if (this.check([0xFD, 0x37, 0x7A, 0x58, 0x5A, 0x00])) {\n      return {\n        ext: 'xz',\n        mime: 'application/x-xz'\n      };\n    }\n    if (this.checkString('<?xml ')) {\n      return {\n        ext: 'xml',\n        mime: 'application/xml'\n      };\n    }\n    if (this.check([0x37, 0x7A, 0xBC, 0xAF, 0x27, 0x1C])) {\n      return {\n        ext: '7z',\n        mime: 'application/x-7z-compressed'\n      };\n    }\n    if (this.check([0x52, 0x61, 0x72, 0x21, 0x1A, 0x7]) && (this.buffer[6] === 0x0 || this.buffer[6] === 0x1)) {\n      return {\n        ext: 'rar',\n        mime: 'application/x-rar-compressed'\n      };\n    }\n    if (this.checkString('solid ')) {\n      return {\n        ext: 'stl',\n        mime: 'model/stl'\n      };\n    }\n    if (this.checkString('AC')) {\n      const version = new Token.StringType(4, 'latin1').get(this.buffer, 2);\n      if (version.match('^d*') && version >= 1000 && version <= 1050) {\n        return {\n          ext: 'dwg',\n          mime: 'image/vnd.dwg'\n        };\n      }\n    }\n    if (this.checkString('070707')) {\n      return {\n        ext: 'cpio',\n        mime: 'application/x-cpio'\n      };\n    }\n\n    // -- 7-byte signatures --\n\n    if (this.checkString('BLENDER')) {\n      return {\n        ext: 'blend',\n        mime: 'application/x-blender'\n      };\n    }\n    if (this.checkString('!<arch>')) {\n      await tokenizer.ignore(8);\n      const string = await tokenizer.readToken(new Token.StringType(13, 'ascii'));\n      if (string === 'debian-binary') {\n        return {\n          ext: 'deb',\n          mime: 'application/x-deb'\n        };\n      }\n      return {\n        ext: 'ar',\n        mime: 'application/x-unix-archive'\n      };\n    }\n    if (this.checkString('WEBVTT') &&\n    // One of LF, CR, tab, space, or end of file must follow \"WEBVTT\" per the spec (see `fixture/fixture-vtt-*.vtt` for examples). Note that `\\0` is technically the null character (there is no such thing as an EOF character). However, checking for `\\0` gives us the same result as checking for the end of the stream.\n    ['\\n', '\\r', '\\t', ' ', '\\0'].some(char7 => this.checkString(char7, {\n      offset: 6\n    }))) {\n      return {\n        ext: 'vtt',\n        mime: 'text/vtt'\n      };\n    }\n\n    // -- 8-byte signatures --\n\n    if (this.check([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])) {\n      // APNG format (https://wiki.mozilla.org/APNG_Specification)\n      // 1. Find the first IDAT (image data) chunk (49 44 41 54)\n      // 2. Check if there is an \"acTL\" chunk before the IDAT one (61 63 54 4C)\n\n      // Offset calculated as follows:\n      // - 8 bytes: PNG signature\n      // - 4 (length) + 4 (chunk type) + 13 (chunk data) + 4 (CRC): IHDR chunk\n\n      await tokenizer.ignore(8); // ignore PNG signature\n\n      async function readChunkHeader() {\n        return {\n          length: await tokenizer.readToken(Token.INT32_BE),\n          type: await tokenizer.readToken(new Token.StringType(4, 'latin1'))\n        };\n      }\n      do {\n        const chunk = await readChunkHeader();\n        if (chunk.length < 0) {\n          return; // Invalid chunk length\n        }\n        switch (chunk.type) {\n          case 'IDAT':\n            return {\n              ext: 'png',\n              mime: 'image/png'\n            };\n          case 'acTL':\n            return {\n              ext: 'apng',\n              mime: 'image/apng'\n            };\n          default:\n            await tokenizer.ignore(chunk.length + 4);\n          // Ignore chunk-data + CRC\n        }\n      } while (tokenizer.position + 8 < tokenizer.fileInfo.size);\n      return {\n        ext: 'png',\n        mime: 'image/png'\n      };\n    }\n    if (this.check([0x41, 0x52, 0x52, 0x4F, 0x57, 0x31, 0x00, 0x00])) {\n      return {\n        ext: 'arrow',\n        mime: 'application/vnd.apache.arrow.file'\n      };\n    }\n    if (this.check([0x67, 0x6C, 0x54, 0x46, 0x02, 0x00, 0x00, 0x00])) {\n      return {\n        ext: 'glb',\n        mime: 'model/gltf-binary'\n      };\n    }\n\n    // `mov` format variants\n    if (this.check([0x66, 0x72, 0x65, 0x65], {\n      offset: 4\n    }) // `free`\n    || this.check([0x6D, 0x64, 0x61, 0x74], {\n      offset: 4\n    }) // `mdat` MJPEG\n    || this.check([0x6D, 0x6F, 0x6F, 0x76], {\n      offset: 4\n    }) // `moov`\n    || this.check([0x77, 0x69, 0x64, 0x65], {\n      offset: 4\n    }) // `wide`\n    ) {\n      return {\n        ext: 'mov',\n        mime: 'video/quicktime'\n      };\n    }\n\n    // -- 9-byte signatures --\n\n    if (this.check([0x49, 0x49, 0x52, 0x4F, 0x08, 0x00, 0x00, 0x00, 0x18])) {\n      return {\n        ext: 'orf',\n        mime: 'image/x-olympus-orf'\n      };\n    }\n    if (this.checkString('gimp xcf ')) {\n      return {\n        ext: 'xcf',\n        mime: 'image/x-xcf'\n      };\n    }\n\n    // File Type Box (https://en.wikipedia.org/wiki/ISO_base_media_file_format)\n    // It's not required to be first, but it's recommended to be. Almost all ISO base media files start with `ftyp` box.\n    // `ftyp` box must contain a brand major identifier, which must consist of ISO 8859-1 printable characters.\n    // Here we check for 8859-1 printable characters (for simplicity, it's a mask which also catches one non-printable character).\n    if (this.checkString('ftyp', {\n      offset: 4\n    }) && (this.buffer[8] & 0x60) !== 0x00 // Brand major, first character ASCII?\n    ) {\n      // They all can have MIME `video/mp4` except `application/mp4` special-case which is hard to detect.\n      // For some cases, we're specific, everything else falls to `video/mp4` with `mp4` extension.\n      const brandMajor = new Token.StringType(4, 'latin1').get(this.buffer, 8).replace('\\0', ' ').trim();\n      switch (brandMajor) {\n        case 'avif':\n        case 'avis':\n          return {\n            ext: 'avif',\n            mime: 'image/avif'\n          };\n        case 'mif1':\n          return {\n            ext: 'heic',\n            mime: 'image/heif'\n          };\n        case 'msf1':\n          return {\n            ext: 'heic',\n            mime: 'image/heif-sequence'\n          };\n        case 'heic':\n        case 'heix':\n          return {\n            ext: 'heic',\n            mime: 'image/heic'\n          };\n        case 'hevc':\n        case 'hevx':\n          return {\n            ext: 'heic',\n            mime: 'image/heic-sequence'\n          };\n        case 'qt':\n          return {\n            ext: 'mov',\n            mime: 'video/quicktime'\n          };\n        case 'M4V':\n        case 'M4VH':\n        case 'M4VP':\n          return {\n            ext: 'm4v',\n            mime: 'video/x-m4v'\n          };\n        case 'M4P':\n          return {\n            ext: 'm4p',\n            mime: 'video/mp4'\n          };\n        case 'M4B':\n          return {\n            ext: 'm4b',\n            mime: 'audio/mp4'\n          };\n        case 'M4A':\n          return {\n            ext: 'm4a',\n            mime: 'audio/x-m4a'\n          };\n        case 'F4V':\n          return {\n            ext: 'f4v',\n            mime: 'video/mp4'\n          };\n        case 'F4P':\n          return {\n            ext: 'f4p',\n            mime: 'video/mp4'\n          };\n        case 'F4A':\n          return {\n            ext: 'f4a',\n            mime: 'audio/mp4'\n          };\n        case 'F4B':\n          return {\n            ext: 'f4b',\n            mime: 'audio/mp4'\n          };\n        case 'crx':\n          return {\n            ext: 'cr3',\n            mime: 'image/x-canon-cr3'\n          };\n        default:\n          if (brandMajor.startsWith('3g')) {\n            if (brandMajor.startsWith('3g2')) {\n              return {\n                ext: '3g2',\n                mime: 'video/3gpp2'\n              };\n            }\n            return {\n              ext: '3gp',\n              mime: 'video/3gpp'\n            };\n          }\n          return {\n            ext: 'mp4',\n            mime: 'video/mp4'\n          };\n      }\n    }\n\n    // -- 12-byte signatures --\n\n    // RIFF file format which might be AVI, WAV, QCP, etc\n    if (this.check([0x52, 0x49, 0x46, 0x46])) {\n      if (this.checkString('WEBP', {\n        offset: 8\n      })) {\n        return {\n          ext: 'webp',\n          mime: 'image/webp'\n        };\n      }\n      if (this.check([0x41, 0x56, 0x49], {\n        offset: 8\n      })) {\n        return {\n          ext: 'avi',\n          mime: 'video/vnd.avi'\n        };\n      }\n      if (this.check([0x57, 0x41, 0x56, 0x45], {\n        offset: 8\n      })) {\n        return {\n          ext: 'wav',\n          mime: 'audio/wav'\n        };\n      }\n\n      // QLCM, QCP file\n      if (this.check([0x51, 0x4C, 0x43, 0x4D], {\n        offset: 8\n      })) {\n        return {\n          ext: 'qcp',\n          mime: 'audio/qcelp'\n        };\n      }\n    }\n    if (this.check([0x49, 0x49, 0x55, 0x00, 0x18, 0x00, 0x00, 0x00, 0x88, 0xE7, 0x74, 0xD8])) {\n      return {\n        ext: 'rw2',\n        mime: 'image/x-panasonic-rw2'\n      };\n    }\n\n    // ASF_Header_Object first 80 bytes\n    if (this.check([0x30, 0x26, 0xB2, 0x75, 0x8E, 0x66, 0xCF, 0x11, 0xA6, 0xD9])) {\n      async function readHeader() {\n        const guid = new Uint8Array(16);\n        await tokenizer.readBuffer(guid);\n        return {\n          id: guid,\n          size: Number(await tokenizer.readToken(Token.UINT64_LE))\n        };\n      }\n      await tokenizer.ignore(30);\n      // Search for header should be in first 1KB of file.\n      while (tokenizer.position + 24 < tokenizer.fileInfo.size) {\n        const header = await readHeader();\n        let payload = header.size - 24;\n        if (_check(header.id, [0x91, 0x07, 0xDC, 0xB7, 0xB7, 0xA9, 0xCF, 0x11, 0x8E, 0xE6, 0x00, 0xC0, 0x0C, 0x20, 0x53, 0x65])) {\n          // Sync on Stream-Properties-Object (B7DC0791-A9B7-11CF-8EE6-00C00C205365)\n          const typeId = new Uint8Array(16);\n          payload -= await tokenizer.readBuffer(typeId);\n          if (_check(typeId, [0x40, 0x9E, 0x69, 0xF8, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n            // Found audio:\n            return {\n              ext: 'asf',\n              mime: 'audio/x-ms-asf'\n            };\n          }\n          if (_check(typeId, [0xC0, 0xEF, 0x19, 0xBC, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n            // Found video:\n            return {\n              ext: 'asf',\n              mime: 'video/x-ms-asf'\n            };\n          }\n          break;\n        }\n        await tokenizer.ignore(payload);\n      }\n\n      // Default to ASF generic extension\n      return {\n        ext: 'asf',\n        mime: 'application/vnd.ms-asf'\n      };\n    }\n    if (this.check([0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A])) {\n      return {\n        ext: 'ktx',\n        mime: 'image/ktx'\n      };\n    }\n    if ((this.check([0x7E, 0x10, 0x04]) || this.check([0x7E, 0x18, 0x04])) && this.check([0x30, 0x4D, 0x49, 0x45], {\n      offset: 4\n    })) {\n      return {\n        ext: 'mie',\n        mime: 'application/x-mie'\n      };\n    }\n    if (this.check([0x27, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00], {\n      offset: 2\n    })) {\n      return {\n        ext: 'shp',\n        mime: 'application/x-esri-shape'\n      };\n    }\n    if (this.check([0xFF, 0x4F, 0xFF, 0x51])) {\n      return {\n        ext: 'j2c',\n        mime: 'image/j2c'\n      };\n    }\n    if (this.check([0x00, 0x00, 0x00, 0x0C, 0x6A, 0x50, 0x20, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {\n      // JPEG-2000 family\n\n      await tokenizer.ignore(20);\n      const type = await tokenizer.readToken(new Token.StringType(4, 'ascii'));\n      switch (type) {\n        case 'jp2 ':\n          return {\n            ext: 'jp2',\n            mime: 'image/jp2'\n          };\n        case 'jpx ':\n          return {\n            ext: 'jpx',\n            mime: 'image/jpx'\n          };\n        case 'jpm ':\n          return {\n            ext: 'jpm',\n            mime: 'image/jpm'\n          };\n        case 'mjp2':\n          return {\n            ext: 'mj2',\n            mime: 'image/mj2'\n          };\n        default:\n          return;\n      }\n    }\n    if (this.check([0xFF, 0x0A]) || this.check([0x00, 0x00, 0x00, 0x0C, 0x4A, 0x58, 0x4C, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {\n      return {\n        ext: 'jxl',\n        mime: 'image/jxl'\n      };\n    }\n    if (this.check([0xFE, 0xFF])) {\n      // UTF-16-BOM-LE\n      if (this.check([0, 60, 0, 63, 0, 120, 0, 109, 0, 108], {\n        offset: 2\n      })) {\n        return {\n          ext: 'xml',\n          mime: 'application/xml'\n        };\n      }\n      return undefined; // Some unknown text based format\n    }\n    if (this.check([0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1])) {\n      // Detected Microsoft Compound File Binary File (MS-CFB) Format.\n      return {\n        ext: 'cfb',\n        mime: 'application/x-cfb'\n      };\n    }\n\n    // Increase sample size from 12 to 256.\n    await tokenizer.peekBuffer(this.buffer, {\n      length: Math.min(256, tokenizer.fileInfo.size),\n      mayBeLess: true\n    });\n    if (this.check([0x61, 0x63, 0x73, 0x70], {\n      offset: 36\n    })) {\n      return {\n        ext: 'icc',\n        mime: 'application/vnd.iccprofile'\n      };\n    }\n\n    // ACE: requires 14 bytes in the buffer\n    if (this.checkString('**ACE', {\n      offset: 7\n    }) && this.checkString('**', {\n      offset: 12\n    })) {\n      return {\n        ext: 'ace',\n        mime: 'application/x-ace-compressed'\n      };\n    }\n\n    // -- 15-byte signatures --\n\n    if (this.checkString('BEGIN:')) {\n      if (this.checkString('VCARD', {\n        offset: 6\n      })) {\n        return {\n          ext: 'vcf',\n          mime: 'text/vcard'\n        };\n      }\n      if (this.checkString('VCALENDAR', {\n        offset: 6\n      })) {\n        return {\n          ext: 'ics',\n          mime: 'text/calendar'\n        };\n      }\n    }\n\n    // `raf` is here just to keep all the raw image detectors together.\n    if (this.checkString('FUJIFILMCCD-RAW')) {\n      return {\n        ext: 'raf',\n        mime: 'image/x-fujifilm-raf'\n      };\n    }\n    if (this.checkString('Extended Module:')) {\n      return {\n        ext: 'xm',\n        mime: 'audio/x-xm'\n      };\n    }\n    if (this.checkString('Creative Voice File')) {\n      return {\n        ext: 'voc',\n        mime: 'audio/x-voc'\n      };\n    }\n    if (this.check([0x04, 0x00, 0x00, 0x00]) && this.buffer.length >= 16) {\n      // Rough & quick check Pickle/ASAR\n      const jsonSize = new DataView(this.buffer.buffer).getUint32(12, true);\n      if (jsonSize > 12 && this.buffer.length >= jsonSize + 16) {\n        try {\n          const header = new TextDecoder().decode(this.buffer.subarray(16, jsonSize + 16));\n          const json = JSON.parse(header);\n          // Check if Pickle is ASAR\n          if (json.files) {\n            // Final check, assuring Pickle/ASAR format\n            return {\n              ext: 'asar',\n              mime: 'application/x-asar'\n            };\n          }\n        } catch {}\n      }\n    }\n    if (this.check([0x06, 0x0E, 0x2B, 0x34, 0x02, 0x05, 0x01, 0x01, 0x0D, 0x01, 0x02, 0x01, 0x01, 0x02])) {\n      return {\n        ext: 'mxf',\n        mime: 'application/mxf'\n      };\n    }\n    if (this.checkString('SCRM', {\n      offset: 44\n    })) {\n      return {\n        ext: 's3m',\n        mime: 'audio/x-s3m'\n      };\n    }\n\n    // Raw MPEG-2 transport stream (188-byte packets)\n    if (this.check([0x47]) && this.check([0x47], {\n      offset: 188\n    })) {\n      return {\n        ext: 'mts',\n        mime: 'video/mp2t'\n      };\n    }\n\n    // Blu-ray Disc Audio-Video (BDAV) MPEG-2 transport stream has 4-byte TP_extra_header before each 188-byte packet\n    if (this.check([0x47], {\n      offset: 4\n    }) && this.check([0x47], {\n      offset: 196\n    })) {\n      return {\n        ext: 'mts',\n        mime: 'video/mp2t'\n      };\n    }\n    if (this.check([0x42, 0x4F, 0x4F, 0x4B, 0x4D, 0x4F, 0x42, 0x49], {\n      offset: 60\n    })) {\n      return {\n        ext: 'mobi',\n        mime: 'application/x-mobipocket-ebook'\n      };\n    }\n    if (this.check([0x44, 0x49, 0x43, 0x4D], {\n      offset: 128\n    })) {\n      return {\n        ext: 'dcm',\n        mime: 'application/dicom'\n      };\n    }\n    if (this.check([0x4C, 0x00, 0x00, 0x00, 0x01, 0x14, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x46])) {\n      return {\n        ext: 'lnk',\n        mime: 'application/x.ms.shortcut' // Invented by us\n      };\n    }\n    if (this.check([0x62, 0x6F, 0x6F, 0x6B, 0x00, 0x00, 0x00, 0x00, 0x6D, 0x61, 0x72, 0x6B, 0x00, 0x00, 0x00, 0x00])) {\n      return {\n        ext: 'alias',\n        mime: 'application/x.apple.alias' // Invented by us\n      };\n    }\n    if (this.checkString('Kaydara FBX Binary  \\u0000')) {\n      return {\n        ext: 'fbx',\n        mime: 'application/x.autodesk.fbx' // Invented by us\n      };\n    }\n    if (this.check([0x4C, 0x50], {\n      offset: 34\n    }) && (this.check([0x00, 0x00, 0x01], {\n      offset: 8\n    }) || this.check([0x01, 0x00, 0x02], {\n      offset: 8\n    }) || this.check([0x02, 0x00, 0x02], {\n      offset: 8\n    }))) {\n      return {\n        ext: 'eot',\n        mime: 'application/vnd.ms-fontobject'\n      };\n    }\n    if (this.check([0x06, 0x06, 0xED, 0xF5, 0xD8, 0x1D, 0x46, 0xE5, 0xBD, 0x31, 0xEF, 0xE7, 0xFE, 0x74, 0xB7, 0x1D])) {\n      return {\n        ext: 'indd',\n        mime: 'application/x-indesign'\n      };\n    }\n\n    // Increase sample size from 256 to 512\n    await tokenizer.peekBuffer(this.buffer, {\n      length: Math.min(512, tokenizer.fileInfo.size),\n      mayBeLess: true\n    });\n\n    // Requires a buffer size of 512 bytes\n    if (this.checkString('ustar', {\n      offset: 257\n    }) && (this.checkString('\\0', {\n      offset: 262\n    }) || this.checkString(' ', {\n      offset: 262\n    })) || this.check([0, 0, 0, 0, 0, 0], {\n      offset: 257\n    }) && tarHeaderChecksumMatches(this.buffer)) {\n      return {\n        ext: 'tar',\n        mime: 'application/x-tar'\n      };\n    }\n    if (this.check([0xFF, 0xFE])) {\n      // UTF-16-BOM-BE\n      if (this.check([60, 0, 63, 0, 120, 0, 109, 0, 108, 0], {\n        offset: 2\n      })) {\n        return {\n          ext: 'xml',\n          mime: 'application/xml'\n        };\n      }\n      if (this.check([0xFF, 0x0E, 0x53, 0x00, 0x6B, 0x00, 0x65, 0x00, 0x74, 0x00, 0x63, 0x00, 0x68, 0x00, 0x55, 0x00, 0x70, 0x00, 0x20, 0x00, 0x4D, 0x00, 0x6F, 0x00, 0x64, 0x00, 0x65, 0x00, 0x6C, 0x00], {\n        offset: 2\n      })) {\n        return {\n          ext: 'skp',\n          mime: 'application/vnd.sketchup.skp'\n        };\n      }\n      return undefined; // Some text based format\n    }\n    if (this.checkString('-----BEGIN PGP MESSAGE-----')) {\n      return {\n        ext: 'pgp',\n        mime: 'application/pgp-encrypted'\n      };\n    }\n  };\n  // Detections with limited supporting data, resulting in a higher likelihood of false positives\n  detectImprecise = async tokenizer => {\n    this.buffer = new Uint8Array(reasonableDetectionSizeInBytes);\n\n    // Read initial sample size of 8 bytes\n    await tokenizer.peekBuffer(this.buffer, {\n      length: Math.min(8, tokenizer.fileInfo.size),\n      mayBeLess: true\n    });\n    if (this.check([0x0, 0x0, 0x1, 0xBA]) || this.check([0x0, 0x0, 0x1, 0xB3])) {\n      return {\n        ext: 'mpg',\n        mime: 'video/mpeg'\n      };\n    }\n    if (this.check([0x00, 0x01, 0x00, 0x00, 0x00])) {\n      return {\n        ext: 'ttf',\n        mime: 'font/ttf'\n      };\n    }\n    if (this.check([0x00, 0x00, 0x01, 0x00])) {\n      return {\n        ext: 'ico',\n        mime: 'image/x-icon'\n      };\n    }\n    if (this.check([0x00, 0x00, 0x02, 0x00])) {\n      return {\n        ext: 'cur',\n        mime: 'image/x-icon'\n      };\n    }\n\n    // Adjust buffer to `mpegOffsetTolerance`\n    await tokenizer.peekBuffer(this.buffer, {\n      length: Math.min(2 + this.options.mpegOffsetTolerance, tokenizer.fileInfo.size),\n      mayBeLess: true\n    });\n\n    // Check MPEG 1 or 2 Layer 3 header, or 'layer 0' for ADTS (MPEG sync-word 0xFFE)\n    if (this.buffer.length >= 2 + this.options.mpegOffsetTolerance) {\n      for (let depth = 0; depth <= this.options.mpegOffsetTolerance; ++depth) {\n        const type = this.scanMpeg(depth);\n        if (type) {\n          return type;\n        }\n      }\n    }\n  };\n  async readTiffTag(bigEndian) {\n    const tagId = await this.tokenizer.readToken(bigEndian ? Token.UINT16_BE : Token.UINT16_LE);\n    this.tokenizer.ignore(10);\n    switch (tagId) {\n      case 50_341:\n        return {\n          ext: 'arw',\n          mime: 'image/x-sony-arw'\n        };\n      case 50_706:\n        return {\n          ext: 'dng',\n          mime: 'image/x-adobe-dng'\n        };\n      default:\n    }\n  }\n  async readTiffIFD(bigEndian) {\n    const numberOfTags = await this.tokenizer.readToken(bigEndian ? Token.UINT16_BE : Token.UINT16_LE);\n    for (let n = 0; n < numberOfTags; ++n) {\n      const fileType = await this.readTiffTag(bigEndian);\n      if (fileType) {\n        return fileType;\n      }\n    }\n  }\n  async readTiffHeader(bigEndian) {\n    const version = (bigEndian ? Token.UINT16_BE : Token.UINT16_LE).get(this.buffer, 2);\n    const ifdOffset = (bigEndian ? Token.UINT32_BE : Token.UINT32_LE).get(this.buffer, 4);\n    if (version === 42) {\n      // TIFF file header\n      if (ifdOffset >= 6) {\n        if (this.checkString('CR', {\n          offset: 8\n        })) {\n          return {\n            ext: 'cr2',\n            mime: 'image/x-canon-cr2'\n          };\n        }\n        if (ifdOffset >= 8) {\n          const someId1 = (bigEndian ? Token.UINT16_BE : Token.UINT16_LE).get(this.buffer, 8);\n          const someId2 = (bigEndian ? Token.UINT16_BE : Token.UINT16_LE).get(this.buffer, 10);\n          if (someId1 === 0x1C && someId2 === 0xFE || someId1 === 0x1F && someId2 === 0x0B) {\n            return {\n              ext: 'nef',\n              mime: 'image/x-nikon-nef'\n            };\n          }\n        }\n      }\n      await this.tokenizer.ignore(ifdOffset);\n      const fileType = await this.readTiffIFD(bigEndian);\n      return fileType ?? {\n        ext: 'tif',\n        mime: 'image/tiff'\n      };\n    }\n    if (version === 43) {\n      // Big TIFF file header\n      return {\n        ext: 'tif',\n        mime: 'image/tiff'\n      };\n    }\n  }\n\n  /**\n  Scan check MPEG 1 or 2 Layer 3 header, or 'layer 0' for ADTS (MPEG sync-word 0xFFE).\n  \t@param offset - Offset to scan for sync-preamble.\n  @returns {{ext: string, mime: string}}\n  */\n  scanMpeg(offset) {\n    if (this.check([0xFF, 0xE0], {\n      offset,\n      mask: [0xFF, 0xE0]\n    })) {\n      if (this.check([0x10], {\n        offset: offset + 1,\n        mask: [0x16]\n      })) {\n        // Check for (ADTS) MPEG-2\n        if (this.check([0x08], {\n          offset: offset + 1,\n          mask: [0x08]\n        })) {\n          return {\n            ext: 'aac',\n            mime: 'audio/aac'\n          };\n        }\n\n        // Must be (ADTS) MPEG-4\n        return {\n          ext: 'aac',\n          mime: 'audio/aac'\n        };\n      }\n\n      // MPEG 1 or 2 Layer 3 header\n      // Check for MPEG layer 3\n      if (this.check([0x02], {\n        offset: offset + 1,\n        mask: [0x06]\n      })) {\n        return {\n          ext: 'mp3',\n          mime: 'audio/mpeg'\n        };\n      }\n\n      // Check for MPEG layer 2\n      if (this.check([0x04], {\n        offset: offset + 1,\n        mask: [0x06]\n      })) {\n        return {\n          ext: 'mp2',\n          mime: 'audio/mpeg'\n        };\n      }\n\n      // Check for MPEG layer 1\n      if (this.check([0x06], {\n        offset: offset + 1,\n        mask: [0x06]\n      })) {\n        return {\n          ext: 'mp1',\n          mime: 'audio/mpeg'\n        };\n      }\n    }\n  }\n}\nexport const supportedExtensions = new Set(extensions);\nexport const supportedMimeTypes = new Set(mimeTypes);","import { Subject, AnonymousSubject } from '../../Subject';\nimport { Subscriber } from '../../Subscriber';\nimport { Observable } from '../../Observable';\nimport { Subscription } from '../../Subscription';\nimport { ReplaySubject } from '../../ReplaySubject';\nconst DEFAULT_WEBSOCKET_CONFIG = {\n  url: '',\n  deserializer: e => JSON.parse(e.data),\n  serializer: value => JSON.stringify(value)\n};\nconst WEBSOCKETSUBJECT_INVALID_ERROR_OBJECT = 'WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }';\nexport class WebSocketSubject extends AnonymousSubject {\n  constructor(urlConfigOrSource, destination) {\n    super();\n    this._socket = null;\n    if (urlConfigOrSource instanceof Observable) {\n      this.destination = destination;\n      this.source = urlConfigOrSource;\n    } else {\n      const config = this._config = Object.assign({}, DEFAULT_WEBSOCKET_CONFIG);\n      this._output = new Subject();\n      if (typeof urlConfigOrSource === 'string') {\n        config.url = urlConfigOrSource;\n      } else {\n        for (const key in urlConfigOrSource) {\n          if (urlConfigOrSource.hasOwnProperty(key)) {\n            config[key] = urlConfigOrSource[key];\n          }\n        }\n      }\n      if (!config.WebSocketCtor && WebSocket) {\n        config.WebSocketCtor = WebSocket;\n      } else if (!config.WebSocketCtor) {\n        throw new Error('no WebSocket constructor can be found');\n      }\n      this.destination = new ReplaySubject();\n    }\n  }\n  lift(operator) {\n    const sock = new WebSocketSubject(this._config, this.destination);\n    sock.operator = operator;\n    sock.source = this;\n    return sock;\n  }\n  _resetState() {\n    this._socket = null;\n    if (!this.source) {\n      this.destination = new ReplaySubject();\n    }\n    this._output = new Subject();\n  }\n  multiplex(subMsg, unsubMsg, messageFilter) {\n    const self = this;\n    return new Observable(observer => {\n      try {\n        self.next(subMsg());\n      } catch (err) {\n        observer.error(err);\n      }\n      const subscription = self.subscribe({\n        next: x => {\n          try {\n            if (messageFilter(x)) {\n              observer.next(x);\n            }\n          } catch (err) {\n            observer.error(err);\n          }\n        },\n        error: err => observer.error(err),\n        complete: () => observer.complete()\n      });\n      return () => {\n        try {\n          self.next(unsubMsg());\n        } catch (err) {\n          observer.error(err);\n        }\n        subscription.unsubscribe();\n      };\n    });\n  }\n  _connectSocket() {\n    const {\n      WebSocketCtor,\n      protocol,\n      url,\n      binaryType\n    } = this._config;\n    const observer = this._output;\n    let socket = null;\n    try {\n      socket = protocol ? new WebSocketCtor(url, protocol) : new WebSocketCtor(url);\n      this._socket = socket;\n      if (binaryType) {\n        this._socket.binaryType = binaryType;\n      }\n    } catch (e) {\n      observer.error(e);\n      return;\n    }\n    const subscription = new Subscription(() => {\n      this._socket = null;\n      if (socket && socket.readyState === 1) {\n        socket.close();\n      }\n    });\n    socket.onopen = evt => {\n      const {\n        _socket\n      } = this;\n      if (!_socket) {\n        socket.close();\n        this._resetState();\n        return;\n      }\n      const {\n        openObserver\n      } = this._config;\n      if (openObserver) {\n        openObserver.next(evt);\n      }\n      const queue = this.destination;\n      this.destination = Subscriber.create(x => {\n        if (socket.readyState === 1) {\n          try {\n            const {\n              serializer\n            } = this._config;\n            socket.send(serializer(x));\n          } catch (e) {\n            this.destination.error(e);\n          }\n        }\n      }, err => {\n        const {\n          closingObserver\n        } = this._config;\n        if (closingObserver) {\n          closingObserver.next(undefined);\n        }\n        if (err && err.code) {\n          socket.close(err.code, err.reason);\n        } else {\n          observer.error(new TypeError(WEBSOCKETSUBJECT_INVALID_ERROR_OBJECT));\n        }\n        this._resetState();\n      }, () => {\n        const {\n          closingObserver\n        } = this._config;\n        if (closingObserver) {\n          closingObserver.next(undefined);\n        }\n        socket.close();\n        this._resetState();\n      });\n      if (queue && queue instanceof ReplaySubject) {\n        subscription.add(queue.subscribe(this.destination));\n      }\n    };\n    socket.onerror = e => {\n      this._resetState();\n      observer.error(e);\n    };\n    socket.onclose = e => {\n      if (socket === this._socket) {\n        this._resetState();\n      }\n      const {\n        closeObserver\n      } = this._config;\n      if (closeObserver) {\n        closeObserver.next(e);\n      }\n      if (e.wasClean) {\n        observer.complete();\n      } else {\n        observer.error(e);\n      }\n    };\n    socket.onmessage = e => {\n      try {\n        const {\n          deserializer\n        } = this._config;\n        observer.next(deserializer(e));\n      } catch (err) {\n        observer.error(err);\n      }\n    };\n  }\n  _subscribe(subscriber) {\n    const {\n      source\n    } = this;\n    if (source) {\n      return source.subscribe(subscriber);\n    }\n    if (!this._socket) {\n      this._connectSocket();\n    }\n    this._output.subscribe(subscriber);\n    subscriber.add(() => {\n      const {\n        _socket\n      } = this;\n      if (this._output.observers.length === 0) {\n        if (_socket && (_socket.readyState === 1 || _socket.readyState === 0)) {\n          _socket.close();\n        }\n        this._resetState();\n      }\n    });\n    return subscriber;\n  }\n  unsubscribe() {\n    const {\n      _socket\n    } = this;\n    if (_socket && (_socket.readyState === 1 || _socket.readyState === 0)) {\n      _socket.close();\n    }\n    this._resetState();\n    super.unsubscribe();\n  }\n}\n","import { WebSocketSubject } from './WebSocketSubject';\nexport function webSocket(urlConfigOrSource) {\n  return new WebSocketSubject(urlConfigOrSource);\n}\n","import { Injectable } from '@angular/core';\nimport { webSocket } from 'rxjs/webSocket';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppWebSocketService {\n  public readonly webSocketSubject = webSocket('http://localhost:5001');\n}\n","import { CommonModule } from '@angular/common';\r\nimport { Component, DestroyRef, inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { AbstractControl, AsyncValidatorFn, FormControl, FormGroup, FormsModule, ReactiveFormsModule, ValidationErrors } from '@angular/forms';\r\nimport {\r\n  ForgeButtonModule,\r\n  ForgeCheckboxModule,\r\n  ForgeCircularProgressModule,\r\n  ForgeIconButtonModule,\r\n  ForgeIconModule,\r\n  ForgeTextFieldModule,\r\n  ForgeToolbarModule,\r\n  ToastService\r\n} from '@tylertech/forge-angular';\r\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\r\nimport { finalize, of, Subject } from 'rxjs';\r\nimport { fileTypeFromStream } from 'file-type';\r\n\r\nimport { Utils } from 'src/utils';\r\nimport { AppDataService } from 'src/app/app-data.service';\r\nimport { BusyIndicatorService, CardComponent } from 'src/app/shared/components';\r\nimport { ArrayFindPipe } from 'src/app/shared/pipes';\r\nimport { AppWebSocketService } from 'src/app/app-web-socket.service';\r\nimport { AppCacheService } from 'src/app/app-cache.service';\r\n\r\n@Component({\r\n  selector: 'app-examples-misc',\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    ForgeButtonModule,\r\n    ForgeCheckboxModule,\r\n    ForgeCircularProgressModule,\r\n    ForgeIconButtonModule,\r\n    ForgeIconModule,\r\n    ForgeTextFieldModule,\r\n    ForgeToolbarModule,\r\n    CardComponent,\r\n    ArrayFindPipe\r\n  ],\r\n  templateUrl: './misc.component.html',\r\n  styleUrls: ['./misc.component.scss']\r\n})\r\nexport class MiscComponent implements OnInit, OnDestroy {\r\n  private destroyRef = inject(DestroyRef);\r\n  private appCacheService = inject(AppCacheService);\r\n  private appDataService = inject(AppDataService);\r\n  private appWebSocketService = inject(AppWebSocketService);\r\n  private busyIndicatorService = inject(BusyIndicatorService);\r\n  private toastService = inject(ToastService);\r\n  private propertyPathsData = {\r\n    firstName: 'First',\r\n    lastName: 'Last',\r\n    age: 12,\r\n    citizen: false,\r\n    address: {\r\n      city: 'ctiy value',\r\n      state: 'state value',\r\n      districts: [\r\n        {\r\n          name: 'district 1',\r\n          location: 'district 1 location',\r\n          pets: ['rock', 'dog', 'cat']\r\n        },\r\n        { name: 'district 2', location: 'district 2 location' },\r\n        { name: 'district 3', location: 'district 3 location' }\r\n      ]\r\n    },\r\n    friends: ['Homer', 'Marge', 'Bart', 'Lisa', 'Maggie']\r\n  };\r\n  private asyncValidators = new Map<\r\n    string,\r\n    {\r\n      value: any;\r\n      control: AbstractControl;\r\n      response: Subject<ValidationErrors | null>;\r\n    }\r\n  >();\r\n\r\n  public arrayData = [\r\n    { value: 0, label: 'Item 0' },\r\n    { value: 1, label: 'Item 1' },\r\n    { value: 2, label: 'Item 2' },\r\n    { value: 3, label: 'Item 3' },\r\n    { value: 4, label: 'Item 4' },\r\n    { value: 5, label: 'Item 5' },\r\n    { value: 6, label: 'Item 6' },\r\n    { value: 7, label: 'Item 7' },\r\n    { value: 8, label: 'Item 8' },\r\n    { value: 9, label: 'Item 9' }\r\n  ];\r\n  public propertyPaths: object;\r\n  public fileName = '';\r\n  public fileEncoded = false;\r\n  public openAsDownload = false;\r\n  public formGroup = new FormGroup({\r\n    name: new FormControl('', {\r\n      asyncValidators: [this.asyncValidator('name')]\r\n    }),\r\n    age: new FormControl('', { asyncValidators: [this.asyncValidator('age')] }),\r\n    location: new FormControl('', {\r\n      asyncValidators: [this.asyncValidator('location')]\r\n    })\r\n  });\r\n  public isRequesting = false;\r\n  public isPolling = false;\r\n  public isMessaging = false;\r\n  public response: string;\r\n\r\n  public ngOnInit() {\r\n    this.propertyPaths = Utils.objectPropertyPaths(this.propertyPathsData);\r\n    this.appWebSocketService.webSocketSubject.pipe(takeUntilDestroyed(this.destroyRef)).subscribe({\r\n      next: (result) => {\r\n        this.isMessaging = false;\r\n        console.log(result);\r\n        this.response = JSON.stringify(result);\r\n        this.appCacheService.isBusy.set(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  public ngOnDestroy(): void {\r\n    this.appWebSocketService.webSocketSubject.complete();\r\n  }\r\n\r\n  public onShowFile() {\r\n    this.appDataService\r\n      .getFile(this.fileName)\r\n      .pipe(takeUntilDestroyed(this.destroyRef))\r\n      .subscribe({\r\n        next: (result) => {\r\n          if (result?.size && result.type !== 'text/html') {\r\n            if (this.fileEncoded) {\r\n              result.text().then((value) => {\r\n                const encodedBlob = this.base64toBlob(value);\r\n                if (encodedBlob) {\r\n                  this.openFile(encodedBlob);\r\n                }\r\n              });\r\n            } else {\r\n              this.openFile(result);\r\n            }\r\n          } else {\r\n            this.toastService.show({\r\n              message: 'An error occurred downloading the file',\r\n              duration: Infinity,\r\n              dismissible: true\r\n            });\r\n          }\r\n        },\r\n        error: () => {\r\n          this.toastService.show({\r\n            message: 'An error occurred downloading the file',\r\n            duration: Infinity,\r\n            dismissible: true\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  public onShowBusy() {\r\n    const config = {\r\n      message: 'Processing request...',\r\n      progress: 'circular' as const,\r\n      title: 'Processing title'\r\n    };\r\n    this.busyIndicatorService.show(config);\r\n    window.setTimeout(() => {\r\n      this.busyIndicatorService.hide();\r\n    }, 5000);\r\n  }\r\n\r\n  public onValidate() {\r\n    if (this.asyncValidators.size) {\r\n      const key = this.asyncValidators.keys().next().value;\r\n      const validator = this.asyncValidators.get(key);\r\n      // validator.response.next({ wrongFormat: true });\r\n      validator.response.next(null);\r\n      validator.response.complete();\r\n      // validator.control.markAsPristine();\r\n      // validator.control.markAsUntouched();\r\n      this.asyncValidators.delete(key);\r\n    }\r\n  }\r\n\r\n  public onResetForm() {\r\n    this.asyncValidators.forEach((v) => {\r\n      v.response.next(null);\r\n      v.response.complete();\r\n    });\r\n    this.asyncValidators.clear();\r\n    this.formGroup.reset();\r\n  }\r\n\r\n  private asyncValidator(name: string): AsyncValidatorFn {\r\n    return (control: AbstractControl) => {\r\n      if (!control.dirty) {\r\n        return of(null);\r\n      }\r\n\r\n      if (!this.asyncValidators.has(name)) {\r\n        this.asyncValidators.set(name, {\r\n          value: control.value,\r\n          control,\r\n          response: new Subject<ValidationErrors | null>()\r\n        });\r\n      }\r\n\r\n      return this.asyncValidators.get(name).response;\r\n    };\r\n  }\r\n\r\n  private base64toBlob(value: string): Blob {\r\n    // powershell script to convert to base64\r\n    // $fileBytes = [System.IO.File]::ReadAllBytes(‘file‘)\r\n    // $encodedText = [Convert]::ToBase64String($fileBytes)\r\n    // [System.IO.File]::WriteAllText(‘file-output‘, $encodedText)\r\n\r\n    let binaryValue: string;\r\n    try {\r\n      binaryValue = atob(value);\r\n    } catch (e) {\r\n      console.error(e);\r\n      this.toastService.show({\r\n        message: 'An error occurred decoding the base64 file',\r\n        duration: Infinity,\r\n        dismissible: true\r\n      });\r\n      return undefined;\r\n    }\r\n    const valueArray = Uint8Array.from(binaryValue, (c) => c.charCodeAt(0));\r\n    return new Blob([valueArray]);\r\n  }\r\n\r\n  private openFile(value: Blob) {\r\n    fileTypeFromStream(value.stream()).then((fileTypeResult) => {\r\n      const resultBlob = new Blob([value], {\r\n        type: fileTypeResult?.mime?.length ? fileTypeResult.mime : 'application/octet-stream'\r\n      });\r\n      const resultBlobUrl = URL.createObjectURL(resultBlob);\r\n\r\n      if (this.openAsDownload) {\r\n        let openFileName = this.fileName;\r\n        if (openFileName.split('.').at(-1) !== fileTypeResult.ext) {\r\n          openFileName += `.${fileTypeResult.ext}`;\r\n        }\r\n\r\n        const linkElement = document.createElement('a') as HTMLAnchorElement;\r\n        linkElement.style.display = 'none';\r\n        linkElement.href = resultBlobUrl;\r\n        linkElement.setAttribute('download', openFileName);\r\n        document.body.appendChild(linkElement);\r\n        linkElement.click();\r\n        linkElement.remove();\r\n      } else {\r\n        window.open(resultBlobUrl);\r\n      }\r\n\r\n      URL.revokeObjectURL(resultBlobUrl);\r\n    });\r\n  }\r\n\r\n  public onMakeLongRequest() {\r\n    this.isRequesting = true;\r\n    this.response = undefined;\r\n    this.appDataService\r\n      .getLongRequest()\r\n      .pipe(\r\n        takeUntilDestroyed(this.destroyRef),\r\n        finalize(() => (this.isRequesting = false))\r\n      )\r\n      .subscribe({\r\n        next: (result) => {\r\n          console.log(result);\r\n          this.response = JSON.stringify(result);\r\n        },\r\n        error: (error) => console.log(error)\r\n      });\r\n  }\r\n\r\n  public onMakePollingRequest() {\r\n    this.isPolling = true;\r\n    this.response = undefined;\r\n    this.appDataService\r\n      .pollingRequest(10)\r\n      .pipe(\r\n        takeUntilDestroyed(this.destroyRef),\r\n        finalize(() => (this.isPolling = false))\r\n      )\r\n      .subscribe({\r\n        next: (r) => {\r\n          console.log(r);\r\n          this.response = JSON.stringify(r);\r\n        }\r\n      });\r\n  }\r\n\r\n  public onSendMessage() {\r\n    this.isMessaging = true;\r\n    this.response = undefined;\r\n    this.appCacheService.isBusy.set(true);\r\n    this.appWebSocketService.webSocketSubject.next({\r\n      data: 'message from front end.',\r\n      date: new Date()\r\n    });\r\n  }\r\n}\r\n","<forge-toolbar class=\"header\">\r\n  <h2 slot=\"start\" class=\"forge-typography--subheading4\">Misc examples</h2>\r\n</forge-toolbar>\r\n\r\n<div class=\"body\">\r\n  <app-card border=\"outlined\">\r\n    <ng-container app-card-header>\r\n      <span slot=\"start\">Card header</span>\r\n      <forge-icon-button slot=\"after-end\" aria-label=\"Close\">\r\n        <forge-icon name=\"close\"></forge-icon>\r\n      </forge-icon-button>\r\n    </ng-container>\r\n\r\n    <div class=\"card-body\">\r\n      <div class=\"card-body__section\">\r\n        <div>File viewer</div>\r\n        <forge-text-field>\r\n          <input type=\"text\" id=\"test--parent--file-name\" [(ngModel)]=\"fileName\" autocomplete=\"off\" />\r\n          <label for=\"test--parent--file-name\" slot=\"label\">File name</label>\r\n          <div slot=\"support-text\">\r\n            <div slot=\"support-text\">Must exist in src/mock-data.</div>\r\n            <div slot=\"support-text\">Included examples: test.docx test.jpg test.pdf test.png test.txt test.xlsx test.xml</div>\r\n            <div slot=\"support-text\">Included encoded examples: test-encoded-jpg.txt test-encoded-pdf.txt</div>\r\n          </div>\r\n        </forge-text-field>\r\n        <div style=\"display: flex; column-gap: 16px\">\r\n          <forge-checkbox [(ngModel)]=\"fileEncoded\">File is Base64 encoded</forge-checkbox>\r\n          <forge-checkbox [(ngModel)]=\"openAsDownload\">Open as download</forge-checkbox>\r\n        </div>\r\n\r\n        <forge-button variant=\"filled\" (click)=\"onShowFile()\" [disabled]=\"!fileName?.length\">Show file</forge-button>\r\n      </div>\r\n\r\n      <form class=\"card-body__section\" [formGroup]=\"formGroup\" novalidate autocomplete=\"off\">\r\n        <div>Async validation</div>\r\n        <forge-text-field>\r\n          <input type=\"text\" id=\"test--parent--name\" formControlName=\"name\" />\r\n          <label for=\"test--parent--name\" slot=\"label\">Name</label>\r\n          <span slot=\"support-text\">\r\n            status: {{ formGroup.controls.name.status }} - valid: {{ formGroup.controls.name.valid }} - pristine: {{ formGroup.controls.name.pristine }} - touched: {{ formGroup.controls.name.touched }} - dirty:\r\n            {{ formGroup.controls.name.dirty }}\r\n          </span>\r\n        </forge-text-field>\r\n        <forge-text-field>\r\n          <input type=\"text\" id=\"test--parent--age\" formControlName=\"age\" />\r\n          <label for=\"test--parent--age\" slot=\"label\">Age</label>\r\n          <span slot=\"support-text\">{{ formGroup.controls.age.status }}</span>\r\n        </forge-text-field>\r\n        <forge-text-field>\r\n          <input type=\"text\" id=\"test--parent--location\" formControlName=\"location\" />\r\n          <label for=\"test--parent--location\" slot=\"label\">Location</label>\r\n          <span slot=\"support-text\">{{ formGroup.controls.location.status }}</span>\r\n        </forge-text-field>\r\n        <div class=\"card-body__section__footer\">\r\n          <forge-button variant=\"outlined\" (click)=\"onResetForm()\">Reset</forge-button>\r\n          <forge-button variant=\"filled\" (click)=\"onValidate()\">Validate</forge-button>\r\n        </div>\r\n      </form>\r\n\r\n      <div class=\"card-body__section\">\r\n        <div>Template variable and array pipes</div>\r\n        <ng-template #variableTemplate [ngTemplateOutlet]=\"variableTemplate\" [ngTemplateOutletContext]=\"{ $implicit: { cats: 1, dogs: 2 } }\" let-variable>\r\n          <div>{{ variable | json }}</div>\r\n        </ng-template>\r\n\r\n        <div>{{ 0 | appArrayFind: arrayData : 'value' : 'label' }}</div>\r\n        <div>{{ 1 | appArrayFind: arrayData : 'value' | json }}</div>\r\n        <div>{{ propertyPaths | json }}</div>\r\n      </div>\r\n\r\n      <div class=\"card-body__section\">\r\n        <div>Web requests <span class=\"app--color--error\">*</span>requires running server - npm run server</div>\r\n        <div style=\"display: flex; column-gap: 16px\">\r\n          <forge-button variant=\"outlined\" (click)=\"onSendMessage()\" [disabled]=\"isMessaging\">\r\n            <span>Send message</span>\r\n            @if (isMessaging) {\r\n              <forge-circular-progress></forge-circular-progress>\r\n            }\r\n          </forge-button>\r\n          <forge-button variant=\"outlined\" (click)=\"onMakeLongRequest()\" [disabled]=\"isRequesting\">\r\n            <span>Make long request</span>\r\n            @if (isRequesting) {\r\n              <forge-circular-progress></forge-circular-progress>\r\n            }\r\n          </forge-button>\r\n          <forge-button variant=\"outlined\" (click)=\"onMakePollingRequest()\" [disabled]=\"isPolling\">\r\n            <span>Make polling request</span>\r\n            @if (isPolling) {\r\n              <forge-circular-progress></forge-circular-progress>\r\n            }\r\n          </forge-button>\r\n        </div>\r\n        <div style=\"overflow-wrap: break-word\">{{ response }}</div>\r\n      </div>\r\n    </div>\r\n\r\n    <ng-container app-card-footer>\r\n      <forge-button slot=\"end\" variant=\"outlined\" (click)=\"onShowBusy()\">Show busy</forge-button>\r\n      <forge-button slot=\"end\" variant=\"outlined\">Cancel</forge-button>\r\n      <forge-button slot=\"end\" variant=\"filled\">Save</forge-button>\r\n    </ng-container>\r\n  </app-card>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { ForgeButtonModule } from '@tylertech/forge-angular';\r\nimport { DashboardTemplateComponent, DashboardTitleComponent } from 'src/app/shared/components';\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  imports: [CommonModule, ForgeButtonModule, DashboardTemplateComponent, DashboardTitleComponent],\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrl: './dashboard.component.scss'\r\n})\r\nexport class DashboardComponent {}\r\n","<app-dashboard-template>\r\n  <img app-dashboard-header-banner src=\"assets/banner-skyline.jpg\" alt=\"\" />\r\n  <div class=\"header\" app-dashboard-header>\r\n    <app-dashboard-title titleTop=\"Top Title\" titleMiddle=\"Middle title\"></app-dashboard-title>\r\n    <div class=\"header__actions\">\r\n      <forge-button>\r\n        <img slot=\"start\" src=\"https://cdn.forge.tylertech.com/v1/images/spot/tyler-workflow-spot.svg\" alt=\"\" />\r\n        <span class=\"forge-typography--heading4\">Action 1</span>\r\n      </forge-button>\r\n      <forge-button>\r\n        <img slot=\"start\" src=\"https://cdn.forge.tylertech.com/v1/images/spot/tyler-workflow-spot.svg\" alt=\"\" />\r\n        <span class=\"forge-typography--heading4\">Action 2</span>\r\n      </forge-button>\r\n    </div>\r\n  </div>\r\n  <div class=\"body\">\r\n    <div class=\"card\">\r\n      <div class=\"card__body\">Card content</div>\r\n    </div>\r\n  </div>\r\n  <div class=\"footer\" app-dashboard-footer>\r\n    <span>Dashboard footer</span>\r\n  </div>\r\n  <div class=\"footer-banner\" app-dashboard-footer-banner>\r\n    <span>&copy;Site footer content</span>\r\n  </div>\r\n</app-dashboard-template>\r\n","import { Routes } from '@angular/router';\r\n\r\nimport { ExamplesService } from './examples.service';\r\nimport { ExamplesComponent } from './examples.component';\r\nimport { AutocompleteComponent } from './autocomplete/autocomplete.component';\r\nimport { DragDropComponent } from './drag-drop/drag-drop.component';\r\nimport { SelectComponent } from './select/select.component';\r\nimport { BindingComponent } from './binding/binding.component';\r\nimport { MiscComponent } from './misc/misc.component';\r\nimport { DashboardComponent } from './dashboard/dashboard.component';\r\n\r\nexport const EXAMPLES_ROUTES: Routes = [\r\n  {\r\n    path: '',\r\n    component: ExamplesComponent,\r\n    providers: [ExamplesService],\r\n    children: [\r\n      { path: 'autocomplete', component: AutocompleteComponent },\r\n      { path: 'drag-drop', component: DragDropComponent },\r\n      { path: 'select', component: SelectComponent },\r\n      { path: 'binding', component: BindingComponent },\r\n      { path: 'misc', component: MiscComponent },\r\n      { path: 'dashboard', component: DashboardComponent },\r\n      { path: '', redirectTo: 'autocomplete', pathMatch: 'full' }\r\n    ]\r\n  }\r\n];\r\n"],"mappings":"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AAY,EACxBA,EAAU,CAChB,IAAK,uBACH,MAAO,CACL,IAAK,OACL,KAAMA,CACR,EACF,IAAK,0CACH,MAAO,CACL,IAAK,MACL,KAAMA,CACR,EACF,IAAK,mDACH,MAAO,CACL,IAAK,MACL,KAAMA,CACR,EACF,IAAK,iDACH,MAAO,CACL,IAAK,MACL,KAAMA,CACR,EACF,IAAK,0DACH,MAAO,CACL,IAAK,MACL,KAAMA,CACR,EACF,IAAK,kDACH,MAAO,CACL,IAAK,MACL,KAAMA,CACR,EACF,IAAK,2DACH,MAAO,CACL,IAAK,MACL,KAAMA,CACR,EACF,IAAK,8CACH,MAAO,CACL,IAAK,MACL,KAAMA,CACR,EACF,IAAK,uDACH,MAAO,CACL,IAAK,MACL,KAAMA,CACR,EACF,IAAK,yEACH,MAAO,CACL,IAAK,OACL,KAAMA,CACR,EACF,IAAK,oEACH,MAAO,CACL,IAAK,OACL,KAAMA,CACR,EACF,IAAK,8CACH,MAAO,CACL,IAAK,OACL,KAAM,gDACR,EACF,IAAK,uEACH,MAAO,CACL,IAAK,OACL,KAAMA,CACR,EACF,IAAK,iDACH,MAAO,CACL,IAAK,OACL,KAAM,mDACR,EACF,IAAK,uDACH,MAAO,CACL,IAAK,OACL,KAAM,yDACR,EACF,IAAK,0EACH,MAAO,CACL,IAAK,OACL,KAAMA,CACR,EACF,IAAK,gDACH,MAAO,CACL,IAAK,OACL,KAAM,kDACR,EACF,IAAK,0EACH,MAAO,CACL,IAAK,OACL,KAAMA,CACR,EACF,IAAK,wDACH,MAAO,CACL,IAAK,OACL,KAAM,kDACR,EACF,IAAK,wEACH,MAAO,CACL,IAAK,OACL,KAAMA,CACR,EACF,IAAK,sDACH,MAAO,CACL,IAAK,OACL,KAAM,wDACR,EACF,IAAK,4EACH,MAAO,CACL,IAAK,OACL,KAAMA,CACR,EACF,IAAK,0DACH,MAAO,CACL,IAAK,OACL,KAAM,4DACR,EACF,IAAK,mCACH,MAAO,CACL,IAAK,OACL,KAAM,uBACR,EACF,IAAK,yDACH,MAAO,CACL,IAAK,MACL,KAAM,WACR,EACF,QACF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","names":["require_ieee754","__commonJSMin","exports","buffer","offset","isLE","mLen","nBytes","e","m","eLen","eMax","eBias","nBits","i","s","value","c","rt","d","require_ms","__commonJSMin","exports","module","s","m","h","d","w","y","val","options","type","parse","fmtLong","fmtShort","str","match","n","ms","msAbs","plural","name","isPlural","require_common","__commonJSMin","exports","module","setup","env","createDebug","coerce","disable","enable","enabled","destroy","key","selectColor","namespace","hash","i","prevTime","enableOverride","namespacesCache","enabledCache","debug","args","self","curr","ms","index","match","format","formatter","val","extend","v","delimiter","newDebug","namespaces","split","ns","matchesTemplate","search","template","searchIndex","templateIndex","starIndex","matchIndex","name","skip","require_browser","__commonJSMin","exports","module","formatArgs","save","load","useColors","localstorage","warned","m","args","c","index","lastC","match","namespaces","r","formatters","v","error","ExamplesService","constructor","mockData","index","push","id","code","Utils","formatNumber","description","getSingleSelectOptions","filterText","value","take","Observable","o","setTimeout","records","length","filter","d","toLocaleLowerCase","includes","slice","toString","next","complete","getMutlipleSelectOptions","values","Set","map","v","factory","ɵfac","_ExamplesService","ExamplesComponent","selectors","decls","vars","template","rf","ctx","ɵɵelement","RouterModule","RouterOutlet","styles","_ExamplesComponent","AutocompleteComponent","constructor","moduleService","inject","ExamplesService","formGroup","FormGroup","autocomplete01","FormControl","autocomplete02","value","id","code","description","label","autocomplete03","autocomplete04","autocomplete05","autocomplete06","autocomplete07","optionBuilder","option","filterText","parentElement","defaultSpan","document","createElement","innerText","appendChild","subTitleSpan","setAttribute","selectedTextBuilder","options","singleSelectPrimitiveFilter","lastValueFrom","getSingleSelectOptions","undefined","pipe","map","result","d","singleSelectObjectFilter","multipleSelectFilter","getMutlipleSelectOptions","onAutocompleteChange","event","detail","onDisable","control","controls","disabled","enable","disable","selectors","decls","vars","consts","template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ɵɵtwoWayListener","$event","i0","ɵɵtwoWayBindingSet","ɵɵproperty","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","getRawValue","ɵɵtwoWayProperty","ɵɵtextInterpolate1","CommonModule","FormsModule","ɵNgNoValidate","NgControlStatus","NgControlStatusGroup","NgModel","ReactiveFormsModule","FormGroupDirective","FormControlName","ForgeAutocompleteModule","AutocompleteValueAccessor","ForgeButtonModule","ButtonComponent","ForgeDividerModule","DividerComponent","ForgeIconModule","IconComponent","ForgeTextFieldModule","TextFieldComponent","JsonPipe","styles","_AutocompleteComponent","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","item_r2","ɵɵelement","item_r3","DragDropComponent","constructor","items01","items02","onDrop","event","previousContainer","container","moveItemInArray","data","previousIndex","currentIndex","transferArrayItem","selectors","decls","vars","consts","template","rf","ctx","ɵɵlistener","$event","i0","ɵɵrestoreView","_r1","ɵɵresetView","ɵɵrepeaterCreate","DragDropComponent_For_7_Template","ɵɵrepeaterTrackByIndex","ɵɵtemplate","DragDropComponent_forge_list_item_8_Template","DragDropComponent_For_15_Template","DragDropComponent_forge_list_item_16_Template","ɵɵproperty","ɵɵpureFunction1","_c0","item02List_r5","ɵɵrepeater","item01List_r4","CommonModule","DragDropModule","CdkDropList","CdkDropListGroup","CdkDrag","CdkDragPlaceholder","ForgeListItemModule","ListItemComponent","ForgeListModule","ListComponent","styles","_DragDropComponent","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","option_r1","value","ɵɵadvance","ɵɵtextInterpolate","label","SelectComponent","constructor","moduleService","inject","ExamplesService","options","mockData","slice","map","d","id","description","objectOptions","formGroup","FormGroup","select01","FormControl","select02","select03","select04","select05","select06","select07","optionBuilder","option","parentElement","defaultSpan","document","createElement","innerText","appendChild","subTitleSpan","setAttribute","code","selectedTextBuilder","onSelectChange","event","detail","selectors","decls","vars","consts","template","rf","ctx","ɵɵrepeaterCreate","SelectComponent_For_3_Template","ɵɵrepeaterTrackByIndex","ɵɵelement","ɵɵtwoWayListener","$event","i0","ɵɵtwoWayBindingSet","ɵɵlistener","ɵɵrepeater","ɵɵpipeBind1","getRawValue","ɵɵtwoWayProperty","ɵɵtextInterpolate1","CommonModule","FormsModule","ɵNgNoValidate","NgControlStatus","NgControlStatusGroup","NgModel","ReactiveFormsModule","FormGroupDirective","FormControlName","ForgeDividerModule","DividerComponent","ForgeOptionModule","OptionComponent","ForgeSelectModule","SelectValueAccessor","JsonPipe","styles","_SelectComponent","ChildComponent","constructor","name","model","selectors","inputs","outputs","decls","vars","consts","template","rf","ctx","ɵɵelementStart","ɵɵtwoWayListener","$event","i0","ɵɵtwoWayBindingSet","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtwoWayProperty","CommonModule","FormsModule","DefaultValueAccessor","NgControlStatus","NgModel","ForgeTextFieldModule","TextFieldComponent","styles","_ChildComponent","BindingComponent","constructor","name","selectors","decls","vars","consts","template","rf","ctx","ɵɵelementStart","ɵɵtwoWayListener","$event","i0","ɵɵtwoWayBindingSet","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtwoWayProperty","CommonModule","FormsModule","DefaultValueAccessor","NgControlStatus","NgModel","ForgeTextFieldModule","TextFieldComponent","ChildComponent","styles","_BindingComponent","ieee754","WINDOWS_1252_EXTRA","WINDOWS_1252_REVERSE","code","char","textDecode","bytes","encoding","decodeUTF8","decodeUTF16LE","decodeASCII","decodeLatin1","decodeWindows1252","decodeUTF8","bytes","out","b1","b2","b3","b4","cp","decodeUTF16LE","decodeASCII","b","decodeLatin1","decodeWindows1252","WINDOWS_1252_EXTRA","dv","array","UINT8","offset","value","UINT16_LE","UINT16_BE","UINT32_LE","array","offset","dv","value","UINT32_BE","INT32_BE","array","offset","dv","value","UINT64_LE","array","offset","dv","value","StringType","len","encoding","data","offset","bytes","textDecode","defaultMessages","EndOfStreamError","AbortError","message","AbstractStreamReader","uint8Array","mayBeLess","__async","bytesRead","buffer","EndOfStreamError","remaining","peekData","lenCopy","AbortError","chunkLen","WebStreamReader","AbstractStreamReader","reader","__async","WebStreamByobReader","WebStreamReader","buffer","mayBeLess","__async","result","WebStreamDefaultReader","AbstractStreamReader","reader","target","chunk","written","buffer","mayBeLess","__async","totalBytesRead","result","EndOfStreamError","makeWebStreamReader","stream","reader","WebStreamDefaultReader","WebStreamByobReader","error","AbstractTokenizer","options","_0","__async","token","position","uint8Array","EndOfStreamError","length","bytesLeft","__spreadValues","maxBufferSize","ReadStreamTokenizer","AbstractTokenizer","streamReader","options","uint8Array","__async","normOptions","skipBytes","bytesRead","EndOfStreamError","skipBuffer","err","length","bufSize","buf","totBytesRead","remaining","BufferTokenizer","AbstractTokenizer","uint8Array","options","__spreadProps","__spreadValues","__async","bytesRead","normOptions","bytes2read","EndOfStreamError","position","fromWebStream","webStream","options","webStreamReader","makeWebStreamReader","_options","chainedClose","__async","ReadStreamTokenizer","fromBuffer","uint8Array","BufferTokenizer","u8","u16","i32","fleb","fdeb","clim","freb","eb","start","b","i","j","_a","fl","revfl","_b","fd","revfd","rev","x","hMap","cd","mb","r","s","l","le","co","rvb","sv","r_1","v","m","flt","fdt","flrm","hMap","flt","fdrm","hMap","fdt","max","a","m","bits","d","p","o","bits16","shft","slc","v","s","e","u8","ec","err","ind","msg","nt","e","inflt","dat","st","buf","dict","sl","dl","u8","noBuf","resize","noSt","cbuf","l","bl","nbuf","final","pos","bt","lm","dm","lbt","dbt","tbts","bits","type","flrm","fdrm","hLit","hcLen","tl","ldt","clt","i","clim","clb","max","clbmsk","clm","hMap","r","s","c","n","lt","dt","shft","t","lms","dms","lpos","bits16","sym","add","b","fleb","fl","d","dsym","fd","fdeb","end","shift","dend","slc","et","u8","gzs","d","err","flg","st","zs","gzl","l","zls","d","dict","err","inflateSync","data","opts","inflt","gunzipSync","data","opts","st","gzs","err","inflt","u8","gzl","unzlibSync","data","opts","inflt","zls","decompressSync","data","opts","gunzipSync","inflateSync","unzlibSync","td","tds","et","import_debug","Signature","DataDescriptor","array","flags","UINT16_LE","UINT32_LE","LocalFileHeaderToken","EndOfCentralDirectoryRecordToken","FileHeader","signatureToArray","signature","signatureBytes","UINT32_LE","debug","initDebug","syncBufferSize","ddSignatureArray","Signature","eocdSignatureBytes","ZipHandler","tokenizer","__async","randomReadTokenizer","chunkLength","buffer","i","pos","offset","eocdHeader","EndOfCentralDirectoryRecordToken","files","n","entry","FileHeader","StringType","fileCb","entries","stop","zipHeader","next","fileData","chunks","len","nextHeaderIndex","indexOf","size","data","mergeArrays","DataDescriptor","fileHeader","cb","uncompressedData","decompressSync","header","LocalFileHeaderToken","portion","bufferLength","portionLength","found","j","totalLength","acc","curr","mergedArray","chunk","cachedDecoders","cachedEncoder","byteToHexLookupTable","_","index","getUintBE","view","byteLength","stringToBytes","string","character","tarHeaderChecksumMatches","arrayBuffer","offset","readSum","StringType","sum","index","uint32SyncSafeToken","buffer","extensions","mimeTypes","reasonableDetectionSizeInBytes","fileTypeFromStream","stream","options","__async","FileTypeParser","getFileTypeFromMimeType","mimeType","_check","buffer","headers","options","__spreadValues","index","header","FileTypeParser","options","__spreadValues","tokenizer","__async","initialPosition","detector","fileType","input","buffer","fromBuffer","blob","stream","fromWebStream","sampleSize","reasonableDetectionSizeInBytes","detectedFileType","firstChunk","reader","chunk","done","error","EndOfStreamError","transformStream","controller","newStream","header","_check","stringToBytes","id3HeaderLength","uint32SyncSafeToken","ZipHandler","zipHeader","_a","fileData","mimeType","getFileTypeFromMimeType","_b","xmlContent","endPos","firstPos","type","readField","msb","UINT8","mask","ic","id","readElement","idField","lengthField","nrLength","idView","lengthView","getUintBE","readChildren","children","element","StringType","re","version","char7","readChunkHeader","INT32_BE","brandMajor","readHeader","guid","UINT64_LE","payload","typeId","jsonSize","tarHeaderChecksumMatches","depth","bigEndian","tagId","UINT16_BE","UINT16_LE","numberOfTags","ifdOffset","UINT32_BE","UINT32_LE","someId1","someId2","offset","supportedExtensions","extensions","supportedMimeTypes","mimeTypes","DEFAULT_WEBSOCKET_CONFIG","e","value","WEBSOCKETSUBJECT_INVALID_ERROR_OBJECT","WebSocketSubject","_WebSocketSubject","AnonymousSubject","urlConfigOrSource","destination","Observable","config","Subject","key","ReplaySubject","operator","sock","subMsg","unsubMsg","messageFilter","self","observer","err","subscription","x","WebSocketCtor","protocol","url","binaryType","socket","Subscription","evt","_socket","openObserver","queue","Subscriber","serializer","closingObserver","closeObserver","deserializer","subscriber","source","webSocket","urlConfigOrSource","WebSocketSubject","AppWebSocketService","constructor","webSocketSubject","webSocket","factory","ɵfac","providedIn","_AppWebSocketService","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","variable_r2","ɵɵelement","MiscComponent","constructor","destroyRef","inject","DestroyRef","appCacheService","AppCacheService","appDataService","AppDataService","appWebSocketService","AppWebSocketService","busyIndicatorService","BusyIndicatorService","toastService","ToastService","propertyPathsData","firstName","lastName","age","citizen","address","city","state","districts","name","location","pets","friends","asyncValidators","Map","arrayData","value","label","fileName","fileEncoded","openAsDownload","formGroup","FormGroup","FormControl","asyncValidator","isRequesting","isPolling","isMessaging","ngOnInit","propertyPaths","Utils","objectPropertyPaths","webSocketSubject","pipe","takeUntilDestroyed","subscribe","next","result","console","log","response","JSON","stringify","isBusy","set","ngOnDestroy","complete","onShowFile","getFile","size","type","text","then","encodedBlob","base64toBlob","openFile","show","message","duration","Infinity","dismissible","error","onShowBusy","config","progress","title","window","setTimeout","hide","onValidate","key","keys","validator","get","delete","onResetForm","forEach","v","clear","reset","control","dirty","has","Subject","of","binaryValue","atob","e","valueArray","Uint8Array","from","c","charCodeAt","Blob","fileTypeFromStream","stream","fileTypeResult","resultBlob","mime","length","resultBlobUrl","URL","createObjectURL","openFileName","split","at","ext","linkElement","document","createElement","style","display","href","setAttribute","body","appendChild","click","remove","open","revokeObjectURL","onMakeLongRequest","undefined","getLongRequest","finalize","onMakePollingRequest","pollingRequest","r","onSendMessage","data","date","Date","selectors","decls","vars","consts","template","rf","ctx","ɵɵelementContainerStart","ɵɵtwoWayListener","$event","i0","ɵɵrestoreView","_r1","ɵɵtwoWayBindingSet","ɵɵresetView","ɵɵlistener","ɵɵtemplate","MiscComponent_ng_template_61_Template","ɵɵtemplateRefExtractor","ɵɵconditionalCreate","MiscComponent_Conditional_83_Template","MiscComponent_Conditional_87_Template","MiscComponent_Conditional_91_Template","ɵɵtwoWayProperty","ɵɵproperty","ɵɵtextInterpolate5","controls","status","valid","pristine","touched","variableTemplate_r3","ɵɵpureFunction1","_c1","ɵɵpureFunction0","_c0","ɵɵpipeBind4","ɵɵpipeBind3","ɵɵconditional","CommonModule","NgTemplateOutlet","FormsModule","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","NgModel","ReactiveFormsModule","FormGroupDirective","FormControlName","ForgeButtonModule","ButtonComponent","ForgeCheckboxModule","CheckboxValueAccessor","CheckboxComponent","ForgeCircularProgressModule","CircularProgressComponent","ForgeIconButtonModule","IconButtonComponent","IconComponent","ForgeIconModule","ForgeTextFieldModule","TextFieldComponent","ForgeToolbarModule","ToolbarComponent","CardComponent","JsonPipe","ArrayFindPipe","styles","_MiscComponent","DashboardComponent","selectors","decls","vars","consts","template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","CommonModule","ForgeButtonModule","ButtonComponent","DashboardTemplateComponent","DashboardTitleComponent","styles","_DashboardComponent","EXAMPLES_ROUTES","path","component","ExamplesComponent","providers","ExamplesService","children","AutocompleteComponent","DragDropComponent","SelectComponent","BindingComponent","MiscComponent","DashboardComponent","redirectTo","pathMatch"],"x_google_ignoreList":[0,1,2,3,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37]}