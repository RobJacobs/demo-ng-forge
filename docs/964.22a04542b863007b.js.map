{"version":3,"file":"964.22a04542b863007b.js","mappings":"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","names":["FormlyDemoService","constructor","this","formMessage","Subject","validateField","field","value","of","invalid","message","pipe","delay","getFieldHelp","param","filters","length","count","data","result","index","skip","take","push","id","address","city","state","static","t","core","wxM","factory","fac","formlyDemoConstants","props","label","type","attributes","columns","fieldGroup","key","defaultValue","required","description","width","column","row","options","optionsKey","property","className","template","safeHtml","fieldArray","_c0","FormlyField_ng_template_0_Template","rf","ctx","FormlyGroup_formly_field_0_Template","i0","$implicit","_c1","getFieldId","formId","Type","prototype","name","join","hasKey","isNil","Array","isArray","getKeyPath","_keyPath","path","indexOf","replace","split","slice","defineHiddenProp","FORMLY_VALIDATORS","assignFieldValue","paths","root","parent","undefined","resetOnHide","k","pop","reduce","model","assignModelValue","i","isObject","test","clone","getFieldValue","reverseDeepMerge","dest","args","forEach","src","srcArg","isBlankString","objAndSameType","isUndefined","isFunction","obj1","obj2","Object","getPrototypeOf","x","isObservable","TemplateRef","changingThisBreaksApplicationSecurity","Set","Map","Uint8Array","Uint16Array","Uint32Array","_isAMomentObject","AbstractControl","Date","getTime","map","v","proto","c","create","setPrototypeOf","keys","newVal","prop","propDesc","getOwnPropertyDescriptor","get","defineProperty","enumerable","writable","configurable","observeDeep","source","setFn","observers","unsubscribe","observer","observe","firstChange","currentValue","o","_observers","target","onChange","set","previousValue","changeFn","setValue","emitEvent","filter","getField","f","len","markFieldForCheck","_componentRefs","ref","ComponentRef","injector","ChangeDetectorRef","markForCheck","FORMLY_CONFIG","InjectionToken","FormlyConfig","types","validators","wrappers","messages","extras","checkExpressionOn","lazyRender","resetFieldOnHide","renderFormlyFieldElement","showError","formControl","touched","parentForm","submitted","validation","show","extensions","presets","extensionsByPriority","addConfig","config","setType","validator","setValidator","wrapper","setWrapper","validationMessages","addValidatorMessage","setSortedExtensions","acc","curr","option","hasOwnProperty","getType","throwIfNotFound","component","Error","mergeExtendedType","getMergedField","defaultOptions","extendDefaults","extends","optionsTypes","componentRef","resolveFieldTypeRef","instance","_componentRef","_viewContainerRef","_injector","createComponent","destroy","e","console","error","setTypeWrapper","getWrapper","getValidator","getValidatorMessage","extensionOptions","extensionOption","priority","extension","Number","sort","a","b","prio","extendedType","prov","token","providedIn","FormlyFormBuilder","viewContainerRef","buildForm","form","build","_setOptions","disableTreeValidityCall","callback","_updateTreeValidity","bind","_build","checkExpressions","_detectChanges","values","prePopulate","onPopulate","postPopulate","FormGroup","_buildForm","warn","detectChanges","i2","unregisterControl","control","fieldIndex","_fields","splice","opts","FormArray","controls","findIndex","removeAt","removeControl","setParent","findControl","shareFormControl","registerControl","setValidators","setAsyncValidators","disabled","disabledObserver","disable","enable","FormControl","registerOnDisabledChange","patchValue","setControl","_hide","updateValidity","onlySelf","status","updateValueAndValidity","statusChanges","emit","valueChanges","clearControl","FormlyTemplate","ngOnChanges","dir","selectors","inputs","None","features","FormlyFieldTemplates","FormlyField","renderer","_elementRef","hostContainerRef","hostObservers","componentRefs","hooksObservers","detectFieldBuild","valueChangesUnsubscribe","containerRef","elementRef","location","ngAfterContentInit","triggerHook","ngAfterViewInit","ngDoCheck","render","ngOnInit","changes","ngOnDestroy","resetRefs","hostObserver","renderField","clear","wps","attachComponentRef","_lContainer","viewRef","detach","destroyed","insert","changeDetectorRef","inlineType","templates","find","createEmbeddedView","fieldChanges","hooks","r","sub","subscribe","assign","setStyle","nativeElement","removeAttribute","setAttribute","hide","_localFields","subscribes","_expressions","expressionObserver","subscription","value$","fieldObserver","distinctUntilChanged","y","startWith","updateOn","debounce","modelOptions","default","debounceTime","parsers","parserFn","next","templateFieldsSubs","cmp","viewQuery","ViewContainerRef","_t","first","decls","vars","consts","styles","FormlyForm","builder","ngZone","fieldTemplates","modelChange","EventEmitter","_modelChangeValue","immutable","setField","fields","checkExpressionChange","switchMap","onStable","asObservable","runGuarded","p","contentQueries","dirIndex","outputs","dependencies","encapsulation","changeDetection","FormlyAttributes","_document","uiAttributesCache","uiEvents","listeners","events","eventName","$event","onFocus","onBlur","document","fieldAttrElements","_elementRefs","listener","listen","attr","detachElementRef","attachElementRef","focusObserver","toggleFocus","uiAttributes","element","hasAttribute","toLowerCase","focus","isFocused","activeElement","some","contains","Promise","resolve","then","blur","onHostChange","Event","change","markAsDirty","DOCUMENT","hostBindings","FieldType","_formlyControls","flat","to","formState","NgControl","FormlyGroup","FormlyGroup_BaseFactory","hostVars","fieldGroupClassName","ngContentSelectors","i2$1","FormlyValidationMessage","EXPR_VALIDATORS","errorMessage$","merge","errorMessage","fieldForm","errors","errorPath","asyncValidators","FieldArrayType","add","initialModel","remove","updateArrayElementKey","newKey","FieldArrayType_BaseFactory","FormlyTemplateType","sanitizer","super","innerHtml","content","bypassSecurityTrustHtml","i1","FieldExpressionExtension","hidden","_hiddenFieldsForCheck","hideExpression","expr","parseExpressions","evalExpr","Observable","tap","expressions","expressionProperties","checkLocked","ignoreCache","fieldChanged","changeHideState","_checkField","parentExpression","includes","rootValue","evalStringExpression","expression","argNames","Function","exprValue","evalExpression","thisArg","argVal","apply","JSON","stringify","changeDisabledState","every","reset","_evalExpressionPath","lastIndex","emitExpressionChanges","arrayPath","match","FieldValidationExtension","initFieldValidation","getPredefinedFieldValidation","validatorName","wrapNgValidatorFn","VALIDATORS","opt","Validators","compose","pattern","minLengthResult","minLength","minLengthKey","minlength","maxLengthResult","maxLength","maxLengthKey","maxlength","R","min","max","validatorOption","isPromise","obj","handleResult","ctrl","_childrenErrors","childCtrl","_errorPath","setErrors","l","_toDelete","childErrors","FieldFormExtension","addFormControl","controlOptions","initialValueIsDefault","enabled","hasValidators","mergeValidators","asyncValidator","composeAsync","CoreExtension","initRootOptions","initFieldProps","getFieldComponentInstance","initFieldOptions","templateOptions","_markForCheck","resetModel","_initialModel","updateInitialValue","placeholder","isHidden","setDefaultValue","componentRefInstance","fieldComponentRef","componentType","_proxyInstance","Proxy","_","defaultFormlyConfig","FormlyModule","configService","configs","forRoot","ngModule","providers","provide","multi","useFactory","deps","useValue","forChild","mod","inj","imports","CommonModule","ctx_r0","formGroup","formDefinition","formOptions","FormlyDemoComponent","inject","moduleService","age","takeUntilDestroyed","getFormErrors","formErrors","groupError","In1","FormlyDemoComponent_Conditional_2_Template","FormlyFieldComponent","ElementRef","FormlyFieldDirective","style","gridColumn","gridRow","addEventListener","Sc5","formlyFieldDirective","standalone","f_r3","_r8","GroupTypeComponent","fieldContainerElement","fieldContainer","classList","gridTemplateColumns","gridWidth","gridHeight","GroupTypeComponent_Conditional_0_Template","GroupTypeComponent_For_4_Template","ctx_r1","CheckboxTypeComponent","addAsyncValidators","complete","pristine","takeUntil","server","CheckboxTypeComponent_Conditional_2_Template","CheckboxTypeComponent_Conditional_3_Template","readonly","ReactiveFormsModule","ForgeCheckboxModule","i3","DatePickerTypeComponent","isValidDate","DatePickerTypeComponent_Conditional_3_Template","DatePickerTypeComponent_Conditional_4_Template","ForgeDatePickerModule","ForgeTextFieldModule","TextareaTypeComponent","cols","rows","TextareaTypeComponent_Conditional_3_Template","TextareaTypeComponent_Conditional_4_Template","field_r2","ctx_r7","onTabSelected","TabTypeComponent","activeTab","activeField","TabTypeComponent_For_2_Template","_r1","ForgeTabBarModule","ForgeTabModule","th_r3","f_r14","_r19","TableTypeComponent_For_9_For_2_Template","i_r9","_r21","$index","ctx_r20","onRemove","fg_r8","TableTypeComponent","onAdd","fromEntries","requestAnimationFrame","tr","from","tableElement","querySelectorAll","reverse","focusElement","querySelector","TableTypeComponent_For_5_Template","TableTypeComponent_For_9_Template","FieldHelpDialogComponent","dialogConfig","DialogConfig","dialogRef","DialogRef","paginator","pageIndex","pageSize","total","isBusy","direction","SortDirection","Ascending","title","columnConfigurations","dataObservable","initialSort","getData","onClose","close","onPaginatorChange","onTableSort","columnIndex","onTableFilter","filterProperty","isDefined","toString","onTableRowClick","finalize","detail","FieldHelpDialogComponent_Conditional_8_Template","FieldHelpDialogComponent_Conditional_9_Template","ForgeIconButtonModule","ForgeIconModule","ForgePageStateModule","ForgePaginatorModule","ForgeSkeletonModule","ForgeTableModule","ctx_r2","InputHelpTypeComponent","dialogService","DialogService","onShowDialog","dialogSub","fullscreen","header","sortable","filterDelegate","TextFieldComponentDelegate","afterClosed","InputHelpTypeComponent_Conditional_3_Template","InputHelpTypeComponent_Conditional_7_Template","LabelTypeComponent","ctx_r8","i_r4","option_r3","RadioTypeComponent_For_3_Conditional_2_Template","RadioTypeComponent","RadioTypeComponent_Conditional_0_Template","RadioTypeComponent_For_3_Template","RadioTypeComponent_Conditional_4_Template","ForgeRadioModule","SelectTypeComponent","SelectTypeComponent_Conditional_1_Template","ForgeSelectModule","formlyFieldExtension","ButtonTypeComponent","onClick","event","log","ForgeButtonModule","ContainerTypeComponent","ContainerTypeComponent_Conditional_0_Template","ContainerTypeComponent_For_4_Template","InputTypeComponent","inputType","InputTypeComponent_Conditional_3_Template","InputTypeComponent_Conditional_4_Template","i4","FormlyConfigModule","a4G","s3X","routes","FormlyDemoModule","RouterModule","scheduler","popScheduler","concurrent","popNumber","Infinity","sources","innerFrom","mergeAll","EMPTY","timer","dueTime","intervalOrScheduler","asyncScheduler","intervalDuration","isScheduler","subscriber","due","isNaN","now","n","schedule","closed","operate","activeTask","lastValue","lastTime","emitWhenIdle","targetTime","createOperatorSubscriber","comparator","keySelector","identity","defaultCompare","previousKey","currentKey","Action","Subscription","work","intervalProvider","setInterval","handler","timeout","delegate","clearInterval","handle","AsyncAction","pending","_a","recycleAsyncId","requestAsyncId","_id","flush","_scheduler","execute","_execute","_delay","errorValue","errored","actions","arrRemove","Scheduler","schedulerActionCtor","dateTimestampProvider","AsyncScheduler","SchedulerAction","_active","action","shift","async"],"sourceRoot":"webpack:///","sources":["./src/app/formly-demo/formly-demo.service.ts","./src/app/formly-demo/formly-demo.constants.ts","./node_modules/@ngx-formly/core/fesm2020/ngx-formly-core.mjs","./src/app/formly-demo/formly-demo.component.html","./src/app/formly-demo/formly-demo.component.ts","./src/app/formly-demo/components/formly-field.component.ts","./src/app/formly-demo/components/formly-field.directive.ts","./src/app/formly-demo/components/group-type.component.ts","./src/app/formly-demo/components/checkbox-type.component.ts","./src/app/formly-demo/components/date-picker-type.component.ts","./src/app/formly-demo/components/textarea-type.component.ts","./src/app/formly-demo/components/tab-type.component.ts","./src/app/formly-demo/components/table-type.component.ts","./src/app/formly-demo/components/field-help-dialog/field-help-dialog.component.html","./src/app/formly-demo/components/field-help-dialog/field-help-dialog.component.ts","./src/app/formly-demo/components/input-help-type.component.ts","./src/app/formly-demo/components/label-type.component.ts","./src/app/formly-demo/components/radio-type.component.ts","./src/app/formly-demo/components/select-type.component.ts","./src/app/formly-demo/components/formly-field.extension.ts","./src/app/formly-demo/components/button-type.component.ts","./src/app/formly-demo/components/container-type.component.ts","./src/app/formly-demo/components/input-type.component.ts","./src/app/formly-demo/components/formly-config.module.ts","./src/app/formly-demo/formly-demo.module.ts","./node_modules/rxjs/dist/esm/internal/observable/merge.js","./node_modules/rxjs/dist/esm/internal/observable/timer.js","./node_modules/rxjs/dist/esm/internal/util/isDate.js","./node_modules/rxjs/dist/esm/internal/operators/debounceTime.js","./node_modules/rxjs/dist/esm/internal/operators/distinctUntilChanged.js","./node_modules/rxjs/dist/esm/internal/scheduler/Action.js","./node_modules/rxjs/dist/esm/internal/scheduler/intervalProvider.js","./node_modules/rxjs/dist/esm/internal/scheduler/AsyncAction.js","./node_modules/rxjs/dist/esm/internal/Scheduler.js","./node_modules/rxjs/dist/esm/internal/scheduler/AsyncScheduler.js","./node_modules/rxjs/dist/esm/internal/scheduler/async.js","./node_modules/rxjs/dist/esm/internal/scheduler/dateTimestampProvider.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable, of, Subject } from 'rxjs';\r\nimport { delay } from 'rxjs/operators';\r\nimport { IFilterParameter, IFilterResponse } from '../shared/interfaces/filter.interface';\r\n\r\n@Injectable()\r\nexport class FormlyDemoService {\r\n  public formMessage = new Subject<{ id: string; message: string; }>();\r\n\r\n  public validateField(field: string, value: any): Observable<{ invalid: boolean; message: string }> {\r\n    const validation = {\r\n      invalid: false,\r\n      message: `Error from server: ${field}`\r\n    };\r\n\r\n    return of(validation).pipe(\r\n      delay(1000)\r\n    );\r\n  }\r\n\r\n  public getFieldHelp(field: string, param: IFilterParameter): Observable<IFilterResponse<any>> {\r\n    if (param.filters?.length) {\r\n      return of({ count: 0, data: [] }).pipe(\r\n        delay(1000)\r\n      )\r\n    } else {\r\n      const result = [];\r\n      for (let index = param.skip as number; index < <number>param.skip + <number>param.take; index++) {\r\n        result.push(\r\n          {\r\n            id: index,\r\n            address: `${index} street`,\r\n            city: `${index} city`,\r\n            state: `${index} state`\r\n          }\r\n        );\r\n      }\r\n\r\n      return of({ count: 75, data: result }).pipe(\r\n        delay(1000)\r\n      )\r\n    }\r\n  }\r\n}\r\n","const formDefinitionBasic = [\r\n  {\r\n    // type: 'container',\r\n    props: {\r\n      label: 'Container',\r\n      type: 'grid',\r\n      attributes: {\r\n        columns: 2\r\n      }\r\n    },\r\n    fieldGroup: [\r\n      {\r\n        key: 'name',\r\n        type: 'input',\r\n        props: {\r\n          label: 'Name',\r\n          type: 'string',\r\n          format: '###-##-####',\r\n          required: true,\r\n          description: 'Persons name',\r\n          attributes: {\r\n            width: 480\r\n          }\r\n        }\r\n      },\r\n      {\r\n        key: 'age',\r\n        type: 'input',\r\n        props: {\r\n          label: 'Age',\r\n          type: 'number',\r\n          format: '#,###,###,##&.&&',\r\n          required: true,\r\n          description: 'Persons age',\r\n          attributes: {\r\n            width: 480\r\n          }\r\n        }\r\n      },\r\n    ]\r\n  }\r\n];\r\n\r\nconst formDefinitionAll = [\r\n  {\r\n    // type: 'container',\r\n    props: {\r\n      label: 'Container',\r\n      type: 'grid',\r\n      attributes: {\r\n        columns: 2\r\n      }\r\n    },\r\n    fieldGroup: [\r\n      {\r\n        key: 'firstName',\r\n        type: 'input',\r\n        defaultValue: 0,\r\n        props: {\r\n          label: 'First name',\r\n          required: true,\r\n          description: 'Persons first name',\r\n          attributes: {\r\n            width: 480\r\n          }\r\n        }\r\n      },\r\n      {\r\n        key: 'lastName',\r\n        type: 'input',\r\n        props: {\r\n          label: 'Last name',\r\n          description: 'Persons last name',\r\n          attributes: {\r\n            width: 320,\r\n            column: 1,\r\n            row: 2\r\n          }\r\n        }\r\n      },\r\n      {\r\n        key: 'age',\r\n        type: 'input',\r\n        defaultValue: 18,\r\n        props: {\r\n          label: 'Age',\r\n          type: 'number'\r\n        }\r\n      },\r\n      {\r\n        key: 'isActive',\r\n        type: 'checkbox',\r\n        props: {\r\n          label: 'Is active'\r\n        }\r\n      },\r\n      {\r\n        key: 'birthDate',\r\n        type: 'date-picker',\r\n        props: {\r\n          label: 'DOB',\r\n          description: 'Persons date of birth',\r\n          required: true\r\n        }\r\n      },\r\n      {\r\n        key: 'gender',\r\n        type: 'select',\r\n        props: {\r\n          label: 'Gender',\r\n          options: [\r\n            { label: 'Male', value: 'M' },\r\n            { label: 'Female', value: 'F' },\r\n            { label: 'Other', value: 'O' }\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        key: 'comment',\r\n        type: 'textarea',\r\n        props: {\r\n          label: 'Comment',\r\n          required: true\r\n        }\r\n      },\r\n      {\r\n        key: 'size',\r\n        type: 'radio',\r\n        props: {\r\n          label: 'Size',\r\n          description: 'What is your size?',\r\n          options: [\r\n            { label: 'Small', value: 'sm' },\r\n            { label: 'Medium', value: 'md' },\r\n            { label: 'Large', value: 'lg' }\r\n          ],\r\n          required: true\r\n        }\r\n      },\r\n      {\r\n        key: 'officeLocation',\r\n        type: 'input-help',\r\n        props: {\r\n          label: 'Office location',\r\n          description: 'What is your office location',\r\n          optionsKey: 'id',\r\n          options: [\r\n            { label: 'Address', property: 'address' },\r\n            { label: 'City', property: 'city' },\r\n            { label: 'State', property: 'state' }\r\n          ]\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    className: 'form-divider',\r\n    template: '<forge-divider style=\"margin: 16px 0\"></forge-divider>',\r\n    props: {\r\n      safeHtml: true\r\n    }\r\n  },\r\n  {\r\n    // type: 'container',\r\n    props: {\r\n      type: 'group',\r\n      label: 'Address'\r\n    },\r\n    fieldGroup: [\r\n      {\r\n        props: {\r\n          type: 'hbox'\r\n        },\r\n        fieldGroup: [\r\n          {\r\n            key: 'address.street',\r\n            type: 'input',\r\n            props: {\r\n              label: 'Street'\r\n            }\r\n          },\r\n          {\r\n            key: 'address.city',\r\n            type: 'input',\r\n            props: {\r\n              label: 'City'\r\n            }\r\n          },\r\n          {\r\n            key: 'address.state',\r\n            type: 'input',\r\n            props: {\r\n              label: 'State'\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    type: 'tab',\r\n    fieldGroup: [\r\n      {\r\n        props: {\r\n          label: 'Tab 1'\r\n        },\r\n        fieldGroup: [\r\n          {\r\n            props: {\r\n              type: 'hbox'\r\n            },\r\n            fieldGroup: [\r\n              {\r\n                key: 'tab.field1',\r\n                type: 'input',\r\n                props: {\r\n                  label: 'Field 1'\r\n                }\r\n              },\r\n              {\r\n                key: 'tab.field2',\r\n                type: 'input',\r\n                props: {\r\n                  label: 'Field 2'\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        props: {\r\n          label: 'Tab 2'\r\n        },\r\n        fieldGroup: [\r\n          {\r\n            props: {\r\n              type: 'vbox'\r\n            },\r\n            fieldGroup: [\r\n              {\r\n                key: 'tab.field3',\r\n                type: 'input',\r\n                props: {\r\n                  label: 'Field 3'\r\n                }\r\n              },\r\n              {\r\n                key: 'tab.field4',\r\n                type: 'input',\r\n                props: {\r\n                  label: 'Field 4'\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    key: 'children',\r\n    type: 'table',\r\n    props: {\r\n      columns: [\r\n        {\r\n          label: 'First name',\r\n          key: 'firstName',\r\n          defaultValue: null\r\n        },\r\n        {\r\n          label: 'Last name',\r\n          key: 'lastName',\r\n          defaultValue: null\r\n        }\r\n      ]\r\n    },\r\n    fieldArray: {\r\n      fieldGroup: [\r\n        {\r\n          key: 'firstName',\r\n          type: 'input',\r\n          props: {\r\n            required: true\r\n          }\r\n        },\r\n        {\r\n          key: 'lastName',\r\n          type: 'input'\r\n        }\r\n      ]\r\n    }\r\n  }\r\n];\r\n\r\nconst formDefinitionLayout = [\r\n  {\r\n    props: {\r\n      type: 'vbox'\r\n    },\r\n    fieldGroup: [\r\n      {\r\n        props: {\r\n          type: 'grid',\r\n          attributes: {\r\n            width: 83,\r\n            height: 10\r\n          }\r\n        },\r\n        fieldGroup: [\r\n          {\r\n            props: {\r\n              type: 'group',\r\n              attributes: {\r\n                posX: 1,\r\n                posY: 1,\r\n                gridWidth: 83,\r\n                gridHeight: 6\r\n              }\r\n            },\r\n            fieldGroup: [\r\n              {\r\n                type: 'label',\r\n                props: {\r\n                  label: 'Year',\r\n                  attributes: {\r\n                    posX: 2,\r\n                    posY: 2,\r\n                    gridWidth: 4\r\n                  }\r\n                }\r\n              },\r\n              {\r\n                key: 'tax_year',\r\n                type: 'input',\r\n                defaultValue: '2023',\r\n                props: {\r\n                  type: 'number',\r\n                  disabled: true,\r\n                  attributes: {\r\n                    posX: 20,\r\n                    posY: 2,\r\n                    gridWidth: 4,\r\n                    width: 4\r\n                  }\r\n                }\r\n              },\r\n              {\r\n                key: 'which_value',\r\n                type: 'radio',\r\n                props: {\r\n                  description: 'Value to use on report.',\r\n                  options: [\r\n                    { label: 'Original full value', value: 'O' },\r\n                    { label: 'Current full value', value: 'C' }\r\n                  ],\r\n                  required: true,\r\n                  attributes: {\r\n                    posX: 2,\r\n                    posY: 3,\r\n                    gridWidth: 31,\r\n                    width: 31\r\n                  }\r\n                }\r\n              },\r\n              {\r\n                type: 'label',\r\n                props: {\r\n                  label: 'Minimum value',\r\n                  required: true,\r\n                  attributes: {\r\n                    posX: 2,\r\n                    posY: 4,\r\n                    gridWidth: 13\r\n                  }\r\n                }\r\n              },\r\n              {\r\n                key: 'min_val',\r\n                type: 'input',\r\n                props: {\r\n                  type: 'number',\r\n                  required: true,\r\n                  attributes: {\r\n                    posX: 20,\r\n                    posY: 4,\r\n                    gridWidth: 13,\r\n                    width: 13\r\n                  }\r\n                }\r\n              },\r\n              {\r\n                type: 'label',\r\n                props: {\r\n                  label: 'Sort vehicles by',\r\n                  required: true,\r\n                  attributes: {\r\n                    posX: 2,\r\n                    posY: 5,\r\n                    gridWidth: 17\r\n                  }\r\n                }\r\n              },\r\n              {\r\n                key: 'seq_sw',\r\n                type: 'select',\r\n                props: {\r\n                  required: true,\r\n                  options: [\r\n                    { label: 'Sequence number', value: 'S' },\r\n                    { label: 'Owner name', value: 'O' }\r\n                  ],\r\n                  attributes: {\r\n                    posX: 20,\r\n                    posY: 5,\r\n                    gridWidth: 17,\r\n                    width: 15\r\n                  }\r\n                }\r\n              },\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\nexport const formlyDemoConstants = {\r\n  formDefinitionBasic,\r\n  formDefinitionAll,\r\n  formDefinitionLayout\r\n}","import * as i0 from '@angular/core';\nimport { Type, TemplateRef, ComponentRef, ChangeDetectorRef, InjectionToken, Injectable, Optional, Directive, Input, ViewContainerRef, Component, ViewChild, EventEmitter, ChangeDetectionStrategy, Output, ContentChildren, Inject, ViewChildren, NgModule } from '@angular/core';\nimport * as i2 from '@angular/forms';\nimport { AbstractControl, FormGroup, FormArray, FormControl, NgControl, Validators } from '@angular/forms';\nimport { isObservable, merge, of, Observable, Subject } from 'rxjs';\nimport { distinctUntilChanged, startWith, debounceTime, filter, switchMap, take, tap, map } from 'rxjs/operators';\nimport * as i2$1 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i1 from '@angular/platform-browser';\n\nfunction disableTreeValidityCall(form, callback) {\n    const _updateTreeValidity = form._updateTreeValidity.bind(form);\n    form._updateTreeValidity = () => { };\n    callback();\n    form._updateTreeValidity = _updateTreeValidity;\n}\nfunction getFieldId(formId, field, index) {\n    if (field.id) {\n        return field.id;\n    }\n    let type = field.type;\n    if (!type && field.template) {\n        type = 'template';\n    }\n    if (type instanceof Type) {\n        type = type.prototype.constructor.name;\n    }\n    return [formId, type, field.key, index].join('_');\n}\nfunction hasKey(field) {\n    return !isNil(field.key) && field.key !== '' && (!Array.isArray(field.key) || field.key.length > 0);\n}\nfunction getKeyPath(field) {\n    if (!hasKey(field)) {\n        return [];\n    }\n    /* We store the keyPath in the field for performance reasons. This function will be called frequently. */\n    if (field._keyPath?.key !== field.key) {\n        let path = [];\n        if (typeof field.key === 'string') {\n            const key = field.key.indexOf('[') === -1 ? field.key : field.key.replace(/\\[(\\w+)\\]/g, '.$1');\n            path = key.indexOf('.') !== -1 ? key.split('.') : [key];\n        }\n        else if (Array.isArray(field.key)) {\n            path = field.key.slice(0);\n        }\n        else {\n            path = [`${field.key}`];\n        }\n        defineHiddenProp(field, '_keyPath', { key: field.key, path });\n    }\n    return field._keyPath.path.slice(0);\n}\nconst FORMLY_VALIDATORS = ['required', 'pattern', 'minLength', 'maxLength', 'min', 'max'];\nfunction assignFieldValue(field, value) {\n    let paths = getKeyPath(field);\n    if (paths.length === 0) {\n        return;\n    }\n    let root = field;\n    while (root.parent) {\n        root = root.parent;\n        paths = [...getKeyPath(root), ...paths];\n    }\n    if (value === undefined && field.resetOnHide) {\n        const k = paths.pop();\n        const m = paths.reduce((model, path) => model[path] || {}, root.model);\n        delete m[k];\n        return;\n    }\n    assignModelValue(root.model, paths, value);\n}\nfunction assignModelValue(model, paths, value) {\n    for (let i = 0; i < paths.length - 1; i++) {\n        const path = paths[i];\n        if (!model[path] || !isObject(model[path])) {\n            model[path] = /^\\d+$/.test(paths[i + 1]) ? [] : {};\n        }\n        model = model[path];\n    }\n    model[paths[paths.length - 1]] = clone(value);\n}\nfunction getFieldValue(field) {\n    let model = field.parent ? field.parent.model : field.model;\n    for (const path of getKeyPath(field)) {\n        if (!model) {\n            return model;\n        }\n        model = model[path];\n    }\n    return model;\n}\nfunction reverseDeepMerge(dest, ...args) {\n    args.forEach((src) => {\n        for (const srcArg in src) {\n            if (isNil(dest[srcArg]) || isBlankString(dest[srcArg])) {\n                dest[srcArg] = clone(src[srcArg]);\n            }\n            else if (objAndSameType(dest[srcArg], src[srcArg])) {\n                reverseDeepMerge(dest[srcArg], src[srcArg]);\n            }\n        }\n    });\n    return dest;\n}\n// check a value is null or undefined\nfunction isNil(value) {\n    return value == null;\n}\nfunction isUndefined(value) {\n    return value === undefined;\n}\nfunction isBlankString(value) {\n    return value === '';\n}\nfunction isFunction(value) {\n    return typeof value === 'function';\n}\nfunction objAndSameType(obj1, obj2) {\n    return (isObject(obj1) &&\n        isObject(obj2) &&\n        Object.getPrototypeOf(obj1) === Object.getPrototypeOf(obj2) &&\n        !(Array.isArray(obj1) || Array.isArray(obj2)));\n}\nfunction isObject(x) {\n    return x != null && typeof x === 'object';\n}\nfunction isPromise(obj) {\n    return !!obj && typeof obj.then === 'function';\n}\nfunction clone(value) {\n    if (!isObject(value) ||\n        isObservable(value) ||\n        value instanceof TemplateRef ||\n        /* instanceof SafeHtmlImpl */ value.changingThisBreaksApplicationSecurity ||\n        ['RegExp', 'FileList', 'File', 'Blob'].indexOf(value.constructor.name) !== -1) {\n        return value;\n    }\n    if (value instanceof Set) {\n        return new Set(value);\n    }\n    if (value instanceof Map) {\n        return new Map(value);\n    }\n    if (value instanceof Uint8Array) {\n        return new Uint8Array(value);\n    }\n    if (value instanceof Uint16Array) {\n        return new Uint16Array(value);\n    }\n    if (value instanceof Uint32Array) {\n        return new Uint32Array(value);\n    }\n    // https://github.com/moment/moment/blob/master/moment.js#L252\n    if (value._isAMomentObject && isFunction(value.clone)) {\n        return value.clone();\n    }\n    if (value instanceof AbstractControl) {\n        return null;\n    }\n    if (value instanceof Date) {\n        return new Date(value.getTime());\n    }\n    if (Array.isArray(value)) {\n        return value.slice(0).map((v) => clone(v));\n    }\n    // best way to clone a js object maybe\n    // https://stackoverflow.com/questions/41474986/how-to-clone-a-javascript-es6-class-instance\n    const proto = Object.getPrototypeOf(value);\n    let c = Object.create(proto);\n    c = Object.setPrototypeOf(c, proto);\n    // need to make a deep copy so we dont use Object.assign\n    // also Object.assign wont copy property descriptor exactly\n    return Object.keys(value).reduce((newVal, prop) => {\n        const propDesc = Object.getOwnPropertyDescriptor(value, prop);\n        if (propDesc.get) {\n            Object.defineProperty(newVal, prop, propDesc);\n        }\n        else {\n            newVal[prop] = clone(value[prop]);\n        }\n        return newVal;\n    }, c);\n}\nfunction defineHiddenProp(field, prop, defaultValue) {\n    Object.defineProperty(field, prop, { enumerable: false, writable: true, configurable: true });\n    field[prop] = defaultValue;\n}\nfunction observeDeep(source, paths, setFn) {\n    let observers = [];\n    const unsubscribe = () => {\n        observers.forEach((observer) => observer());\n        observers = [];\n    };\n    const observer = observe(source, paths, ({ firstChange, currentValue }) => {\n        !firstChange && setFn();\n        unsubscribe();\n        if (isObject(currentValue) && currentValue.constructor.name === 'Object') {\n            Object.keys(currentValue).forEach((prop) => {\n                observers.push(observeDeep(source, [...paths, prop], setFn));\n            });\n        }\n    });\n    return () => {\n        observer.unsubscribe();\n        unsubscribe();\n    };\n}\nfunction observe(o, paths, setFn) {\n    if (!o._observers) {\n        defineHiddenProp(o, '_observers', {});\n    }\n    let target = o;\n    for (let i = 0; i < paths.length - 1; i++) {\n        if (!target[paths[i]] || !isObject(target[paths[i]])) {\n            target[paths[i]] = /^\\d+$/.test(paths[i + 1]) ? [] : {};\n        }\n        target = target[paths[i]];\n    }\n    const key = paths[paths.length - 1];\n    const prop = paths.join('.');\n    if (!o._observers[prop]) {\n        o._observers[prop] = { value: target[key], onChange: [] };\n    }\n    const state = o._observers[prop];\n    if (target[key] !== state.value) {\n        state.value = target[key];\n    }\n    if (setFn && state.onChange.indexOf(setFn) === -1) {\n        state.onChange.push(setFn);\n        setFn({ currentValue: state.value, firstChange: true });\n        if (state.onChange.length >= 1 && isObject(target)) {\n            const { enumerable } = Object.getOwnPropertyDescriptor(target, key) || { enumerable: true };\n            Object.defineProperty(target, key, {\n                enumerable,\n                configurable: true,\n                get: () => state.value,\n                set: (currentValue) => {\n                    if (currentValue !== state.value) {\n                        const previousValue = state.value;\n                        state.value = currentValue;\n                        state.onChange.forEach((changeFn) => changeFn({ previousValue, currentValue, firstChange: false }));\n                    }\n                },\n            });\n        }\n    }\n    return {\n        setValue(currentValue, emitEvent = true) {\n            if (currentValue === state.value) {\n                return;\n            }\n            const previousValue = state.value;\n            state.value = currentValue;\n            state.onChange.forEach((changeFn) => {\n                if (changeFn !== setFn && emitEvent) {\n                    changeFn({ previousValue, currentValue, firstChange: false });\n                }\n            });\n        },\n        unsubscribe() {\n            state.onChange = state.onChange.filter((changeFn) => changeFn !== setFn);\n            if (state.onChange.length === 0) {\n                delete o._observers[prop];\n            }\n        },\n    };\n}\nfunction getField(f, key) {\n    key = (Array.isArray(key) ? key.join('.') : key);\n    if (!f.fieldGroup) {\n        return undefined;\n    }\n    for (let i = 0, len = f.fieldGroup.length; i < len; i++) {\n        const c = f.fieldGroup[i];\n        const k = (Array.isArray(c.key) ? c.key.join('.') : c.key);\n        if (k === key) {\n            return c;\n        }\n        if (c.fieldGroup && (isNil(k) || key.indexOf(`${k}.`) === 0)) {\n            const field = getField(c, isNil(k) ? key : key.slice(k.length + 1));\n            if (field) {\n                return field;\n            }\n        }\n    }\n    return undefined;\n}\nfunction markFieldForCheck(field) {\n    field._componentRefs?.forEach((ref) => {\n        // NOTE: we cannot use ref.changeDetectorRef, see https://github.com/ngx-formly/ngx-formly/issues/2191\n        if (ref instanceof ComponentRef) {\n            const changeDetectorRef = ref.injector.get(ChangeDetectorRef);\n            changeDetectorRef.markForCheck();\n        }\n        else {\n            ref.markForCheck();\n        }\n    });\n}\n\n/**\n * An InjectionToken for registering additional formly config options (types, wrappers ...).\n */\nconst FORMLY_CONFIG = new InjectionToken('FORMLY_CONFIG');\n/**\n * Maintains list of formly config options. This can be used to register new field type.\n */\nclass FormlyConfig {\n    constructor() {\n        this.types = {};\n        this.validators = {};\n        this.wrappers = {};\n        this.messages = {};\n        this.extras = {\n            checkExpressionOn: 'modelChange',\n            lazyRender: true,\n            resetFieldOnHide: true,\n            renderFormlyFieldElement: true,\n            showError(field) {\n                return (field.formControl?.invalid &&\n                    (field.formControl?.touched || field.options.parentForm?.submitted || !!field.field.validation?.show));\n            },\n        };\n        this.extensions = {};\n        this.presets = {};\n        this.extensionsByPriority = {};\n    }\n    addConfig(config) {\n        if (config.types) {\n            config.types.forEach((type) => this.setType(type));\n        }\n        if (config.validators) {\n            config.validators.forEach((validator) => this.setValidator(validator));\n        }\n        if (config.wrappers) {\n            config.wrappers.forEach((wrapper) => this.setWrapper(wrapper));\n        }\n        if (config.validationMessages) {\n            config.validationMessages.forEach((validation) => this.addValidatorMessage(validation.name, validation.message));\n        }\n        if (config.extensions) {\n            this.setSortedExtensions(config.extensions);\n        }\n        if (config.extras) {\n            this.extras = { ...this.extras, ...config.extras };\n        }\n        if (config.presets) {\n            this.presets = {\n                ...this.presets,\n                ...config.presets.reduce((acc, curr) => ({ ...acc, [curr.name]: curr.config }), {}),\n            };\n        }\n    }\n    /**\n     * Allows you to specify a custom type which you can use in your field configuration.\n     * You can pass an object of options, or an array of objects of options.\n     */\n    setType(options) {\n        if (Array.isArray(options)) {\n            options.forEach((option) => this.setType(option));\n        }\n        else {\n            if (!this.types[options.name]) {\n                this.types[options.name] = { name: options.name };\n            }\n            ['component', 'extends', 'defaultOptions', 'wrappers'].forEach((prop) => {\n                if (options.hasOwnProperty(prop)) {\n                    this.types[options.name][prop] = options[prop];\n                }\n            });\n        }\n    }\n    getType(name, throwIfNotFound = false) {\n        if (name instanceof Type) {\n            return { component: name, name: name.prototype.constructor.name };\n        }\n        if (!this.types[name]) {\n            if (throwIfNotFound) {\n                throw new Error(`[Formly Error] The type \"${name}\" could not be found. Please make sure that is registered through the FormlyModule declaration.`);\n            }\n            return null;\n        }\n        this.mergeExtendedType(name);\n        return this.types[name];\n    }\n    /** @ignore */\n    getMergedField(field = {}) {\n        const type = this.getType(field.type);\n        if (!type) {\n            return;\n        }\n        if (type.defaultOptions) {\n            reverseDeepMerge(field, type.defaultOptions);\n        }\n        const extendDefaults = type.extends && this.getType(type.extends).defaultOptions;\n        if (extendDefaults) {\n            reverseDeepMerge(field, extendDefaults);\n        }\n        if (field?.optionsTypes) {\n            field.optionsTypes.forEach((option) => {\n                const defaultOptions = this.getType(option).defaultOptions;\n                if (defaultOptions) {\n                    reverseDeepMerge(field, defaultOptions);\n                }\n            });\n        }\n        const componentRef = this.resolveFieldTypeRef(field);\n        if (componentRef?.instance?.defaultOptions) {\n            reverseDeepMerge(field, componentRef.instance.defaultOptions);\n        }\n        if (!field.wrappers && type.wrappers) {\n            field.wrappers = [...type.wrappers];\n        }\n    }\n    /** @ignore @internal */\n    resolveFieldTypeRef(field = {}) {\n        const type = this.getType(field.type);\n        if (!type) {\n            return null;\n        }\n        if (!type.component || type._componentRef) {\n            return type._componentRef;\n        }\n        const { _viewContainerRef, _injector } = field.options;\n        if (!_viewContainerRef || !_injector) {\n            return null;\n        }\n        const componentRef = _viewContainerRef.createComponent(type.component, { injector: _injector });\n        defineHiddenProp(type, '_componentRef', componentRef);\n        try {\n            componentRef.destroy();\n        }\n        catch (e) {\n            console.error(`An error occurred while destroying the Formly component type \"${field.type}\"`, e);\n        }\n        return type._componentRef;\n    }\n    setWrapper(options) {\n        this.wrappers[options.name] = options;\n        if (options.types) {\n            options.types.forEach((type) => {\n                this.setTypeWrapper(type, options.name);\n            });\n        }\n    }\n    getWrapper(name) {\n        if (name instanceof Type) {\n            return { component: name, name: name.prototype.constructor.name };\n        }\n        if (!this.wrappers[name]) {\n            throw new Error(`[Formly Error] The wrapper \"${name}\" could not be found. Please make sure that is registered through the FormlyModule declaration.`);\n        }\n        return this.wrappers[name];\n    }\n    /** @ignore */\n    setTypeWrapper(type, name) {\n        if (!this.types[type]) {\n            this.types[type] = {};\n        }\n        if (!this.types[type].wrappers) {\n            this.types[type].wrappers = [];\n        }\n        if (this.types[type].wrappers.indexOf(name) === -1) {\n            this.types[type].wrappers.push(name);\n        }\n    }\n    setValidator(options) {\n        this.validators[options.name] = options;\n    }\n    getValidator(name) {\n        if (!this.validators[name]) {\n            throw new Error(`[Formly Error] The validator \"${name}\" could not be found. Please make sure that is registered through the FormlyModule declaration.`);\n        }\n        return this.validators[name];\n    }\n    addValidatorMessage(name, message) {\n        this.messages[name] = message;\n        if (typeof ngDevMode === 'undefined' || ngDevMode) {\n            const deprecated = { minlength: 'minLength', maxlength: 'maxLength' };\n            if (deprecated[name]) {\n                console.warn(`Formly deprecation: passing validation messages key '${name}' is deprecated since v6.0, use '${deprecated[name]}' instead.`);\n                this.messages[deprecated[name]] = message;\n            }\n        }\n    }\n    getValidatorMessage(name) {\n        return this.messages[name];\n    }\n    setSortedExtensions(extensionOptions) {\n        // insert new extensions, grouped by priority\n        extensionOptions.forEach((extensionOption) => {\n            const priority = extensionOption.priority ?? 1;\n            this.extensionsByPriority[priority] = {\n                ...this.extensionsByPriority[priority],\n                [extensionOption.name]: extensionOption.extension,\n            };\n        });\n        // flatten extensions object with sorted keys\n        this.extensions = Object.keys(this.extensionsByPriority)\n            .map(Number)\n            .sort((a, b) => a - b)\n            .reduce((acc, prio) => ({\n            ...acc,\n            ...this.extensionsByPriority[prio],\n        }), {});\n    }\n    mergeExtendedType(name) {\n        if (!this.types[name].extends) {\n            return;\n        }\n        const extendedType = this.getType(this.types[name].extends);\n        if (!this.types[name].component) {\n            this.types[name].component = extendedType.component;\n        }\n        if (!this.types[name].wrappers) {\n            this.types[name].wrappers = extendedType.wrappers;\n        }\n    }\n}\nFormlyConfig.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyConfig, deps: [], target: i0.FactoryTarget.Injectable });\nFormlyConfig.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyConfig, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyConfig, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }] });\n\nclass FormlyFormBuilder {\n    constructor(config, injector, viewContainerRef, parentForm) {\n        this.config = config;\n        this.injector = injector;\n        this.viewContainerRef = viewContainerRef;\n        this.parentForm = parentForm;\n    }\n    buildForm(form, fieldGroup = [], model, options) {\n        this.build({ fieldGroup, model, form, options });\n    }\n    build(field) {\n        if (!this.config.extensions.core) {\n            throw new Error('NgxFormly: missing `forRoot()` call. use `forRoot()` when registering the `FormlyModule`.');\n        }\n        if (!field.parent) {\n            this._setOptions(field);\n        }\n        disableTreeValidityCall(field.form, () => {\n            this._build(field);\n            if (!field.parent) {\n                const options = field.options;\n                options.checkExpressions?.(field, true);\n                options._detectChanges?.(field);\n            }\n        });\n    }\n    _build(field) {\n        if (!field) {\n            return;\n        }\n        const extensions = Object.values(this.config.extensions);\n        extensions.forEach((extension) => extension.prePopulate?.(field));\n        extensions.forEach((extension) => extension.onPopulate?.(field));\n        field.fieldGroup?.forEach((f) => this._build(f));\n        extensions.forEach((extension) => extension.postPopulate?.(field));\n    }\n    _setOptions(field) {\n        field.form = field.form || new FormGroup({});\n        field.model = field.model || {};\n        field.options = field.options || {};\n        const options = field.options;\n        if (!options._viewContainerRef) {\n            defineHiddenProp(options, '_viewContainerRef', this.viewContainerRef);\n        }\n        if (!options._injector) {\n            defineHiddenProp(options, '_injector', this.injector);\n        }\n        if (!options.build) {\n            options._buildForm = () => {\n                console.warn(`Formly: 'options._buildForm' is deprecated since v6.0, use 'options.build' instead.`);\n                this.build(field);\n            };\n            options.build = (f = field) => {\n                this.build(f);\n                return f;\n            };\n        }\n        if (!options.parentForm && this.parentForm) {\n            defineHiddenProp(options, 'parentForm', this.parentForm);\n            observe(options, ['parentForm', 'submitted'], ({ firstChange }) => {\n                if (!firstChange) {\n                    options.detectChanges(field);\n                }\n            });\n        }\n    }\n}\nFormlyFormBuilder.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyFormBuilder, deps: [{ token: FormlyConfig }, { token: i0.Injector }, { token: i0.ViewContainerRef, optional: true }, { token: i2.FormGroupDirective, optional: true }], target: i0.FactoryTarget.Injectable });\nFormlyFormBuilder.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyFormBuilder, providedIn: 'root' });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyFormBuilder, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () { return [{ type: FormlyConfig }, { type: i0.Injector }, { type: i0.ViewContainerRef, decorators: [{\n                    type: Optional\n                }] }, { type: i2.FormGroupDirective, decorators: [{\n                    type: Optional\n                }] }]; } });\n\nfunction unregisterControl(field, emitEvent = false) {\n    const control = field.formControl;\n    const fieldIndex = control._fields ? control._fields.indexOf(field) : -1;\n    if (fieldIndex !== -1) {\n        control._fields.splice(fieldIndex, 1);\n    }\n    const form = control.parent;\n    if (!form) {\n        return;\n    }\n    const opts = { emitEvent };\n    if (form instanceof FormArray) {\n        const key = form.controls.findIndex((c) => c === control);\n        if (key !== -1) {\n            form.removeAt(key, opts);\n        }\n    }\n    else if (form instanceof FormGroup) {\n        const paths = getKeyPath(field);\n        const key = paths[paths.length - 1];\n        if (form.get([key]) === control) {\n            form.removeControl(key, opts);\n        }\n    }\n    control.setParent(null);\n}\nfunction findControl(field) {\n    if (field.formControl) {\n        return field.formControl;\n    }\n    if (field.shareFormControl === false) {\n        return null;\n    }\n    return field.form?.get(getKeyPath(field));\n}\nfunction registerControl(field, control, emitEvent = false) {\n    control = control || field.formControl;\n    if (!control._fields) {\n        defineHiddenProp(control, '_fields', []);\n    }\n    if (control._fields.indexOf(field) === -1) {\n        control._fields.push(field);\n    }\n    if (!field.formControl && control) {\n        defineHiddenProp(field, 'formControl', control);\n        control.setValidators(null);\n        control.setAsyncValidators(null);\n        field.props.disabled = !!field.props.disabled;\n        const disabledObserver = observe(field, ['props', 'disabled'], ({ firstChange, currentValue }) => {\n            if (!firstChange) {\n                currentValue ? field.formControl.disable() : field.formControl.enable();\n            }\n        });\n        if (control instanceof FormControl) {\n            control.registerOnDisabledChange(disabledObserver.setValue);\n        }\n    }\n    if (!field.form || !hasKey(field)) {\n        return;\n    }\n    let form = field.form;\n    const paths = getKeyPath(field);\n    const value = getFieldValue(field);\n    if (!(isNil(control.value) && isNil(value)) && control.value !== value && control instanceof FormControl) {\n        control.patchValue(value);\n    }\n    for (let i = 0; i < paths.length - 1; i++) {\n        const path = paths[i];\n        if (!form.get([path])) {\n            form.setControl(path, new FormGroup({}), { emitEvent });\n        }\n        form = form.get([path]);\n    }\n    const key = paths[paths.length - 1];\n    if (!field._hide && form.get([key]) !== control) {\n        form.setControl(key, control, { emitEvent });\n    }\n}\nfunction updateValidity(c, onlySelf = false) {\n    const status = c.status;\n    const value = c.value;\n    c.updateValueAndValidity({ emitEvent: false, onlySelf });\n    if (status !== c.status) {\n        c.statusChanges.emit(c.status);\n    }\n    if (value !== c.value) {\n        c.valueChanges.emit(c.value);\n    }\n}\nfunction clearControl(form) {\n    delete form?._fields;\n    form.setValidators(null);\n    form.setAsyncValidators(null);\n    if (form instanceof FormGroup || form instanceof FormArray) {\n        Object.values(form.controls).forEach((c) => clearControl(c));\n    }\n}\n\nclass FormlyTemplate {\n    constructor(ref) {\n        this.ref = ref;\n    }\n    ngOnChanges() {\n        this.name = this.name || 'formly-group';\n    }\n}\nFormlyTemplate.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyTemplate, deps: [{ token: i0.TemplateRef }], target: i0.FactoryTarget.Directive });\nFormlyTemplate.dir = i0.ngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FormlyTemplate, selector: \"[formlyTemplate]\", inputs: { name: [\"formlyTemplate\", \"name\"] }, usesOnChanges: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyTemplate, decorators: [{\n            type: Directive,\n            args: [{ selector: '[formlyTemplate]' }]\n        }], ctorParameters: function () { return [{ type: i0.TemplateRef }]; }, propDecorators: { name: [{\n                type: Input,\n                args: ['formlyTemplate']\n            }] } });\n// workarround for https://github.com/angular/angular/issues/43227#issuecomment-904173738\nclass FormlyFieldTemplates {\n}\nFormlyFieldTemplates.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyFieldTemplates, deps: [], target: i0.FactoryTarget.Injectable });\nFormlyFieldTemplates.prov = i0.ngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyFieldTemplates });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyFieldTemplates, decorators: [{\n            type: Injectable\n        }] });\n\n/**\n * The `<formly-field>` component is used to render the UI widget (layout + type) of a given `field`.\n */\nclass FormlyField {\n    constructor(config, renderer, _elementRef, hostContainerRef, form) {\n        this.config = config;\n        this.renderer = renderer;\n        this._elementRef = _elementRef;\n        this.hostContainerRef = hostContainerRef;\n        this.form = form;\n        this.hostObservers = [];\n        this.componentRefs = [];\n        this.hooksObservers = [];\n        this.detectFieldBuild = false;\n        this.valueChangesUnsubscribe = () => { };\n    }\n    get containerRef() {\n        return this.config.extras.renderFormlyFieldElement ? this.viewContainerRef : this.hostContainerRef;\n    }\n    get elementRef() {\n        if (this.config.extras.renderFormlyFieldElement) {\n            return this._elementRef;\n        }\n        if (this.componentRefs?.[0] instanceof ComponentRef) {\n            return this.componentRefs[0].location;\n        }\n        return null;\n    }\n    ngAfterContentInit() {\n        this.triggerHook('afterContentInit');\n    }\n    ngAfterViewInit() {\n        this.triggerHook('afterViewInit');\n    }\n    ngDoCheck() {\n        if (this.detectFieldBuild && this.field && this.field.options) {\n            this.render();\n        }\n    }\n    ngOnInit() {\n        this.triggerHook('onInit');\n    }\n    ngOnChanges(changes) {\n        this.triggerHook('onChanges', changes);\n    }\n    ngOnDestroy() {\n        this.resetRefs(this.field);\n        this.hostObservers.forEach((hostObserver) => hostObserver.unsubscribe());\n        this.hooksObservers.forEach((unsubscribe) => unsubscribe());\n        this.valueChangesUnsubscribe();\n        this.triggerHook('onDestroy');\n    }\n    renderField(containerRef, f, wrappers = []) {\n        if (this.containerRef === containerRef) {\n            this.resetRefs(this.field);\n            this.containerRef.clear();\n            wrappers = this.field?.wrappers;\n        }\n        if (wrappers?.length > 0) {\n            const [wrapper, ...wps] = wrappers;\n            const { component } = this.config.getWrapper(wrapper);\n            const ref = containerRef.createComponent(component);\n            this.attachComponentRef(ref, f);\n            observe(ref.instance, ['fieldComponent'], ({ currentValue, previousValue, firstChange }) => {\n                if (currentValue) {\n                    if (previousValue && previousValue._lContainer === currentValue._lContainer) {\n                        return;\n                    }\n                    const viewRef = previousValue ? previousValue.detach() : null;\n                    if (viewRef && !viewRef.destroyed) {\n                        currentValue.insert(viewRef);\n                    }\n                    else {\n                        this.renderField(currentValue, f, wps);\n                    }\n                    !firstChange && ref.changeDetectorRef.detectChanges();\n                }\n            });\n        }\n        else if (f?.type) {\n            const inlineType = this.form?.templates?.find((ref) => ref.name === f.type);\n            let ref;\n            if (inlineType) {\n                ref = containerRef.createEmbeddedView(inlineType.ref, { $implicit: f });\n            }\n            else {\n                const { component } = this.config.getType(f.type, true);\n                ref = containerRef.createComponent(component);\n            }\n            this.attachComponentRef(ref, f);\n        }\n    }\n    triggerHook(name, changes) {\n        if (name === 'onInit' || (name === 'onChanges' && changes.field && !changes.field.firstChange)) {\n            this.valueChangesUnsubscribe();\n            this.valueChangesUnsubscribe = this.fieldChanges(this.field);\n        }\n        if (this.field?.hooks?.[name]) {\n            if (!changes || changes.field) {\n                const r = this.field.hooks[name](this.field);\n                if (isObservable(r) && ['onInit', 'afterContentInit', 'afterViewInit'].indexOf(name) !== -1) {\n                    const sub = r.subscribe();\n                    this.hooksObservers.push(() => sub.unsubscribe());\n                }\n            }\n        }\n        if (name === 'onChanges' && changes.field) {\n            this.resetRefs(changes.field.previousValue);\n            this.render();\n        }\n    }\n    attachComponentRef(ref, field) {\n        this.componentRefs.push(ref);\n        field._componentRefs.push(ref);\n        if (ref instanceof ComponentRef) {\n            Object.assign(ref.instance, { field });\n        }\n    }\n    render() {\n        if (!this.field) {\n            return;\n        }\n        // require Formly build\n        if (!this.field.options) {\n            this.detectFieldBuild = true;\n            return;\n        }\n        this.detectFieldBuild = false;\n        this.hostObservers.forEach((hostObserver) => hostObserver.unsubscribe());\n        this.hostObservers = [\n            observe(this.field, ['hide'], ({ firstChange, currentValue }) => {\n                const containerRef = this.containerRef;\n                if (this.config.extras.lazyRender === false) {\n                    firstChange && this.renderField(containerRef, this.field);\n                    if (!firstChange || (firstChange && currentValue)) {\n                        this.elementRef &&\n                            this.renderer.setStyle(this.elementRef.nativeElement, 'display', currentValue ? 'none' : '');\n                    }\n                }\n                else {\n                    if (currentValue) {\n                        containerRef.clear();\n                        if (this.field.className) {\n                            this.renderer.removeAttribute(this.elementRef.nativeElement, 'class');\n                        }\n                    }\n                    else {\n                        this.renderField(containerRef, this.field);\n                        if (this.field.className) {\n                            this.renderer.setAttribute(this.elementRef.nativeElement, 'class', this.field.className);\n                        }\n                    }\n                }\n                !firstChange && this.field.options.detectChanges(this.field);\n            }),\n            observe(this.field, ['className'], ({ firstChange, currentValue }) => {\n                if ((!firstChange || (firstChange && currentValue)) &&\n                    (!this.config.extras.lazyRender || this.field.hide !== true)) {\n                    this.elementRef && this.renderer.setAttribute(this.elementRef.nativeElement, 'class', currentValue);\n                }\n            }),\n            ...['touched', 'pristine', 'status'].map((prop) => observe(this.field, ['formControl', prop], ({ firstChange }) => !firstChange && markFieldForCheck(this.field))),\n        ];\n    }\n    resetRefs(field) {\n        if (field) {\n            if (field._localFields) {\n                field._localFields = [];\n            }\n            else {\n                defineHiddenProp(this.field, '_localFields', []);\n            }\n            if (field._componentRefs) {\n                field._componentRefs = field._componentRefs.filter((ref) => this.componentRefs.indexOf(ref) === -1);\n            }\n            else {\n                defineHiddenProp(this.field, '_componentRefs', []);\n            }\n        }\n        this.componentRefs = [];\n    }\n    fieldChanges(field) {\n        if (!field) {\n            return () => { };\n        }\n        const subscribes = [observeDeep(field, ['props'], () => field.options.detectChanges(field))];\n        if (field.options) {\n            subscribes.push(observeDeep(field.options, ['formState'], () => field.options.detectChanges(field)));\n        }\n        for (const key of Object.keys(field._expressions || {})) {\n            const expressionObserver = observe(field, ['_expressions', key], ({ currentValue, previousValue }) => {\n                if (previousValue?.subscription) {\n                    previousValue.subscription.unsubscribe();\n                    previousValue.subscription = null;\n                }\n                if (isObservable(currentValue.value$)) {\n                    currentValue.subscription = currentValue.value$.subscribe();\n                }\n            });\n            subscribes.push(() => {\n                if (field._expressions[key]?.subscription) {\n                    field._expressions[key].subscription.unsubscribe();\n                }\n                expressionObserver.unsubscribe();\n            });\n        }\n        for (const path of [['focus'], ['template'], ['fieldGroupClassName'], ['validation', 'show']]) {\n            const fieldObserver = observe(field, path, ({ firstChange }) => !firstChange && field.options.detectChanges(field));\n            subscribes.push(() => fieldObserver.unsubscribe());\n        }\n        if (field.formControl && !field.fieldGroup) {\n            const control = field.formControl;\n            let valueChanges = control.valueChanges.pipe(distinctUntilChanged((x, y) => {\n                if (x !== y || Array.isArray(x) || isObject(x)) {\n                    return false;\n                }\n                return true;\n            }));\n            if (control.value !== getFieldValue(field)) {\n                valueChanges = valueChanges.pipe(startWith(control.value));\n            }\n            const { updateOn, debounce } = field.modelOptions;\n            if ((!updateOn || updateOn === 'change') && debounce?.default > 0) {\n                valueChanges = control.valueChanges.pipe(debounceTime(debounce.default));\n            }\n            const sub = valueChanges.subscribe((value) => {\n                // workaround for https://github.com/angular/angular/issues/13792\n                if (control._fields?.length > 1 && control instanceof FormControl) {\n                    control.patchValue(value, { emitEvent: false, onlySelf: true });\n                }\n                field.parsers?.forEach((parserFn) => (value = parserFn(value)));\n                if (value !== field.formControl.value) {\n                    field.formControl.setValue(value);\n                    return;\n                }\n                if (hasKey(field)) {\n                    assignFieldValue(field, value);\n                }\n                field.options.fieldChanges.next({ value, field, type: 'valueChanges' });\n            });\n            subscribes.push(() => sub.unsubscribe());\n        }\n        let templateFieldsSubs = [];\n        observe(field, ['_localFields'], ({ currentValue }) => {\n            templateFieldsSubs.forEach((unsubscribe) => unsubscribe());\n            templateFieldsSubs = (currentValue || []).map((f) => this.fieldChanges(f));\n        });\n        return () => {\n            subscribes.forEach((unsubscribe) => unsubscribe());\n            templateFieldsSubs.forEach((unsubscribe) => unsubscribe());\n        };\n    }\n}\nFormlyField.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyField, deps: [{ token: FormlyConfig }, { token: i0.Renderer2 }, { token: i0.ElementRef }, { token: i0.ViewContainerRef }, { token: FormlyFieldTemplates, optional: true }], target: i0.FactoryTarget.Component });\nFormlyField.cmp = i0.ngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FormlyField, selector: \"formly-field\", inputs: { field: \"field\" }, viewQueries: [{ propertyName: \"viewContainerRef\", first: true, predicate: [\"container\"], descendants: true, read: ViewContainerRef, static: true }], usesOnChanges: true, ngImport: i0, template: '<ng-template #container></ng-template>', isInline: true, styles: [\":host:empty{display:none}\\n\"] });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyField, decorators: [{\n            type: Component,\n            args: [{ selector: 'formly-field', template: '<ng-template #container></ng-template>', styles: [\":host:empty{display:none}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: FormlyConfig }, { type: i0.Renderer2 }, { type: i0.ElementRef }, { type: i0.ViewContainerRef }, { type: FormlyFieldTemplates, decorators: [{\n                    type: Optional\n                }] }]; }, propDecorators: { field: [{\n                type: Input\n            }], viewContainerRef: [{\n                type: ViewChild,\n                args: ['container', { read: ViewContainerRef, static: true }]\n            }] } });\n\n/**\n * The `<form-form>` component is the main container of the form,\n * which takes care of managing the form state\n * and delegates the rendering of each field to `<formly-field>` component.\n */\nclass FormlyForm {\n    constructor(builder, config, ngZone, fieldTemplates) {\n        this.builder = builder;\n        this.config = config;\n        this.ngZone = ngZone;\n        this.fieldTemplates = fieldTemplates;\n        /** Event that is emitted when the model value is changed */\n        this.modelChange = new EventEmitter();\n        this.field = { type: 'formly-group' };\n        this._modelChangeValue = {};\n        this.valueChangesUnsubscribe = () => { };\n    }\n    /** The form instance which allow to track model value and validation status. */\n    set form(form) {\n        this.field.form = form;\n    }\n    get form() {\n        return this.field.form;\n    }\n    /** The model to be represented by the form. */\n    set model(model) {\n        if (this.config.extras.immutable && this._modelChangeValue === model) {\n            return;\n        }\n        this.setField({ model });\n    }\n    get model() {\n        return this.field.model;\n    }\n    /** The field configurations for building the form. */\n    set fields(fieldGroup) {\n        this.setField({ fieldGroup });\n    }\n    get fields() {\n        return this.field.fieldGroup;\n    }\n    /** Options for the form. */\n    set options(options) {\n        this.setField({ options });\n    }\n    get options() {\n        return this.field.options;\n    }\n    set templates(templates) {\n        this.fieldTemplates.templates = templates;\n    }\n    ngDoCheck() {\n        if (this.config.extras.checkExpressionOn === 'changeDetectionCheck') {\n            this.checkExpressionChange();\n        }\n    }\n    ngOnChanges(changes) {\n        if (changes.fields && this.form) {\n            clearControl(this.form);\n        }\n        if (changes.fields || changes.form || (changes.model && this._modelChangeValue !== changes.model.currentValue)) {\n            this.valueChangesUnsubscribe();\n            this.builder.build(this.field);\n            this.valueChangesUnsubscribe = this.valueChanges();\n        }\n    }\n    ngOnDestroy() {\n        this.valueChangesUnsubscribe();\n    }\n    checkExpressionChange() {\n        this.field.options.checkExpressions?.(this.field);\n    }\n    valueChanges() {\n        this.valueChangesUnsubscribe();\n        const sub = this.field.options.fieldChanges\n            .pipe(filter(({ field, type }) => hasKey(field) && type === 'valueChanges'), switchMap(() => this.ngZone.onStable.asObservable().pipe(take(1))))\n            .subscribe(() => this.ngZone.runGuarded(() => {\n            // runGuarded is used to keep in sync the expression changes\n            // https://github.com/ngx-formly/ngx-formly/issues/2095\n            this.checkExpressionChange();\n            this.modelChange.emit((this._modelChangeValue = clone(this.model)));\n        }));\n        return () => sub.unsubscribe();\n    }\n    setField(field) {\n        if (this.config.extras.immutable) {\n            this.field = { ...this.field, ...clone(field) };\n        }\n        else {\n            Object.keys(field).forEach((p) => (this.field[p] = field[p]));\n        }\n    }\n}\nFormlyForm.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyForm, deps: [{ token: FormlyFormBuilder }, { token: FormlyConfig }, { token: i0.NgZone }, { token: FormlyFieldTemplates }], target: i0.FactoryTarget.Component });\nFormlyForm.cmp = i0.ngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FormlyForm, selector: \"formly-form\", inputs: { form: \"form\", model: \"model\", fields: \"fields\", options: \"options\" }, outputs: { modelChange: \"modelChange\" }, providers: [FormlyFormBuilder, FormlyFieldTemplates], queries: [{ propertyName: \"templates\", predicate: FormlyTemplate }], usesOnChanges: true, ngImport: i0, template: '<formly-field [field]=\"field\"></formly-field>', isInline: true, components: [{ type: FormlyField, selector: \"formly-field\", inputs: [\"field\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyForm, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'formly-form',\n                    template: '<formly-field [field]=\"field\"></formly-field>',\n                    providers: [FormlyFormBuilder, FormlyFieldTemplates],\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: FormlyFormBuilder }, { type: FormlyConfig }, { type: i0.NgZone }, { type: FormlyFieldTemplates }]; }, propDecorators: { form: [{\n                type: Input\n            }], model: [{\n                type: Input\n            }], fields: [{\n                type: Input\n            }], options: [{\n                type: Input\n            }], modelChange: [{\n                type: Output\n            }], templates: [{\n                type: ContentChildren,\n                args: [FormlyTemplate]\n            }] } });\n\n/**\n * Allow to link the `field` HTML attributes (`id`, `name` ...) and Event attributes (`focus`, `blur` ...) to an element in the DOM.\n */\nclass FormlyAttributes {\n    constructor(renderer, elementRef, _document) {\n        this.renderer = renderer;\n        this.elementRef = elementRef;\n        this.uiAttributesCache = {};\n        /**\n         * HostBinding doesn't register listeners conditionally which may produce some perf issues.\n         *\n         * Formly issue: https://github.com/ngx-formly/ngx-formly/issues/1991\n         */\n        this.uiEvents = {\n            listeners: [],\n            events: ['click', 'keyup', 'keydown', 'keypress', 'focus', 'blur', 'change'],\n            callback: (eventName, $event) => {\n                switch (eventName) {\n                    case 'focus':\n                        return this.onFocus($event);\n                    case 'blur':\n                        return this.onBlur($event);\n                    case 'change':\n                        return this.onChange($event);\n                    default:\n                        return this.props[eventName](this.field, $event);\n                }\n            },\n        };\n        this.document = _document;\n    }\n    get props() {\n        return this.field.props || {};\n    }\n    get fieldAttrElements() {\n        return this.field?.['_elementRefs'] || [];\n    }\n    ngOnChanges(changes) {\n        if (changes.field) {\n            this.field.name && this.setAttribute('name', this.field.name);\n            this.uiEvents.listeners.forEach((listener) => listener());\n            this.uiEvents.events.forEach((eventName) => {\n                if (this.props?.[eventName] || ['focus', 'blur', 'change'].indexOf(eventName) !== -1) {\n                    this.uiEvents.listeners.push(this.renderer.listen(this.elementRef.nativeElement, eventName, (e) => this.uiEvents.callback(eventName, e)));\n                }\n            });\n            if (this.props?.attributes) {\n                observe(this.field, ['props', 'attributes'], ({ currentValue, previousValue }) => {\n                    if (previousValue) {\n                        Object.keys(previousValue).forEach((attr) => this.removeAttribute(attr));\n                    }\n                    if (currentValue) {\n                        Object.keys(currentValue).forEach((attr) => {\n                            if (currentValue[attr] != null) {\n                                this.setAttribute(attr, currentValue[attr]);\n                            }\n                        });\n                    }\n                });\n            }\n            this.detachElementRef(changes.field.previousValue);\n            this.attachElementRef(changes.field.currentValue);\n            if (this.fieldAttrElements.length === 1) {\n                !this.id && this.field.id && this.setAttribute('id', this.field.id);\n                this.focusObserver = observe(this.field, ['focus'], ({ currentValue }) => {\n                    this.toggleFocus(currentValue);\n                });\n            }\n        }\n        if (changes.id) {\n            this.setAttribute('id', this.id);\n        }\n    }\n    /**\n     * We need to re-evaluate all the attributes on every change detection cycle, because\n     * by using a HostBinding we run into certain edge cases. This means that whatever logic\n     * is in here has to be super lean or we risk seriously damaging or destroying the performance.\n     *\n     * Formly issue: https://github.com/ngx-formly/ngx-formly/issues/1317\n     * Material issue: https://github.com/angular/components/issues/14024\n     */\n    ngDoCheck() {\n        if (!this.uiAttributes) {\n            const element = this.elementRef.nativeElement;\n            this.uiAttributes = [...FORMLY_VALIDATORS, 'tabindex', 'placeholder', 'readonly', 'disabled', 'step'].filter((attr) => !element.hasAttribute || !element.hasAttribute(attr));\n        }\n        for (let i = 0; i < this.uiAttributes.length; i++) {\n            const attr = this.uiAttributes[i];\n            const value = this.props[attr];\n            if (this.uiAttributesCache[attr] !== value &&\n                (!this.props.attributes || !this.props.attributes.hasOwnProperty(attr.toLowerCase()))) {\n                this.uiAttributesCache[attr] = value;\n                if (value || value === 0) {\n                    this.setAttribute(attr, value === true ? attr : `${value}`);\n                }\n                else {\n                    this.removeAttribute(attr);\n                }\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.uiEvents.listeners.forEach((listener) => listener());\n        this.detachElementRef(this.field);\n        this.focusObserver?.unsubscribe();\n    }\n    toggleFocus(value) {\n        const element = this.fieldAttrElements ? this.fieldAttrElements[0] : null;\n        if (!element || !element.nativeElement.focus) {\n            return;\n        }\n        const isFocused = !!this.document.activeElement &&\n            this.fieldAttrElements.some(({ nativeElement }) => this.document.activeElement === nativeElement || nativeElement.contains(this.document.activeElement));\n        if (value && !isFocused) {\n            Promise.resolve().then(() => element.nativeElement.focus());\n        }\n        else if (!value && isFocused) {\n            Promise.resolve().then(() => element.nativeElement.blur());\n        }\n    }\n    onFocus($event) {\n        this.focusObserver?.setValue(true);\n        this.props.focus?.(this.field, $event);\n    }\n    onBlur($event) {\n        this.focusObserver?.setValue(false);\n        this.props.blur?.(this.field, $event);\n    }\n    // handle custom `change` event, for regular ones rely on DOM listener\n    onHostChange($event) {\n        if ($event instanceof Event) {\n            return;\n        }\n        this.onChange($event);\n    }\n    onChange($event) {\n        this.props.change?.(this.field, $event);\n        this.field.formControl?.markAsDirty();\n    }\n    attachElementRef(f) {\n        if (!f) {\n            return;\n        }\n        if (f['_elementRefs']?.indexOf(this.elementRef) === -1) {\n            f['_elementRefs'].push(this.elementRef);\n        }\n        else {\n            defineHiddenProp(f, '_elementRefs', [this.elementRef]);\n        }\n    }\n    detachElementRef(f) {\n        const index = f?.['_elementRefs'] ? this.fieldAttrElements.indexOf(this.elementRef) : -1;\n        if (index !== -1) {\n            f['_elementRefs'].splice(index, 1);\n        }\n    }\n    setAttribute(attr, value) {\n        this.renderer.setAttribute(this.elementRef.nativeElement, attr, value);\n    }\n    removeAttribute(attr) {\n        this.renderer.removeAttribute(this.elementRef.nativeElement, attr);\n    }\n}\nFormlyAttributes.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyAttributes, deps: [{ token: i0.Renderer2 }, { token: i0.ElementRef }, { token: DOCUMENT }], target: i0.FactoryTarget.Directive });\nFormlyAttributes.dir = i0.ngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FormlyAttributes, selector: \"[formlyAttributes]\", inputs: { field: [\"formlyAttributes\", \"field\"], id: \"id\" }, host: { listeners: { \"change\": \"onHostChange($event)\" } }, usesOnChanges: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyAttributes, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[formlyAttributes]',\n                    host: {\n                        '(change)': 'onHostChange($event)',\n                    },\n                }]\n        }], ctorParameters: function () { return [{ type: i0.Renderer2 }, { type: i0.ElementRef }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }]; }, propDecorators: { field: [{\n                type: Input,\n                args: ['formlyAttributes']\n            }], id: [{\n                type: Input\n            }] } });\n\nclass FieldType {\n    constructor() {\n        this.field = {};\n    }\n    set _formlyControls(controls) {\n        const f = this.field;\n        f._localFields = controls\n            .map((c) => c.control._fields || [])\n            .flat()\n            .filter((f) => f.formControl !== this.field.formControl);\n    }\n    get model() {\n        return this.field.model;\n    }\n    get form() {\n        return this.field.form;\n    }\n    get options() {\n        return this.field.options;\n    }\n    get key() {\n        return this.field.key;\n    }\n    get formControl() {\n        return this.field.formControl;\n    }\n    get props() {\n        return (this.field.props || {});\n    }\n    /** @deprecated Use `props` instead. */\n    get to() {\n        return this.props;\n    }\n    get showError() {\n        return this.options.showError(this);\n    }\n    get id() {\n        return this.field.id;\n    }\n    get formState() {\n        return this.options?.formState || {};\n    }\n}\nFieldType.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FieldType, deps: [], target: i0.FactoryTarget.Directive });\nFieldType.dir = i0.ngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FieldType, inputs: { field: \"field\" }, viewQueries: [{ propertyName: \"_formlyControls\", predicate: NgControl, descendants: true }], ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FieldType, decorators: [{\n            type: Directive\n        }], propDecorators: { _formlyControls: [{\n                type: ViewChildren,\n                args: [NgControl]\n            }], field: [{\n                type: Input\n            }] } });\n\n/** @ignore */\nclass FormlyGroup extends FieldType {\n}\nFormlyGroup.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyGroup, deps: null, target: i0.FactoryTarget.Component });\nFormlyGroup.cmp = i0.ngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FormlyGroup, selector: \"formly-group\", host: { properties: { \"class\": \"field.fieldGroupClassName || \\\"\\\"\" } }, usesInheritance: true, ngImport: i0, template: `\n    <formly-field *ngFor=\"let f of field.fieldGroup\" [field]=\"f\"></formly-field>\n    <ng-content></ng-content>\n  `, isInline: true, components: [{ type: FormlyField, selector: \"formly-field\", inputs: [\"field\"] }], directives: [{ type: i2$1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyGroup, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'formly-group',\n                    template: `\n    <formly-field *ngFor=\"let f of field.fieldGroup\" [field]=\"f\"></formly-field>\n    <ng-content></ng-content>\n  `,\n                    host: {\n                        '[class]': 'field.fieldGroupClassName || \"\"',\n                    },\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }] });\n\n/**\n * The `<formly-validation-message>` component renders the error message of a given `field`.\n */\nclass FormlyValidationMessage {\n    constructor(config) {\n        this.config = config;\n    }\n    ngOnChanges() {\n        const EXPR_VALIDATORS = FORMLY_VALIDATORS.map((v) => `templateOptions.${v}`);\n        this.errorMessage$ = merge(this.field.formControl.statusChanges, !this.field.options\n            ? of(null)\n            : this.field.options.fieldChanges.pipe(filter(({ field, type, property }) => {\n                return (field === this.field &&\n                    type === 'expressionChanges' &&\n                    (property.indexOf('validation') !== -1 || EXPR_VALIDATORS.indexOf(property) !== -1));\n            }))).pipe(startWith(null), switchMap(() => (isObservable(this.errorMessage) ? this.errorMessage : of(this.errorMessage))));\n    }\n    get errorMessage() {\n        const fieldForm = this.field.formControl;\n        for (const error in fieldForm.errors) {\n            if (fieldForm.errors.hasOwnProperty(error)) {\n                let message = this.config.getValidatorMessage(error);\n                if (isObject(fieldForm.errors[error])) {\n                    if (fieldForm.errors[error].errorPath) {\n                        return undefined;\n                    }\n                    if (fieldForm.errors[error].message) {\n                        message = fieldForm.errors[error].message;\n                    }\n                }\n                if (this.field.validation?.messages?.[error]) {\n                    message = this.field.validation.messages[error];\n                }\n                if (this.field.validators?.[error]?.message) {\n                    message = this.field.validators[error].message;\n                }\n                if (this.field.asyncValidators?.[error]?.message) {\n                    message = this.field.asyncValidators[error].message;\n                }\n                if (typeof message === 'function') {\n                    return message(fieldForm.errors[error], this.field);\n                }\n                return message;\n            }\n        }\n        return undefined;\n    }\n}\nFormlyValidationMessage.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyValidationMessage, deps: [{ token: FormlyConfig }], target: i0.FactoryTarget.Component });\nFormlyValidationMessage.cmp = i0.ngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FormlyValidationMessage, selector: \"formly-validation-message\", inputs: { field: \"field\" }, usesOnChanges: true, ngImport: i0, template: '{{ errorMessage$ | async }}', isInline: true, pipes: { \"async\": i2$1.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyValidationMessage, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'formly-validation-message',\n                    template: '{{ errorMessage$ | async }}',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: FormlyConfig }]; }, propDecorators: { field: [{\n                type: Input\n            }] } });\n\nclass FieldArrayType extends FieldType {\n    onPopulate(field) {\n        if (hasKey(field)) {\n            const control = findControl(field);\n            registerControl(field, control ? control : new FormArray([], { updateOn: field.modelOptions.updateOn }));\n        }\n        field.fieldGroup = field.fieldGroup || [];\n        const length = Array.isArray(field.model) ? field.model.length : 0;\n        if (field.fieldGroup.length > length) {\n            for (let i = field.fieldGroup.length - 1; i >= length; --i) {\n                unregisterControl(field.fieldGroup[i], true);\n                field.fieldGroup.splice(i, 1);\n            }\n        }\n        for (let i = field.fieldGroup.length; i < length; i++) {\n            const f = { ...clone(typeof field.fieldArray === 'function' ? field.fieldArray(field) : field.fieldArray) };\n            if (f.key !== null) {\n                f.key = `${i}`;\n            }\n            field.fieldGroup.push(f);\n        }\n    }\n    add(i, initialModel, { markAsDirty } = { markAsDirty: true }) {\n        i = i == null ? this.field.fieldGroup.length : i;\n        if (!this.model) {\n            assignFieldValue(this.field, []);\n        }\n        this.model.splice(i, 0, initialModel ? clone(initialModel) : undefined);\n        this._build();\n        markAsDirty && this.formControl.markAsDirty();\n    }\n    remove(i, { markAsDirty } = { markAsDirty: true }) {\n        this.model.splice(i, 1);\n        const field = this.field.fieldGroup[i];\n        this.field.fieldGroup.splice(i, 1);\n        this.field.fieldGroup.forEach((f, key) => this.updateArrayElementKey(f, `${key}`));\n        unregisterControl(field, true);\n        this._build();\n        markAsDirty && this.formControl.markAsDirty();\n    }\n    _build() {\n        const fields = this.field.formControl._fields ?? [this.field];\n        fields.forEach((f) => this.options.build(f));\n        this.field.options.detectChanges(this.field);\n        this.options.fieldChanges.next({\n            field: this.field,\n            value: getFieldValue(this.field),\n            type: 'valueChanges',\n        });\n    }\n    updateArrayElementKey(f, newKey) {\n        if (hasKey(f)) {\n            f.key = newKey;\n            return;\n        }\n        if (!f.fieldGroup?.length) {\n            return;\n        }\n        for (let i = 0; i < f.fieldGroup.length; i++) {\n            this.updateArrayElementKey(f.fieldGroup[i], newKey);\n        }\n    }\n}\nFieldArrayType.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FieldArrayType, deps: null, target: i0.FactoryTarget.Directive });\nFieldArrayType.dir = i0.ngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FieldArrayType, usesInheritance: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FieldArrayType, decorators: [{\n            type: Directive\n        }] });\n\nclass FieldWrapper extends FieldType {\n    set _formlyControls(_) { }\n    set _staticContent(content) {\n        this.fieldComponent = content;\n    }\n}\nFieldWrapper.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FieldWrapper, deps: null, target: i0.FactoryTarget.Directive });\nFieldWrapper.dir = i0.ngDeclareDirective({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FieldWrapper, viewQueries: [{ propertyName: \"fieldComponent\", first: true, predicate: [\"fieldComponent\"], descendants: true, read: ViewContainerRef }, { propertyName: \"_staticContent\", first: true, predicate: [\"fieldComponent\"], descendants: true, read: ViewContainerRef, static: true }], usesInheritance: true, ngImport: i0 });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FieldWrapper, decorators: [{\n            type: Directive\n        }], propDecorators: { fieldComponent: [{\n                type: ViewChild,\n                args: ['fieldComponent', { read: ViewContainerRef }]\n            }], _staticContent: [{\n                type: ViewChild,\n                args: ['fieldComponent', { read: ViewContainerRef, static: true }]\n            }] } });\n\n/** @ignore */\nclass FormlyTemplateType extends FieldType {\n    constructor(sanitizer) {\n        super();\n        this.sanitizer = sanitizer;\n        this.innerHtml = {};\n    }\n    get template() {\n        if (this.field && this.field.template !== this.innerHtml.template) {\n            this.innerHtml = {\n                template: this.field.template,\n                content: this.props.safeHtml\n                    ? this.sanitizer.bypassSecurityTrustHtml(this.field.template)\n                    : this.field.template,\n            };\n        }\n        return this.innerHtml.content;\n    }\n}\nFormlyTemplateType.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyTemplateType, deps: [{ token: i1.DomSanitizer }], target: i0.FactoryTarget.Component });\nFormlyTemplateType.cmp = i0.ngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FormlyTemplateType, selector: \"formly-template\", usesInheritance: true, ngImport: i0, template: `<div [innerHtml]=\"template\"></div>`, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyTemplateType, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'formly-template',\n                    template: `<div [innerHtml]=\"template\"></div>`,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.DomSanitizer }]; } });\n\nfunction evalStringExpression(expression, argNames) {\n    try {\n        return Function(...argNames, `return ${expression};`);\n    }\n    catch (error) {\n        console.error(error);\n    }\n}\nfunction evalExpression(expression, thisArg, argVal) {\n    if (typeof expression === 'function') {\n        return expression.apply(thisArg, argVal);\n    }\n    else {\n        return expression ? true : false;\n    }\n}\n\nclass FieldExpressionExtension {\n    onPopulate(field) {\n        if (field._expressions) {\n            return;\n        }\n        // cache built expression\n        defineHiddenProp(field, '_expressions', {});\n        observe(field, ['hide'], ({ currentValue, firstChange }) => {\n            defineHiddenProp(field, '_hide', !!currentValue);\n            if (!firstChange || (firstChange && currentValue === true)) {\n                field.props.hidden = currentValue;\n                field.options._hiddenFieldsForCheck.push(field);\n            }\n        });\n        if (field.hideExpression) {\n            observe(field, ['hideExpression'], ({ currentValue: expr }) => {\n                field._expressions.hide = this.parseExpressions(field, 'hide', typeof expr === 'boolean' ? () => expr : expr);\n            });\n        }\n        const evalExpr = (key, expr) => {\n            if (typeof expr === 'string' || isFunction(expr)) {\n                field._expressions[key] = this.parseExpressions(field, key, expr);\n            }\n            else if (expr instanceof Observable) {\n                field._expressions[key] = {\n                    value$: expr.pipe(tap((v) => {\n                        this.evalExpr(field, key, v);\n                        field.options._detectChanges(field);\n                    })),\n                };\n            }\n        };\n        field.expressions = field.expressions || {};\n        for (const key of Object.keys(field.expressions)) {\n            observe(field, ['expressions', key], ({ currentValue: expr }) => {\n                evalExpr(key, isFunction(expr) ? (...args) => expr(field, args[3]) : expr);\n            });\n        }\n        field.expressionProperties = field.expressionProperties || {};\n        for (const key of Object.keys(field.expressionProperties)) {\n            observe(field, ['expressionProperties', key], ({ currentValue }) => evalExpr(key, currentValue));\n        }\n    }\n    postPopulate(field) {\n        if (field.parent) {\n            return;\n        }\n        if (!field.options.checkExpressions) {\n            let checkLocked = false;\n            field.options.checkExpressions = (f, ignoreCache) => {\n                if (checkLocked) {\n                    return;\n                }\n                checkLocked = true;\n                const fieldChanged = this.checkExpressions(f, ignoreCache);\n                const options = field.options;\n                options._hiddenFieldsForCheck\n                    .sort((f) => (f.hide ? -1 : 1))\n                    .forEach((f) => this.changeHideState(f, f.hide, !ignoreCache));\n                options._hiddenFieldsForCheck = [];\n                if (fieldChanged) {\n                    this.checkExpressions(field);\n                }\n                checkLocked = false;\n            };\n            field.options._checkField = (f, ignoreCache) => {\n                console.warn(`Formly: 'options._checkField' is deprecated since v6.0, use 'options.checkExpressions' instead.`);\n                field.options.checkExpressions(f, ignoreCache);\n            };\n        }\n    }\n    parseExpressions(field, path, expr) {\n        let parentExpression;\n        if (field.parent && ['hide', 'props.disabled'].includes(path)) {\n            const rootValue = (f) => {\n                return path === 'hide' ? f.hide : f.props.disabled;\n            };\n            parentExpression = () => {\n                let root = field.parent;\n                while (root.parent && !rootValue(root)) {\n                    root = root.parent;\n                }\n                return rootValue(root);\n            };\n        }\n        expr = expr || (() => false);\n        if (typeof expr === 'string') {\n            expr = evalStringExpression(expr, ['model', 'formState', 'field']);\n        }\n        let currentValue;\n        return {\n            callback: (ignoreCache) => {\n                try {\n                    const exprValue = evalExpression(parentExpression ? (...args) => parentExpression(field) || expr(...args) : expr, { field }, [field.model, field.options.formState, field, ignoreCache]);\n                    if (ignoreCache ||\n                        (currentValue !== exprValue &&\n                            (!isObject(exprValue) ||\n                                isObservable(exprValue) ||\n                                JSON.stringify(exprValue) !== JSON.stringify(currentValue)))) {\n                        currentValue = exprValue;\n                        this.evalExpr(field, path, exprValue);\n                        return true;\n                    }\n                    return false;\n                }\n                catch (error) {\n                    error.message = `[Formly Error] [Expression \"${path}\"] ${error.message}`;\n                    throw error;\n                }\n            },\n        };\n    }\n    checkExpressions(field, ignoreCache = false) {\n        if (!field) {\n            return false;\n        }\n        let fieldChanged = false;\n        if (field._expressions) {\n            for (const key of Object.keys(field._expressions)) {\n                field._expressions[key].callback?.(ignoreCache) && (fieldChanged = true);\n            }\n        }\n        field.fieldGroup?.forEach((f) => this.checkExpressions(f, ignoreCache) && (fieldChanged = true));\n        return fieldChanged;\n    }\n    changeDisabledState(field, value) {\n        if (field.fieldGroup) {\n            field.fieldGroup\n                .filter((f) => !f._expressions.hasOwnProperty('props.disabled'))\n                .forEach((f) => this.changeDisabledState(f, value));\n        }\n        if (hasKey(field) && field.props.disabled !== value) {\n            field.props.disabled = value;\n        }\n    }\n    changeHideState(field, hide, resetOnHide) {\n        if (field.fieldGroup) {\n            field.fieldGroup\n                .filter((f) => !f._expressions.hide)\n                .forEach((f) => this.changeHideState(f, hide, resetOnHide));\n        }\n        if (field.formControl && hasKey(field)) {\n            defineHiddenProp(field, '_hide', !!(hide || field.hide));\n            const c = field.formControl;\n            if (c._fields?.length > 1) {\n                updateValidity(c);\n            }\n            if (hide === true && (!c._fields || c._fields.every((f) => !!f._hide))) {\n                unregisterControl(field, true);\n                if (resetOnHide && field.resetOnHide) {\n                    assignFieldValue(field, undefined);\n                    field.formControl.reset({ value: undefined, disabled: field.formControl.disabled });\n                    field.options.fieldChanges.next({ value: undefined, field, type: 'valueChanges' });\n                    if (field.fieldGroup && field.formControl instanceof FormArray) {\n                        field.fieldGroup.length = 0;\n                    }\n                }\n            }\n            else if (hide === false) {\n                if (field.resetOnHide && !isUndefined(field.defaultValue) && isUndefined(getFieldValue(field))) {\n                    assignFieldValue(field, field.defaultValue);\n                }\n                registerControl(field, undefined, true);\n                if (field.resetOnHide && field.fieldArray && field.fieldGroup?.length !== field.model?.length) {\n                    field.options.build(field);\n                }\n            }\n        }\n        if (field.options.fieldChanges) {\n            field.options.fieldChanges.next({ field, type: 'hidden', value: hide });\n        }\n    }\n    evalExpr(field, prop, value) {\n        if (prop.indexOf('model.') === 0) {\n            const key = prop.replace(/^model\\./, ''), parent = field.fieldGroup ? field : field.parent;\n            let control = field?.key === key ? field.formControl : field.form.get(key);\n            if (!control && field.get(key)) {\n                control = field.get(key).formControl;\n            }\n            assignFieldValue({ key, parent, model: field.model }, value);\n            if (control && !(isNil(control.value) && isNil(value)) && control.value !== value) {\n                control.patchValue(value);\n            }\n        }\n        else {\n            try {\n                let target = field;\n                const paths = this._evalExpressionPath(field, prop);\n                const lastIndex = paths.length - 1;\n                for (let i = 0; i < lastIndex; i++) {\n                    target = target[paths[i]];\n                }\n                target[paths[lastIndex]] = value;\n            }\n            catch (error) {\n                error.message = `[Formly Error] [Expression \"${prop}\"] ${error.message}`;\n                throw error;\n            }\n            if (['templateOptions.disabled', 'props.disabled'].includes(prop) && hasKey(field)) {\n                this.changeDisabledState(field, value);\n            }\n        }\n        this.emitExpressionChanges(field, prop, value);\n    }\n    emitExpressionChanges(field, property, value) {\n        if (!field.options.fieldChanges) {\n            return;\n        }\n        field.options.fieldChanges.next({\n            field,\n            type: 'expressionChanges',\n            property,\n            value,\n        });\n    }\n    _evalExpressionPath(field, prop) {\n        if (field._expressions[prop] && field._expressions[prop].paths) {\n            return field._expressions[prop].paths;\n        }\n        let paths = [];\n        if (prop.indexOf('[') === -1) {\n            paths = prop.split('.');\n        }\n        else {\n            prop\n                .split(/[[\\]]{1,2}/) // https://stackoverflow.com/a/20198206\n                .filter((p) => p)\n                .forEach((path) => {\n                const arrayPath = path.match(/['|\"](.*?)['|\"]/);\n                if (arrayPath) {\n                    paths.push(arrayPath[1]);\n                }\n                else {\n                    paths.push(...path.split('.').filter((p) => p));\n                }\n            });\n        }\n        if (field._expressions[prop]) {\n            field._expressions[prop].paths = paths;\n        }\n        return paths;\n    }\n}\n\nclass FieldValidationExtension {\n    constructor(config) {\n        this.config = config;\n    }\n    onPopulate(field) {\n        this.initFieldValidation(field, 'validators');\n        this.initFieldValidation(field, 'asyncValidators');\n    }\n    initFieldValidation(field, type) {\n        const validators = [];\n        if (type === 'validators' && !(field.hasOwnProperty('fieldGroup') && !hasKey(field))) {\n            validators.push(this.getPredefinedFieldValidation(field));\n        }\n        if (field[type]) {\n            for (const validatorName of Object.keys(field[type])) {\n                validatorName === 'validation'\n                    ? validators.push(...field[type].validation.map((v) => this.wrapNgValidatorFn(field, v)))\n                    : validators.push(this.wrapNgValidatorFn(field, field[type][validatorName], validatorName));\n            }\n        }\n        defineHiddenProp(field, '_' + type, validators);\n    }\n    getPredefinedFieldValidation(field) {\n        let VALIDATORS = [];\n        FORMLY_VALIDATORS.forEach((opt) => observe(field, ['props', opt], ({ currentValue, firstChange }) => {\n            VALIDATORS = VALIDATORS.filter((o) => o !== opt);\n            if (opt === 'required' && currentValue != null && typeof currentValue !== 'boolean') {\n                console.warn(`Formly: Invalid prop 'required' of type '${typeof currentValue}', expected 'boolean' (Field:${field.key}).`);\n            }\n            if (currentValue != null && currentValue !== false) {\n                VALIDATORS.push(opt);\n            }\n            if (!firstChange && field.formControl) {\n                updateValidity(field.formControl);\n            }\n        }));\n        return (control) => {\n            if (VALIDATORS.length === 0) {\n                return null;\n            }\n            return Validators.compose(VALIDATORS.map((opt) => () => {\n                const value = field.props[opt];\n                switch (opt) {\n                    case 'required':\n                        return Validators.required(control);\n                    case 'pattern':\n                        return Validators.pattern(value)(control);\n                    case 'minLength':\n                        const minLengthResult = Validators.minLength(value)(control);\n                        const minLengthKey = this.config.getValidatorMessage('minlength') || field.validation?.messages?.minlength\n                            ? 'minlength'\n                            : 'minLength';\n                        return minLengthResult ? { [minLengthKey]: minLengthResult.minlength } : null;\n                    case 'maxLength':\n                        const maxLengthResult = Validators.maxLength(value)(control);\n                        const maxLengthKey = this.config.getValidatorMessage('maxlength') || field.validation?.messages?.maxlength\n                            ? 'maxlength'\n                            : 'maxLength';\n                        return maxLengthResult ? { [maxLengthKey]: maxLengthResult.maxlength } : null;\n                    case 'min':\n                        return Validators.min(value)(control);\n                    case 'max':\n                        return Validators.max(value)(control);\n                    default:\n                        return null;\n                }\n            }))(control);\n        };\n    }\n    wrapNgValidatorFn(field, validator, validatorName) {\n        let validatorOption;\n        if (typeof validator === 'string') {\n            validatorOption = clone(this.config.getValidator(validator));\n        }\n        if (typeof validator === 'object' && validator.name) {\n            validatorOption = clone(this.config.getValidator(validator.name));\n            if (validator.options) {\n                validatorOption.options = validator.options;\n            }\n        }\n        if (typeof validator === 'object' && validator.expression) {\n            const { expression, ...options } = validator;\n            validatorOption = {\n                name: validatorName,\n                validation: expression,\n                options: Object.keys(options).length > 0 ? options : null,\n            };\n        }\n        if (typeof validator === 'function') {\n            validatorOption = {\n                name: validatorName,\n                validation: validator,\n            };\n        }\n        return (control) => {\n            const errors = validatorOption.validation(control, field, validatorOption.options);\n            if (isPromise(errors)) {\n                return errors.then((v) => this.handleResult(field, validatorName ? !!v : v, validatorOption));\n            }\n            if (isObservable(errors)) {\n                return errors.pipe(map((v) => this.handleResult(field, validatorName ? !!v : v, validatorOption)));\n            }\n            return this.handleResult(field, validatorName ? !!errors : errors, validatorOption);\n        };\n    }\n    handleResult(field, errors, { name, options }) {\n        if (typeof errors === 'boolean') {\n            errors = errors ? null : { [name]: options ? options : true };\n        }\n        const ctrl = field.formControl;\n        ctrl?._childrenErrors?.[name]?.();\n        if (isObject(errors)) {\n            Object.keys(errors).forEach((name) => {\n                const errorPath = errors[name].errorPath ? errors[name].errorPath : options?.errorPath;\n                const childCtrl = errorPath ? field.formControl.get(errorPath) : null;\n                if (childCtrl) {\n                    const { errorPath: _errorPath, ...opts } = errors[name];\n                    childCtrl.setErrors({ ...(childCtrl.errors || {}), [name]: opts });\n                    !ctrl._childrenErrors && defineHiddenProp(ctrl, '_childrenErrors', {});\n                    ctrl._childrenErrors[name] = () => {\n                        const { [name]: _toDelete, ...childErrors } = childCtrl.errors || {};\n                        childCtrl.setErrors(Object.keys(childErrors).length === 0 ? null : childErrors);\n                    };\n                }\n            });\n        }\n        return errors;\n    }\n}\n\nclass FieldFormExtension {\n    prePopulate(field) {\n        if (!this.root) {\n            this.root = field;\n        }\n        if (field.parent) {\n            Object.defineProperty(field, 'form', {\n                get: () => field.parent.formControl,\n                configurable: true,\n            });\n        }\n    }\n    onPopulate(field) {\n        if (field.hasOwnProperty('fieldGroup') && !hasKey(field)) {\n            defineHiddenProp(field, 'formControl', field.form);\n        }\n        else {\n            this.addFormControl(field);\n        }\n    }\n    postPopulate(field) {\n        if (this.root !== field) {\n            return;\n        }\n        this.root = null;\n        const markForCheck = this.setValidators(field);\n        if (markForCheck && field.parent) {\n            let parent = field.parent;\n            while (parent) {\n                if (hasKey(parent) || !parent.parent) {\n                    updateValidity(parent.formControl, true);\n                }\n                parent = parent.parent;\n            }\n        }\n    }\n    addFormControl(field) {\n        let control = findControl(field);\n        if (field.fieldArray) {\n            return;\n        }\n        if (!control) {\n            const controlOptions = { updateOn: field.modelOptions.updateOn };\n            if (field.fieldGroup) {\n                control = new FormGroup({}, controlOptions);\n            }\n            else {\n                const value = hasKey(field) ? getFieldValue(field) : field.defaultValue;\n                control = new FormControl({ value, disabled: !!field.props.disabled }, { ...controlOptions, initialValueIsDefault: true });\n            }\n        }\n        registerControl(field, control);\n    }\n    setValidators(field, disabled = false) {\n        if (disabled === false && hasKey(field) && field.props?.disabled) {\n            disabled = true;\n        }\n        let markForCheck = false;\n        field.fieldGroup?.forEach((f) => f && this.setValidators(f, disabled) && (markForCheck = true));\n        if (hasKey(field) || !field.parent || (!hasKey(field) && !field.fieldGroup)) {\n            const { formControl: c } = field;\n            if (c) {\n                if (hasKey(field) && c instanceof FormControl) {\n                    if (disabled && c.enabled) {\n                        c.disable({ emitEvent: false, onlySelf: true });\n                        markForCheck = true;\n                    }\n                    if (!disabled && c.disabled) {\n                        c.enable({ emitEvent: false, onlySelf: true });\n                        markForCheck = true;\n                    }\n                }\n                if (null === c.validator && this.hasValidators(field, '_validators')) {\n                    c.setValidators(() => {\n                        const v = Validators.compose(this.mergeValidators(field, '_validators'));\n                        return v ? v(c) : null;\n                    });\n                    markForCheck = true;\n                }\n                if (null === c.asyncValidator && this.hasValidators(field, '_asyncValidators')) {\n                    c.setAsyncValidators(() => {\n                        const v = Validators.composeAsync(this.mergeValidators(field, '_asyncValidators'));\n                        return v ? v(c) : of(null);\n                    });\n                    markForCheck = true;\n                }\n                if (markForCheck) {\n                    updateValidity(c, true);\n                    // update validity of `FormGroup` instance created by field with nested key.\n                    let parent = c.parent;\n                    for (let i = 1; i < getKeyPath(field).length; i++) {\n                        if (parent) {\n                            updateValidity(parent, true);\n                            parent = parent.parent;\n                        }\n                    }\n                }\n            }\n        }\n        return markForCheck;\n    }\n    hasValidators(field, type) {\n        const c = field.formControl;\n        if (c?._fields?.length > 1 && c._fields.some((f) => f[type].length > 0)) {\n            return true;\n        }\n        else if (field[type].length > 0) {\n            return true;\n        }\n        return field.fieldGroup?.some((f) => f?.fieldGroup && !hasKey(f) && this.hasValidators(f, type));\n    }\n    mergeValidators(field, type) {\n        const validators = [];\n        const c = field.formControl;\n        if (c?._fields?.length > 1) {\n            c._fields\n                .filter((f) => !f._hide)\n                .forEach((f) => validators.push(...f[type]));\n        }\n        else if (field[type]) {\n            validators.push(...field[type]);\n        }\n        if (field.fieldGroup) {\n            field.fieldGroup\n                .filter((f) => f?.fieldGroup && !hasKey(f))\n                .forEach((f) => validators.push(...this.mergeValidators(f, type)));\n        }\n        return validators;\n    }\n}\n\nclass CoreExtension {\n    constructor(config) {\n        this.config = config;\n        this.formId = 0;\n    }\n    prePopulate(field) {\n        const root = field.parent;\n        this.initRootOptions(field);\n        this.initFieldProps(field);\n        if (root) {\n            Object.defineProperty(field, 'options', { get: () => root.options, configurable: true });\n            Object.defineProperty(field, 'model', {\n                get: () => (hasKey(field) && field.fieldGroup ? getFieldValue(field) : root.model),\n                configurable: true,\n            });\n        }\n        Object.defineProperty(field, 'get', {\n            value: (key) => getField(field, key),\n            configurable: true,\n        });\n        this.getFieldComponentInstance(field).prePopulate?.(field);\n    }\n    onPopulate(field) {\n        this.initFieldOptions(field);\n        this.getFieldComponentInstance(field).onPopulate?.(field);\n        if (field.fieldGroup) {\n            field.fieldGroup.forEach((f, index) => {\n                if (f) {\n                    Object.defineProperty(f, 'parent', { get: () => field, configurable: true });\n                    Object.defineProperty(f, 'index', { get: () => index, configurable: true });\n                }\n                this.formId++;\n            });\n        }\n    }\n    postPopulate(field) {\n        this.getFieldComponentInstance(field).postPopulate?.(field);\n    }\n    initFieldProps(field) {\n        field.props ?? (field.props = field.templateOptions);\n        Object.defineProperty(field, 'templateOptions', {\n            get: () => field.props,\n            set: (props) => (field.props = props),\n            configurable: true,\n        });\n    }\n    initRootOptions(field) {\n        if (field.parent) {\n            return;\n        }\n        const options = field.options;\n        field.options.formState = field.options.formState || {};\n        if (!options.showError) {\n            options.showError = this.config.extras.showError;\n        }\n        if (!options.fieldChanges) {\n            defineHiddenProp(options, 'fieldChanges', new Subject());\n        }\n        if (!options._hiddenFieldsForCheck) {\n            options._hiddenFieldsForCheck = [];\n        }\n        options._markForCheck = (f) => {\n            console.warn(`Formly: 'options._markForCheck' is deprecated since v6.0, use 'options.detectChanges' instead.`);\n            options.detectChanges(f);\n        };\n        options._detectChanges = (f) => {\n            if (f._componentRefs) {\n                markFieldForCheck(f);\n            }\n            f.fieldGroup?.forEach((f) => f && options._detectChanges(f));\n        };\n        options.detectChanges = (f) => {\n            f.options.checkExpressions?.(f);\n            options._detectChanges(f);\n        };\n        options.resetModel = (model) => {\n            model = clone(model ?? options._initialModel);\n            if (field.model) {\n                Object.keys(field.model).forEach((k) => delete field.model[k]);\n                Object.assign(field.model, model || {});\n            }\n            observe(options, ['parentForm', 'submitted']).setValue(false, false);\n            options.build(field);\n            field.form.reset(field.model);\n        };\n        options.updateInitialValue = (model) => (options._initialModel = clone(model ?? field.model));\n        field.options.updateInitialValue();\n    }\n    initFieldOptions(field) {\n        reverseDeepMerge(field, {\n            id: getFieldId(`formly_${this.formId}`, field, field.index),\n            hooks: {},\n            modelOptions: {},\n            validation: { messages: {} },\n            props: !field.type || !hasKey(field)\n                ? {}\n                : {\n                    label: '',\n                    placeholder: '',\n                    disabled: false,\n                },\n        });\n        if (this.config.extras.resetFieldOnHide && field.resetOnHide !== false) {\n            field.resetOnHide = true;\n        }\n        if (field.type !== 'formly-template' &&\n            (field.template || field.expressions?.template || field.expressionProperties?.template)) {\n            field.type = 'formly-template';\n        }\n        if (!field.type && field.fieldGroup) {\n            field.type = 'formly-group';\n        }\n        if (field.type) {\n            this.config.getMergedField(field);\n        }\n        if (hasKey(field) && !isUndefined(field.defaultValue) && isUndefined(getFieldValue(field))) {\n            const isHidden = (f) => f.hide || f.expressions?.hide || f.hideExpression;\n            let setDefaultValue = !field.resetOnHide || !isHidden(field);\n            if (!isHidden(field) && field.resetOnHide) {\n                let parent = field.parent;\n                while (parent && !isHidden(parent)) {\n                    parent = parent.parent;\n                }\n                setDefaultValue = !parent || !isHidden(parent);\n            }\n            if (setDefaultValue) {\n                assignFieldValue(field, field.defaultValue);\n            }\n        }\n        field.wrappers = field.wrappers || [];\n    }\n    getFieldComponentInstance(field) {\n        const componentRefInstance = () => {\n            let componentRef = this.config.resolveFieldTypeRef(field);\n            const fieldComponentRef = field._componentRefs?.slice(-1)[0];\n            if (fieldComponentRef instanceof ComponentRef &&\n                fieldComponentRef?.componentType === componentRef?.componentType) {\n                componentRef = fieldComponentRef;\n            }\n            return componentRef?.instance;\n        };\n        if (!field._proxyInstance) {\n            defineHiddenProp(field, '_proxyInstance', new Proxy({}, {\n                get: (_, prop) => componentRefInstance()?.[prop],\n                set: (_, prop, value) => (componentRefInstance()[prop] = value),\n            }));\n        }\n        return field._proxyInstance;\n    }\n}\n\nfunction defaultFormlyConfig(config) {\n    return {\n        types: [\n            { name: 'formly-group', component: FormlyGroup },\n            { name: 'formly-template', component: FormlyTemplateType },\n        ],\n        extensions: [\n            { name: 'core', extension: new CoreExtension(config), priority: -250 },\n            { name: 'field-validation', extension: new FieldValidationExtension(config), priority: -200 },\n            { name: 'field-form', extension: new FieldFormExtension(), priority: -150 },\n            { name: 'field-expression', extension: new FieldExpressionExtension(), priority: -100 },\n        ],\n    };\n}\nclass FormlyModule {\n    constructor(configService, configs = []) {\n        if (!configs) {\n            return;\n        }\n        configs.forEach((config) => configService.addConfig(config));\n    }\n    static forRoot(config = {}) {\n        return {\n            ngModule: FormlyModule,\n            providers: [\n                { provide: FORMLY_CONFIG, multi: true, useFactory: defaultFormlyConfig, deps: [FormlyConfig] },\n                { provide: FORMLY_CONFIG, useValue: config, multi: true },\n                FormlyConfig,\n                FormlyFormBuilder,\n            ],\n        };\n    }\n    static forChild(config = {}) {\n        return {\n            ngModule: FormlyModule,\n            providers: [\n                { provide: FORMLY_CONFIG, multi: true, useFactory: defaultFormlyConfig, deps: [FormlyConfig] },\n                { provide: FORMLY_CONFIG, useValue: config, multi: true },\n                FormlyFormBuilder,\n            ],\n        };\n    }\n}\nFormlyModule.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyModule, deps: [{ token: FormlyConfig }, { token: FORMLY_CONFIG, optional: true }], target: i0.FactoryTarget.NgModule });\nFormlyModule.mod = i0.ngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyModule, declarations: [FormlyTemplate,\n        FormlyForm,\n        FormlyField,\n        FormlyAttributes,\n        FormlyGroup,\n        FormlyValidationMessage,\n        FormlyTemplateType], imports: [CommonModule], exports: [FormlyTemplate, FormlyForm, FormlyField, FormlyAttributes, FormlyGroup, FormlyValidationMessage] });\nFormlyModule.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyModule, imports: [[CommonModule]] });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FormlyModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        FormlyTemplate,\n                        FormlyForm,\n                        FormlyField,\n                        FormlyAttributes,\n                        FormlyGroup,\n                        FormlyValidationMessage,\n                        FormlyTemplateType,\n                    ],\n                    exports: [FormlyTemplate, FormlyForm, FormlyField, FormlyAttributes, FormlyGroup, FormlyValidationMessage],\n                    imports: [CommonModule],\n                }]\n        }], ctorParameters: function () { return [{ type: FormlyConfig }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [FORMLY_CONFIG]\n                }] }]; } });\n\n/*\n * Public API Surface of core\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FORMLY_CONFIG, FieldArrayType, FieldType, FieldWrapper, FormlyConfig, FormlyField, FormlyForm, FormlyFormBuilder, FormlyModule, FormlyAttributes as FormlyAttributes, FormlyGroup as FormlyGroup, FormlyTemplate as FormlyTemplate, FormlyValidationMessage as FormlyValidationMessage, clone as clone, defineHiddenProp as defineHiddenProp, getFieldValue as getFieldValue, hasKey as hasKey, observe as observe, reverseDeepMerge as reverseDeepMerge };\n","<div class=\"body\">\r\n  <form class=\"form\" novalidate autocomplete=\"off\" [formGroup]=\"formGroup\">\r\n    @if (formDefinition) {\r\n    <formly-form [form]=\"formGroup\" [model]=\"model\" [fields]=\"formDefinition\" [options]=\"formOptions\"></formly-form>\r\n\r\n    <p>\r\n      {{formGroup.value| json}}\r\n    </p>\r\n    }\r\n  </form>\r\n</div>\r\n\r\n<forge-toolbar class=\"footer\" inverted>\r\n  <span class=\"forge-typography--caption\" slot=\"start\">\r\n    {{formMessage?.message}}\r\n  </span>\r\n</forge-toolbar>","import { ChangeDetectorRef, Component, OnInit, inject } from '@angular/core';\r\nimport { AbstractControl, Form, FormControl, FormGroup } from '@angular/forms';\r\nimport { FormlyFieldConfig, FormlyFormOptions } from '@ngx-formly/core';\r\nimport { FormlyDemoService } from './formly-demo.service';\r\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\r\nimport { formlyDemoConstants } from './formly-demo.constants';\r\n\r\n@Component({\r\n  selector: 'app-formly-demo',\r\n  templateUrl: './formly-demo.component.html',\r\n  styleUrls: ['./formly-demo.component.scss']\r\n})\r\nexport class FormlyDemoComponent implements OnInit {\r\n  private changeDetectorRef = inject(ChangeDetectorRef);\r\n  private moduleService = inject(FormlyDemoService);\r\n\r\n  private form?: Form;\r\n\r\n  public formGroup = new FormGroup({});\r\n  public formDefinition?: FormlyFieldConfig[];\r\n  public formOptions: FormlyFormOptions = {\r\n    // showError(field) {\r\n    //   console.log(field);\r\n    //   return false;\r\n    // },\r\n    // build: (field) => {\r\n    //   console.log(field);\r\n    //   return field;\r\n    // }\r\n  };\r\n  public model = {\r\n    name: '',\r\n    age: 10\r\n  };\r\n  public record: any;\r\n  public formMessage?: { id: string; message: string; };\r\n\r\n  constructor() {\r\n    this.moduleService.formMessage.pipe(\r\n      takeUntilDestroyed()\r\n    ).subscribe(result => {\r\n      this.formMessage = result;\r\n    });\r\n  }\r\n\r\n  public ngOnInit() {\r\n    this.formDefinition = formlyDemoConstants.formDefinitionAll as any;\r\n    this.changeDetectorRef.detectChanges();\r\n  }\r\n\r\n  private getFormErrors(control: AbstractControl) {\r\n    if (control instanceof FormControl) {\r\n      return control.errors ? control : null;\r\n    }\r\n\r\n    if (control instanceof FormGroup) {\r\n      const formErrors = control.errors ? { groupError: control } : {} as any;\r\n      Object.keys(control.controls).forEach(key => {\r\n        const error = this.getFormErrors(control.get(key) as AbstractControl);\r\n        if (error) {\r\n          formErrors[key] = error;\r\n        }\r\n      });\r\n\r\n      return Object.keys(formErrors).length > 0 ? formErrors : null;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, Component, ElementRef, Input, OnInit, ViewChild, inject } from '@angular/core';\r\nimport { FormlyField, FormlyFieldConfig, FormlyModule } from '@ngx-formly/core';\r\n\r\n@Component({\r\n  selector: 'app-formly-field',\r\n  template: `\r\n    <formly-field #formlyField [field]=\"$any(field)\"></formly-field>\r\n  `,\r\n  imports: [\r\n    CommonModule,\r\n    FormlyModule\r\n  ],\r\n  standalone: true,\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class FormlyFieldComponent implements OnInit {\r\n  private elementRef = inject(ElementRef);\r\n\r\n  @ViewChild('formlyField', { static: true })\r\n  private formlyField?: FormlyField;\r\n\r\n  @Input()\r\n  public field?: FormlyFieldConfig;\r\n\r\n  public ngOnInit() {\r\n    // console.log(this.field);\r\n    // console.log(this.formlyField);\r\n    // console.log(this.elementRef.nativeElement);\r\n  }\r\n}\r\n","import { Input, inject } from '@angular/core';\r\nimport { Directive, ElementRef, OnInit } from '@angular/core';\r\nimport { FormlyField, FormlyFieldConfig } from '@ngx-formly/core';\r\n\r\nimport { FormlyDemoService } from '../formly-demo.service';\r\n\r\n@Directive({\r\n  // eslint-disable-next-line @angular-eslint/directive-selector\r\n  selector: '[formlyFieldDirective]',\r\n  standalone: true\r\n})\r\nexport class FormlyFieldDirective implements OnInit {\r\n  private elementRef = inject(ElementRef);\r\n  private moduleService = inject(FormlyDemoService);\r\n\r\n  @Input()\r\n  field?: FormlyFieldConfig\r\n  @Input()\r\n  formlyFieldDirective?: FormlyField;\r\n\r\n  public ngOnInit() {\r\n    // console.log(this.field);\r\n    // console.log(this.formlyFieldDirective);\r\n    // console.log(this.elementRef.nativeElement);\r\n    const element = this.elementRef.nativeElement as HTMLElement;\r\n\r\n    if (this.field?.props?.attributes) {\r\n      if (this.field.props.attributes && this.field.props.attributes['width']) {\r\n        element.style.width = `${this.field.props.attributes['width']}px`;\r\n      }\r\n\r\n      if (this.field.props.attributes['column']) {\r\n        element.style.gridColumn = `${this.field.props.attributes['column']}`;\r\n      }\r\n\r\n      if (this.field.props.attributes['row']) {\r\n        element.style.gridRow = `${this.field.props.attributes['row']}`;\r\n      }\r\n    }\r\n\r\n    if (this.field?.props?.description?.length) {\r\n      element.addEventListener('focusin', () => {\r\n        this.moduleService.formMessage.next({ id: this.field?.id as string, message: this.field?.props?.description as string });\r\n      });\r\n      element.addEventListener('focusout', () => {\r\n        this.moduleService.formMessage.next({ id: this.field?.id as string, message: '' });\r\n      });\r\n    }\r\n\r\n    if (this.field?.props?.required) {\r\n      this.field.validation!.messages = {\r\n        required: `A ${this.field.props.label || 'value'} is required`\r\n      };\r\n    }\r\n\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, CUSTOM_ELEMENTS_SCHEMA, ElementRef, HostBinding, inject, OnInit, ViewChild } from '@angular/core';\r\nimport { FieldGroupTypeConfig, FieldType, FormlyModule } from '@ngx-formly/core';\r\nimport { FormlyFieldDirective } from './formly-field.directive';\r\n\r\n@Component({\r\n  selector: 'app-formly-group',\r\n  template: `\r\n    @if (props.label?.length && field.parent?.type !== 'tab') {\r\n      <div class=\"label\">{{props.label}}</div>\r\n    }\r\n    <div #fieldContainer>\r\n      @for (f of field.fieldGroup; track i; let i = $index) {\r\n        <formly-field [field]=\"f\" #formlyField [formlyFieldDirective]=\"formlyField\"></formly-field>\r\n      }\r\n      <ng-content></ng-content>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: block;\r\n      height: fit-content;\r\n\r\n      ::ng-deep {\r\n        .form-grid {\r\n          display: grid !important;\r\n          row-gap: 8px !important;\r\n          // row-gap: 0 !important;\r\n        }\r\n\r\n        .form-vbox {\r\n          display: flex;\r\n          flex-direction: column;\r\n          row-gap: 16px;\r\n        }\r\n\r\n        .form-hbox {\r\n          display: flex;\r\n          flex-direction: row;\r\n          column-gap: 16px;\r\n        }\r\n\r\n        .form-group {\r\n          display: flex;\r\n          flex-direction: column;\r\n          row-gap: 16px;\r\n          border: var(--forge-theme-border);\r\n          border-radius: 4px;\r\n          padding: 16px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .label {\r\n      padding-bottom: 8px;\r\n    }\r\n  `],\r\n  imports: [\r\n    CommonModule,\r\n    FormlyModule,\r\n    FormlyFieldDirective\r\n  ],\r\n  standalone: true,\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class GroupTypeComponent extends FieldType<FieldGroupTypeConfig> implements OnInit {\r\n  private elementRef = inject(ElementRef);\r\n\r\n  @ViewChild('fieldContainer', { static: true })\r\n  private fieldContainer?: ElementRef;\r\n  // @HostBinding('style.display')\r\n  // private displayStyle = 'block';\r\n\r\n  public ngOnInit() {\r\n    const fieldContainerElement = this.fieldContainer?.nativeElement as HTMLElement;\r\n    switch (this.field.props?.type) {\r\n      case 'grid':\r\n        fieldContainerElement.classList.add('form-grid');\r\n\r\n        if (this.props.attributes) {\r\n          if (this.props.attributes['width']) {\r\n            fieldContainerElement.style.gridTemplateColumns = `repeat(${this.props.attributes['width']}, 8px)`;\r\n          }\r\n          // if (this.props.attributes['height']) {\r\n          //   fieldContainerElement.style.gridTemplateRows = `repeat(${this.props.attributes['height']}, 8px)`;\r\n          // }\r\n        }\r\n        break;\r\n      case 'vbox':\r\n        fieldContainerElement.classList.add('form-vbox');\r\n        break;\r\n      case 'hbox':\r\n        fieldContainerElement.classList.add('form-hbox');\r\n        // this.displayStyle = 'inline-block';\r\n        break;\r\n      case 'group':\r\n        fieldContainerElement.classList.add('form-group');\r\n\r\n        if (this.props.attributes && (this.props.attributes['gridWidth'] || this.props.attributes['gridHeight'])) {\r\n          fieldContainerElement.classList.add('form-grid');\r\n          if (this.props.attributes['gridWidth']) {\r\n            fieldContainerElement.style.gridTemplateColumns = `repeat(${this.props.attributes['gridWidth']}, 8px)`;\r\n          }\r\n          // if (this.props.attributes['gridHeight']) {\r\n          //   fieldContainerElement.style.gridTemplateRows = `repeat(${this.props.attributes['gridHeight']}, 8px)`;\r\n          // }\r\n        }\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, OnDestroy, OnInit, inject } from '@angular/core';\r\nimport { AbstractControl, ReactiveFormsModule } from '@angular/forms';\r\nimport { map, of, Subject, takeUntil } from 'rxjs';\r\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\r\nimport { ForgeCheckboxModule } from '@tylertech/forge-angular';\r\n\r\nimport { FormlyDemoService } from '../formly-demo.service';\r\n\r\n@Component({\r\n  selector: 'app-formly-checkbox',\r\n  template: `\r\n    <forge-checkbox>\r\n      <input\r\n        [id]=\"id\"\r\n        type=\"checkbox\"\r\n        [readonly]=\"props.readonly\"\r\n        [formControl]=\"formControl\"\r\n        [formlyAttributes]=\"field\" />\r\n      @if (props.label) {\r\n        <label [attr.for]=\"id\" slot=\"label\">{{props.label}}</label>\r\n      }\r\n      @if (props.description) {\r\n        <span slot=\"helper-text\">{{props.description}}</span>\r\n      }\r\n    </forge-checkbox>\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: block;\r\n    }\r\n  `],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormlyModule,\r\n    ForgeCheckboxModule\r\n  ],\r\n  standalone: true\r\n})\r\nexport class CheckboxTypeComponent extends FieldType<FieldTypeConfig> implements OnInit, OnDestroy {\r\n  private moduleService = inject(FormlyDemoService);\r\n\r\n  private unsubscribe = new Subject<void>();\r\n\r\n  public ngOnInit() {\r\n    this.formControl.addAsyncValidators((control: AbstractControl) => {\r\n      this.unsubscribe.next();\r\n      this.unsubscribe.complete();\r\n\r\n      if (control.pristine) {\r\n        return of(null);\r\n      }\r\n\r\n      return this.moduleService.validateField(this.field.key as string, control.value).pipe(\r\n        takeUntil(this.unsubscribe),\r\n        map(r => {\r\n          return r.invalid ? { server: { message: r.message } } : null;\r\n        })\r\n      );\r\n    });\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, Component, OnDestroy, OnInit, inject } from '@angular/core';\r\nimport { AbstractControl, ReactiveFormsModule } from '@angular/forms';\r\nimport { map, of, Subject, takeUntil } from 'rxjs';\r\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\r\nimport { ForgeDatePickerModule, ForgeTextFieldModule } from '@tylertech/forge-angular';\r\nimport { isValid as isValidDate } from 'date-fns';\r\n\r\nimport { FormlyDemoService } from '../formly-demo.service';\r\n@Component({\r\n  selector: 'app-formly-date-picker',\r\n  template: `\r\n    <forge-date-picker [max]=\"$any(props.max)\" [min]=\"$any(props.min)\">\r\n      <forge-text-field [required]=\"props.required\" [invalid]=\"showError\">\r\n        <input\r\n          [id]=\"id\"\r\n          type=\"text\"\r\n          [placeholder]=\"props.placeholder\"\r\n          [readonly]=\"props.readonly\"\r\n          [formControl]=\"formControl\"\r\n          [formlyAttributes]=\"field\" />\r\n        @if (props.label) {\r\n          <label [attr.for]=\"id\" slot=\"label\">{{props.label}}</label>\r\n        }\r\n        @if (showError) {\r\n          <span slot=\"helper-text\">\r\n            <formly-validation-message [field]=\"field\"></formly-validation-message>\r\n          </span>\r\n        }\r\n      </forge-text-field>\r\n    </forge-date-picker>\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    // forge-text-field {\r\n    //   --forge-text-field-height: 2rem;\r\n    // }\r\n  `],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormlyModule,\r\n    ForgeDatePickerModule,\r\n    ForgeTextFieldModule\r\n  ],\r\n  standalone: true,\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class DatePickerTypeComponent extends FieldType<FieldTypeConfig> implements OnInit, OnDestroy {\r\n  private moduleService = inject(FormlyDemoService);\r\n\r\n  private unsubscribe = new Subject<void>();\r\n\r\n  public ngOnInit() {\r\n    this.formControl.addAsyncValidators((control: AbstractControl) => {\r\n      this.unsubscribe.next();\r\n      this.unsubscribe.complete();\r\n\r\n      if (control.pristine) {\r\n        return of(null);\r\n      }\r\n\r\n      if (control.value && !isValidDate(new Date(control.value))) {\r\n        control.setValue(null);\r\n        if (this.field.props.required) {\r\n          return of({ required: true });\r\n        }\r\n      }\r\n\r\n      return this.moduleService.validateField(this.field.key as string, control.value).pipe(\r\n        takeUntil(this.unsubscribe),\r\n        map(r => {\r\n          return r.invalid ? { server: { message: r.message } } : null;\r\n        })\r\n      );\r\n    });\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, CUSTOM_ELEMENTS_SCHEMA, inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { AbstractControl, ReactiveFormsModule } from '@angular/forms';\r\nimport { map, of, Subject, takeUntil } from 'rxjs';\r\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\r\nimport { ForgeTextFieldModule } from '@tylertech/forge-angular';\r\n\r\nimport { FormlyDemoService } from '../formly-demo.service';\r\n\r\n@Component({\r\n  selector: 'app-formly-textarea',\r\n  template: `\r\n    <forge-text-field [required]=\"props.required\" [invalid]=\"showError\">\r\n      <textarea\r\n        [id]=\"id\"\r\n        [cols]=\"props.cols\"\r\n        [rows]=\"props.rows\"\r\n        [readonly]=\"props.readonly\"\r\n        [formControl]=\"formControl\"\r\n        [formlyAttributes]=\"field\" >\r\n      </textarea>\r\n      @if (props.label) {\r\n        <label [attr.for]=\"id\" slot=\"label\">{{props.label}}</label>\r\n      }\r\n      @if (showError) {\r\n        <span slot=\"helper-text\">\r\n          <formly-validation-message [field]=\"field\"></formly-validation-message>\r\n        </span>\r\n      }\r\n    </forge-text-field>\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    textarea {\r\n      resize: none;\r\n    }\r\n  `],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormlyModule,\r\n    ForgeTextFieldModule\r\n  ],\r\n  standalone: true,\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class TextareaTypeComponent extends FieldType<FieldTypeConfig> implements OnInit, OnDestroy {\r\n  private moduleService = inject(FormlyDemoService);\r\n\r\n  private unsubscribe = new Subject<void>();\r\n\r\n  constructor() {\r\n    super();\r\n    this.defaultOptions = {\r\n      props: {\r\n        cols: 1,\r\n        rows: 3\r\n      }\r\n    }\r\n  }\r\n\r\n  public ngOnInit() {\r\n    this.formControl.addAsyncValidators((control: AbstractControl) => {\r\n      this.unsubscribe.next();\r\n      this.unsubscribe.complete();\r\n\r\n      if (control.pristine) {\r\n        return of(null);\r\n      }\r\n\r\n      return this.moduleService.validateField(this.field.key as string, control.value).pipe(\r\n        takeUntil(this.unsubscribe),\r\n        map(r => {\r\n          return r.invalid ? { server: { message: r.message } } : null;\r\n        })\r\n      );\r\n    });\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, CUSTOM_ELEMENTS_SCHEMA, inject, OnInit } from '@angular/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\r\nimport { ForgeTabBarModule, ForgeTabModule } from '@tylertech/forge-angular';\r\nimport { FormlyDemoService } from '../formly-demo.service';\r\n\r\n@Component({\r\n  selector: 'app-formly-tab',\r\n  template: `\r\n    <forge-tab-bar [activeTab]=\"activeTab\">\r\n      @for (field of $any(field.fieldGroup); track i; let i = $index) {\r\n        <forge-tab (forge-tab-interacted)=\"onTabSelected(field)\">\r\n          {{field.props?.label}}\r\n        </forge-tab>\r\n      }\r\n    </forge-tab-bar>\r\n    <formly-field [field]=\"$any(activeField)\" #formlyField [formlyFieldDirective]=\"formlyField\"></formly-field>\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    forge-tab-bar {\r\n      display: inline-flex;\r\n      width: 100%;\r\n      border-bottom: var(--forge-theme-border);\r\n      margin: 16px 0;\r\n    }\r\n\r\n    forge-tab {\r\n      min-width: 240px;\r\n    }\r\n  `],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormlyModule,\r\n    ForgeTabBarModule,\r\n    ForgeTabModule\r\n  ],\r\n  standalone: true,\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class TabTypeComponent extends FieldType<FieldTypeConfig> implements OnInit {\r\n  private moduleService = inject(FormlyDemoService);\r\n\r\n  public activeTab = 0;\r\n  public activeField?: FieldTypeConfig;\r\n\r\n  public ngOnInit() {\r\n    this.activeField = this.field.fieldGroup![0] as FieldTypeConfig;\r\n  }\r\n\r\n  public onTabSelected(field: FieldTypeConfig) {\r\n    this.activeField = field;\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, CUSTOM_ELEMENTS_SCHEMA, ElementRef, ViewChild } from '@angular/core';\r\nimport { FieldArrayType, FormlyModule } from '@ngx-formly/core';\r\nimport { FormlyFieldDirective } from './formly-field.directive';\r\n\r\n@Component({\r\n  selector: 'app-formly-table',\r\n  template: `\r\n    <table class=\"forge-table\" #table>\r\n      <thead>\r\n        <tr class=\"forge-table-row forge-table-head__row\">\r\n          @for (th of $any(props).columns; track i; let i = $index) {\r\n            <th scope=\"col\" class=\"forge-table-cell forge-table-head__cell\">\r\n              <div class=\"forge-table-head__cell-container\">\r\n                <span class=\"forge-table-head__cell-text\">{{th.label}}</span>\r\n              </div>\r\n            </th>\r\n          }\r\n          <th class=\"forge-table-cell forge-table-head__cell forge-table-cell__button\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        @for (fg of field.fieldGroup; track i; let i = $index) {\r\n          <tr class=\"forge-table-row forge-table-body__row\">\r\n            @for (f of fg.fieldGroup; track ii; let ii = $index) {\r\n              <td class=\"forge-table-cell forge-table-body__cell\">\r\n                <formly-field [field]=\"f\" #formlyField [formlyFieldDirective]=\"formlyField\"></formly-field>\r\n              </td>\r\n            }\r\n            <td class=\"forge-table-cell forge-table-body__cell forge-table-cell__button\">\r\n              <forge-icon-button>\r\n                <button type=\"button\" (click)=\"onRemove(i)\">\r\n                  <forge-icon name=\"delete\"></forge-icon>\r\n                </button>\r\n              </forge-icon-button>\r\n            </td>\r\n          </tr>\r\n        }\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          <td>\r\n            <forge-button>\r\n              <button type=\"button\" (click)=\"onAdd()\">Add</button>\r\n            </forge-button>\r\n          </td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    .forge-table {\r\n      // --forge-table-theme-row-hover-background: transparent;\r\n\r\n      &-cell {\r\n        padding-right: 24px;\r\n        &:first-child {\r\n          padding-left: 0;\r\n        }\r\n        &:last-child {\r\n          padding-right: 0;\r\n        }\r\n        &__button {\r\n          width: 48px;\r\n        }\r\n      }\r\n\r\n      &-body {\r\n\r\n        &__cell {\r\n          padding-top: 8px;\r\n          padding-bottom: 8px;\r\n          vertical-align: top;\r\n\r\n          formly-field {\r\n            background-color: var(--mdc-theme-surface);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  `],\r\n  imports: [\r\n    CommonModule,\r\n    FormlyModule,\r\n    FormlyFieldDirective\r\n  ],\r\n  standalone: true,\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class TableTypeComponent extends FieldArrayType {\r\n  @ViewChild('table')\r\n  private tableElement?: ElementRef;\r\n\r\n  public onAdd() {\r\n    const model = this.props['columns'].filter((c: any) => c.key?.length).map((c: any) => [c.key, c.defaultValue]);\r\n\r\n    this.add(this.formControl.length, Object.fromEntries(model));\r\n\r\n    requestAnimationFrame(() => {\r\n      const tr = Array.from(this.tableElement?.nativeElement.querySelectorAll('tbody > tr')).reverse()[0] as HTMLTableRowElement;\r\n      if (tr) {\r\n        const focusElement = tr.querySelector(`[id*=\"${model[0][0]}\"]`) as HTMLElement;\r\n        if (focusElement) {\r\n          focusElement.focus();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  public onRemove(index: number) {\r\n    this.remove(index);\r\n  }\r\n}\r\n","<div class=\"dialog__header\">\r\n  <span class=\"forge-typography--headline5\">{{title}}</span>\r\n  <forge-icon-button class=\"forge-flex-item--right\">\r\n    <button type=\"button\" aria-label=\"close\" (click)=\"onClose()\">\r\n      <forge-icon name=\"close\"></forge-icon>\r\n    </button>\r\n  </forge-icon-button>\r\n</div>\r\n\r\n<div class=\"dialog__body\">\r\n  <forge-table [ngClass]=\"{'app--hidden': isBusy}\" [data]=\"data\" [columnConfigurations]=\"columnConfigurations\" allow-row-click (forge-table-row-click)=\"onTableRowClick($event.detail)\" (forge-table-sort)=\"onTableSort($any($event).detail)\" filter=\"true\" (forge-table-filter)=\"onTableFilter($event.detail)\"></forge-table>\r\n\r\n  @if (!isBusy && !data.length) {\r\n  <forge-page-state>\r\n    <img src=\"https://cdn.forge.tylertech.com/v1/images/spot/no-search-results-spot.svg\" slot=\"graphic\" alt=\"No records found\" />\r\n    <div slot=\"message\">No records were found.</div>\r\n  </forge-page-state>\r\n  }\r\n\r\n  @if (isBusy) {\r\n  <ng-container>\r\n    <forge-skeleton list-item></forge-skeleton>\r\n    <forge-skeleton list-item></forge-skeleton>\r\n    <forge-skeleton list-item></forge-skeleton>\r\n    <forge-skeleton list-item></forge-skeleton>\r\n  </ng-container>\r\n  }\r\n</div>\r\n\r\n<div class=\"dialog__footer\">\r\n  <forge-paginator [pageIndex]=\"paginator.pageIndex\" [pageSize]=\"paginator.pageSize\" [total]=\"paginator.total\" (forge-paginator-change)=\"onPaginatorChange($event.detail)\" [disabled]=\"isBusy || !data.length\">\r\n  </forge-paginator>\r\n</div>","import { CommonModule } from '@angular/common';\r\nimport { Component, inject } from '@angular/core';\r\nimport { finalize, Observable, Subject, takeUntil } from 'rxjs';\r\nimport { isDefined } from '@tylertech/forge-core';\r\nimport { IColumnConfiguration, ITableFilterEventData, ITableRowClickEventData, ITableSortEventData, SortDirection } from '@tylertech/forge';\r\nimport { DialogConfig, DialogRef, ForgeIconButtonModule, ForgeIconModule, ForgePageStateModule, ForgePaginatorModule, ForgeSkeletonModule, ForgeTableModule } from '@tylertech/forge-angular';\r\n\r\nimport { IFilterParameter, IFilter, IFilterResponse } from 'src/app/shared/interfaces/filter.interface';\r\n\r\nexport interface IFieldHelpDialogConfig {\r\n  columnConfigurations: IColumnConfiguration[];\r\n  dataObservable: (param: IFilterParameter) => Observable<IFilterResponse<any>>;\r\n  key: string;\r\n  title: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-formly-field-help-dialog',\r\n  templateUrl: './field-help-dialog.component.html',\r\n  styleUrls: ['./field-help-dialog.component.scss'],\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    ForgeIconButtonModule,\r\n    ForgeIconModule,\r\n    ForgePageStateModule,\r\n    ForgePaginatorModule,\r\n    ForgeSkeletonModule,\r\n    ForgeTableModule\r\n  ]\r\n})\r\nexport class FieldHelpDialogComponent {\r\n  public dialogConfig = inject(DialogConfig<IFieldHelpDialogConfig>);\r\n  private dialogRef = inject(DialogRef);\r\n\r\n  public title: string;\r\n  public columnConfigurations: IColumnConfiguration[];\r\n  public data: any[] = [];\r\n  public paginator = {\r\n    pageIndex: 0,\r\n    pageSize: 25,\r\n    total: 0\r\n  };\r\n  public isBusy = false;\r\n  public key: string;\r\n\r\n  private unsubscribe = new Subject<void>();\r\n  private dataObservable: (param: IFilterParameter) => Observable<any>;\r\n  private sort = {\r\n    property: '',\r\n    direction: SortDirection.Ascending\r\n  };\r\n  private filters: IFilter[] = [];\r\n\r\n  constructor(\r\n  ) {\r\n    this.title = this.dialogConfig.data?.title || '';\r\n    this.columnConfigurations = this.dialogConfig.data?.columnConfigurations || [];\r\n    this.dataObservable = this.dialogConfig.data?.dataObservable as any;\r\n    this.key = this.dialogConfig.data?.key || '';\r\n    this.sort.property = this.columnConfigurations.find(c => c.initialSort)?.property || this.columnConfigurations[0].property as string;\r\n    this.getData();\r\n  }\r\n\r\n  public onClose() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  public onPaginatorChange(value: { pageIndex: number; pageSize: number; }) {\r\n    this.paginator.pageIndex = value.pageIndex;\r\n    this.paginator.pageSize = value.pageSize;\r\n    this.getData();\r\n  }\r\n\r\n  public onTableSort(value: ITableSortEventData) {\r\n    this.sort.property = this.columnConfigurations[value.columnIndex].property as string;\r\n    this.sort.direction = value.direction;\r\n    this.paginator.pageIndex = 0;\r\n    this.getData();\r\n  }\r\n\r\n  public onTableFilter(filter: ITableFilterEventData) {\r\n    const filterProperty = this.columnConfigurations[filter.columnIndex].property as string;\r\n    if (isDefined(filter.value) && filter.value?.toString().length) {\r\n      this.filters.push({ property: filterProperty, value: filter.value });\r\n    } else {\r\n      const index = this.filters.findIndex(f => f.property === filterProperty);\r\n      if (index !== -1) {\r\n        this.filters.splice(index, 1);\r\n      }\r\n    }\r\n    this.paginator.pageIndex = 0;\r\n    this.getData();\r\n  }\r\n\r\n  public onTableRowClick(value: ITableRowClickEventData) {\r\n    this.dialogRef.close(value.data[this.key]);\r\n  }\r\n\r\n  private getData() {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n    this.isBusy = true;\r\n    const param: IFilterParameter = {\r\n      filters: this.filters,\r\n      sort: this.sort,\r\n      skip: this.paginator.pageIndex * this.paginator.pageSize,\r\n      take: this.paginator.pageSize\r\n    };\r\n    this.dataObservable(param)\r\n      .pipe(\r\n        finalize(() => this.isBusy = false),\r\n        takeUntil(this.unsubscribe)\r\n      )\r\n      .subscribe((r: IFilterResponse<any>) => {\r\n        this.data = r.data;\r\n        this.paginator.total = r.count;\r\n      });\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, Component, OnDestroy, OnInit, inject } from '@angular/core';\r\nimport { AbstractControl, ReactiveFormsModule } from '@angular/forms';\r\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\r\nimport { TextFieldComponentDelegate } from '@tylertech/forge';\r\nimport { DialogService, ForgeIconButtonModule, ForgeIconModule, ForgeTextFieldModule } from '@tylertech/forge-angular';\r\nimport { finalize, map, of, Subject, takeUntil } from 'rxjs';\r\nimport { IFilterParameter } from 'src/app/shared/interfaces/filter.interface';\r\nimport { FormlyDemoService } from '../formly-demo.service';\r\nimport { FieldHelpDialogComponent } from './field-help-dialog/field-help-dialog.component';\r\n@Component({\r\n  selector: 'app-formly-input-help',\r\n  template: `\r\n    <forge-text-field [required]=\"props.required\" [invalid]=\"showError\">\r\n      <input\r\n        #input\r\n        [id]=\"id\"\r\n        type=\"text\"\r\n        [placeholder]=\"props.placeholder\"\r\n        [readonly]=\"props.readonly\"\r\n        [formControl]=\"formControl\"\r\n        [formlyAttributes]=\"field\" />\r\n      @if (props.label) {\r\n        <label [attr.for]=\"id\" slot=\"label\">{{props.label}}</label>\r\n      }\r\n      <forge-icon-button slot=\"addon-end\" dense>\r\n        <button type=\"button\" aria-label=\"Browse options\" [disabled]=\"formControl.disabled\"\r\n          (click)=\"onShowDialog()\">\r\n          <forge-icon name=\"more_horiz\"></forge-icon>\r\n        </button>\r\n      </forge-icon-button>\r\n      @if (showError) {\r\n        <span slot=\"helper-text\">\r\n          <formly-validation-message [field]=\"field\"></formly-validation-message>\r\n        </span>\r\n      }\r\n    </forge-text-field>\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    // forge-text-field {\r\n    //   --forge-text-field-height: 2rem;\r\n    // }\r\n  `],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormlyModule,\r\n    ForgeIconButtonModule,\r\n    ForgeIconModule,\r\n    ForgeTextFieldModule\r\n  ],\r\n  standalone: true,\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class InputHelpTypeComponent extends FieldType<FieldTypeConfig> implements OnInit, OnDestroy {\r\n  private dialogService = inject(DialogService);\r\n  private moduleService = inject(FormlyDemoService);\r\n\r\n  private unsubscribe = new Subject<void>();\r\n\r\n  public ngOnInit() {\r\n    this.formControl.addAsyncValidators((control: AbstractControl) => {\r\n      this.unsubscribe.next();\r\n      this.unsubscribe.complete();\r\n\r\n      if (control.pristine) {\r\n        return of(null);\r\n      }\r\n\r\n      return this.moduleService.validateField(this.field.key as string, control.value).pipe(\r\n        takeUntil(this.unsubscribe),\r\n        map(r => {\r\n          return r.invalid ? { server: { message: r.message } } : null;\r\n        })\r\n      );\r\n    });\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n\r\n  public onShowDialog() {\r\n    const dialogRef = this.dialogService.show(FieldHelpDialogComponent, { fullscreen: true }, {\r\n      data: {\r\n        columnConfigurations: (this.props.options as { label: string; property: string }[]).map(o => ({\r\n          header: o.label,\r\n          property: o.property,\r\n          sortable: true,\r\n          filter: true,\r\n          filterDelegate: new TextFieldComponentDelegate()\r\n        })),\r\n        dataObservable: (param: IFilterParameter) => this.moduleService.getFieldHelp(this.key as string, param),\r\n        key: this.props['optionsKey'],\r\n        title: `Select a ${this.props.label}`,\r\n      }\r\n    });\r\n\r\n    const dialogSub = dialogRef.afterClosed.subscribe(result => {\r\n      dialogSub.unsubscribe();\r\n      if (result) {\r\n        this.formControl.setValue(result);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\r\n\r\n@Component({\r\n  selector: 'app-formly-label',\r\n  template: `\r\n  <label [attr.for]=\"id\" class=\"forge-typography--body2\">{{props.label}}</label>\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: block;\r\n    }\r\n  `],\r\n  imports: [\r\n    CommonModule,\r\n    FormlyModule,\r\n  ],\r\n  standalone: true\r\n})\r\nexport class LabelTypeComponent extends FieldType<FieldTypeConfig> {\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, Component } from '@angular/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\r\nimport { ForgeRadioModule } from '@tylertech/forge-angular';\r\n\r\n@Component({\r\n  selector: 'app-formly-radio',\r\n  template: `\r\n    @if (props.label) {\r\n      <label [attr.for]=\"id\" slot=\"label\">{{props.label}}</label>\r\n    }\r\n    <div role=\"radiogroup\">\r\n      @for (option of $any(props.options); track i; let i = $index) {\r\n        <forge-radio>\r\n          <input\r\n            type=\"radio\"\r\n            [id]=\"id + '-' + i\"\r\n            [value]=\"option.value\"\r\n            [formControl]=\"formControl\"\r\n            [formlyAttributes]=\"field\" />\r\n          @if (option.label) {\r\n            <label [for]=\"id + '-' + i\">{{option.label}}</label>\r\n          }\r\n        </forge-radio>\r\n      }\r\n    </div>\r\n    @if (showError) {\r\n      <div class=\"forge-typography--caption\">\r\n        <formly-validation-message [field]=\"field\"></formly-validation-message>\r\n      </div>\r\n    }\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    [role='radiogroup'] {\r\n      margin-left: -8px;\r\n      display: flex;\r\n      column-gap: 16px;\r\n      flex-direction: column;\r\n    }\r\n\r\n    forge-radio {\r\n      &::part(container) {\r\n        padding: 4px;\r\n      }\r\n    }\r\n\r\n    .forge-typography--caption {\r\n      color: var(--forge-theme-danger);\r\n    }\r\n  `],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormlyModule,\r\n    ForgeRadioModule\r\n  ],\r\n  standalone: true,\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class RadioTypeComponent extends FieldType<FieldTypeConfig> {\r\n  // @HostBinding('attr.role')\r\n  // public roleAttribute = 'radiogroup';\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, CUSTOM_ELEMENTS_SCHEMA, inject, OnDestroy, OnInit } from '@angular/core';\r\nimport { AbstractControl, ReactiveFormsModule } from '@angular/forms';\r\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\r\nimport { ForgeSelectModule } from '@tylertech/forge-angular';\r\nimport { finalize, map, of, Subject, takeUntil } from 'rxjs';\r\nimport { FormlyDemoService } from '../formly-demo.service';\r\n\r\n@Component({\r\n  selector: 'app-formly-select',\r\n  template: `\r\n    <forge-select\r\n      [id]=\"id\"\r\n      [options]=\"$any(props.options)\"\r\n      [label]=\"$any(props.label)\"\r\n      [placeholder]=\"$any(props.placeholder)\"\r\n      [invalid]=\"showError\"\r\n      [formControl]=\"formControl\"\r\n      [formlyAttributes]=\"field\">\r\n      @if (showError) {\r\n        <span slot=\"helper-text\">\r\n          <formly-validation-message [field]=\"field\"></formly-validation-message>\r\n        </span>\r\n      }\r\n    </forge-select>\r\n  `,\r\n  styles: [`\r\n  :host {\r\n    display: block;\r\n  }\r\n\r\n  // forge-select {\r\n  //   --forge-select-height: 2rem;\r\n  // }\r\n`],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormlyModule,\r\n    ForgeSelectModule\r\n  ],\r\n  standalone: true,\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class SelectTypeComponent extends FieldType<FieldTypeConfig> implements OnInit, OnDestroy {\r\n  private moduleService = inject(FormlyDemoService);\r\n\r\n  private unsubscribe = new Subject<void>();\r\n\r\n  public ngOnInit() {\r\n    this.formControl.addAsyncValidators((control: AbstractControl) => {\r\n      this.unsubscribe.next();\r\n      this.unsubscribe.complete();\r\n\r\n      if (control.pristine) {\r\n        return of(null);\r\n      }\r\n\r\n      return this.moduleService.validateField(this.field.key as string, control.value).pipe(\r\n        takeUntil(this.unsubscribe),\r\n        map(r => {\r\n          return r.invalid ? { server: { message: r.message } } : null;\r\n        })\r\n      );\r\n    });\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n}\r\n","import { FormlyExtension } from '@ngx-formly/core';\r\n\r\nexport const formlyFieldExtension: FormlyExtension = {\r\n  prePopulate(field) {\r\n    // TODO\r\n    switch (field.type) {\r\n      case 'date-picker':\r\n      case 'input':\r\n      case 'select':\r\n      case 'textarea': {\r\n        // field.modelOptions = {\r\n        //   updateOn: 'blur'\r\n        // }\r\n      }\r\n    }\r\n  }\r\n};","import { CommonModule } from '@angular/common';\r\nimport { Component } from '@angular/core';\r\nimport { FieldType, FieldTypeConfig } from '@ngx-formly/core';\r\nimport { ForgeButtonModule } from '@tylertech/forge-angular';\r\n\r\n@Component({\r\n  selector: 'app-formly-button',\r\n  template: `\r\n    <forge-button type=\"raised\">\r\n      <button type=\"button\" (click)=\"onClick($event)\">\r\n        {{props.label}}\r\n      </button>\r\n    </forge-button>\r\n  `,\r\n  imports: [\r\n    CommonModule,\r\n    ForgeButtonModule\r\n  ],\r\n  standalone: true\r\n})\r\nexport class ButtonTypeComponent extends FieldType<FieldTypeConfig> {\r\n\r\n  public onClick(event: MouseEvent) {\r\n    console.log(event);\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { OnInit, ViewChild } from '@angular/core';\r\nimport { ElementRef } from '@angular/core';\r\nimport { Component, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { FieldType, FormlyModule } from '@ngx-formly/core';\r\n\r\nimport { FormlyFieldComponent } from './formly-field.component';\r\nimport { FormlyFieldDirective } from './formly-field.directive';\r\n\r\n@Component({\r\n  selector: 'app-formly-container',\r\n  template: `\r\n    @if (props.label) {\r\n      <div class=\"label\">{{props.label}}</div>\r\n    }\r\n\r\n    <div #fieldContainer>\r\n      @for (f of field.fieldGroup; track i; let i = $index) {\r\n        <formly-field #formlyField [field]=\"f\" [formlyFieldDirective]=\"formlyField\"></formly-field>\r\n      }\r\n    </div>\r\n  `,\r\n  styles: [`\r\n  :host {\r\n    display: inline-block;\r\n  }\r\n\r\n  ::ng-deep {\r\n    .form-grid {\r\n      display: grid;\r\n      gap: 16px;\r\n    }\r\n\r\n    .form-vbox {\r\n      display: flex;\r\n      flex-direction: column;\r\n      row-gap: 16px;\r\n    }\r\n\r\n    .form-hbox {\r\n      display: flex;\r\n      flex-direction: row;\r\n      column-gap: 16px;\r\n    }\r\n\r\n    .form-group {\r\n      display: flex;\r\n      flex-direction: column;\r\n      row-gap: 16px;\r\n      border: 1px solid #e6e6e6;\r\n      border-radius: 4px;\r\n      padding: 16px;\r\n    }\r\n  }\r\n\r\n  .label {\r\n    padding: 8px;\r\n  }\r\n`],\r\n  imports: [\r\n    CommonModule,\r\n    FormlyModule,\r\n    FormlyFieldDirective,\r\n    FormlyFieldComponent\r\n  ],\r\n  standalone: true,\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class ContainerTypeComponent extends FieldType implements OnInit {\r\n  @ViewChild('fieldContainer', { static: true })\r\n  private fieldContainer?: ElementRef;\r\n\r\n  public ngOnInit() {\r\n    const fieldContainerElement = this.fieldContainer?.nativeElement as HTMLElement;\r\n    switch (this.field.props?.type) {\r\n      case 'grid':\r\n        fieldContainerElement.classList.add('form-grid');\r\n        if (this.props.attributes!['columns']) {\r\n          fieldContainerElement.style.gridTemplateColumns = `repeat(${this.props.attributes!['columns']}, auto)`\r\n        }\r\n        break;\r\n      case 'vbox':\r\n        fieldContainerElement.classList.add('form-vbox');\r\n        break;\r\n      case 'hbox':\r\n        fieldContainerElement.classList.add('form-hbox');\r\n        break;\r\n      case 'group':\r\n        fieldContainerElement.classList.add('form-group');\r\n        break;\r\n    }\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { AbstractControl, ReactiveFormsModule } from '@angular/forms';\r\nimport { finalize, map, of, Subject, takeUntil } from 'rxjs';\r\nimport { FieldType, FieldTypeConfig, FormlyModule } from '@ngx-formly/core';\r\nimport { ForgeTextFieldModule } from '@tylertech/forge-angular';\r\n\r\nimport { FormlyDemoService } from '../formly-demo.service';\r\n\r\n@Component({\r\n  selector: 'app-formly-input',\r\n  template: `\r\n    <forge-text-field [required]=\"props.required\" [invalid]=\"showError\">\r\n      <input\r\n        #input\r\n        [id]=\"id\"\r\n        [type]=\"inputType\"\r\n        [placeholder]=\"props.placeholder\"\r\n        [readonly]=\"props.readonly\"\r\n        [formControl]=\"formControl\"\r\n        [formlyAttributes]=\"field\" />\r\n      @if (props.label) {\r\n        <label [attr.for]=\"id\" slot=\"label\">{{props.label}}</label>\r\n      }\r\n      @if (showError) {\r\n        <span slot=\"helper-text\">\r\n          <formly-validation-message [field]=\"field\"></formly-validation-message>\r\n        </span>\r\n      }\r\n    </forge-text-field>\r\n  `,\r\n  styles: [`\r\n    :host {\r\n      display: block;\r\n    }\r\n\r\n    // forge-text-field {\r\n    //   --forge-text-field-height: 2rem;\r\n    // }\r\n\r\n    input[type='number']::-webkit-outer-spin-button,\r\n    input[type='number']::-webkit-inner-spin-button {\r\n      -webkit-appearance: none;\r\n      margin: 0;\r\n    }\r\n  `],\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormlyModule,\r\n    ForgeTextFieldModule\r\n  ],\r\n  standalone: true,\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class InputTypeComponent extends FieldType<FieldTypeConfig> implements OnInit, OnDestroy {\r\n  private unsubscribe = new Subject<void>();\r\n  @ViewChild('input', { static: true })\r\n  private inputElement?: ElementRef;\r\n\r\n  public inputType = 'text';\r\n\r\n  constructor(\r\n    private moduleService: FormlyDemoService\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  public ngOnInit() {\r\n    this.inputType = this.props?.type || 'text';\r\n\r\n    this.formControl.addAsyncValidators((control: AbstractControl) => {\r\n      this.unsubscribe.next();\r\n      this.unsubscribe.complete();\r\n\r\n      if (control.pristine) {\r\n        return of(null);\r\n      }\r\n\r\n      // (this.inputElement.nativeElement as HTMLInputElement).disabled = true;\r\n      return this.moduleService.validateField(this.field.key as string, control.value).pipe(\r\n        // finalize(() => (this.inputElement.nativeElement as HTMLInputElement).disabled = false),\r\n        takeUntil(this.unsubscribe),\r\n        map(r => {\r\n          return r.invalid ? { server: { message: r.message } } : null;\r\n        })\r\n      );\r\n    });\r\n  }\r\n\r\n  public ngOnDestroy() {\r\n    this.unsubscribe.next();\r\n    this.unsubscribe.complete();\r\n  }\r\n}\r\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { FormlyModule } from '@ngx-formly/core';\r\n\r\nimport { GroupTypeComponent } from './group-type.component';\r\nimport { CheckboxTypeComponent } from './checkbox-type.component';\r\nimport { DatePickerTypeComponent } from './date-picker-type.component';\r\nimport { TextareaTypeComponent } from './textarea-type.component';\r\nimport { TabTypeComponent } from './tab-type.component';\r\nimport { TableTypeComponent } from './table-type.component';\r\nimport { InputHelpTypeComponent } from './input-help-type.component';\r\nimport { LabelTypeComponent } from './label-type.component';\r\nimport { RadioTypeComponent } from './radio-type.component';\r\nimport { SelectTypeComponent } from './select-type.component';\r\nimport { formlyFieldExtension } from './formly-field.extension';\r\nimport { ButtonTypeComponent } from './button-type.component';\r\nimport { ContainerTypeComponent } from './container-type.component';\r\nimport { InputTypeComponent } from './input-type.component';\r\nimport { FormlyFieldDirective } from './formly-field.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    FormlyModule.forRoot({\r\n      extensions: [\r\n        { name: 'formly-field-extension', extension: formlyFieldExtension }\r\n      ],\r\n      types: [\r\n        { name: 'checkbox', component: CheckboxTypeComponent },\r\n        { name: 'date-picker', component: DatePickerTypeComponent },\r\n        { name: 'input', component: InputTypeComponent },\r\n        { name: 'input-help', component: InputHelpTypeComponent },\r\n        { name: 'radio', component: RadioTypeComponent },\r\n        { name: 'select', component: SelectTypeComponent },\r\n        { name: 'textarea', component: TextareaTypeComponent },\r\n        { name: 'button', component: ButtonTypeComponent },\r\n        { name: 'container', component: ContainerTypeComponent },\r\n        { name: 'formly-group', component: GroupTypeComponent },\r\n        { name: 'tab', component: TabTypeComponent },\r\n        { name: 'table', component: TableTypeComponent },\r\n        { name: 'label', component: LabelTypeComponent }\r\n      ],\r\n      // wrappers: [\r\n      //   { name: 'container', component: ContainerWrapperComponent }\r\n      // ]\r\n    }),\r\n    FormlyFieldDirective\r\n  ],\r\n  exports: [\r\n    FormlyModule\r\n  ]\r\n})\r\nexport class FormlyConfigModule { }","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { FormlyDemoComponent } from './formly-demo.component';\r\nimport { FormlyDemoService } from './formly-demo.service';\r\nimport { FormlyFieldComponent } from './components/formly-field.component';\r\nimport { FormlyConfigModule } from './components/formly-config.module';\r\n\r\nconst routes: Routes = [\r\n  { path: '**', component: FormlyDemoComponent }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FormlyDemoComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    ReactiveFormsModule,\r\n    FormlyConfigModule,\r\n    FormlyFieldComponent\r\n  ],\r\n  exports: [\r\n    RouterModule\r\n  ],\r\n  providers: [\r\n    FormlyDemoService\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class FormlyDemoModule { }\r\n","import { mergeAll } from '../operators/mergeAll';\nimport { innerFrom } from './innerFrom';\nimport { EMPTY } from './empty';\nimport { popNumber, popScheduler } from '../util/args';\nimport { from } from './from';\nexport function merge(...args) {\n    const scheduler = popScheduler(args);\n    const concurrent = popNumber(args, Infinity);\n    const sources = args;\n    return !sources.length\n        ?\n            EMPTY\n        : sources.length === 1\n            ?\n                innerFrom(sources[0])\n            :\n                mergeAll(concurrent)(from(sources, scheduler));\n}\n","import { Observable } from '../Observable';\nimport { async as asyncScheduler } from '../scheduler/async';\nimport { isScheduler } from '../util/isScheduler';\nimport { isValidDate } from '../util/isDate';\nexport function timer(dueTime = 0, intervalOrScheduler, scheduler = asyncScheduler) {\n    let intervalDuration = -1;\n    if (intervalOrScheduler != null) {\n        if (isScheduler(intervalOrScheduler)) {\n            scheduler = intervalOrScheduler;\n        }\n        else {\n            intervalDuration = intervalOrScheduler;\n        }\n    }\n    return new Observable((subscriber) => {\n        let due = isValidDate(dueTime) ? +dueTime - scheduler.now() : dueTime;\n        if (due < 0) {\n            due = 0;\n        }\n        let n = 0;\n        return scheduler.schedule(function () {\n            if (!subscriber.closed) {\n                subscriber.next(n++);\n                if (0 <= intervalDuration) {\n                    this.schedule(undefined, intervalDuration);\n                }\n                else {\n                    subscriber.complete();\n                }\n            }\n        }, due);\n    });\n}\n","export function isValidDate(value) {\n    return value instanceof Date && !isNaN(value);\n}\n","import { asyncScheduler } from '../scheduler/async';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function debounceTime(dueTime, scheduler = asyncScheduler) {\n    return operate((source, subscriber) => {\n        let activeTask = null;\n        let lastValue = null;\n        let lastTime = null;\n        const emit = () => {\n            if (activeTask) {\n                activeTask.unsubscribe();\n                activeTask = null;\n                const value = lastValue;\n                lastValue = null;\n                subscriber.next(value);\n            }\n        };\n        function emitWhenIdle() {\n            const targetTime = lastTime + dueTime;\n            const now = scheduler.now();\n            if (now < targetTime) {\n                activeTask = this.schedule(undefined, targetTime - now);\n                subscriber.add(activeTask);\n                return;\n            }\n            emit();\n        }\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            lastValue = value;\n            lastTime = scheduler.now();\n            if (!activeTask) {\n                activeTask = scheduler.schedule(emitWhenIdle, dueTime);\n                subscriber.add(activeTask);\n            }\n        }, () => {\n            emit();\n            subscriber.complete();\n        }, undefined, () => {\n            lastValue = activeTask = null;\n        }));\n    });\n}\n","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector = identity) {\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate((source, subscriber) => {\n        let previousKey;\n        let first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n","import { Subscription } from '../Subscription';\nexport class Action extends Subscription {\n    constructor(scheduler, work) {\n        super();\n    }\n    schedule(state, delay = 0) {\n        return this;\n    }\n}\n","export const intervalProvider = {\n    setInterval(handler, timeout, ...args) {\n        const { delegate } = intervalProvider;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) {\n            return delegate.setInterval(handler, timeout, ...args);\n        }\n        return setInterval(handler, timeout, ...args);\n    },\n    clearInterval(handle) {\n        const { delegate } = intervalProvider;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n    },\n    delegate: undefined,\n};\n","import { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nexport class AsyncAction extends Action {\n    constructor(scheduler, work) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    schedule(state, delay = 0) {\n        var _a;\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        const id = this.id;\n        const scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = (_a = this.id) !== null && _a !== void 0 ? _a : this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    }\n    requestAsyncId(scheduler, _id, delay = 0) {\n        return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    }\n    recycleAsyncId(_scheduler, id, delay = 0) {\n        if (delay != null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        if (id != null) {\n            intervalProvider.clearInterval(id);\n        }\n        return undefined;\n    }\n    execute(state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        const error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    }\n    _execute(state, _delay) {\n        let errored = false;\n        let errorValue;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = e ? e : new Error('Scheduled action threw falsy error');\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            const { id, scheduler } = this;\n            const { actions } = scheduler;\n            this.work = this.state = this.scheduler = null;\n            this.pending = false;\n            arrRemove(actions, this);\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n            super.unsubscribe();\n        }\n    }\n}\n","import { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nexport class Scheduler {\n    constructor(schedulerActionCtor, now = Scheduler.now) {\n        this.schedulerActionCtor = schedulerActionCtor;\n        this.now = now;\n    }\n    schedule(work, delay = 0, state) {\n        return new this.schedulerActionCtor(this, work).schedule(state, delay);\n    }\n}\nScheduler.now = dateTimestampProvider.now;\n","import { Scheduler } from '../Scheduler';\nexport class AsyncScheduler extends Scheduler {\n    constructor(SchedulerAction, now = Scheduler.now) {\n        super(SchedulerAction, now);\n        this.actions = [];\n        this._active = false;\n    }\n    flush(action) {\n        const { actions } = this;\n        if (this._active) {\n            actions.push(action);\n            return;\n        }\n        let error;\n        this._active = true;\n        do {\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        } while ((action = actions.shift()));\n        this._active = false;\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport const asyncScheduler = new AsyncScheduler(AsyncAction);\nexport const async = asyncScheduler;\n","export const dateTimestampProvider = {\n    now() {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n"],"x_google_ignoreList":[2,25,26,27,28,29,30,31,32,33,34,35,36]}