{"version":3,"file":"486.5e1942c37b4d089d.js","mappings":"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","names":["c","_x","_c","apply","this","arguments","_asyncToGenerator","e","t","a","load","o","s","itemUrl","start","n","num","sortOrder","u","sortField","i","l","query","token","apiKey","signal","r","p","portal","request","total","nextStart","resources","map","created","size","resource","Date","resourceFromPath","_x2","_x3","_x4","_x5","_u","hasPath","portalItem","userItemUrl","d","path","m","h","f","FormData","append","compress","access","method","body","_x6","_x7","_x8","_i","_x9","_x10","_l","deleteAll","lastIndexOf","slice","length","_x11","_h","Blob","url","responseType","data","w"],"sourceRoot":"webpack:///","sources":["./node_modules/@arcgis/core/portal/support/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{get as r,isSome as a,isNone as o}from\"../../core/maybe.js\";import{join as s,getPathExtension as n}from\"../../core/urlUtils.js\";async function c(e,t={},a){await e.load(a);const o=s(e.itemUrl,\"resources\"),{start:n=1,num:c=10,sortOrder:u=\"asc\",sortField:i=\"created\"}=t,l={query:{start:n,num:c,sortOrder:u,sortField:i,token:e.apiKey},signal:r(a,\"signal\")},p=await e.portal.request(o,l);return{total:p.total,nextStart:p.nextStart,resources:p.resources.map((({created:t,size:r,resource:a})=>({created:new Date(t),size:r,resource:e.resourceFromPath(a)})))}}async function u(e,o,n,c){if(!e.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const u=e.portalItem;await u.load(c);const i=s(u.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\"),[l,d]=p(e.path),m=await h(n),f=new FormData;return l&&\".\"!==l&&f.append(\"resourcesPrefix\",l),a(c)&&c.compress&&f.append(\"compress\",\"true\"),f.append(\"fileName\",d),f.append(\"file\",m,d),f.append(\"f\",\"json\"),a(c)&&c.access&&f.append(\"access\",c.access),await u.portal.request(i,{method:\"post\",body:f,signal:r(c,\"signal\")}),e}async function i(e,a,o){if(!a.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const n=s(e.userItemUrl,\"removeResources\");await e.portal.request(n,{method:\"post\",query:{resource:a.path},signal:r(o,\"signal\")}),a.portalItem=null}async function l(e,t){await e.load(t);const a=s(e.userItemUrl,\"removeResources\");return e.portal.request(a,{method:\"post\",query:{deleteAll:!0},signal:r(t,\"signal\")})}function p(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function d(e){const[t,r]=m(e),[a,o]=p(t);return[a,o,r]}function m(e){const t=n(e);return o(t)?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function h(t){if(t instanceof Blob)return t;return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}function w(e,t){if(!e.hasPath())return null;const[r,,a]=d(e.path);return e.portalItem.resourceFromPath(s(r,t+a))}export{u as addOrUpdateResource,h as contentToBlob,c as fetchResources,f as getSiblingOfSameType,w as getSiblingOfSameTypeI,l as removeAllResources,i as removeResource,d as splitPrefixFileNameAndExtension};\n"],"x_google_ignoreList":[0]}