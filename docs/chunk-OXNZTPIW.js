import{a as I,b as O,c as E,d as N,e as Y,h as We,i as Be,j as Ge,k as ze,l as ge,m as Xe,n as Ke,o as ke}from"./chunk-IJTEU5B7.js";import{c as Ae,d as Fe,e as Qe,f as d,g as w}from"./chunk-PSWJZLWW.js";import{Ya as be,ib as Ce,j as Le,jb as Ve}from"./chunk-LAD3HRCK.js";import{$a as ve,Ca as Ne,Ga as Ye,Nb as He,ba as Me,ca as Ee,fa as Ie,ha as k,hc as qe,ib as Re,nb as ye,za as Oe}from"./chunk-BPFPFXGP.js";function je(){return Object.assign({},O())}function Ze(o,e){let r=it(e)?new e(0):d(e,0);return r.setFullYear(o.getFullYear(),o.getMonth(),o.getDate()),r.setHours(o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()),r}function it(o){return typeof o=="function"&&o.prototype?.constructor===o}var st=10,v=class{subPriority=0;validate(e,r){return!0}},R=class extends v{constructor(e,r,t,i,n){super(),this.value=e,this.validateValue=r,this.setValue=t,this.priority=i,n&&(this.subPriority=n)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,t){return this.setValue(e,r,this.value,t)}},H=class extends v{priority=st;subPriority=-1;constructor(e,r){super(),this.context=e||(t=>d(r,t))}set(e,r){return r.timestampIsSet?e:d(e,Ze(e,this.context))}};var s=class{run(e,r,t,i){let n=this.parse(e,r,t,i);return n?{setter:new R(n.value,this.validate,this.set,this.priority,this.subPriority),rest:n.rest}:null}validate(e,r,t){return!0}};var q=class extends s{priority=140;parse(e,r,t){switch(r){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})||t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"})}}set(e,r,t){return r.era=t,e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]};var c={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},x={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function p(o,e){return o&&{value:e(o.value),rest:o.rest}}function u(o,e){let r=e.match(o);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function y(o,e){let r=e.match(o);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};let t=r[1]==="+"?1:-1,i=r[2]?parseInt(r[2],10):0,n=r[3]?parseInt(r[3],10):0,f=r[5]?parseInt(r[5],10):0;return{value:t*(i*Fe+n*Ae+f*Qe),rest:e.slice(r[0].length)}}function L(o){return u(c.anyDigitsSigned,o)}function a(o,e){switch(o){case 1:return u(c.singleDigit,e);case 2:return u(c.twoDigits,e);case 3:return u(c.threeDigits,e);case 4:return u(c.fourDigits,e);default:return u(new RegExp("^\\d{1,"+o+"}"),e)}}function P(o,e){switch(o){case 1:return u(c.singleDigitSigned,e);case 2:return u(c.twoDigitsSigned,e);case 3:return u(c.threeDigitsSigned,e);case 4:return u(c.fourDigitsSigned,e);default:return u(new RegExp("^-?\\d{1,"+o+"}"),e)}}function T(o){switch(o){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function C(o,e){let r=e>0,t=r?e:1-e,i;if(t<=50)i=o||100;else{let n=t+50,f=Math.trunc(n/100)*100,h=o>=n%100;i=o+f-(h?100:0)}return r?i:1-i}function V(o){return o%400===0||o%4===0&&o%100!==0}var A=class extends s{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,r,t){let i=n=>({year:n,isTwoDigitYear:r==="yy"});switch(r){case"y":return p(a(4,e),i);case"yo":return p(t.ordinalNumber(e,{unit:"year"}),i);default:return p(a(r.length,e),i)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t){let i=e.getFullYear();if(t.isTwoDigitYear){let f=C(t.year,i);return e.setFullYear(f,0,1),e.setHours(0,0,0,0),e}let n=!("era"in r)||r.era===1?t.year:1-t.year;return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}};var F=class extends s{priority=130;parse(e,r,t){let i=n=>({year:n,isTwoDigitYear:r==="YY"});switch(r){case"Y":return p(a(4,e),i);case"Yo":return p(t.ordinalNumber(e,{unit:"year"}),i);default:return p(a(r.length,e),i)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t,i){let n=Ge(e,i);if(t.isTwoDigitYear){let h=C(t.year,n);return e.setFullYear(h,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),E(e,i)}let f=!("era"in r)||r.era===1?t.year:1-t.year;return e.setFullYear(f,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),E(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]};var Q=class extends s{priority=130;parse(e,r){return r==="R"?P(4,e):P(r.length,e)}set(e,r,t){let i=d(e,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),N(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]};var W=class extends s{priority=130;parse(e,r){return r==="u"?P(4,e):P(r.length,e)}set(e,r,t){return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]};var B=class extends s{priority=120;parse(e,r,t){switch(r){case"Q":case"QQ":return a(r.length,e);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})||t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=1&&r<=4}set(e,r,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]};var G=class extends s{priority=120;parse(e,r,t){switch(r){case"q":case"qq":return a(r.length,e);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})||t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=1&&r<=4}set(e,r,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]};var z=class extends s{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,r,t){let i=n=>n-1;switch(r){case"M":return p(u(c.month,e),i);case"MM":return p(a(2,e),i);case"Mo":return p(t.ordinalNumber(e,{unit:"month"}),i);case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})||t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}};var X=class extends s{priority=110;parse(e,r,t){let i=n=>n-1;switch(r){case"L":return p(u(c.month,e),i);case"LL":return p(a(2,e),i);case"Lo":return p(t.ordinalNumber(e,{unit:"month"}),i);case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})||t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]};function Ue(o,e,r){let t=w(o,r?.in),i=ze(t,r)-e;return t.setDate(t.getDate()-i*7),w(t,r?.in)}var K=class extends s{priority=100;parse(e,r,t){switch(r){case"w":return u(c.week,e);case"wo":return t.ordinalNumber(e,{unit:"week"});default:return a(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,t,i){return E(Ue(e,t,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]};function $e(o,e,r){let t=w(o,r?.in),i=Be(t,r)-e;return t.setDate(t.getDate()-i*7),t}var j=class extends s{priority=100;parse(e,r,t){switch(r){case"I":return u(c.week,e);case"Io":return t.ordinalNumber(e,{unit:"week"});default:return a(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,t){return N($e(e,t))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]};var nt=[31,28,31,30,31,30,31,31,30,31,30,31],at=[31,29,31,30,31,30,31,31,30,31,30,31],Z=class extends s{priority=90;subPriority=1;parse(e,r,t){switch(r){case"d":return u(c.date,e);case"do":return t.ordinalNumber(e,{unit:"date"});default:return a(r.length,e)}}validate(e,r){let t=e.getFullYear(),i=V(t),n=e.getMonth();return i?r>=1&&r<=at[n]:r>=1&&r<=nt[n]}set(e,r,t){return e.setDate(t),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]};var U=class extends s{priority=90;subpriority=1;parse(e,r,t){switch(r){case"D":case"DD":return u(c.dayOfYear,e);case"Do":return t.ordinalNumber(e,{unit:"date"});default:return a(r.length,e)}}validate(e,r){let t=e.getFullYear();return V(t)?r>=1&&r<=366:r>=1&&r<=365}set(e,r,t){return e.setMonth(0,t),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]};function _(o,e,r){let t=O(),i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,n=w(o,r?.in),f=n.getDay(),he=(e%7+7)%7,g=7-i,M=e<0||e>6?e-(f+g)%7:(he+g)%7-(f+g)%7;return I(n,M,r)}var $=class extends s{priority=90;parse(e,r,t){switch(r){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,i){return e=_(e,t,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]};var J=class extends s{priority=90;parse(e,r,t,i){let n=f=>{let h=Math.floor((f-1)/7)*7;return(f+i.weekStartsOn+6)%7+h};switch(r){case"e":case"ee":return p(a(r.length,e),n);case"eo":return p(t.ordinalNumber(e,{unit:"day"}),n);case"eee":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeeee":return t.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,i){return e=_(e,t,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]};var S=class extends s{priority=90;parse(e,r,t,i){let n=f=>{let h=Math.floor((f-1)/7)*7;return(f+i.weekStartsOn+6)%7+h};switch(r){case"c":case"cc":return p(a(r.length,e),n);case"co":return p(t.ordinalNumber(e,{unit:"day"}),n);case"ccc":return t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"ccccc":return t.day(e,{width:"narrow",context:"standalone"});case"cccccc":return t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return t.day(e,{width:"wide",context:"standalone"})||t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,i){return e=_(e,t,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]};function Je(o,e){let r=w(o,e?.in).getDay();return r===0?7:r}function Se(o,e,r){let t=w(o,r?.in),i=Je(t,r),n=e-i;return I(t,n,r)}var ee=class extends s{priority=90;parse(e,r,t){let i=n=>n===0?7:n;switch(r){case"i":case"ii":return a(r.length,e);case"io":return t.ordinalNumber(e,{unit:"day"});case"iii":return p(t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return p(t.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return p(t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),i);case"iiii":default:return p(t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,r){return r>=1&&r<=7}set(e,r,t){return e=Se(e,t),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]};var te=class extends s{priority=80;parse(e,r,t){switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(T(t),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]};var re=class extends s{priority=80;parse(e,r,t){switch(r){case"b":case"bb":case"bbb":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(T(t),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]};var oe=class extends s{priority=80;parse(e,r,t){switch(r){case"B":case"BB":case"BBB":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(T(t),0,0,0),e}incompatibleTokens=["a","b","t","T"]};var ie=class extends s{priority=70;parse(e,r,t){switch(r){case"h":return u(c.hour12h,e);case"ho":return t.ordinalNumber(e,{unit:"hour"});default:return a(r.length,e)}}validate(e,r){return r>=1&&r<=12}set(e,r,t){let i=e.getHours()>=12;return i&&t<12?e.setHours(t+12,0,0,0):!i&&t===12?e.setHours(0,0,0,0):e.setHours(t,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]};var se=class extends s{priority=70;parse(e,r,t){switch(r){case"H":return u(c.hour23h,e);case"Ho":return t.ordinalNumber(e,{unit:"hour"});default:return a(r.length,e)}}validate(e,r){return r>=0&&r<=23}set(e,r,t){return e.setHours(t,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]};var ne=class extends s{priority=70;parse(e,r,t){switch(r){case"K":return u(c.hour11h,e);case"Ko":return t.ordinalNumber(e,{unit:"hour"});default:return a(r.length,e)}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.getHours()>=12&&t<12?e.setHours(t+12,0,0,0):e.setHours(t,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]};var ae=class extends s{priority=70;parse(e,r,t){switch(r){case"k":return u(c.hour24h,e);case"ko":return t.ordinalNumber(e,{unit:"hour"});default:return a(r.length,e)}}validate(e,r){return r>=1&&r<=24}set(e,r,t){let i=t<=24?t%24:t;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]};var ue=class extends s{priority=60;parse(e,r,t){switch(r){case"m":return u(c.minute,e);case"mo":return t.ordinalNumber(e,{unit:"minute"});default:return a(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,t){return e.setMinutes(t,0,0),e}incompatibleTokens=["t","T"]};var ce=class extends s{priority=50;parse(e,r,t){switch(r){case"s":return u(c.second,e);case"so":return t.ordinalNumber(e,{unit:"second"});default:return a(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,t){return e.setSeconds(t,0),e}incompatibleTokens=["t","T"]};var me=class extends s{priority=30;parse(e,r){let t=i=>Math.trunc(i*Math.pow(10,-r.length+3));return p(a(r.length,e),t)}set(e,r,t){return e.setMilliseconds(t),e}incompatibleTokens=["t","T"]};var pe=class extends s{priority=10;parse(e,r){switch(r){case"X":return y(x.basicOptionalMinutes,e);case"XX":return y(x.basic,e);case"XXXX":return y(x.basicOptionalSeconds,e);case"XXXXX":return y(x.extendedOptionalSeconds,e);case"XXX":default:return y(x.extended,e)}}set(e,r,t){return r.timestampIsSet?e:d(e,e.getTime()-Y(e)-t)}incompatibleTokens=["t","T","x"]};var fe=class extends s{priority=10;parse(e,r){switch(r){case"x":return y(x.basicOptionalMinutes,e);case"xx":return y(x.basic,e);case"xxxx":return y(x.basicOptionalSeconds,e);case"xxxxx":return y(x.extendedOptionalSeconds,e);case"xxx":default:return y(x.extended,e)}}set(e,r,t){return r.timestampIsSet?e:d(e,e.getTime()-Y(e)-t)}incompatibleTokens=["t","T","X"]};var le=class extends s{priority=40;parse(e){return L(e)}set(e,r,t){return[d(e,t*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"};var de=class extends s{priority=20;parse(e){return L(e)}set(e,r,t){return[d(e,t),{timestampIsSet:!0}]}incompatibleTokens="*"};var et={G:new q,y:new A,Y:new F,R:new Q,u:new W,Q:new B,q:new G,M:new z,L:new X,w:new K,I:new j,d:new Z,D:new U,E:new $,e:new J,c:new S,i:new ee,a:new te,b:new re,B:new oe,h:new ie,H:new se,K:new ne,k:new ae,m:new ue,s:new ce,S:new me,X:new pe,x:new fe,t:new le,T:new de};var ut=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ct=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mt=/^'([^]*?)'?$/,pt=/''/g,ft=/\S/,lt=/[a-zA-Z]/;function $i(o,e,r,t){let i=()=>d(t?.in||r,NaN),n=je(),f=t?.locale??n.locale??We,h=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,he=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0;if(!e)return o?i():w(r,t?.in);let g={firstWeekContainsDate:h,weekStartsOn:he,locale:f},M=[new H(t?.in,r)],rt=e.match(ct).map(m=>{let l=m[0];if(l in ge){let b=ge[l];return b(m,f.formatLong)}return m}).join("").match(ut),we=[];for(let m of rt){!t?.useAdditionalWeekYearTokens&&Ke(m)&&ke(m,e,o),!t?.useAdditionalDayOfYearTokens&&Xe(m)&&ke(m,e,o);let l=m[0],b=et[l];if(b){let{incompatibleTokens:Pe}=b;if(Array.isArray(Pe)){let Te=we.find(_e=>Pe.includes(_e.token)||_e.token===l);if(Te)throw new RangeError(`The format string mustn't contain \`${Te.fullToken}\` and \`${m}\` at the same time`)}else if(b.incompatibleTokens==="*"&&we.length>0)throw new RangeError(`The format string mustn't contain \`${m}\` and any other token at the same time`);we.push({token:l,fullToken:m});let xe=b.run(o,m,f.match,g);if(!xe)return i();M.push(xe.setter),o=xe.rest}else{if(l.match(lt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");if(m==="''"?m="'":l==="'"&&(m=dt(m)),o.indexOf(m)===0)o=o.slice(m.length);else return i()}}if(o.length>0&&ft.test(o))return i();let ot=M.map(m=>m.priority).sort((m,l)=>l-m).filter((m,l,b)=>b.indexOf(m)===l).map(m=>M.filter(l=>l.priority===m).sort((l,b)=>b.subPriority-l.subPriority)).map(m=>m[0]),D=w(r,t?.in);if(isNaN(+D))return i();let De={};for(let m of ot){if(!m.validate(D,g))return i();let l=m.set(D,De,g);Array.isArray(l)?(D=l[0],Object.assign(De,l[1])):D=l}return D}function dt(o){return o.match(mt)[1].replace(pt,"'")}var wt=(()=>{let e=class e{create(t,i){return be(t,i)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Ee({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})(),xt=new Ie("IMASK_FACTORY",{providedIn:"root",factory:()=>k(wt)}),yt={provide:Ce,useExisting:Me(()=>bt),multi:!0},tt=o=>o.nativeElement,bt=(()=>{let e=class e{constructor(){this.onTouched=()=>{},this.onChange=()=>{},this._viewInitialized=!1,this._composing=!1,this._writing=!1,this._elementRef=k(Ne),this._renderer=k(ve),this._factory=k(xt),this._platformId=k(Ye),this._compositionMode=k(Ve,{optional:!0})??!this._isAndroid(),this.imaskElement=tt,this.accept=new ye,this.complete=new ye}get element(){return this.imaskElement(this._elementRef,this)}get maskValue(){return this.maskRef?this.unmask==="typed"?this.maskRef.typedValue:this.unmask?this.maskRef.unmaskedValue:this.maskRef.value:this.element?.value||""}set maskValue(t){this.maskRef?this.unmask==="typed"?this.maskRef.typedValue=t:this.unmask?this.maskRef.unmaskedValue=t:this.maskRef.value=t:this._renderer.setProperty(this.element,"value",t)}ngAfterViewInit(){this.imask&&this.initMask(),this._viewInitialized=!0}ngOnChanges(t){t.elementRef&&!this.imaskElement&&(this.imaskElement=tt),!(!t.imask||!this._viewInitialized)&&(this.imask?this.maskRef?this.maskRef.updateOptions(this.imask):(this.initMask(),this.onChange(this.maskValue)):this.destroyMask())}destroyMask(){this.maskRef&&(this.maskRef.destroy(),delete this.maskRef)}ngOnDestroy(){this.destroyMask(),this.accept.complete(),this.complete.complete()}beginWrite(t){this._writing=!0,this._writingValue=t}endWrite(){return this._writing=!1,this._writingValue}writeValue(t){t=t==null&&this.unmask!=="typed"?"":t,this.maskRef?(this.beginWrite(t),this.maskValue=t,this.endWrite()):(this._renderer.setProperty(this.element,"value",t),this._initialValue=t)}_onAccept(){let t=this.maskValue;this._writing&&t===this.endWrite()||(this.onChange(t),this.accept.emit(t))}_onComplete(){this.complete.emit(this.maskValue)}initMask(){this.maskRef=this._factory.create(this.element,this.imask).on("accept",this._onAccept.bind(this)).on("complete",this._onComplete.bind(this)),this._initialValue!=null&&this.writeValue(this._initialValue),delete this._initialValue}setDisabledState(t){this._renderer.setProperty(this.element,"disabled",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}_handleInput(t){this.maskRef||(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this._handleInput(t)}_isAndroid(){return Le(this._platformId)&&/android (\d+)/.test(navigator.userAgent.toLowerCase())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Re({type:e,selectors:[["","imask",""]],hostBindings:function(i,n){i&1&&He("input",function(h){return n._handleInput(h.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(h){return n._compositionEnd(h.target.value)})},inputs:{imask:"imask",unmask:"unmask",imaskElement:"imaskElement"},outputs:{accept:"accept",complete:"complete"},exportAs:["imask"],features:[qe([yt]),Oe]});let o=e;return o})();export{$i as a,bt as b};
//# sourceMappingURL=chunk-OXNZTPIW.js.map
