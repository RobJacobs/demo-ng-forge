import{h as Ni}from"./chunk-PSWJZLWW.js";import{a as Hi}from"./chunk-ZFUNNH2G.js";import{$b as pi,$c as Di,B as dt,C as Jt,Db as Pe,Fb as R,Gb as si,Lc as gi,Mc as bi,Nc as Ci,Oc as vi,Sc as Fi,Tb as ai,Tc as _i,Ub as li,Uc as xi,Vc as Ei,Wc as Ti,Xc as Mi,Yc as ki,Zc as Oi,_c as wi,bc as di,c as zt,cc as ci,cd as Si,d as Xt,dd as Ai,eb as ei,f as Yt,g as Kt,hb as ti,i as y,jc as mi,kd as Ri,lb as ce,lc as fi,ld as Ii,mc as ui,md as Pi,nb as re,nc as hi,nd as Vi,ob as ii,oc as yi,od as ji,pb as H,pd as Gi,qb as oi,qd as me,rb as ri,rd as fe,sb as se,t as Zt,tb as ae,tc as Ke,uc as Ze,vb as ni,vc as Je,wc as et,wd as Li,xb as N,xd as Bi,yb as Ye}from"./chunk-J2NQVBDA.js";import{$ as St,$b as Ut,Aa as ke,Ab as v,Ac as ze,Ba as x,Bb as z,Bc as Xe,Cb as X,Da as ne,Db as Y,Eb as c,Fb as p,Gb as d,H as Mt,Hb as u,I as rt,Ib as Bt,Jb as Ht,Lb as xe,M as kt,O as Ot,Ob as G,P as Le,Pb as g,Q as wt,Qb as Ne,R as Dt,Rb as Ue,Sb as Nt,Tb as pt,Ua as Vt,Ub as $e,Vb as qe,Wb as te,Xa as l,Xb as ie,Y as nt,Yb as de,Z as st,Za as He,_ as B,_a as Re,ab as at,ac as h,bb as V,bc as O,cc as $,d as Tt,da as Te,db as Ie,ea as Me,g as A,ga as At,ha as Ce,hb as f,ia as F,ib as Oe,ic as $t,jb as _e,kc as qt,lb as b,mb as lt,mc as Qe,na as ve,nc as We,oa as Fe,ob as jt,pa as Rt,pb as Gt,qa as It,qb as Lt,r as k,ra as Pt,rc as Qt,t as be,x as j,xc as Wt,yb as W,yc as oe,za as Be,zb as C}from"./chunk-XKIGUEIR.js";import{a as L,b as Ae,c as Et,d as Ge}from"./chunk-OY7QI42D.js";var D=(()=>{let t=class t{constructor(){this.formMessage=new A}validateField(i,r){let n={invalid:!1,message:`Error from server: ${i}`};return k(n).pipe(Le(1e3))}getFieldHelp(i,r){if(r.filters?.length)return k({count:0,data:[]}).pipe(Le(1e3));{let n=[];for(let s=r.skip;s<r.skip+r.take;s++)n.push({id:s,address:`${s} street`,city:`${s} city`,state:`${s} state`});return k({count:75,data:n}).pipe(Le(1e3))}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=Te({token:t,factory:t.\u0275fac});let o=t;return o})();var go=[{props:{label:"Container",type:"grid",attributes:{columns:2}},fieldGroup:[{key:"name",type:"input",props:{label:"Name",type:"string",format:"###-##-####",required:!0,description:"Persons name",attributes:{width:480}}},{key:"age",type:"input",props:{label:"Age",type:"number",format:"#,###,###,##&.&&",required:!0,description:"Persons age",attributes:{width:480}}}]}],bo=[{props:{label:"Container",type:"grid",attributes:{columns:2}},fieldGroup:[{key:"firstName",type:"input",defaultValue:0,props:{label:"First name",required:!0,description:"Persons first name",attributes:{width:480}}},{key:"lastName",type:"input",props:{label:"Last name",description:"Persons last name",attributes:{width:320,column:1,row:2}}},{key:"age",type:"input",defaultValue:18,props:{label:"Age",type:"number"}},{key:"isActive",type:"checkbox",props:{label:"Is active"}},{key:"birthDate",type:"date-picker",props:{label:"DOB",description:"Persons date of birth",required:!0}},{key:"gender",type:"select",props:{label:"Gender",options:[{label:"Male",value:"M"},{label:"Female",value:"F"},{label:"Other",value:"O"}]}},{key:"comment",type:"textarea",props:{label:"Comment",required:!0}},{key:"size",type:"radio",props:{label:"Size",description:"What is your size?",options:[{label:"Small",value:"sm"},{label:"Medium",value:"md"},{label:"Large",value:"lg"}],required:!0}},{key:"officeLocation",type:"input-help",props:{label:"Office location",description:"What is your office location",optionsKey:"id",options:[{label:"Address",property:"address"},{label:"City",property:"city"},{label:"State",property:"state"}]}}]},{className:"form-divider",template:'<forge-divider style="margin: 16px 0"></forge-divider>',props:{safeHtml:!0}},{props:{type:"group",label:"Address"},fieldGroup:[{props:{type:"hbox"},fieldGroup:[{key:"address.street",type:"input",props:{label:"Street"}},{key:"address.city",type:"input",props:{label:"City"}},{key:"address.state",type:"input",props:{label:"State"}}]}]},{type:"tab",fieldGroup:[{props:{label:"Tab 1"},fieldGroup:[{props:{type:"hbox"},fieldGroup:[{key:"tab.field1",type:"input",props:{label:"Field 1"}},{key:"tab.field2",type:"input",props:{label:"Field 2"}}]}]},{props:{label:"Tab 2"},fieldGroup:[{props:{type:"vbox"},fieldGroup:[{key:"tab.field3",type:"input",props:{label:"Field 3"}},{key:"tab.field4",type:"input",props:{label:"Field 4"}}]}]}]},{key:"children",type:"table",props:{columns:[{label:"First name",key:"firstName",defaultValue:null},{label:"Last name",key:"lastName",defaultValue:null}]},fieldArray:{fieldGroup:[{key:"firstName",type:"input",props:{required:!0}},{key:"lastName",type:"input"}]}}],Co=[{props:{type:"vbox"},fieldGroup:[{props:{type:"grid",attributes:{width:83,height:10}},fieldGroup:[{props:{type:"group",attributes:{posX:1,posY:1,gridWidth:83,gridHeight:6}},fieldGroup:[{type:"label",props:{label:"Year",attributes:{posX:2,posY:2,gridWidth:4}}},{key:"tax_year",type:"input",defaultValue:"2023",props:{type:"number",disabled:!0,attributes:{posX:20,posY:2,gridWidth:4,width:4}}},{key:"which_value",type:"radio",props:{description:"Value to use on report.",options:[{label:"Original full value",value:"O"},{label:"Current full value",value:"C"}],required:!0,attributes:{posX:2,posY:3,gridWidth:31,width:31}}},{type:"label",props:{label:"Minimum value",required:!0,attributes:{posX:2,posY:4,gridWidth:13}}},{key:"min_val",type:"input",props:{type:"number",required:!0,attributes:{posX:20,posY:4,gridWidth:13,width:13}}},{type:"label",props:{label:"Sort vehicles by",required:!0,attributes:{posX:2,posY:5,gridWidth:17}}},{key:"seq_sw",type:"select",props:{required:!0,options:[{label:"Sequence number",value:"S"},{label:"Owner name",value:"O"}],attributes:{posX:20,posY:5,gridWidth:17,width:15}}}]}]}]}],Ui={formDefinitionBasic:go,formDefinitionAll:bo,formDefinitionLayout:Co};var vo=["container"];function Fo(o,t){}var _o=["*"];function xo(o,t){if(o&1&&u(0,"formly-field",1),o&2){let e=t.$implicit;c("field",e)}}function Eo(o,t){let e=o._updateTreeValidity.bind(o);o._updateTreeValidity=()=>{},t(),o._updateTreeValidity=e}function To(o,t,e){if(t.id)return t.id;let i=t.type;return!i&&t.template&&(i="template"),i instanceof Be&&(i=i.prototype.constructor.name),[o,i,t.key,e].join("_")}function T(o){return!ye(o.key)&&o.key!==""&&(!Array.isArray(o.key)||o.key.length>0)}function Ee(o){if(!T(o))return[];if(o._keyPath?.key!==o.key){let t=[];if(typeof o.key=="string"){let e=o.key.indexOf("[")===-1?o.key:o.key.replace(/\[(\w+)\]/g,".$1");t=e.indexOf(".")!==-1?e.split("."):[e]}else Array.isArray(o.key)?t=o.key.slice(0):t=[`${o.key}`];S(o,"_keyPath",{key:o.key,path:t})}return o._keyPath.path.slice(0)}var Ct=["required","pattern","minLength","maxLength","min","max"];function De(o,t){let e=Ee(o);if(e.length===0)return;let i=o;for(;i.parent;)i=i.parent,e=[...Ee(i),...e];if(t===void 0&&o.resetOnHide){let r=e.pop(),n=e.reduce((s,a)=>s[a]||{},i.model);delete n[r];return}Mo(i.model,e,t)}function Mo(o,t,e){for(let i=0;i<t.length-1;i++){let r=t[i];(!o[r]||!ee(o[r]))&&(o[r]=/^\d+$/.test(t[i+1])?[]:{}),o=o[r]}o[t[t.length-1]]=K(e)}function he(o){let t=o.parent?o.parent.model:o.model;for(let e of Ee(o)){if(!t)return t;t=t[e]}return t}function we(o,...t){return t.forEach(e=>{for(let i in e)ye(o[i])||ko(o[i])?o[i]=K(e[i]):Oo(o[i],e[i])&&we(o[i],e[i])}),o}function ye(o){return o==null}function tt(o){return o===void 0}function ko(o){return o===""}function ct(o){return typeof o=="function"}function Oo(o,t){return ee(o)&&ee(t)&&Object.getPrototypeOf(o)===Object.getPrototypeOf(t)&&!(Array.isArray(o)||Array.isArray(t))}function ee(o){return o!=null&&typeof o=="object"}function wo(o){return!!o&&typeof o.then=="function"}function K(o){if(!ee(o)||be(o)||o instanceof He||o.changingThisBreaksApplicationSecurity||["RegExp","FileList","File","Blob"].indexOf(o.constructor?.name)!==-1)return o;if(o instanceof Set)return new Set(o);if(o instanceof Map)return new Map(o);if(o instanceof Uint8Array)return new Uint8Array(o);if(o instanceof Uint16Array)return new Uint16Array(o);if(o instanceof Uint32Array)return new Uint32Array(o);if(o._isAMomentObject&&ct(o.clone))return o.clone();if(o instanceof ri)return null;if(o instanceof Date)return new Date(o.getTime());if(Array.isArray(o))return o.slice(0).map(i=>K(i));let t=Object.getPrototypeOf(o),e=Object.create(t);return e=Object.setPrototypeOf(e,t),Object.keys(o).reduce((i,r)=>{let n=Object.getOwnPropertyDescriptor(o,r);return n.get?Object.defineProperty(i,r,n):i[r]=K(o[r]),i},e)}function S(o,t,e){Object.defineProperty(o,t,{enumerable:!1,writable:!0,configurable:!0}),o[t]=e}function vt(o,t,e){let i=[],r=()=>{i.forEach(s=>s()),i=[]},n=I(o,t,({firstChange:s,currentValue:a})=>{!s&&e(),r(),ee(a)&&a.constructor.name==="Object"&&Object.keys(a).forEach(m=>{i.push(vt(o,[...t,m],e))})});return()=>{n.unsubscribe(),r()}}function I(o,t,e){o._observers||S(o,"_observers",{});let i=o;for(let a=0;a<t.length-1;a++)(!i[t[a]]||!ee(i[t[a]]))&&(i[t[a]]=/^\d+$/.test(t[a+1])?[]:{}),i=i[t[a]];let r=t[t.length-1],n=t.join(".");o._observers[n]||(o._observers[n]={value:i[r],onChange:[]});let s=o._observers[n];if(i[r]!==s.value&&(s.value=i[r]),e&&s.onChange.indexOf(e)===-1&&(s.onChange.push(e),e({currentValue:s.value,firstChange:!0}),s.onChange.length>=1&&ee(i))){let{enumerable:a}=Object.getOwnPropertyDescriptor(i,r)||{enumerable:!0};Object.defineProperty(i,r,{enumerable:a,configurable:!0,get:()=>s.value,set:m=>{if(m!==s.value){let M=s.value;s.value=m,s.onChange.forEach(Q=>Q({previousValue:M,currentValue:m,firstChange:!1}))}}})}return{setValue(a,m=!0){if(a===s.value)return;let M=s.value;s.value=a,s.onChange.forEach(Q=>{Q!==e&&m&&Q({previousValue:M,currentValue:a,firstChange:!1})})},unsubscribe(){s.onChange=s.onChange.filter(a=>a!==e),s.onChange.length===0&&delete o._observers[n]}}}function Qi(o,t){if(t=Array.isArray(t)?t.join("."):t,!!o.fieldGroup)for(let e=0,i=o.fieldGroup.length;e<i;e++){let r=o.fieldGroup[e],n=Array.isArray(r.key)?r.key.join("."):r.key;if(n===t)return r;if(r.fieldGroup&&(ye(n)||t.indexOf(`${n}.`)===0)){let s=Qi(r,ye(n)?t:t.slice(n.length+1));if(s)return s}}}function mt(o){o._componentRefs?.forEach(t=>{t instanceof Re?t.injector.get(Xe).markForCheck():t.markForCheck()})}function Do(o){return o instanceof Lt}function Wi(o){let t=i=>i.hide||i.expressions?.hide||i.hideExpression,e=!o.resetOnHide||!t(o);if(!t(o)&&o.resetOnHide){let i=o.parent;for(;i&&!t(i);)i=i.parent;e=!i||!t(i)}return!e}function ot(){return+ze.major>18||+ze.major>=18&&+ze.minor>=1}var Ve=new At("FORMLY_CONFIG"),ue=(()=>{class o{constructor(){this.types={},this.validators={},this.wrappers={},this.messages={},this.extras={checkExpressionOn:"modelChange",lazyRender:!0,resetFieldOnHide:!0,renderFormlyFieldElement:!0,showError(e){return e.formControl?.invalid&&(e.formControl?.touched||e.options.parentForm?.submitted||!!e.field.validation?.show)}},this.extensions={},this.presets={},this.extensionsByPriority={}}addConfig(e){e.types&&e.types.forEach(i=>this.setType(i)),e.validators&&e.validators.forEach(i=>this.setValidator(i)),e.wrappers&&e.wrappers.forEach(i=>this.setWrapper(i)),e.validationMessages&&e.validationMessages.forEach(i=>this.addValidatorMessage(i.name,i.message)),e.extensions&&this.setSortedExtensions(e.extensions),e.extras&&(this.extras=L(L({},this.extras),e.extras)),e.presets&&(this.presets=L(L({},this.presets),e.presets.reduce((i,r)=>Ae(L({},i),{[r.name]:r.config}),{})))}setType(e){Array.isArray(e)?e.forEach(i=>this.setType(i)):(this.types[e.name]||(this.types[e.name]={name:e.name}),["component","extends","defaultOptions","wrappers"].forEach(i=>{e.hasOwnProperty(i)&&(this.types[e.name][i]=e[i])}))}getType(e,i=!1){if(e instanceof Be)return{component:e,name:e.prototype.constructor.name};if(!this.types[e]){if(i)throw new Error(`[Formly Error] The type "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return null}return this.mergeExtendedType(e),this.types[e]}getMergedField(e={}){let i=this.getType(e.type);if(!i)return;i.defaultOptions&&we(e,i.defaultOptions);let r=i.extends&&this.getType(i.extends).defaultOptions;r&&we(e,r),e?.optionsTypes&&e.optionsTypes.forEach(s=>{let a=this.getType(s).defaultOptions;a&&we(e,a)});let n=this.resolveFieldTypeRef(e);n?.instance?.defaultOptions&&we(e,n.instance.defaultOptions),!e.wrappers&&i.wrappers&&(e.wrappers=[...i.wrappers])}resolveFieldTypeRef(e={}){let i=this.getType(e.type);if(!i)return null;if(!i.component||i._componentRef)return i._componentRef;let{_viewContainerRef:r,_injector:n}=e.options;if(!r||!n)return null;let s=r.createComponent(i.component,{injector:n});S(i,"_componentRef",s);try{s.destroy()}catch(a){console.error(`An error occurred while destroying the Formly component type "${e.type}"`,a)}return i._componentRef}setWrapper(e){this.wrappers[e.name]=e,e.types&&e.types.forEach(i=>{this.setTypeWrapper(i,e.name)})}getWrapper(e){if(e instanceof Be)return{component:e,name:e.prototype.constructor.name};if(!this.wrappers[e])throw new Error(`[Formly Error] The wrapper "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.wrappers[e]}setTypeWrapper(e,i){this.types[e]||(this.types[e]={}),this.types[e].wrappers||(this.types[e].wrappers=[]),this.types[e].wrappers.indexOf(i)===-1&&this.types[e].wrappers.push(i)}setValidator(e){this.validators[e.name]=e}getValidator(e){if(!this.validators[e])throw new Error(`[Formly Error] The validator "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.validators[e]}addValidatorMessage(e,i){this.messages[e]=i}getValidatorMessage(e){return this.messages[e]}setSortedExtensions(e){e.forEach(i=>{let r=i.priority??1;this.extensionsByPriority[r]=Ae(L({},this.extensionsByPriority[r]),{[i.name]:i.extension})}),this.extensions=Object.keys(this.extensionsByPriority).map(Number).sort((i,r)=>i-r).reduce((i,r)=>L(L({},i),this.extensionsByPriority[r]),{})}mergeExtendedType(e){if(!this.types[e].extends)return;let i=this.getType(this.types[e].extends);this.types[e].component||(this.types[e].component=i.component),this.types[e].wrappers||(this.types[e].wrappers=i.wrappers)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),it=(()=>{class o{constructor(e,i,r,n){this.config=e,this.injector=i,this.viewContainerRef=r,this.parentForm=n}buildForm(e,i=[],r,n){this.build({fieldGroup:i,model:r,form:e,options:n})}build(e){if(!this.config.extensions.core)throw new Error("NgxFormly: missing `forRoot()` call. use `forRoot()` when registering the `FormlyModule`.");e.parent||this._setOptions(e),Eo(e.form,()=>{if(this._build(e),!e.parent||e.fieldArray){let i=e.options;e.parent&&Wi(e)&&i._hiddenFieldsForCheck?.push({field:e,default:!1}),i.checkExpressions?.(e,!0),i._detectChanges?.(e)}})}_build(e){if(!e)return;let i=Object.values(this.config.extensions);i.forEach(r=>r.prePopulate?.(e)),i.forEach(r=>r.onPopulate?.(e)),e.fieldGroup?.forEach(r=>this._build(r)),i.forEach(r=>r.postPopulate?.(e))}_setOptions(e){e.form=e.form||new se({}),e.model=e.model||{},e.options=e.options||{};let i=e.options;i._viewContainerRef||S(i,"_viewContainerRef",this.viewContainerRef),i._injector||S(i,"_injector",this.injector),i.build||(i._buildForm=()=>{console.warn("Formly: 'options._buildForm' is deprecated since v6.0, use 'options.build' instead."),this.build(e)},i.build=(r=e)=>(this.build(r),r)),!i.parentForm&&this.parentForm&&(S(i,"parentForm",this.parentForm),ot()||I(i,["parentForm","submitted"],({firstChange:r})=>{r||i.detectChanges(e)}))}}return o.\u0275fac=function(e){return new(e||o)(Ce(ue),Ce(Rt),Ce(Ie,8),Ce(Ye,8))},o.\u0275prov=Te({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ft(o,t=!1){let e=o.formControl,i=e._fields?e._fields.indexOf(o):-1;i!==-1&&e._fields.splice(i,1);let r=e.parent;if(!r)return;let n={emitEvent:t};if(r instanceof Pe){let s=r.controls.findIndex(a=>a===e);s!==-1&&r.removeAt(s,n)}else if(r instanceof se){let s=Ee(o),a=s[s.length-1];r.get([a])===e&&r.removeControl(a,n)}e.setParent(null)}function zi(o){return o.formControl?o.formControl:o.shareFormControl===!1?null:o.form?.get(Ee(o))}function Ft(o,t,e=!1){if(t=t||o.formControl,t._fields||S(t,"_fields",[]),t._fields.indexOf(o)===-1&&t._fields.push(o),!o.formControl&&t){S(o,"formControl",t),t.setValidators(null),t.setAsyncValidators(null),o.props.disabled=!!o.props.disabled;let a=I(o,["props","disabled"],({firstChange:m,currentValue:M})=>{m||(M?o.formControl.disable():o.formControl.enable())});t instanceof ae&&t.registerOnDisabledChange(a.setValue)}if(!o.form||!T(o))return;let i=o.form,r=Ee(o),n=he(o);!(ye(t.value)&&ye(n))&&t.value!==n&&t instanceof ae&&t.patchValue(n);for(let a=0;a<r.length-1;a++){let m=r[a];i.get([m])||i.setControl(m,new se({}),{emitEvent:e}),i=i.get([m])}let s=r[r.length-1];!o._hide&&i.get([s])!==t&&i.setControl(s,t,{emitEvent:e})}function je(o,t=!1){let e=o.status,i=o.value;o.updateValueAndValidity({emitEvent:!1,onlySelf:t}),e!==o.status&&o.statusChanges.emit(o.status),i!==o.value&&o.valueChanges.emit(o.value)}function Xi(o){delete o?._fields,o.setValidators(null),o.setAsyncValidators(null),(o instanceof se||o instanceof Pe)&&Object.values(o.controls).forEach(t=>Xi(t))}var So=(()=>{class o{constructor(e){this.ref=e}ngOnChanges(){this.name=this.name||"formly-group"}}return o.\u0275fac=function(e){return new(e||o)(V(He))},o.\u0275dir=_e({type:o,selectors:[["","formlyTemplate",""]],inputs:{name:[0,"formlyTemplate","name"]},standalone:!1,features:[ke]}),o})(),ut=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=Te({token:o,factory:o.\u0275fac}),o})(),Z=(()=>{class o{constructor(e,i,r,n,s){this.config=e,this.renderer=i,this._elementRef=r,this.hostContainerRef=n,this.form=s,this.hostObservers=[],this.componentRefs=[],this.hooksObservers=[],this.detectFieldBuild=!1,this.valueChangesUnsubscribe=()=>{}}get containerRef(){return this.config.extras.renderFormlyFieldElement?this.viewContainerRef:this.hostContainerRef}get elementRef(){return this.config.extras.renderFormlyFieldElement?this._elementRef:this.componentRefs?.[0]instanceof Re?this.componentRefs[0].location:null}ngAfterContentInit(){this.triggerHook("afterContentInit")}ngAfterViewInit(){this.triggerHook("afterViewInit")}ngDoCheck(){this.detectFieldBuild&&this.field&&this.field.options&&this.render()}ngOnInit(){this.triggerHook("onInit")}ngOnChanges(e){this.triggerHook("onChanges",e)}ngOnDestroy(){this.resetRefs(this.field),this.hostObservers.forEach(e=>e.unsubscribe()),this.hooksObservers.forEach(e=>e()),this.valueChangesUnsubscribe(),this.triggerHook("onDestroy")}renderField(e,i,r=[]){if(this.containerRef===e&&(this.resetRefs(this.field),this.containerRef.clear(),r=this.field?.wrappers),r?.length>0){let[n,...s]=r,{component:a}=this.config.getWrapper(n),m=e.createComponent(a);this.attachComponentRef(m,i),I(m.instance,["fieldComponent"],({currentValue:M,previousValue:Q,firstChange:P})=>{if(M){if(Q&&Q._lContainer===M._lContainer)return;let pe=Q?Q.detach():null;pe&&!pe.destroyed?M.insert(pe):this.renderField(M,i,s),!P&&m.changeDetectorRef.detectChanges()}})}else if(i?.type){let n=this.form?.templates?.find(a=>a.name===i.type),s;if(n)s=e.createEmbeddedView(n.ref,{$implicit:i});else{let{component:a}=this.config.getType(i.type,!0);s=e.createComponent(a)}this.attachComponentRef(s,i)}}triggerHook(e,i){if((e==="onInit"||e==="onChanges"&&i.field&&!i.field.firstChange)&&(this.valueChangesUnsubscribe(),this.valueChangesUnsubscribe=this.fieldChanges(this.field)),this.field?.hooks?.[e]&&(!i||i.field)){let r=this.field.hooks[e](this.field);if(be(r)&&["onInit","afterContentInit","afterViewInit"].indexOf(e)!==-1){let n=r.subscribe();this.hooksObservers.push(()=>n.unsubscribe())}}e==="onChanges"&&i.field&&(this.resetRefs(i.field.previousValue),this.render())}attachComponentRef(e,i){this.componentRefs.push(e),i._componentRefs.push(e),e instanceof Re&&Object.assign(e.instance,{field:i})}render(){if(this.field){if(!this.field.options){this.detectFieldBuild=!0;return}if(this.detectFieldBuild=!1,this.hostObservers.forEach(e=>e.unsubscribe()),this.hostObservers=[I(this.field,["hide"],({firstChange:e,currentValue:i})=>{let r=this.containerRef;this.config.extras.lazyRender===!1?(e&&this.renderField(r,this.field),(!e||e&&i)&&this.elementRef&&this.renderer.setStyle(this.elementRef.nativeElement,"display",i?"none":"")):i?(r.clear(),this.field.className&&this.renderer.removeAttribute(this.elementRef.nativeElement,"class")):(this.renderField(r,this.field),this.field.className&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",this.field.className)),!e&&this.field.options.detectChanges(this.field)}),I(this.field,["className"],({firstChange:e,currentValue:i})=>{(!e||e&&i)&&(!this.config.extras.lazyRender||this.field.hide!==!0)&&this.elementRef&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",i)})],!ot())["touched","pristine","status"].forEach(e=>this.hostObservers.push(I(this.field,["formControl",e],({firstChange:i})=>!i&&mt(this.field))));else if(this.field.formControl){let e=this.field.formControl.events.subscribe(()=>mt(this.field));this.hostObservers.push(e)}}}resetRefs(e){e&&(e._localFields?e._localFields=[]:S(this.field,"_localFields",[]),e._componentRefs?e._componentRefs=e._componentRefs.filter(i=>this.componentRefs.indexOf(i)===-1):S(this.field,"_componentRefs",[])),this.componentRefs=[]}fieldChanges(e){if(!e)return()=>{};let i=vt(e,["props"],()=>e.options.detectChanges(e)),r=[()=>{i()}];for(let s of Object.keys(e._expressions||{})){let a=I(e,["_expressions",s],({currentValue:m,previousValue:M})=>{M?.subscription&&(M.subscription.unsubscribe(),M.subscription=null),be(m.value$)&&(m.subscription=m.value$.subscribe())});r.push(()=>{e._expressions[s]?.subscription&&e._expressions[s].subscription.unsubscribe(),a.unsubscribe()})}for(let s of[["focus"],["template"],["fieldGroupClassName"],["validation","show"]]){let a=I(e,s,({firstChange:m})=>!m&&e.options.detectChanges(e));r.push(()=>a.unsubscribe())}if(e.formControl&&!e.fieldGroup){let s=e.formControl,a=s.valueChanges.pipe(j(P=>(e.parsers?.map(pe=>P=pe(P,e)),Object.is(P,e.formControl.value)||e.formControl.setValue(P),P)),wt((P,pe)=>!(P!==pe||Array.isArray(P)||ee(P))));s.value!==he(e)&&(a=a.pipe(nt(s.value)));let{updateOn:m,debounce:M}=e.modelOptions;(!m||m==="change")&&M?.default>0&&(a=s.valueChanges.pipe(kt(M.default)));let Q=a.subscribe(P=>{s._fields?.length>1&&s instanceof ae&&s.patchValue(P,{emitEvent:!1,onlySelf:!0}),T(e)&&De(e,P),e.options.fieldChanges.next({value:P,field:e,type:"valueChanges"})});r.push(()=>Q.unsubscribe())}let n=[];return I(e,["_localFields"],({currentValue:s})=>{n.forEach(a=>a()),n=(s||[]).map(a=>this.fieldChanges(a))}),()=>{r.forEach(s=>s()),n.forEach(s=>s())}}}return o.\u0275fac=function(e){return new(e||o)(V(ue),V(at),V(ne),V(Ie),V(ut,8))},o.\u0275cmp=f({type:o,selectors:[["formly-field"]],viewQuery:function(e,i){if(e&1&&pt(vo,7,Ie),e&2){let r;$e(r=qe())&&(i.viewContainerRef=r.first)}},inputs:{field:"field"},standalone:!1,features:[ke],decls:2,vars:0,consts:[["container",""]],template:function(e,i){e&1&&lt(0,Fo,0,0,"ng-template",null,0,Qt)},styles:["[_nghost-%COMP%]:empty{display:none}"]}),o})(),Yi=(()=>{class o{constructor(e,i,r,n){this.builder=e,this.config=i,this.ngZone=r,this.fieldTemplates=n,this.modelChange=new jt,this.field={type:"formly-group"},this._modelChangeValue={},this.valueChangesUnsubscribe=()=>{}}set form(e){this.field.form=e}get form(){return this.field.form}set model(e){this.config.extras.immutable&&this._modelChangeValue===e||this.setField({model:e})}get model(){return this.field.model}set fields(e){this.setField({fieldGroup:e})}get fields(){return this.field.fieldGroup}set options(e){this.setField({options:e})}get options(){return this.field.options}set templates(e){this.fieldTemplates.templates=e}ngDoCheck(){this.config.extras.checkExpressionOn==="changeDetectionCheck"&&this.checkExpressionChange()}ngOnChanges(e){e.fields&&this.form&&Xi(this.form),(e.fields||e.form||e.model&&this._modelChangeValue!==e.model.currentValue)&&(this.valueChangesUnsubscribe(),this.builder.build(this.field),this.valueChangesUnsubscribe=this.valueChanges())}ngOnDestroy(){this.valueChangesUnsubscribe()}checkExpressionChange(){this.field.options.checkExpressions?.(this.field)}valueChanges(){this.valueChangesUnsubscribe();let e=null;if(ot()){let n=this.options?.parentForm?.submitted;e=this.form.events.subscribe(()=>{n!==this.options?.parentForm?.submitted&&(this.options.detectChanges(this.field),n=this.options?.parentForm?.submitted)})}let i=[vt(this.field.options,["formState"],()=>this.field.options.detectChanges(this.field))],r=this.field.options.fieldChanges.pipe(rt(({field:n,type:s})=>T(n)&&s==="valueChanges"),st(()=>Do(this.ngZone)?k(null):this.ngZone.onStable.asObservable().pipe(Ot(1)))).subscribe(()=>this.ngZone.runGuarded(()=>{this.checkExpressionChange(),this.modelChange.emit(this._modelChangeValue=K(this.model))}));return()=>{i.forEach(n=>n()),e?.unsubscribe(),r.unsubscribe()}}setField(e){this.config.extras.immutable?this.field=L(L({},this.field),K(e)):Object.keys(e).forEach(i=>this.field[i]=e[i])}}return o.\u0275fac=function(e){return new(e||o)(V(it),V(ue),V(Gt),V(ut))},o.\u0275cmp=f({type:o,selectors:[["formly-form"]],contentQueries:function(e,i,r){if(e&1&&Nt(r,So,4),e&2){let n;$e(n=qe())&&(i.templates=n)}},inputs:{form:"form",model:"model",fields:"fields",options:"options"},outputs:{modelChange:"modelChange"},standalone:!1,features:[$t([it,ut]),ke],decls:1,vars:1,consts:[[3,"field"]],template:function(e,i){e&1&&u(0,"formly-field",0),e&2&&c("field",i.field)},dependencies:[Z],encapsulation:2,changeDetection:0}),o})(),U=(()=>{class o{constructor(e,i,r){this.renderer=e,this.elementRef=i,this.uiAttributesCache={},this.uiEvents={listeners:[],events:["click","keyup","keydown","keypress","focus","blur","change"],callback:(n,s)=>{switch(n){case"focus":return this.onFocus(s);case"blur":return this.onBlur(s);case"change":return this.onChange(s);default:return this.props[n](this.field,s)}}},this.document=r}get props(){return this.field.props||{}}get fieldAttrElements(){return this.field?._elementRefs||[]}ngOnChanges(e){e.field&&(this.field.name&&this.setAttribute("name",this.field.name),this.uiEvents.listeners.forEach(i=>i()),this.uiEvents.events.forEach(i=>{(this.props?.[i]||["focus","blur","change"].indexOf(i)!==-1)&&this.uiEvents.listeners.push(this.renderer.listen(this.elementRef.nativeElement,i,r=>this.uiEvents.callback(i,r)))}),this.props?.attributes&&I(this.field,["props","attributes"],({currentValue:i,previousValue:r})=>{r&&Object.keys(r).forEach(n=>this.removeAttribute(n)),i&&Object.keys(i).forEach(n=>{i[n]!=null&&this.setAttribute(n,i[n])})}),this.detachElementRef(e.field.previousValue),this.attachElementRef(e.field.currentValue),this.fieldAttrElements.length===1&&(!this.id&&this.field.id&&this.setAttribute("id",this.field.id),this.focusObserver=I(this.field,["focus"],({currentValue:i})=>{this.toggleFocus(i)}))),e.id&&this.setAttribute("id",this.id)}ngDoCheck(){if(!this.uiAttributes){let e=this.elementRef.nativeElement;this.uiAttributes=[...Ct,"tabindex","placeholder","readonly","disabled","step"].filter(i=>!e.hasAttribute||!e.hasAttribute(i))}for(let e=0;e<this.uiAttributes.length;e++){let i=this.uiAttributes[e],r=this.props[i];this.uiAttributesCache[i]!==r&&(!this.props.attributes||!this.props.attributes.hasOwnProperty(i.toLowerCase()))&&(this.uiAttributesCache[i]=r,r||r===0?this.setAttribute(i,r===!0?i:`${r}`):this.removeAttribute(i))}}ngOnDestroy(){this.uiEvents.listeners.forEach(e=>e()),this.detachElementRef(this.field),this.focusObserver?.unsubscribe()}toggleFocus(e){let i=this.fieldAttrElements?this.fieldAttrElements[0]:null;if(!i||!i.nativeElement.focus)return;let r=!!this.document.activeElement&&this.fieldAttrElements.some(({nativeElement:n})=>this.document.activeElement===n||n.contains(this.document.activeElement));e&&!r?Promise.resolve().then(()=>i.nativeElement.focus()):!e&&r&&Promise.resolve().then(()=>i.nativeElement.blur())}onFocus(e){this.focusObserver?.setValue(!0),this.props.focus?.(this.field,e)}onBlur(e){this.focusObserver?.setValue(!1),this.props.blur?.(this.field,e)}onHostChange(e){e instanceof Event||this.onChange(e)}onChange(e){this.props.change?.(this.field,e),this.field.formControl?.markAsDirty()}attachElementRef(e){e&&(e._elementRefs?.indexOf(this.elementRef)===-1?e._elementRefs.push(this.elementRef):S(e,"_elementRefs",[this.elementRef]))}detachElementRef(e){let i=e?._elementRefs?this.fieldAttrElements.indexOf(this.elementRef):-1;i!==-1&&e._elementRefs.splice(i,1)}setAttribute(e,i){this.renderer.setAttribute(this.elementRef.nativeElement,e,i)}removeAttribute(e){this.renderer.removeAttribute(this.elementRef.nativeElement,e)}}return o.\u0275fac=function(e){return new(e||o)(V(at),V(ne),V(It))},o.\u0275dir=_e({type:o,selectors:[["","formlyAttributes",""]],hostBindings:function(e,i){e&1&&G("change",function(n){return i.onHostChange(n)})},inputs:{field:[0,"formlyAttributes","field"],id:"id"},standalone:!1,features:[ke]}),o})(),E=(()=>{class o{constructor(){this.field={}}set _formlyControls(e){let i=this.field;i._localFields=e.map(r=>r.control._fields||[]).flat().filter(r=>r.formControl!==this.field.formControl)}get model(){return this.field.model}get form(){return this.field.form}get options(){return this.field.options}get key(){return this.field.key}get formControl(){return this.field.formControl}get props(){return this.field.props||{}}get to(){return this.props}get showError(){return this.options.showError(this)}get id(){return this.field.id}get formState(){return this.options?.formState||{}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275dir=_e({type:o,viewQuery:function(e,i){if(e&1&&pt(ii,5),e&2){let r;$e(r=qe())&&(i._formlyControls=r)}},inputs:{field:"field"},standalone:!1}),o})(),Ao=(()=>{class o extends E{}return o.\u0275fac=(()=>{let t;return function(i){return(t||(t=x(o)))(i||o)}})(),o.\u0275cmp=f({type:o,selectors:[["formly-group"]],hostVars:2,hostBindings:function(e,i){e&2&&Ut(i.field.fieldGroupClassName||"")},standalone:!1,features:[b],ngContentSelectors:_o,decls:2,vars:1,consts:[[3,"field",4,"ngFor","ngForOf"],[3,"field"]],template:function(e,i){e&1&&(Ne(),lt(0,xo,1,1,"formly-field",0),Ue(1)),e&2&&c("ngForOf",i.field.fieldGroup)},dependencies:[Z,Xt],encapsulation:2,changeDetection:0}),o})(),J=(()=>{class o{constructor(e){this.config=e}ngOnChanges(){let e=Ct.map(i=>`templateOptions.${i}`);this.errorMessage$=Mt(this.field.formControl.statusChanges,this.field.options?this.field.options.fieldChanges.pipe(rt(({field:i,type:r,property:n})=>i===this.field&&r==="expressionChanges"&&(n.indexOf("validation")!==-1||e.indexOf(n)!==-1))):k(null)).pipe(nt(null),st(()=>be(this.errorMessage)?this.errorMessage:k(this.errorMessage)))}get errorMessage(){let e=this.field.formControl;for(let i in e.errors)if(e.errors.hasOwnProperty(i)){let r=this.config.getValidatorMessage(i);if(ee(e.errors[i])){if(e.errors[i].errorPath)return;e.errors[i].message&&(r=e.errors[i].message)}return this.field.validation?.messages?.[i]&&(r=this.field.validation.messages[i]),this.field.validators?.[i]?.message&&(r=this.field.validators[i].message),this.field.asyncValidators?.[i]?.message&&(r=this.field.asyncValidators[i].message),typeof r=="function"?r(e.errors[i],this.field):r}}}return o.\u0275fac=function(e){return new(e||o)(V(ue))},o.\u0275cmp=f({type:o,selectors:[["formly-validation-message"]],inputs:{field:"field"},standalone:!1,features:[ke],decls:2,vars:3,template:function(e,i){e&1&&(h(0),Qe(1,"async")),e&2&&O(We(1,1,i.errorMessage$))},dependencies:[Yt],encapsulation:2,changeDetection:0}),o})(),Ki=(()=>{class o extends E{onPopulate(e){if(T(e)){let r=zi(e);Ft(e,r||new Pe([],{updateOn:e.modelOptions.updateOn}))}e.fieldGroup=e.fieldGroup||[];let i=Array.isArray(e.model)?e.model.length:0;if(e.fieldGroup.length>i)for(let r=e.fieldGroup.length-1;r>=i;--r)ft(e.fieldGroup[r],!0),e.fieldGroup.splice(r,1);for(let r=e.fieldGroup.length;r<i;r++){let n=L({},K(typeof e.fieldArray=="function"?e.fieldArray(e):e.fieldArray));n.key!==null&&(n.key=`${r}`),e.fieldGroup.push(n)}}add(e,i,{markAsDirty:r}={markAsDirty:!0}){r&&this.formControl.markAsDirty(),e=e??this.field.fieldGroup.length,this.model||De(this.field,[]),this.model.splice(e,0,i?K(i):void 0),this.markFieldForCheck(this.field.fieldGroup[e]),this._build()}remove(e,{markAsDirty:i}={markAsDirty:!0}){i&&this.formControl.markAsDirty(),this.model.splice(e,1);let r=this.field.fieldGroup[e];this.field.fieldGroup.splice(e,1),this.field.fieldGroup.forEach((n,s)=>this.updateArrayElementKey(n,`${s}`)),ft(r,!0),this._build()}_build(){(this.field.formControl._fields??[this.field]).forEach(i=>this.options.build(i)),this.options.fieldChanges.next({field:this.field,value:he(this.field),type:"valueChanges"})}updateArrayElementKey(e,i){if(T(e)){e.key=i;return}if(e.fieldGroup?.length)for(let r=0;r<e.fieldGroup.length;r++)this.updateArrayElementKey(e.fieldGroup[r],i)}markFieldForCheck(e){e&&(e.fieldGroup?.forEach(i=>this.markFieldForCheck(i)),e.hide===!1&&this.options._hiddenFieldsForCheck.push({field:e}))}}return o.\u0275fac=(()=>{let t;return function(i){return(t||(t=x(o)))(i||o)}})(),o.\u0275dir=_e({type:o,standalone:!1,features:[b]}),o})();var Ro=(()=>{class o extends E{constructor(e){super(),this.sanitizer=e,this.innerHtml={}}get template(){return this.field&&this.field.template!==this.innerHtml.template&&(this.innerHtml={template:this.field.template,content:this.props.safeHtml?this.sanitizer.bypassSecurityTrustHtml(this.field.template):this.field.template}),this.innerHtml.content}}return o.\u0275fac=function(e){return new(e||o)(V(Zt))},o.\u0275cmp=f({type:o,selectors:[["formly-template"]],standalone:!1,features:[b],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,i){e&1&&u(0,"div",0),e&2&&c("innerHtml",i.template,Vt)},encapsulation:2,changeDetection:0}),o})();function Io(o,t){try{return Function(...t,`return ${o};`)}catch(e){console.error(e)}}function Po(o,t,e){return typeof o=="function"?o.apply(t,e):!!o}var ht=class{onPopulate(t){if(t._expressions)return;S(t,"_expressions",{}),I(t,["hide"],({currentValue:i,firstChange:r})=>{S(t,"_hide",!!i),(!r||r&&i===!0)&&(t.props.hidden=i,t.options._hiddenFieldsForCheck.push({field:t}))}),t.hideExpression&&I(t,["hideExpression"],({currentValue:i})=>{t._expressions.hide=this.parseExpressions(t,"hide",typeof i=="boolean"?()=>i:i)});let e=(i,r)=>{typeof r=="string"||ct(r)?t._expressions[i]=this.parseExpressions(t,i,r):r instanceof Tt&&(t._expressions[i]={value$:r.pipe(St(n=>{this.evalExpr(t,i,n),t.options._detectChanges(t)}))})};t.expressions=t.expressions||{};for(let i of Object.keys(t.expressions))I(t,["expressions",i],({currentValue:r})=>{e(i,ct(r)?(...n)=>r(t,n[3]):r)});t.expressionProperties=t.expressionProperties||{};for(let i of Object.keys(t.expressionProperties))I(t,["expressionProperties",i],({currentValue:r})=>e(i,r))}postPopulate(t){if(!t.parent&&!t.options.checkExpressions){let e=!1;t.options.checkExpressions=(i,r)=>{if(e)return;e=!0;let n=this.checkExpressions(i,r),s=t.options;s._hiddenFieldsForCheck.sort(a=>a.field.hide?-1:1).forEach(a=>this.changeHideState(a.field,a.field.hide??a.default,!r)),s._hiddenFieldsForCheck=[],n&&this.checkExpressions(t),e=!1},t.options._checkField=(i,r)=>{console.warn("Formly: 'options._checkField' is deprecated since v6.0, use 'options.checkExpressions' instead."),t.options.checkExpressions(i,r)}}}parseExpressions(t,e,i){let r;if(t.parent&&["hide","props.disabled"].includes(e)){let s=a=>e==="hide"?a.hide:a.props.disabled;r=()=>{let a=t.parent;for(;a.parent&&!s(a);)a=a.parent;return s(a)}}i=i||(()=>!1),typeof i=="string"&&(i=Io(i,["model","formState","field"]));let n;return{callback:s=>{try{let a=Po(r?(...m)=>r(t)||i(...m):i,{field:t},[t.model,t.options.formState,t,s]);return s||n!==a&&(!ee(a)||be(a)||JSON.stringify(a)!==JSON.stringify(n))?(n=a,this.evalExpr(t,e,a),!0):!1}catch(a){throw a.message=`[Formly Error] [Expression "${e}"] ${a.message}`,a}}}}checkExpressions(t,e=!1){if(!t)return!1;let i=!1;if(t._expressions)for(let r of Object.keys(t._expressions))t._expressions[r].callback?.(e)&&(i=!0);return t.fieldGroup?.forEach(r=>this.checkExpressions(r,e)&&(i=!0)),i}changeDisabledState(t,e){t.fieldGroup&&t.fieldGroup.filter(i=>!i._expressions.hasOwnProperty("props.disabled")).forEach(i=>this.changeDisabledState(i,e)),T(t)&&t.props.disabled!==e&&(t.props.disabled=e)}changeHideState(t,e,i){if(t.fieldGroup&&t.fieldGroup.filter(r=>r&&!r._expressions.hide).forEach(r=>this.changeHideState(r,e,i)),t.formControl&&T(t)){S(t,"_hide",!!(e||t.hide));let r=t.formControl;r._fields?.length>1&&je(r),e===!0&&(!r._fields||r._fields.every(n=>!!n._hide))?(ft(t,!0),i&&t.resetOnHide&&(De(t,void 0),t.formControl.reset({value:void 0,disabled:t.formControl.disabled}),t.options.fieldChanges.next({value:void 0,field:t,type:"valueChanges"}),t.fieldGroup&&t.formControl instanceof Pe&&(t.fieldGroup.length=0))):e===!1&&(t.resetOnHide&&!tt(t.defaultValue)&&tt(he(t))&&De(t,t.defaultValue),Ft(t,void 0,!0),t.resetOnHide&&t.fieldArray&&t.fieldGroup?.length!==t.model?.length&&t.options.build(t))}t.options.fieldChanges&&t.options.fieldChanges.next({field:t,type:"hidden",value:e})}evalExpr(t,e,i){if(e.indexOf("model.")===0){let r=e.replace(/^model\./,""),n=t.fieldGroup?t:t.parent,s=t?.key===r?t.formControl:t.form.get(r);!s&&t.get(r)&&(s=t.get(r).formControl),De({key:r,parent:n,model:t.model},i),s&&!(ye(s.value)&&ye(i))&&s.value!==i&&s.patchValue(i)}else{try{let r=t,n=this._evalExpressionPath(t,e),s=n.length-1;for(let a=0;a<s;a++)r=r[n[a]];r[n[s]]=i}catch(r){throw r.message=`[Formly Error] [Expression "${e}"] ${r.message}`,r}["templateOptions.disabled","props.disabled"].includes(e)&&T(t)&&this.changeDisabledState(t,i)}this.emitExpressionChanges(t,e,i)}emitExpressionChanges(t,e,i){t.options.fieldChanges&&t.options.fieldChanges.next({field:t,type:"expressionChanges",property:e,value:i})}_evalExpressionPath(t,e){if(t._expressions[e]&&t._expressions[e].paths)return t._expressions[e].paths;let i=[];return e.indexOf("[")===-1?i=e.split("."):e.split(/[[\]]{1,2}/).filter(r=>r).forEach(r=>{let n=r.match(/['|"](.*?)['|"]/);n?i.push(n[1]):i.push(...r.split(".").filter(s=>s))}),t._expressions[e]&&(t._expressions[e].paths=i),i}},yt=class{constructor(t){this.config=t}onPopulate(t){this.initFieldValidation(t,"validators"),this.initFieldValidation(t,"asyncValidators")}initFieldValidation(t,e){let i=[];if(e==="validators"&&!(t.hasOwnProperty("fieldGroup")&&!T(t))&&i.push(this.getPredefinedFieldValidation(t)),t[e])for(let r of Object.keys(t[e]))r==="validation"?i.push(...t[e].validation.map(n=>this.wrapNgValidatorFn(t,n))):i.push(this.wrapNgValidatorFn(t,t[e][r],r));S(t,"_"+e,i)}getPredefinedFieldValidation(t){let e=[];return Ct.forEach(i=>I(t,["props",i],({currentValue:r,firstChange:n})=>{e=e.filter(s=>s!==i),i==="required"&&r!=null&&typeof r!="boolean"&&console.warn(`Formly: Invalid prop 'required' of type '${typeof r}', expected 'boolean' (Field:${t.key}).`),r!=null&&r!==!1&&e.push(i),!n&&t.formControl&&je(t.formControl)})),i=>e.length===0?null:re.compose(e.map(r=>()=>{let n=t.props[r];switch(r){case"required":return re.required(i);case"pattern":return re.pattern(n)(i);case"minLength":let s=re.minLength(n)(i),a=this.config.getValidatorMessage("minlength")||t.validation?.messages?.minlength?"minlength":"minLength";return s?{[a]:s.minlength}:null;case"maxLength":let m=re.maxLength(n)(i),M=this.config.getValidatorMessage("maxlength")||t.validation?.messages?.maxlength?"maxlength":"maxLength";return m?{[M]:m.maxlength}:null;case"min":return re.min(n)(i);case"max":return re.max(n)(i);default:return null}}))(i)}wrapNgValidatorFn(t,e,i){let r;if(typeof e=="string"&&(r=K(this.config.getValidator(e))),typeof e=="object"&&e.name&&(r=K(this.config.getValidator(e.name)),e.options&&(r.options=e.options)),typeof e=="object"&&e.expression){let n=e,{expression:s}=n,a=Ge(n,["expression"]);r={name:i,validation:s,options:Object.keys(a).length>0?a:null}}return typeof e=="function"&&(r={name:i,validation:e}),s=>{let a=r.validation(s,t,r.options);return wo(a)?a.then(m=>this.handleResult(t,i?!!m:m,r)):be(a)?a.pipe(j(m=>this.handleResult(t,i?!!m:m,r))):this.handleResult(t,i?!!a:a,r)}}handleResult(t,e,{name:i,options:r}){typeof e=="boolean"&&(e=e?null:{[i]:r||!0});let n=t.formControl;return n?._childrenErrors?.[i]?.(),ee(e)&&Object.keys(e).forEach(s=>{let a=e[s].errorPath?e[s].errorPath:r?.errorPath,m=a?t.formControl.get(a):null;if(m){let M=e[s],{errorPath:Q}=M,P=Ge(M,["errorPath"]);m.setErrors(Ae(L({},m.errors||{}),{[s]:P})),!n._childrenErrors&&S(n,"_childrenErrors",{}),n._childrenErrors[s]=()=>{let xt=m.errors||{},{[s]:pe}=xt,_t=Ge(xt,[Et(s)]);m.setErrors(Object.keys(_t).length===0?null:_t)}}}),e}},gt=class{prePopulate(t){this.root||(this.root=t),t.parent&&Object.defineProperty(t,"form",{get:()=>t.parent.formControl,configurable:!0})}onPopulate(t){t.hasOwnProperty("fieldGroup")&&!T(t)?S(t,"formControl",t.form):this.addFormControl(t)}postPopulate(t){if(this.root!==t)return;if(this.root=null,this.setValidators(t)&&t.parent){let i=t.parent;for(;i;)(T(i)||!i.parent)&&je(i.formControl,!0),i=i.parent}}addFormControl(t){let e=zi(t);if(!t.fieldArray){if(e){if(e instanceof ae){let i=T(t)?he(t):t.defaultValue;e.defaultValue=i}}else{let i={updateOn:t.modelOptions.updateOn};if(t.fieldGroup)e=new se({},i);else{let r=T(t)?he(t):t.defaultValue;e=new ae({value:r,disabled:!!t.props.disabled},Ae(L({},i),{initialValueIsDefault:!0}))}}Ft(t,e)}}setValidators(t,e=!1){e===!1&&T(t)&&t.props?.disabled&&(e=!0);let i=!1;if(t.fieldGroup?.forEach(r=>r&&this.setValidators(r,e)&&(i=!0)),T(t)||!t.parent||!T(t)&&!t.fieldGroup){let{formControl:r}=t;if(r&&(T(t)&&r instanceof ae&&(e&&r.enabled&&(r.disable({emitEvent:!1,onlySelf:!0}),i=!0),!e&&r.disabled&&(r.enable({emitEvent:!1,onlySelf:!0}),i=!0)),r.validator===null&&this.hasValidators(t,"_validators")&&(r.setValidators(()=>{let n=re.compose(this.mergeValidators(t,"_validators"));return n?n(r):null}),i=!0),r.asyncValidator===null&&this.hasValidators(t,"_asyncValidators")&&(r.setAsyncValidators(()=>{let n=re.composeAsync(this.mergeValidators(t,"_asyncValidators"));return n?n(r):k(null)}),i=!0),i)){je(r,!0);let n=r.parent;for(let s=1;s<Ee(t).length;s++)n&&(je(n,!0),n=n.parent)}}return i}hasValidators(t,e){let i=t.formControl;return i?._fields?.length>1&&i._fields.some(r=>r[e].length>0)||t[e].length>0?!0:t.fieldGroup?.some(r=>r?.fieldGroup&&!T(r)&&this.hasValidators(r,e))}mergeValidators(t,e){let i=[],r=t.formControl;return r?._fields?.length>1?r._fields.filter(n=>!n._hide).forEach(n=>i.push(...n[e])):t[e]&&i.push(...t[e]),t.fieldGroup&&t.fieldGroup.filter(n=>n?.fieldGroup&&!T(n)).forEach(n=>i.push(...this.mergeValidators(n,e))),i}},bt=class{constructor(t){this.config=t,this.formId=0}prePopulate(t){let e=t.parent;this.initRootOptions(t),this.initFieldProps(t),e&&(Object.defineProperty(t,"options",{get:()=>e.options,configurable:!0}),Object.defineProperty(t,"model",{get:()=>T(t)&&t.fieldGroup?he(t):e.model,configurable:!0})),Object.defineProperty(t,"get",{value:i=>Qi(t,i),configurable:!0}),this.getFieldComponentInstance(t).prePopulate?.(t)}onPopulate(t){this.initFieldOptions(t),this.getFieldComponentInstance(t).onPopulate?.(t),t.fieldGroup&&t.fieldGroup.forEach((e,i)=>{e&&(Object.defineProperty(e,"parent",{get:()=>t,configurable:!0}),Object.defineProperty(e,"index",{get:()=>i,configurable:!0})),this.formId++})}postPopulate(t){this.getFieldComponentInstance(t).postPopulate?.(t)}initFieldProps(t){t.props??(t.props=t.templateOptions),Object.defineProperty(t,"templateOptions",{get:()=>t.props,set:e=>t.props=e,configurable:!0})}initRootOptions(t){if(t.parent)return;let e=t.options;t.options.formState=t.options.formState||{},e.showError||(e.showError=this.config.extras.showError),e.fieldChanges||S(e,"fieldChanges",new A),e._hiddenFieldsForCheck||(e._hiddenFieldsForCheck=[]),e._markForCheck=i=>{console.warn("Formly: 'options._markForCheck' is deprecated since v6.0, use 'options.detectChanges' instead."),e.detectChanges(i)},e._detectChanges=i=>{i._componentRefs&&mt(i),i.fieldGroup?.forEach(r=>r&&e._detectChanges(r))},e.detectChanges=i=>{i.options.checkExpressions?.(i),e._detectChanges(i)},e.resetModel=i=>{i=K(i??e._initialModel),t.model&&(Object.keys(t.model).forEach(r=>delete t.model[r]),Object.assign(t.model,i||{})),ot()||I(e,["parentForm","submitted"]).setValue(!1,!1),e.build(t),t.form.reset(t.model)},e.updateInitialValue=i=>e._initialModel=K(i??t.model),t.options.updateInitialValue()}initFieldOptions(t){we(t,{id:To(`formly_${this.formId}`,t,t.index),hooks:{},modelOptions:{},validation:{messages:{}},props:!t.type||!T(t)?{}:{label:"",placeholder:"",disabled:!1}}),this.config.extras.resetFieldOnHide&&t.resetOnHide!==!1&&(t.resetOnHide=!0),t.type!=="formly-template"&&(t.template||t.expressions?.template||t.expressionProperties?.template)&&(t.type="formly-template"),!t.type&&t.fieldGroup&&(t.type="formly-group"),t.type&&this.config.getMergedField(t),T(t)&&!tt(t.defaultValue)&&tt(he(t))&&!Wi(t)&&De(t,t.defaultValue),t.wrappers=t.wrappers||[]}getFieldComponentInstance(t){let e=()=>{let i=this.config.resolveFieldTypeRef(t),r=t._componentRefs?.slice(-1)[0];return r instanceof Re&&r?.componentType===i?.componentType&&(i=r),i?.instance};return t._proxyInstance||S(t,"_proxyInstance",new Proxy({},{get:(i,r)=>e()?.[r],set:(i,r,n)=>e()[r]=n})),t._proxyInstance}};function $i(o){return{types:[{name:"formly-group",component:Ao},{name:"formly-template",component:Ro}],extensions:[{name:"core",extension:new bt(o),priority:-250},{name:"field-validation",extension:new yt(o),priority:-200},{name:"field-form",extension:new gt,priority:-150},{name:"field-expression",extension:new ht,priority:-100}]}}var _=(()=>{class o{constructor(e,i=[]){i&&i.forEach(r=>e.addConfig(r))}static forRoot(e={}){return{ngModule:o,providers:[{provide:Ve,multi:!0,useFactory:$i,deps:[ue]},{provide:Ve,useValue:e,multi:!0},ue,it]}}static forChild(e={}){return{ngModule:o,providers:[{provide:Ve,multi:!0,useFactory:$i,deps:[ue]},{provide:Ve,useValue:e,multi:!0},it]}}}return o.\u0275fac=function(e){return new(e||o)(Ce(ue),Ce(Ve,8))},o.\u0275mod=Oe({type:o}),o.\u0275inj=Me({imports:[[y]]}),o})();function Vo(o,t){if(o&1&&(u(0,"formly-form",4),p(1,"p"),h(2),Qe(3,"json"),d()),o&2){let e=g();c("form",e.formGroup)("model",e.model)("fields",e.formDefinition)("options",e.formOptions),l(2),$(" ",We(3,5,e.formGroup.value)," ")}}var Zi=(()=>{let t=class t{constructor(){this.changeDetectorRef=F(Xe),this.destroyRef=F(Pt),this.moduleService=F(D),this.formGroup=new se({}),this.formOptions={},this.model={name:"",age:10},this.moduleService.formMessage.pipe(si(this.destroyRef)).subscribe({next:i=>{this.formMessage=i}})}ngOnInit(){this.formDefinition=Ui.formDefinitionAll,this.changeDetectorRef.detectChanges()}getFormErrors(i){if(i instanceof ae)return i.errors?i:null;if(i instanceof se){let r=i.errors?{groupError:i}:{};return Object.keys(i.controls).forEach(n=>{let s=this.getFormErrors(i.get(n));s&&(r[n]=s)}),Object.keys(r).length>0?r:null}return null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-formly-demo"]],standalone:!1,decls:6,vars:3,consts:[[1,"body"],["novalidate","","autocomplete","off",1,"form",3,"formGroup"],["inverted","",1,"footer"],["slot","start",1,"forge-typography--label1"],[3,"form","model","fields","options"]],template:function(r,n){r&1&&(p(0,"div",0)(1,"form",1),C(2,Vo,4,7),d()(),p(3,"forge-toolbar",2)(4,"span",3),h(5),d()()),r&2&&(l(),c("formGroup",n.formGroup),l(),v(n.formDefinition?2:-1),l(3),$(" ",n.formMessage==null?null:n.formMessage.message," "))},dependencies:[ni,oi,Ye,Yi,Kt],styles:[`[_nghost-%COMP%]{display:grid;grid-template-rows:1fr auto;overflow:hidden}  formly-form,   formly-group,   formly-field{display:block}.body[_ngcontent-%COMP%]{padding:24px;overflow:auto}.form[_ngcontent-%COMP%]{background-color:var(--forge-theme-surface);border-radius:var(--forge-shape-medium);border:1px solid var(--forge-theme-outline);padding:16px;min-width:680px;width:fit-content;height:fit-content;margin-left:auto;margin-right:auto}






/*# sourceMappingURL=formly-demo.component-XU2FAY23.css.map */`]});let o=t;return o})();var jo=["formlyField"],Ji=(()=>{let t=class t{constructor(){this.elementRef=F(ne),this.formlyField=oe("formlyField"),this.field=Wt()}ngOnInit(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-formly-field"]],viewQuery:function(r,n){r&1&&te(n.formlyField,jo,5),r&2&&ie()},inputs:{field:[1,"field"]},decls:2,vars:1,consts:[["formlyField",""],[3,"field"]],template:function(r,n){r&1&&u(0,"formly-field",1,0),r&2&&c("field",n.field())},dependencies:[y,_,Z],encapsulation:2});let o=t;return o})();var Se=(()=>{let t=class t{constructor(){this.elementRef=F(ne),this.moduleService=F(D)}ngOnInit(){let i=this.elementRef.nativeElement;this.field?.props?.attributes&&(this.field.props.attributes&&this.field.props.attributes.width&&(i.style.width=`${this.field.props.attributes.width}px`),this.field.props.attributes.column&&(i.style.gridColumn=`${this.field.props.attributes.column}`),this.field.props.attributes.row&&(i.style.gridRow=`${this.field.props.attributes.row}`)),this.field?.props?.description?.length&&(i.addEventListener("focusin",()=>{this.moduleService.formMessage.next({id:this.field?.id,message:this.field?.props?.description})}),i.addEventListener("focusout",()=>{this.moduleService.formMessage.next({id:this.field?.id,message:""})})),this.field?.props?.required&&(this.field.validation.messages={required:`A ${this.field.props.label||"value"} is required`})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=_e({type:t,selectors:[["","formlyFieldDirective",""]],inputs:{field:"field",formlyFieldDirective:"formlyFieldDirective"}});let o=t;return o})();var Go=["fieldContainer"],Lo=["*"];function Bo(o,t){if(o&1&&(p(0,"div",2),h(1),d()),o&2){let e=g();l(),O(e.props.label)}}function Ho(o,t){if(o&1&&u(0,"formly-field",3,1),o&2){let e=t.$implicit,i=de(1);c("field",e)("formlyFieldDirective",i)}}var eo=(()=>{let t=class t extends E{constructor(){super(...arguments),this.elementRef=F(ne),this.fieldContainer=oe("fieldContainer")}ngOnInit(){let i=this.fieldContainer()?.nativeElement;switch(this.field.props?.type){case"grid":i.classList.add("form-grid"),this.props.attributes&&this.props.attributes.width&&(i.style.gridTemplateColumns=`repeat(${this.props.attributes.width}, 8px)`);break;case"vbox":i.classList.add("form-vbox");break;case"hbox":i.classList.add("form-hbox");break;case"group":i.classList.add("form-group"),this.props.attributes&&(this.props.attributes.gridWidth||this.props.attributes.gridHeight)&&(i.classList.add("form-grid"),this.props.attributes.gridWidth&&(i.style.gridTemplateColumns=`repeat(${this.props.attributes.gridWidth}, 8px)`));break}}};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=x(t)))(n||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-formly-group"]],viewQuery:function(r,n){r&1&&te(n.fieldContainer,Go,5),r&2&&ie()},features:[b],ngContentSelectors:Lo,decls:6,vars:1,consts:[["fieldContainer",""],["formlyField",""],[1,"label"],[3,"field","formlyFieldDirective"]],template:function(r,n){r&1&&(Ne(),C(0,Bo,2,1,"div",2),p(1,"div",null,0),X(3,Ho,2,2,"formly-field",3,z),Ue(5),d()),r&2&&(v(n.props.label!=null&&n.props.label.length&&(n.field.parent==null?null:n.field.parent.type)!=="tab"?0:-1),l(3),Y(n.field.fieldGroup))},dependencies:[y,_,Z,Se],styles:[`[_nghost-%COMP%]{display:block;height:fit-content}[_nghost-%COMP%]     .form-grid{display:grid!important;row-gap:8px!important}[_nghost-%COMP%]     .form-vbox{display:flex;flex-direction:column;row-gap:16px}[_nghost-%COMP%]     .form-hbox{display:flex;flex-direction:row;column-gap:16px}[_nghost-%COMP%]     .form-group{display:flex;flex-direction:column;row-gap:16px;border:var(--forge-theme-outline);border-radius:4px;padding:16px}.label[_ngcontent-%COMP%]{padding-bottom:8px}
/*# sourceMappingURL=group-type.component-A5ELVCTH.css.map */`]});let o=t;return o})();function No(o,t){if(o&1&&h(0),o&2){let e=g();$(" ",e.props.label," ")}}function Uo(o,t){if(o&1&&(p(0,"span",1),h(1),d()),o&2){let e=g();l(),O(e.props.description)}}var to=(()=>{let t=class t extends E{constructor(){super(...arguments),this.moduleService=F(D),this.unsubscribe=new A}ngOnInit(){this.formControl.addAsyncValidators(i=>(this.unsubscribe.next(),this.unsubscribe.complete(),i.pristine?k(null):this.moduleService.validateField(this.field.key,i.value).pipe(B(this.unsubscribe),j(r=>r.invalid?{server:{message:r.message}}:null))))}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=x(t)))(n||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-formly-checkbox"]],features:[b],decls:3,vars:6,consts:[[3,"id","readonly","formControl","formlyAttributes"],["slot","helper-text"]],template:function(r,n){r&1&&(p(0,"forge-checkbox",0),C(1,No,1,1),C(2,Uo,2,1,"span",1),d()),r&2&&(c("id",n.id)("readonly",n.props.readonly)("formControl",n.formControl)("formlyAttributes",n.field),l(),v(n.props.label?1:-1),l(),v(n.props.description?2:-1))},dependencies:[y,R,H,N,_,U,ci,di,pi],styles:[`[_nghost-%COMP%]{display:block}
/*# sourceMappingURL=checkbox-type.component-DQTQGDAR.css.map */`]});let o=t;return o})();function $o(o,t){if(o&1&&(p(0,"label",3),h(1),d()),o&2){let e=g();W("for",e.id),l(),O(e.props.label)}}function qo(o,t){if(o&1&&(p(0,"span",4),u(1,"formly-validation-message",5),d()),o&2){let e=g();l(),c("field",e.field)}}var io=(()=>{let t=class t extends E{constructor(){super(...arguments),this.moduleService=F(D),this.unsubscribe=new A}ngOnInit(){this.formControl.addAsyncValidators(i=>(this.unsubscribe.next(),this.unsubscribe.complete(),i.pristine?k(null):i.value&&!Ni(new Date(i.value))&&(i.setValue(null),this.field.props.required)?k({required:!0}):this.moduleService.validateField(this.field.key,i.value).pipe(B(this.unsubscribe),j(r=>r.invalid?{server:{message:r.message}}:null))))}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=x(t)))(n||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-formly-date-picker"]],features:[b],decls:5,vars:11,consts:[[3,"max","min"],[3,"required","invalid"],["type","text",3,"id","placeholder","readonly","formControl","formlyAttributes"],["slot","label"],["slot","helper-text"],[3,"field"]],template:function(r,n){r&1&&(p(0,"forge-date-picker",0)(1,"forge-text-field",1),u(2,"input",2),C(3,$o,2,2,"label",3),C(4,qo,2,1,"span",4),d()()),r&2&&(c("max",n.props.max)("min",n.props.min),l(),c("required",n.props.required)("invalid",n.showError),l(),c("id",n.id)("placeholder",n.props.placeholder)("readonly",n.props.readonly)("formControl",n.formControl)("formlyAttributes",n.field),l(),v(n.props.label?3:-1),l(),v(n.showError?4:-1))},dependencies:[y,R,ce,H,N,_,U,J,fi,mi,fe,me],styles:[`[_nghost-%COMP%]{display:block}
/*# sourceMappingURL=date-picker-type.component-AJLZJT6L.css.map */`]});let o=t;return o})();function Qo(o,t){if(o&1&&(p(0,"label",2),h(1),d()),o&2){let e=g();W("for",e.id),l(),O(e.props.label)}}function Wo(o,t){if(o&1&&(p(0,"span",3),u(1,"formly-validation-message",4),d()),o&2){let e=g();l(),c("field",e.field)}}var oo=(()=>{let t=class t extends E{constructor(){super(),this.moduleService=F(D),this.unsubscribe=new A,this.defaultOptions={props:{cols:1,rows:3}}}ngOnInit(){this.formControl.addAsyncValidators(i=>(this.unsubscribe.next(),this.unsubscribe.complete(),i.pristine?k(null):this.moduleService.validateField(this.field.key,i.value).pipe(B(this.unsubscribe),j(r=>r.invalid?{server:{message:r.message}}:null))))}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-formly-textarea"]],features:[b],decls:5,vars:10,consts:[[3,"required","invalid"],[3,"id","cols","rows","readonly","formControl","formlyAttributes"],["slot","label"],["slot","helper-text"],[3,"field"]],template:function(r,n){r&1&&(p(0,"forge-text-field",0)(1,"textarea",1),h(2,"      "),d(),C(3,Qo,2,2,"label",2),C(4,Wo,2,1,"span",3),d()),r&2&&(c("required",n.props.required)("invalid",n.showError),l(),c("id",n.id)("cols",n.props.cols)("rows",n.props.rows)("readonly",n.props.readonly)("formControl",n.formControl)("formlyAttributes",n.field),l(2),v(n.props.label?3:-1),l(),v(n.showError?4:-1))},dependencies:[y,R,ce,H,N,_,U,J,fe,me],styles:[`[_nghost-%COMP%]{display:block}textarea[_ngcontent-%COMP%]{resize:none}
/*# sourceMappingURL=textarea-type.component-VUCGEPIX.css.map */`]});let o=t;return o})();function zo(o,t){if(o&1){let e=xe();p(0,"forge-tab",3),G("forge-tab-select",function(){let r=ve(e).$implicit,n=g();return Fe(n.onTabSelected(r))}),h(1),d()}if(o&2){let e=t.$implicit;l(),$(" ",e.props==null?null:e.props.label," ")}}var ro=(()=>{let t=class t extends E{constructor(){super(...arguments),this.moduleService=F(D),this.activeTab=0}ngOnInit(){this.activeField=this.field.fieldGroup[0]}onTabSelected(i){this.activeField=i}};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=x(t)))(n||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-formly-tab"]],features:[b],decls:5,vars:3,consts:[["formlyField",""],["secondary","",3,"activeTab"],[3,"field","formlyFieldDirective"],[3,"forge-tab-select"]],template:function(r,n){if(r&1&&(p(0,"forge-tab-bar",1),X(1,zo,2,1,"forge-tab",null,z),d(),u(3,"formly-field",2,0)),r&2){let s=de(4);c("activeTab",n.activeTab),l(),Y(n.field.fieldGroup),l(2),c("field",n.activeField)("formlyFieldDirective",s)}},dependencies:[y,R,_,Z,Vi,Pi,Ri,Ii],styles:[`[_nghost-%COMP%]{display:block}forge-tab-bar[_ngcontent-%COMP%]{margin:16px 0}forge-tab-bar[_ngcontent-%COMP%]::part(container){justify-items:flex-start}forge-tab[_ngcontent-%COMP%]{min-width:240px}
/*# sourceMappingURL=tab-type.component-DB5P4CAU.css.map */`]});let o=t;return o})();var Xo=["table"];function Yo(o,t){if(o&1&&(p(0,"th",4)(1,"div",8)(2,"span",9),h(3),d()()()),o&2){let e=t.$implicit;l(3),O(e.label)}}function Ko(o,t){if(o&1&&(p(0,"td",10),u(1,"formly-field",14,1),d()),o&2){let e=t.$implicit,i=de(2);l(),c("field",e)("formlyFieldDirective",i)}}function Zo(o,t){if(o&1){let e=xe();p(0,"tr",6),X(1,Ko,3,2,"td",10,z),p(3,"td",11)(4,"forge-icon-button",12),G("click",function(){let r=ve(e).$index,n=g();return Fe(n.onRemove(r))}),u(5,"forge-icon",13),d()()()}if(o&2){let e=t.$implicit;l(),Y(e.fieldGroup)}}var no=(()=>{let t=class t extends Ki{constructor(){super(...arguments),this.tableElement=oe("table")}onAdd(){let i=this.props.columns.filter(r=>r.key?.length).map(r=>[r.key,r.defaultValue]);this.add(this.formControl.length,Object.fromEntries(i)),requestAnimationFrame(()=>{let r=Array.from(this.tableElement()?.nativeElement.querySelectorAll("tbody > tr")).reverse()[0];if(r){let n=r.querySelector(`[id*="${i[0][0]}"]`);n&&n.focus()}})}onRemove(i){this.remove(i)}};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=x(t)))(n||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-formly-table"]],viewQuery:function(r,n){r&1&&te(n.tableElement,Xo,5),r&2&&ie()},features:[b],decls:15,vars:0,consts:[["table",""],["formlyField",""],[1,"forge-table"],[1,"forge-table-row","forge-table-head__row"],["scope","col",1,"forge-table-cell","forge-table-head__cell"],[1,"forge-table-cell","forge-table-head__cell","forge-table-cell__button"],[1,"forge-table-row","forge-table-body__row"],[3,"click"],[1,"forge-table-head__cell-container"],[1,"forge-table-head__cell-text"],[1,"forge-table-cell","forge-table-body__cell"],[1,"forge-table-cell","forge-table-body__cell","forge-table-cell__button"],["aria-label","Delete",3,"click"],["name","delete"],[3,"field","formlyFieldDirective"]],template:function(r,n){if(r&1){let s=xe();p(0,"table",2,0)(2,"thead")(3,"tr",3),X(4,Yo,4,1,"th",4,z),u(6,"th",5),d()(),p(7,"tbody"),X(8,Zo,6,0,"tr",6,z),d(),p(10,"tfoot")(11,"tr")(12,"td")(13,"forge-button",7),G("click",function(){return ve(s),Fe(n.onAdd())}),h(14,"Add"),d()()()()()}r&2&&(l(4),Y(n.props.columns),l(4),Y(n.field.fieldGroup))},dependencies:[y,_,Z,Se],styles:[`[_nghost-%COMP%]{display:block}.forge-table-cell[_ngcontent-%COMP%]{padding-right:24px}.forge-table-cell[_ngcontent-%COMP%]:first-child{padding-left:0}.forge-table-cell[_ngcontent-%COMP%]:last-child{padding-right:0}.forge-table-cell__button[_ngcontent-%COMP%]{width:48px}.forge-table-body__cell[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px;vertical-align:top}.forge-table-body__cell[_ngcontent-%COMP%]   formly-field[_ngcontent-%COMP%]{background-color:var(--forge-theme-surface)}
/*# sourceMappingURL=table-type.component-TMREJAMB.css.map */`]});let o=t;return o})();var Jo=o=>({"app--hidden":o});function er(o,t){o&1&&(p(0,"forge-page-state"),u(1,"img",8),p(2,"div",9),h(3,"No records were found."),d()())}function tr(o,t){o&1&&(Bt(0),u(1,"forge-skeleton",10)(2,"forge-skeleton",10)(3,"forge-skeleton",10)(4,"forge-skeleton",10),Ht())}var so=(()=>{let t=class t{constructor(){this.dialogConfig=F(ui),this.dialogRef=F(hi),this.id=Hi.elementId("app-"),this.data=[],this.paginator={pageIndex:0,pageSize:25,total:0},this.isBusy=!1,this.unsubscribe=new A,this.sort={property:"",direction:ti.Ascending},this.filters=[],this.dialogTitle=this.dialogConfig.title||"",this.columnConfigurations=this.dialogConfig.columnConfigurations||[],this.dataObservable=this.dialogConfig.dataObservable,this.key=this.dialogConfig.key||"",this.sort.property=this.columnConfigurations.find(i=>i.initialSort)?.property||this.columnConfigurations[0].property,this.dialogRef.nativeElement.setAttribute("aria-labelledby",`${this.id}--title`),this.getData()}onClose(){this.dialogRef.close()}onPaginatorChange(i){this.paginator.pageIndex=i.pageIndex,this.paginator.pageSize=i.pageSize,this.getData()}onTableSort(i){this.sort.property=this.columnConfigurations[i.columnIndex].property,this.sort.direction=i.direction,this.paginator.pageIndex=0,this.getData()}onTableFilter(i){let r=this.columnConfigurations[i.columnIndex].property;if(Jt(i.value)&&i.value?.toString().length)this.filters.push({property:r,value:i.value});else{let n=this.filters.findIndex(s=>s.property===r);n!==-1&&this.filters.splice(n,1)}this.paginator.pageIndex=0,this.getData()}onTableRowClick(i){this.dialogRef.close(i.data[this.key])}getData(){this.unsubscribe.next(),this.unsubscribe.complete(),this.isBusy=!0;let i={filters:this.filters,sort:this.sort,skip:this.paginator.pageIndex*this.paginator.pageSize,take:this.paginator.pageSize};this.dataObservable(i).pipe(Dt(()=>this.isBusy=!1),B(this.unsubscribe)).subscribe(r=>{this.data=r.data,this.paginator.total=r.count})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-formly-field-help-dialog"]],decls:12,vars:13,consts:[["slot","header"],["slot","start",1,"forge-typography--heading4",3,"id"],["slot","end","aria-label","Close",1,"header__close",3,"click"],["name","close"],["slot","body"],["allow-row-click","","filter","true",3,"forge-table-row-click","forge-table-sort","forge-table-filter","ngClass","data","columnConfigurations"],["slot","footer","inverted","true"],["slot","end",3,"forge-paginator-change","pageIndex","pageSize","total","disabled"],["src","https://cdn.forge.tylertech.com/v1/images/spot/no-search-results-spot.svg","slot","graphic","alt","No records found"],["slot","message"],["list-item",""]],template:function(r,n){r&1&&(p(0,"forge-scaffold")(1,"forge-toolbar",0)(2,"h2",1),h(3),d(),p(4,"forge-icon-button",2),G("click",function(){return n.onClose()}),u(5,"forge-icon",3),d()(),p(6,"div",4)(7,"forge-table",5),G("forge-table-row-click",function(a){return n.onTableRowClick(a.detail)})("forge-table-sort",function(a){return n.onTableSort(a.detail)})("forge-table-filter",function(a){return n.onTableFilter(a.detail)}),d(),C(8,er,4,0,"forge-page-state"),C(9,tr,5,0,"ng-container"),d(),p(10,"forge-toolbar",6)(11,"forge-paginator",7),G("forge-paginator-change",function(a){return n.onPaginatorChange(a.detail)}),d()()()),r&2&&(l(2),c("id",n.id+"--title"),l(),$(" ",n.dialogTitle," "),l(4),c("ngClass",qt(11,Jo,n.isBusy))("data",n.data)("columnConfigurations",n.columnConfigurations),l(),v(!n.isBusy&&!n.data.length?8:-1),l(),v(n.isBusy?9:-1),l(2),c("pageIndex",n.paginator.pageIndex)("pageSize",n.paginator.pageSize)("total",n.paginator.total)("disabled",n.isBusy||!n.data.length))},dependencies:[y,zt,et,Je,Ke,Ze,bi,gi,vi,Ci,ki,Mi,Ai,Si,Gi,ji,Bi,Li],styles:[`[_nghost-%COMP%]{display:contents}forge-scaffold[_ngcontent-%COMP%]{height:90vh;width:90vw}






/*# sourceMappingURL=field-help-dialog.component-3QEUNXCW.css.map */`]});let o=t;return o})();function ir(o,t){if(o&1&&(p(0,"label",3),h(1),d()),o&2){let e=g();W("for",e.id),l(),O(e.props.label)}}function or(o,t){if(o&1&&(p(0,"span",6),u(1,"formly-validation-message",7),d()),o&2){let e=g();l(),c("field",e.field)}}var ao=(()=>{let t=class t extends E{constructor(){super(...arguments),this.dialogService=F(yi),this.moduleService=F(D),this.unsubscribe=new A}ngOnInit(){this.formControl.addAsyncValidators(i=>(this.unsubscribe.next(),this.unsubscribe.complete(),i.pristine?k(null):this.moduleService.validateField(this.field.key,i.value).pipe(B(this.unsubscribe),j(r=>r.invalid?{server:{message:r.message}}:null))))}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}onShowDialog(){this.dialogService.open(so,{data:{columnConfigurations:this.props.options.map(i=>({header:i.label,property:i.property,sortable:!0,filter:!0,filterDelegate:new ei})),dataObservable:i=>this.moduleService.getFieldHelp(this.key,i),key:this.props.optionsKey,title:`Select a ${this.props.label}`}}).afterClosed.subscribe({next:i=>{i&&this.formControl.setValue(i)}})}};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=x(t)))(n||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-formly-input-help"]],features:[b],decls:7,vars:10,consts:[["input",""],[3,"required","invalid"],["type","text",3,"id","placeholder","readonly","formControl","formlyAttributes"],["slot","label"],["slot","addon-end","dense","","aria-label","Browse options",3,"click","disabled"],["name","more_horiz"],["slot","helper-text"],[3,"field"]],template:function(r,n){if(r&1){let s=xe();p(0,"forge-text-field",1),u(1,"input",2,0),C(3,ir,2,2,"label",3),p(4,"forge-icon-button",4),G("click",function(){return ve(s),Fe(n.onShowDialog())}),u(5,"forge-icon",5),d(),C(6,or,2,1,"span",6),d()}r&2&&(c("required",n.props.required)("invalid",n.showError),l(),c("id",n.id)("placeholder",n.props.placeholder)("readonly",n.props.readonly)("formControl",n.formControl)("formlyAttributes",n.field),l(2),v(n.props.label?3:-1),l(),c("disabled",n.formControl.disabled),l(2),v(n.showError?6:-1))},dependencies:[y,R,ce,H,N,_,U,J,et,Je,Ke,Ze,fe,me],styles:[`[_nghost-%COMP%]{display:block}
/*# sourceMappingURL=input-help-type.component-CLCRKSDP.css.map */`]});let o=t;return o})();var lo=(()=>{let t=class t extends E{};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=x(t)))(n||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-formly-label"]],features:[b],decls:2,vars:2,consts:[[1,"forge-typography--body1"]],template:function(r,n){r&1&&(p(0,"label",0),h(1),d()),r&2&&(W("for",n.id),l(),O(n.props.label))},dependencies:[y,_],styles:[`[_nghost-%COMP%]{display:block}
/*# sourceMappingURL=label-type.component-X32ALPUZ.css.map */`]});let o=t;return o})();function rr(o,t){if(o&1&&(p(0,"label",0),h(1),d()),o&2){let e=g();W("for",e.id),l(),O(e.props.label)}}function nr(o,t){if(o&1&&h(0),o&2){let e=g().$implicit;$(" ",e.label," ")}}function sr(o,t){if(o&1&&(p(0,"forge-radio",2),C(1,nr,1,1),d()),o&2){let e=t.$implicit,i=t.$index,r=g();c("id",r.id+"-"+i)("name",r.id+"-radio-group")("value",e.value)("formControl",r.formControl)("formlyAttributes",r.field),l(),v(e.label?1:-1)}}function ar(o,t){if(o&1&&(p(0,"div",3),u(1,"formly-validation-message",4),d()),o&2){let e=g();l(),c("field",e.field)}}var po=(()=>{let t=class t extends E{};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=x(t)))(n||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-formly-radio"]],features:[b],decls:5,vars:3,consts:[["slot","label"],[3,"name"],[3,"id","name","value","formControl","formlyAttributes"],[1,"forge-typography--label1"],[3,"field"]],template:function(r,n){r&1&&(C(0,rr,2,2,"label",0),p(1,"forge-radio-group",1),X(2,sr,2,6,"forge-radio",2,z),d(),C(4,ar,2,1,"div",3)),r&2&&(v(n.props.label?0:-1),l(),c("name",n.id+"-radio-group"),l(),Y(n.props.options),l(2),v(n.showError?4:-1))},dependencies:[y,R,H,N,_,U,J,Ti,Ei,_i,xi,Fi],styles:[`[_nghost-%COMP%]{display:block}[role=radiogroup][_ngcontent-%COMP%]{margin-left:-8px;display:flex;column-gap:16px;flex-direction:column}forge-radio[_ngcontent-%COMP%]::part(container){padding:4px}.forge-typography--label1[_ngcontent-%COMP%]{color:var(--forge-theme-error)}
/*# sourceMappingURL=radio-type.component-GNLV5QNE.css.map */`]});let o=t;return o})();function lr(o,t){if(o&1&&(p(0,"span",1),u(1,"formly-validation-message",2),d()),o&2){let e=g();l(),c("field",e.field)}}var co=(()=>{let t=class t extends E{constructor(){super(...arguments),this.moduleService=F(D),this.unsubscribe=new A}ngOnInit(){this.formControl.addAsyncValidators(i=>(this.unsubscribe.next(),this.unsubscribe.complete(),i.pristine?k(null):this.moduleService.validateField(this.field.key,i.value).pipe(B(this.unsubscribe),j(r=>r.invalid?{server:{message:r.message}}:null))))}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=x(t)))(n||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-formly-select"]],features:[b],decls:2,vars:8,consts:[[3,"id","options","label","placeholder","invalid","formControl","formlyAttributes"],["slot","helper-text"],[3,"field"]],template:function(r,n){r&1&&(p(0,"forge-select",0),C(1,lr,2,1,"span",1),d()),r&2&&(c("id",n.id)("options",n.props.options)("label",n.props.label)("placeholder",n.props.placeholder)("invalid",n.showError)("formControl",n.formControl)("formlyAttributes",n.field),l(),v(n.showError?1:-1))},dependencies:[y,R,H,N,_,U,J,Di,wi,Oi],styles:[`[_nghost-%COMP%]{display:block}
/*# sourceMappingURL=select-type.component-OSAQDJMJ.css.map */`]});let o=t;return o})();var mo={prePopulate(o){switch(o.type){case"date-picker":case"input":case"select":case"textarea":}}};var fo=(()=>{let t=class t extends E{onClick(i){console.log(i)}};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=x(t)))(n||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-formly-button"]],features:[b],decls:2,vars:1,consts:[["variant","filled",3,"click"]],template:function(r,n){r&1&&(p(0,"forge-button",0),G("click",function(a){return n.onClick(a)}),h(1),d()),r&2&&(l(),$(" ",n.props.label," "))},dependencies:[y,li,ai],encapsulation:2});let o=t;return o})();var pr=["fieldContainer"];function dr(o,t){if(o&1&&(p(0,"div",2),h(1),d()),o&2){let e=g();l(),O(e.props.label)}}function cr(o,t){if(o&1&&u(0,"formly-field",3,1),o&2){let e=t.$implicit,i=de(1);c("field",e)("formlyFieldDirective",i)}}var uo=(()=>{let t=class t extends E{constructor(){super(...arguments),this.fieldContainer=oe("fieldContainer")}ngOnInit(){let i=this.fieldContainer()?.nativeElement;switch(this.field.props?.type){case"grid":i.classList.add("form-grid"),this.props.attributes.columns&&(i.style.gridTemplateColumns=`repeat(${this.props.attributes.columns}, auto)`);break;case"vbox":i.classList.add("form-vbox");break;case"hbox":i.classList.add("form-hbox");break;case"group":i.classList.add("form-group");break}}};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=x(t)))(n||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-formly-container"]],viewQuery:function(r,n){r&1&&te(n.fieldContainer,pr,5),r&2&&ie()},features:[b],decls:5,vars:1,consts:[["fieldContainer",""],["formlyField",""],[1,"label"],[3,"field","formlyFieldDirective"]],template:function(r,n){r&1&&(C(0,dr,2,1,"div",2),p(1,"div",null,0),X(3,cr,2,2,"formly-field",3,z),d()),r&2&&(v(n.props.label?0:-1),l(3),Y(n.field.fieldGroup))},dependencies:[y,_,Z,Se],styles:[`[_nghost-%COMP%]{display:inline-block}  .form-grid{display:grid;gap:16px}  .form-vbox{display:flex;flex-direction:column;row-gap:16px}  .form-hbox{display:flex;flex-direction:row;column-gap:16px}  .form-group{display:flex;flex-direction:column;row-gap:16px;border:1px solid #e6e6e6;border-radius:4px;padding:16px}.label[_ngcontent-%COMP%]{padding:8px}
/*# sourceMappingURL=container-type.component-MQ3N6MD3.css.map */`]});let o=t;return o})();var mr=["input"];function fr(o,t){if(o&1&&(p(0,"label",3),h(1),d()),o&2){let e=g();W("for",e.id),l(),O(e.props.label)}}function ur(o,t){if(o&1&&(p(0,"span",4),u(1,"formly-validation-message",5),d()),o&2){let e=g();l(),c("field",e.field)}}var ho=(()=>{let t=class t extends E{constructor(){super(...arguments),this.unsubscribe=new A,this.moduleService=F(D),this.inputElement=oe("input"),this.inputType="text"}ngOnInit(){this.inputType=this.props?.type||"text",this.formControl.addAsyncValidators(i=>(this.unsubscribe.next(),this.unsubscribe.complete(),i.pristine?k(null):this.moduleService.validateField(this.field.key,i.value).pipe(B(this.unsubscribe),j(r=>r.invalid?{server:{message:r.message}}:null))))}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}};t.\u0275fac=(()=>{let i;return function(n){return(i||(i=x(t)))(n||t)}})(),t.\u0275cmp=f({type:t,selectors:[["app-formly-input"]],viewQuery:function(r,n){r&1&&te(n.inputElement,mr,5),r&2&&ie()},features:[b],decls:5,vars:10,consts:[["input",""],[3,"required","invalid"],[3,"id","type","placeholder","readonly","formControl","formlyAttributes"],["slot","label"],["slot","helper-text"],[3,"field"]],template:function(r,n){r&1&&(p(0,"forge-text-field",1),u(1,"input",2,0),C(3,fr,2,2,"label",3),C(4,ur,2,1,"span",4),d()),r&2&&(c("required",n.props.required)("invalid",n.showError),l(),c("id",n.id)("type",n.inputType)("placeholder",n.props.placeholder)("readonly",n.props.readonly)("formControl",n.formControl)("formlyAttributes",n.field),l(2),v(n.props.label?3:-1),l(),v(n.showError?4:-1))},dependencies:[y,R,ce,H,N,_,U,J,fe,me],styles:[`[_nghost-%COMP%]{display:block}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}
/*# sourceMappingURL=input-type.component-W6SSNVSO.css.map */`]});let o=t;return o})();var yo=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Oe({type:t}),t.\u0275inj=Me({imports:[_.forRoot({extensions:[{name:"formly-field-extension",extension:mo}],types:[{name:"checkbox",component:to},{name:"date-picker",component:io},{name:"input",component:ho},{name:"input-help",component:ao},{name:"radio",component:po},{name:"select",component:co},{name:"textarea",component:oo},{name:"button",component:fo},{name:"container",component:uo},{name:"formly-group",component:eo},{name:"tab",component:ro},{name:"table",component:no},{name:"label",component:lo}]}),_]});let o=t;return o})();var hr=[{path:"**",component:Zi}],Ia=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Oe({type:t}),t.\u0275inj=Me({providers:[D],imports:[y,dt.forChild(hr),R,yo,Ji,dt]});let o=t;return o})();export{Ia as FormlyDemoModule};
//# sourceMappingURL=chunk-2E52FCHJ.js.map
