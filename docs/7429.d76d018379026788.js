"use strict";(self.webpackChunkdemo_ng_forge=self.webpackChunkdemo_ng_forge||[]).push([[7429],{36416:(X,j,v)=>{v.d(j,{BN:()=>k,Yc:()=>B,mx:()=>M});var E=v(71670),T=v(68327);const D="woff2",P=new Map;function M(p){return z.apply(this,arguments)}function z(){return(z=(0,E.Z)(function*(p){const b=B(p);let _=P.get(b);if(_)return _;const Z=new FontFace(p.family,`url('${T.default.fontsUrl}/woff2/${b}.${D}') format('${D}')`),O=document.fonts;return O.has(Z)&&"loading"===Z.status?Z.loaded:(_=Z.load(),P.set(b,_),O.add(Z),_)})).apply(this,arguments)}function k(p){if(!p)return"arial-unicode-ms";const b=p.toLowerCase().split(" ").join("-");switch(b){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return b}}function B(p){const b=function R(p){if(!p.weight)return"";switch(p.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(p)+function U(p){if(!p.style)return"";switch(p.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}(p);return k(p.family)+(b.length>0?b:"-regular")}},37429:(X,j,v)=>{v.r(j),v.d(j,{getContrastingBackgroundTheme:()=>N,getRenderSymbolParameters:()=>J,previewSymbol2D:()=>fe});var E=v(71670),T=v(25764),D=v(32995),P=v(36416),M=v(55798),z=v(64702),k=v(10532),B=v(31319);function O(n){const{r:e,g:a,b:o}=function Z(n){let{r:e,g:a,b:o,a:i}=n;return i<1&&(e=Math.round(i*e+255*(1-i)),a=Math.round(i*a+255*(1-i)),o=Math.round(i*o+255*(1-i))),new T.Z({r:e,g:a,b:o})}(n);return.2126*e+.7152*a+.0722*o}const $="picture-fill",q="picture-marker",ee="simple-fill",te="simple-line",ne="simple-marker",ae="text",se="Aa",oe=k.b_.size,A=k.b_.maxSize,re=k.b_.maxOutlineSize,le=k.b_.lineWidth,I=225,ie=document.createElement("canvas");function K(n,e){const a=ie.getContext("2d"),o=[];return e&&(e.weight&&o.push(e.weight),e.size&&o.push(e.size+"px"),e.family&&o.push(e.family)),a.font=o.join(" "),a.measureText(n).width}const ue=7.2/2.54,ce=72/2.54;function S(n){const e=n?.size;return{width:null!=e&&"object"==typeof e&&"width"in e?(0,M.F2)(e.width):null,height:null!=e&&"object"==typeof e&&"height"in e?(0,M.F2)(e.height):null}}function W(){return(W=(0,E.Z)(function*(n,e){const a=e.fill,o=n.color;if("pattern"===a?.type&&o&&n.type!==$){const i=yield(0,z.Od)(a.src,o.toCss(!0));a.src=i,e.fill=a}})).apply(this,arguments)}function G(){return(G=(0,E.Z)(function*(n,e,a,o){if(!("font"in n)||!n.font||"text"!==e.shape.type)return;try{yield(0,P.mx)(n.font)}catch{}const{width:i}=S(o),f=/[\uE600-\uE6FF]/.test(e.shape.text);null!=i||f||(a[0]=K(e.shape.text,{weight:e.font?.weight,size:e.font?.size,family:e.font?.family}))})).apply(this,arguments)}function H(n,e){return n>e?"dark":"light"}function J(n,e){const a="number"==typeof e?.size?e?.size:null,o=null!=a?(0,M.F2)(a):null,i=null!=e?.maxSize?(0,M.F2)(e.maxSize):null,f=null!=e?.rotation?e.rotation:"angle"in n?n.angle:null,w=(0,z._M)(n);let y=(0,z.mx)(n);"dark"!==N(n,245)||e?.ignoreWhiteSymbols||(y={width:.75,...y,color:"#bdc3c7"});const d={shape:null,fill:w,stroke:y,offset:[0,0]};y?.width&&(y.width=Math.min(y.width,re));const g=y?.width||0;let m=null!=e?.size&&(null==e?.scale||e?.scale),s=0,l=0,C=!1;switch(n.type){case ne:{const c=n.style,{width:h,height:u}=S(e),F=h===u&&null!=h?h:o??Math.min((0,M.F2)(n.size),i||A);switch(s=F,l=F,c){case"circle":d.shape={type:"circle",cx:0,cy:0,r:.5*F},m||(s+=g,l+=g);break;case"cross":d.shape={type:"path",path:[{command:"M",values:[0,.5*l]},{command:"L",values:[s,.5*l]},{command:"M",values:[.5*s,0]},{command:"L",values:[.5*s,l]}]};break;case"diamond":d.shape={type:"path",path:[{command:"M",values:[0,.5*l]},{command:"L",values:[.5*s,0]},{command:"L",values:[s,.5*l]},{command:"L",values:[.5*s,l]},{command:"Z",values:[]}]},m||(s+=g,l+=g);break;case"square":d.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[s,0]},{command:"L",values:[s,l]},{command:"L",values:[0,l]},{command:"Z",values:[]}]},m||(s+=g,l+=g),f&&(C=!0);break;case"triangle":d.shape={type:"path",path:[{command:"M",values:[.5*s,0]},{command:"L",values:[s,l]},{command:"L",values:[0,l]},{command:"Z",values:[]}]},m||(s+=g,l+=g),f&&(C=!0);break;case"x":d.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[s,l]},{command:"M",values:[s,0]},{command:"L",values:[0,l]}]},f&&(C=!0);break;case"path":d.shape={type:"path",path:n.path||""},m||(s+=g,l+=g),f&&(C=!0),m=!0}break}case te:{const{width:c,height:h}=S(e),u=h??o??g,F=c??le;y&&(y.width=u),s=F,l=u;const L=d?.stroke?.cap||"butt",x="round"===L;m=!0,d.stroke&&(d.stroke.cap="butt"===L?"square":L),d.shape={type:"path",path:[{command:"M",values:[x?u/2:0,l/2]},{command:"L",values:[x?s-u/2:s,l/2]}]};break}case $:case ee:{const c="object"==typeof e?.symbolConfig&&e?.symbolConfig.isSquareFill,{width:h,height:u}=S(e);s=!c&&h!==u||null==h?o??oe:h,l=!c&&h!==u||null==u?s:u,m||(s+=g,l+=g),m=!0,d.shape=c?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[s,0]},{command:"L",values:[s,l]},{command:"L",values:[0,l]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:k.JZ.fill[0];break}case q:{const c=Math.min((0,M.F2)(n.width),i||A),h=Math.min((0,M.F2)(n.height),i||A),{width:u,height:F}=S(e),L=u===F&&null!=u?u:o??Math.max(c,h),x=c/h;s=x<=1?Math.ceil(L*x):L,l=x<=1?L:Math.ceil(L/x),d.shape={type:"image",x:-Math.round(s/2),y:-Math.round(l/2),width:s,height:l,src:n.url||""},f&&(C=!0);break}case ae:{const c=n,h=e?.overrideText||c.text||se,u=c.font,{width:F,height:L}=S(e),x=L??o??Math.min((0,M.F2)(u.size),i||A),pe=K(h,{weight:u.weight,size:x,family:u.family}),Y=/[\uE600-\uE6FF]/.test(h);s=F??(Y?x:pe),l=x;let Q=.25*function he(n){if(0===n.length)return 0;if(n.length>2){const e=(0,M.Wz)(1),a=parseFloat(n);switch(n.slice(-2)){case"px":return a;case"pt":return a*e;case"in":return 72*a*e;case"pc":return 12*a*e;case"mm":return a*ue*e;case"cm":return a*ce*e}}return parseFloat(n)}((u?x:0).toString());Y&&(Q+=5),d.shape={type:"text",text:h,x:c.xoffset||0,y:c.yoffset||Q,align:"middle",alignBaseline:c.verticalAlignment,decoration:u&&u.decoration,rotated:c.rotated,kerning:c.kerning},d.font=u&&{size:x,style:u.style,decoration:u.decoration,weight:u.weight,family:u.family};break}}return{shapeDescriptor:d,size:[s,l],renderOptions:{node:e?.node,scale:m,opacity:e?.opacity,rotation:f,useRotationSize:C,effectView:e?.effectView}}}function fe(n,e){return V.apply(this,arguments)}function V(){return V=(0,E.Z)(function*(n,e){const{shapeDescriptor:a,size:o,renderOptions:i}=J(n,e);if(!a.shape)throw new D.Z("symbolPreview: renderPreviewHTML2D","symbol not supported.");yield function me(n,e){return W.apply(this,arguments)}(n,a),yield function de(n,e,a,o){return G.apply(this,arguments)}(n,a,o,e);const f=[[a]];if("object"==typeof e?.symbolConfig&&e?.symbolConfig.applyColorModulation){const w=.6*o[0];f.unshift([{...a,offset:[-w,0],fill:(0,k.dc)(a.fill,-.3)}]),f.push([{...a,offset:[w,0],fill:(0,k.dc)(a.fill,.3)}]),o[0]+=2*w,i.scale=!1}return(0,B.wh)(f,o,i)}),V.apply(this,arguments)}function N(n,e=I){const a=(0,z._M)(n),o=(0,z.mx)(n),i=!a||"type"in a?null:new T.Z(a),f=o?.color?new T.Z(o?.color):null,w=i?H(O(i),e):null,y=f?H(O(f),e):null;return y?w?w===y?w:e>=I?"light":"dark":y:w}}}]);
//# sourceMappingURL=7429.d76d018379026788.js.map