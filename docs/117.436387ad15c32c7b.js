"use strict";(self.webpackChunkdemo_ng_forge=self.webpackChunkdemo_ng_forge||[]).push([[117],{827:(R,M,p)=>{p.d(M,{D:()=>t});var e=p(8559),v=p(6443),m=p(3942),c=p(271),h=p(674),d=p(123);let t=(()=>{class i{constructor(){this.httpClient=(0,e.WQX)(v.Qq)}getProfile(){return this.httpClient.get("mock-data/profile.json")}getPeople(n){return this.httpClient.get("mock-data/people.json").pipe((0,c.T)(r=>{let g=r.length;return n&&(n.filters?.length&&(g=(r=d.A.filterData(r,n.filters.map(f=>({key:f.property,value:f.value,strict:"gender"===f.property||"id"===f.property})))).length),n.sort&&(r=d.A.sortData(r,n.sort.property,"string",n.sort.direction)),(0,h.Et)(n.skip)&&(0,h.Et)(n.take)&&(r=r.slice(n.skip,n.skip+n.take))),{count:g,data:r}}))}getPerson(n){return this.httpClient.get("mock-data/people.json").pipe((0,c.T)(r=>r.find(g=>g.id.toString()===n.toString())))}getSearches(n){return new m.c(r=>{let g=localStorage.getItem(n);(0,h.O9)(g)&&(g=JSON.parse(g)),r.next(g),r.complete()})}saveSearches(n,r){return new m.c(g=>{localStorage.setItem(n,JSON.stringify(r)),g.next(!0),g.complete()})}getLongRequest(){return this.httpClient.get("http://localhost:5000/long-request")}static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},2267:(R,M,p)=>{p.d(M,{h:()=>f});var e=p(8559),v=p(316),m=p(496),c=p(674),h=p(9879),d=p(123);const t=["rangeAutocomplete"],i=["rangeTemplate"],l=["filterInput"];function n(_,E){if(1&_&&(e.j41(0,"div",14),e.EFF(1),e.k0s()),2&_){const o=e.XpG(2);e.R7$(),e.JRh(o.rangeMessage)}}function r(_,E){if(1&_){const o=e.RV6();e.j41(0,"forge-list-item")(1,"forge-icon-button",16)(2,"button",17),e.bIt("click",function(){const a=e.eBV(o).$implicit,u=e.XpG(2);return e.Njj(u.onDeleteRangeOption(a))}),e.nrm(3,"forge-icon",18),e.k0s()(),e.EFF(4),e.k0s()}if(2&_){const o=E.$implicit;e.R7$(4),e.SpI(" ",o.label," ")}}function g(_,E){if(1&_){const o=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"span",8),e.EFF(3,"Enter a search range"),e.k0s(),e.j41(4,"div",9)(5,"forge-text-field")(6,"input",10),e.mxI("ngModelChange",function(a){e.eBV(o);const u=e.XpG();return e.DH7(u.rangeMin,a)||(u.rangeMin=a),e.Njj(a)}),e.k0s()(),e.j41(7,"span"),e.EFF(8,"to"),e.k0s(),e.j41(9,"forge-text-field")(10,"input",11),e.mxI("ngModelChange",function(a){e.eBV(o);const u=e.XpG();return e.DH7(u.rangeMax,a)||(u.rangeMax=a),e.Njj(a)}),e.k0s()(),e.j41(11,"forge-icon-button")(12,"button",12),e.bIt("click",function(){e.eBV(o);const a=e.XpG();return e.Njj(a.onAddRangeOption())}),e.nrm(13,"forge-icon",13),e.k0s()()(),e.DNE(14,n,2,1,"div",14),e.k0s(),e.j41(15,"forge-list",15),e.Z7z(16,r,5,1,"forge-list-item",null,e.Vm6),e.k0s(),e.nrm(18,"forge-divider"),e.k0s()}if(2&_){const o=e.XpG();e.R7$(6),e.R50("ngModel",o.rangeMin),e.BMQ("maxlength",o.maxlength),e.R7$(4),e.R50("ngModel",o.rangeMax),e.BMQ("maxlength",o.maxlength),e.R7$(4),e.vxM(14,o.rangeMessage?14:-1),e.R7$(2),e.Dyx(o.rangeOptions)}}let f=(()=>{class _{constructor(){this.ngZone=(0,e.WQX)(e.SKi),this.viewContainerRef=(0,e.WQX)(e.c1b),this.valueChange=new e.bkB,this.maxlength=null,this.rangeOptions=[],this.elementId=d.A.uniqueId(),this.filter="",this.onChange=o=>{},this.onTouched=()=>{},this.onFilter=o=>(this.filter=o,new Promise((s,a)=>{this.optionFilter&&this.optionFilter(this.filter).subscribe({next:u=>{const C=[];u.forEach(O=>(0,c.cy)(O.value)?this.rangeOptions.push(O):C.push(O)),s(C)},error:()=>a()})})),this.optionHeaderBuilder=()=>(this.ngZone.run(()=>{this.rangeMin=void 0,this.rangeMax=void 0,this.rangeMessage=void 0}),this.rangeRef?.rootNodes[0]),this.selectedTextBuilder=o=>{if(this.autocompleteRef?.nativeElement.open&&this.filter.length)return this.filter;const s=o?.length,a=this.rangeOptions?.length;return s>0&&a>0?`${s} option(s) selected, ${a} range(s)`:s>0?`${s} option(s) selected`:a>0?`${a} range(s)`:""}}autocompleteBlur(){this.onTouched()}set value(o){this.writeValue(o)}writeValue(o){const s=[];this.rangeOptions.length=0,(0,c.cy)(o)&&o.forEach(a=>{if((0,c.cy)(a)||(0,c.cy)(a.value)){const u=(0,c.O9)(a.value)?a.value:a;this.rangeOptions.push({label:`${u[0]} to ${u[1]}`,value:u})}else s.push(a)}),window.requestAnimationFrame(()=>{this.autocompleteRef.nativeElement.value=s})}ngAfterViewInit(){window.requestAnimationFrame(()=>{this.rangeRef=this.viewContainerRef.createEmbeddedView(this.rangeTemplateRef),this.rangeRef.rootNodes[0].remove()})}ngOnDestroy(){this.rangeRef?.destroy()}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}onAutocompleteChange(){this.emitChangeEvents()}onAddRangeOption(){if(this.rangeMin?.length||this.rangeMax?.length){if(this.rangeMin=(0,c.Kg)(this.rangeMin)?this.rangeMin?.trim():this.rangeMin,this.rangeMax=(0,c.Kg)(this.rangeMax)?this.rangeMax?.trim():this.rangeMax,this.rangeMin?.length&&this.rangeMax?.length){const a=d.A.comparator(this.rangeMin,this.rangeMax,"string");if(0===a)return void(this.rangeMessage="Min and Max cannot be the same value.");if(1===a)return void(this.rangeMessage="Min value cannot be greater than Max value.")}-1===this.rangeOptions.findIndex(a=>a.value[0]===this.rangeMin&&a.value[1]===this.rangeMax)?(this.rangeMessage=void 0,this.rangeOptions.push({label:this.rangeMin?.length&&this.rangeMax?.length?`${this.rangeMin} to ${this.rangeMax}`:this.rangeMin?.length?`Greater than ${this.rangeMin}`:`Less than ${this.rangeMax}`,value:[this.rangeMin,this.rangeMax]}),this.emitChangeEvents(),this.rangeMin=void 0,this.rangeMax=void 0,this.filterInputRef.nativeElement.value=this.selectedTextBuilder(this.autocompleteRef?.nativeElement.value)):this.rangeMessage="This range is already defined."}else this.rangeMessage="A min or max value is required."}onDeleteRangeOption(o){(this.rangeRef?.rootNodes[0]).focus();const s=this.rangeOptions.findIndex(a=>a.value===o.value);-1!==s&&(this.rangeOptions.splice(s,1),this.filterInputRef.nativeElement.value=this.selectedTextBuilder(this.autocompleteRef?.nativeElement.value),this.emitChangeEvents())}emitChangeEvents(){const o=[];(0,c.cy)(this.rangeOptions)&&this.rangeOptions.length&&o.push(...this.rangeOptions.map(a=>a.value));const s=this.autocompleteRef?.nativeElement.value;(0,c.cy)(s)&&s.length&&o.push(...s),this.onChange(o),this.valueChange.emit(o)}static#e=this.\u0275fac=function(s){return new(s||_)};static#t=this.\u0275cmp=e.VBU({type:_,selectors:[["app-autocomplete-range"]],viewQuery:function(s,a){if(1&s&&(e.GBs(t,5),e.GBs(i,5),e.GBs(l,5)),2&s){let u;e.mGM(u=e.lsd())&&(a.autocompleteRef=u.first),e.mGM(u=e.lsd())&&(a.rangeTemplateRef=u.first),e.mGM(u=e.lsd())&&(a.filterInputRef=u.first)}},hostBindings:function(s,a){1&s&&e.bIt("focusout",function(C){return a.autocompleteBlur(C)})},inputs:{optionFilter:"optionFilter",value:"value",label:"label",maxlength:"maxlength"},outputs:{valueChange:"valueChange"},standalone:!0,features:[e.Jv_([{provide:m.kq,useExisting:(0,e.Rfq)(()=>_),multi:!0}]),e.aNF],decls:10,vars:6,consts:[["rangeAutocomplete",""],["filterInput",""],["rangeTemplate",""],["multiple","",3,"forge-autocomplete-change","filter","selectedTextBuilder","popupHeaderBuilder"],["type","text"],["slot","trailing","name","arrow_drop_down",1,"forge-dropdown-icon"],["tabindex","-1",1,"range"],[1,"range__input"],[1,"forge-typography--subtitle1","range__input__header"],[1,"range__input__body"],["type","text","placeholder","min",3,"ngModelChange","ngModel"],["type","text","placeholder","max",3,"ngModelChange","ngModel"],["type","button","aria-label","Add search range",3,"click"],["name","add"],[1,"forge-typography--caption"],[1,"range__options"],["slot","leading"],["type","button","aria-label","Delete search range",3,"click"],["name","delete"]],template:function(s,a){if(1&s){const u=e.RV6();e.j41(0,"forge-autocomplete",3,0),e.bIt("forge-autocomplete-change",function(){return e.eBV(u),e.Njj(a.onAutocompleteChange())}),e.j41(2,"forge-text-field"),e.nrm(3,"input",4,1),e.j41(5,"label"),e.EFF(6),e.k0s(),e.nrm(7,"forge-icon",5),e.k0s()(),e.DNE(8,g,19,5,"ng-template",null,2,e.C5r)}2&s&&(e.Y8G("filter",a.onFilter)("selectedTextBuilder",a.selectedTextBuilder)("popupHeaderBuilder",a.optionHeaderBuilder),e.R7$(3),e.BMQ("id",a.elementId),e.R7$(2),e.BMQ("for",a.elementId),e.R7$(),e.JRh(a.label))},dependencies:[v.MD,m.YN,m.me,m.BC,m.vS,h.UHk,h.sHR,h.b$f,h.heP,h.nVi,h.xBz,h.RlV,h.vzf,h.nkw,h.Ptl,h.svQ,h.sB8,h.xYY,h.LHr],styles:["\n\n\n\n\n[_nghost-%COMP%]{display:block}.range[_ngcontent-%COMP%]{outline:none}.range__input[_ngcontent-%COMP%]{padding-left:16px}.range__input__header[_ngcontent-%COMP%]{font-size:14px}.range__input__body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr auto;column-gap:8px;align-items:center}.range__input[_ngcontent-%COMP%]   .forge-typography--caption[_ngcontent-%COMP%]{color:#b00020;color:var(--forge-theme-danger, #b00020)}.range__options[_ngcontent-%COMP%]{--forge-list-item-padding: 0 16px 0 4px;--forge-list-item-leading-margin-right: 4px}"]})}return _})()},123:(R,M,p)=>{p.d(M,{A:()=>h});var e=p(316),v=p(6443),m=p(1604),c=p(674);class h{static sortData(t,i,l,n){return t&&t.length?(l=l||"string","DESC"!==n&&(n="ASC"),t.slice().sort((r,g)=>(r=(0,m.De)(r,i),g=(0,m.De)(g,i),"DESC"===n?this.comparator(g,r,l):this.comparator(r,g,l)))):t}static groupData(t,i){return(0,c.cy)(t)&&t.length&&i?.length?t.reduce((l,n)=>{const r=n[i];return l[r]||(l[r]=[]),l[r].push(n),l},{}):t}static filterData(t,i){if(!((0,c.cy)(t)&&t.length&&(0,c.cy)(i)&&i.length))return t;i=i.map(n=>{if((0,c.Kg)(n.value)&&n.value.length){let r;if("<>"===n.value.substring(0,2)){if(2===n.value.length)return n.value="",n;r=n.value.substring(0,2),n.value=n.value.substring(2)}else if("<"===n.value.substring(0,1)||">"===n.value.substring(0,1)){if(1===n.value.length)return n.value="",n;r=n.value.substring(0,1),n.value=n.value.substring(1)}r&&Object.defineProperty(n,"operator",{value:r})}return n.value=(""+n.value).toLowerCase(),n});const l=n=>i.every(r=>{if(!r.value.length)return!0;const g=(""+(0,m.De)(n,r.key)).toLowerCase();if(!g.length)return!1;if(r.strict)return g===r.value;switch(r.operator){case"<>":return 0!==this.comparator(g,r.value,r.type);case">":return this.comparator(g,r.value,r.type)>0;case"<":return this.comparator(g,r.value,r.type)<0;default:return g.indexOf(r.value)>-1}});return t.filter(n=>l(n))}static comparator(t,i,l="string"){if(t==i)return 0;if(!(0,c.O9)(t))return-1;if(!(0,c.O9)(i))return 1;switch(l){case"boolean":return t?-1:1;case"date":if(t=new Date(t).getTime(),isNaN(t))return-1;if(i=new Date(i).getTime(),isNaN(i))return 1;break;case"number":if(t=parseFloat(t),isNaN(t))return-1;if(i=parseFloat(i),isNaN(i))return 1;break;default:return isNaN(parseFloat(t))||isNaN(parseFloat(i))?(""+t).localeCompare(""+i):(""+t).localeCompare(""+i,navigator.language,{numeric:!0})}return t<i?-1:t>i?1:0}static navigateBack(t,i,l){1===t.getState()?.navigationId?i.navigate(l):t.back()}static elementId(t){return t+Math.random().toString(36).replace(/[^a-z]+/g,"")}static formatDate(t,i="MM/dd/yyyy"){return(0,c.O9)(t)?(0,e.Yq)(t,i,navigator.language):""}static formatNumber(t,i="1.2-2"){return(0,e.ZV)(t,navigator.language,i)}static uniqueId(){return Math.random().toString(36).substring(2)}static parseQueryStringParameters(){const t={},i=window.location.href.indexOf("?");if(-1!==i){const l=new v.Nl({fromString:window.location.href.substring(i)});l.keys().forEach(n=>{const r=l.getAll(n);r.length&&Object.defineProperty(t,n.toLowerCase(),{value:1===r.length?r[0]:r,enumerable:!0,writable:!0})})}return t}static reduceObject(t){const i={};return Object.keys(t).forEach(l=>{(0,c.O9)(t[l])&&((0,c.cy)(t[l])?t[l].length&&(i[l]=t[l]):(t[l]+"").trim().length&&(i[l]="string"==typeof t[l]?t[l].trim():t[l]))}),i}}}}]);
//# sourceMappingURL=117.436387ad15c32c7b.js.map