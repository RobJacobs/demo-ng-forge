{
  "version": 3,
  "sources": ["src/app/css-variables/css-variables.component.ts", "src/app/css-variables/css-variables.component.html"],
  "sourcesContent": ["import { Component, effect, inject } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { debounce } from '@tylertech/forge-core';\r\nimport { CellAlign, IColumnConfiguration } from '@tylertech/forge';\r\nimport { ForgeTableModule, ForgeTextFieldModule, ForgeToolbarModule } from '@tylertech/forge-angular';\r\nimport { AppCacheService } from '../app-cache.service';\r\n\r\n@Component({\r\n  selector: 'app-css-variables',\r\n  imports: [FormsModule, ForgeTableModule, ForgeTextFieldModule, ForgeToolbarModule],\r\n  templateUrl: './css-variables.component.html',\r\n  styleUrl: './css-variables.component.scss'\r\n})\r\nexport class CssVariablesComponent {\r\n  private appCache = inject(AppCacheService);\r\n  private globalCssVariables = new Map<string, string>();\r\n  public recordset = Array.from(this.globalCssVariables);\r\n  public tableColumns: IColumnConfiguration[] = [\r\n    {\r\n      property: '0',\r\n      header: 'Name'\r\n    },\r\n    {\r\n      header: 'Color',\r\n      width: 48,\r\n      align: CellAlign.Center,\r\n      template: (rowIndex: number, cellElement: HTMLElement, data: [string, string]) => {\r\n        if ((data[1].startsWith('#') && data[1].length === 7) || data[1].startsWith('rgba')) {\r\n          const divElement = document.createElement('div');\r\n          divElement.style.height = '32px';\r\n          divElement.style.width = '32px';\r\n          divElement.style.backgroundColor = `var(${data[0]})`;\r\n          cellElement.appendChild(divElement);\r\n        }\r\n        return '';\r\n      }\r\n    },\r\n    { property: '1', header: 'Value' }\r\n  ];\r\n  public variableFilter = '';\r\n\r\n  constructor() {\r\n    effect(() => {\r\n      if (this.appCache.theme()) {\r\n        setTimeout(() => {\r\n          this.loadCSSVariables();\r\n        }, 100);\r\n      }\r\n    });\r\n  }\r\n\r\n  public onFilter = debounce(() => {\r\n    this.recordset = Array.from(this.globalCssVariables).filter((v) => v[1].includes(this.variableFilter));\r\n  }, 500);\r\n\r\n  private loadCSSVariables() {\r\n    this.globalCssVariables.clear();\r\n\r\n    Array.from(document.styleSheets).forEach((ss) => {\r\n      try {\r\n        Array.from(ss.cssRules)\r\n          .filter((ssRule) => ssRule.cssText.startsWith(':root') || ssRule.cssText.startsWith('.forge-theme-dark'))\r\n          .sort((a, b) => {\r\n            if (this.appCache.theme() === 'dark') {\r\n              return a.cssText.startsWith(':root') ? -1 : 1;\r\n            } else {\r\n              return a.cssText.startsWith(':root') ? 1 : -1;\r\n            }\r\n          })\r\n          .forEach((ssRule) => {\r\n            ssRule.cssText\r\n              .split('{')[1]\r\n              .replace('}', '')\r\n              .split(';')\r\n              .map((r) => r.trim())\r\n              .filter((r) => r.startsWith('--forge'))\r\n              .map((r) => {\r\n                const rule = r.split(':');\r\n                return { name: rule[0].trim(), value: rule[1].trim() };\r\n              })\r\n              .forEach((r) => {\r\n                this.globalCssVariables.set(r.name, r.value);\r\n              });\r\n          });\r\n      } catch {}\r\n    });\r\n    this.recordset = Array.from(this.globalCssVariables).sort((a, b) => (a > b ? 1 : b > a ? -1 : 0));\r\n  }\r\n}\r\n", "<forge-toolbar class=\"header\">\n  <h2 slot=\"start\" class=\"forge-typography--subheading4\">Forge CSS Variables</h2>\n  <forge-text-field slot=\"start\">\n    <input type=\"text\" [(ngModel)]=\"variableFilter\" (input)=\"onFilter()\" placeholder=\"Filter\" aria-label=\"Filter variables\" />\n  </forge-text-field>\n</forge-toolbar>\n\n<div class=\"body\">\n  <div class=\"body__table\">\n    <forge-table [columnConfigurations]=\"tableColumns\" [data]=\"recordset\"></forge-table>\n  </div>\n</div>\n"],
  "mappings": "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",
  "names": ["CssVariablesComponent", "constructor", "appCache", "inject", "AppCacheService", "globalCssVariables", "Map", "recordset", "Array", "from", "tableColumns", "property", "header", "width", "align", "CellAlign", "Center", "template", "rowIndex", "cellElement", "data", "startsWith", "length", "divElement", "document", "createElement", "style", "height", "backgroundColor", "appendChild", "variableFilter", "onFilter", "debounce", "filter", "v", "includes", "effect", "theme", "setTimeout", "loadCSSVariables", "clear", "styleSheets", "forEach", "ss", "cssRules", "ssRule", "cssText", "sort", "a", "b", "split", "replace", "map", "r", "trim", "rule", "name", "value", "set", "e", "selectors", "decls", "vars", "consts", "rf", "ctx", "\u0275\u0275elementStart", "\u0275\u0275text", "\u0275\u0275elementEnd", "\u0275\u0275twoWayListener", "$event", "i0", "\u0275\u0275twoWayBindingSet", "\u0275\u0275listener", "\u0275\u0275element", "\u0275\u0275advance", "\u0275\u0275twoWayProperty", "\u0275\u0275property", "FormsModule", "DefaultValueAccessor", "NgControlStatus", "NgModel", "ForgeTableModule", "TableComponent", "ForgeTextFieldModule", "TextFieldComponent", "ForgeToolbarModule", "ToolbarComponent", "styles"]
}
