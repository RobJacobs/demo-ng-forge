{"version":3,"file":"6019.ce8f50a0f27c828d.js","mappings":"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","names":["C","hasAttachments","capabilities","useStandardizedQueries","supportsCoordinatesQuantization","supportsReturningQueryGeometry","advancedQueryCapabilities","supportsQueryAttachments","supportsStatistics","supportsPercentileStatistics","supportsReturningGeometryCentroid","supportsQueryWithDistance","supportsDistinct","supportsReturningQueryExtent","supportsReturningGeometryProperties","supportsHavingClause","supportsOrderBy","supportsPagination","supportsQueryWithResultType","supportsSqlExpression","supportsDisjointSpatialRel","D","constructor","_this","this","_queryEngine","_snapshotFeatures","_ref","_asyncToGenerator","e","t","_fetch","_createFeatures","_x","apply","arguments","destroy","_fieldsIndex","_createDefaultAttributes","load","_this2","_loadOptions","url","customParameters","i","_checkProjection","spatialReference","r","signal","n","_","geometryType","a","fields","u","hasZ","l","d","objectIdField","objectIdFieldName","p","o","c","timeInfo","unknownFields","length","push","name","message","details","h","R","get","type","editable","nullable","alias","objectIdFieldType","unshift","m","s","field","k","O","f","requiredFields","indexOf","splice","startTimeField","endTimeField","trackIdField","I","F","j","warnings","featureErrors","layerDefinition","drawingInfo","templates","E","extent","g","hasM","featureStore","y","cacheSpatialQueries","b","w","_objectIdGenerator","_createObjectIdGenerator","T","_normalizeFeatures","addMany","fullExtent","x","timeExtent","q","fetchRecomputedExtents","start","end","applyEdits","_this3","Promise","all","adds","updates","_waitSnapshotComplete","_applyEdits","queryFeatures","_this4","executeQuery","queryFeatureCount","_this5","executeQueryForCount","queryObjectIds","_this6","executeQueryForIds","queryExtent","_this7","executeQueryForExtent","querySnapping","_this8","executeQueryForSnapping","refresh","_this9","_snapshotTask","abort","promise","then","clear","error","_this10","geometry","_this11","finished","_this12","responseType","query","data","attributes","_assignObjectId","objectId","_this13","deletes","addResults","deleteResults","updateResults","uidToObjectId","_applyAddEdits","_applyUpdateEdits","removeManyById","featureEditResults","uid","S","has","getFeature","add","fieldsIndex","Date","now","toString","Number","NEGATIVE_INFINITY","Math","max","LineString","MultiLineString","MultiPoint","Point","Polygon","MultiPolygon","features","coordinates","G","P","M","lengths","coords","crs","properties","code","RegExp","test","L","Set","id","Object","keys","filter","delete","Array","from","renderer","symbol","JSON","stringify","Function","description","prototype","analytics","supportsCacheHint","attachment","isVersioned","supportsAttachment","supportsM","supportsZ","metadata","supportsAdvancedFieldProperties","operations","supportsCalculate","supportsTruncate","supportsValidateSql","supportsAdd","supportsDelete","supportsEditing","supportsChangeTracking","supportsQuery","supportsQueryAnalytics","supportsQueryTopFeatures","supportsResizeAttachments","supportsSync","supportsUpdate","supportsExceedsLimitStatistics","queryRelated","supportsCount","queryTopFeatures","editing","supportsGeometryUpdate","supportsGlobalId","supportsReturnServiceEditsInSourceSpatialReference","supportsRollbackOnFailure","supportsUpdateWithoutM","supportsUploadWithItemId","supportsDeleteByAnonymous","supportsDeleteByOthers","supportsUpdateByAnonymous","supportsUpdateByOthers"],"sourceRoot":"webpack:///","sources":["./node_modules/@arcgis/core/layers/graphics/sources/geojson/GeoJSONSourceWorker.js","./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js","./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../request.js\";import{createTask as t}from\"../../../../core/asyncUtils.js\";import s from\"../../../../core/Error.js\";import i from\"../../../../core/Logger.js\";import{isSome as r}from\"../../../../core/maybe.js\";import{isAbortError as n}from\"../../../../core/promiseUtils.js\";import{getJsonType as a}from\"../../../../geometry/support/jsonUtils.js\";import{WGS84 as o,equals as u}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{convertFromGeometry as l,convertToGeometry as d,convertFromFeatures as p,convertToFeature as c,convertFromFeature as h}from\"../../featureConversionUtils.js\";import y from\"../../data/FeatureStore.js\";import{checkProjectionSupport as m,project as f}from\"../../data/projectionSupport.js\";import{QueryEngine as g}from\"../../data/QueryEngine.js\";import{inferLayerProperties as _,createOptimizedFeatures as I,validateGeoJSON as j}from\"./geojson.js\";import{createDrawingInfo as F,createDefaultTemplate as E,createDefaultAttributesFunction as b}from\"../support/clientSideDefaults.js\";import{loadGeometryEngineForSimplify as w,mixAttributes as T,createFeatureEditSuccessResult as x,createFeatureEditErrorResult as q,simplify as S}from\"../support/sourceUtils.js\";import R from\"../../../support/FieldsIndex.js\";import{kebabDict as k}from\"../../../support/fieldType.js\";import{getFieldDefaultValue as O}from\"../../../support/fieldUtils.js\";const C={hasAttachments:!1,capabilities:\"query, editing, create, delete, update\",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}};class D{constructor(){this._queryEngine=null,this._snapshotFeatures=async e=>{const t=await this._fetch(e);return this._createFeatures(t)}}destroy(){this._queryEngine?.destroy(),this._queryEngine=this._fieldsIndex=this._createDefaultAttributes=null}async load(e,t={}){this._loadOptions={url:e.url,customParameters:e.customParameters};const i=[];await this._checkProjection(e.spatialReference);let r=null;e.url&&(r=await this._fetch(t?.signal));const n=_(r,{geometryType:e.geometryType}),a=e.fields||n.fields||[],u=null!=e.hasZ?e.hasZ:n.hasZ,l=n.geometryType;let d=e.objectIdField||n.objectIdFieldName||\"__OBJECTID\";const p=e.spatialReference||o;let c=e.timeInfo;a===n.fields&&n.unknownFields.length>0&&i.push({name:\"geojson-layer:unknown-field-types\",message:\"Some fields types couldn't be inferred from the features and were dropped\",details:{unknownFields:n.unknownFields}});let h=new R(a).get(d);h?(\"esriFieldTypeString\"!==h.type&&(h.type=\"esriFieldTypeOID\"),h.editable=!1,h.nullable=!1,d=h.name):(h={alias:d,name:d,type:\"string\"===n.objectIdFieldType?\"esriFieldTypeString\":\"esriFieldTypeOID\",editable:!1,nullable:!1},a.unshift(h));const m={};for(const o of a){if(null==o.name&&(o.name=o.alias),null==o.alias&&(o.alias=o.name),!o.name)throw new s(\"geojson-layer:invalid-field-name\",\"field name is missing\",{field:o});if(!k.jsonValues.includes(o.type))throw new s(\"geojson-layer:invalid-field-type\",`invalid type for field \"${o.name}\"`,{field:o});if(o.name!==h.name){const e=O(o);void 0!==e&&(m[o.name]=e)}}this._fieldsIndex=new R(a);const f=this._fieldsIndex.requiredFields.indexOf(h);if(f>-1&&this._fieldsIndex.requiredFields.splice(f,1),c){if(c.startTimeField){const e=this._fieldsIndex.get(c.startTimeField);e?(c.startTimeField=e.name,e.type=\"esriFieldTypeDate\"):c.startTimeField=null}if(c.endTimeField){const e=this._fieldsIndex.get(c.endTimeField);e?(c.endTimeField=e.name,e.type=\"esriFieldTypeDate\"):c.endTimeField=null}if(c.trackIdField){const e=this._fieldsIndex.get(c.trackIdField);e?c.trackIdField=e.name:(c.trackIdField=null,i.push({name:\"geojson-layer:invalid-timeInfo-trackIdField\",message:\"trackIdField is missing\",details:{timeInfo:c}}))}c.startTimeField||c.endTimeField||(i.push({name:\"geojson-layer:invalid-timeInfo\",message:\"startTimeField and endTimeField are missing\",details:{timeInfo:c}}),c=null)}const I=l?F(l):void 0,j={warnings:i,featureErrors:[],layerDefinition:{...C,drawingInfo:I??void 0,templates:E(m),extent:void 0,geometryType:l,objectIdField:d,fields:a,hasZ:!!u,timeInfo:c}};this._queryEngine=new g({fields:a,geometryType:l,hasM:!1,hasZ:u,objectIdField:d,spatialReference:p,timeInfo:c,featureStore:new y({geometryType:l,hasM:!1,hasZ:u}),cacheSpatialQueries:!0}),this._createDefaultAttributes=b(m,d);const w=await this._createFeatures(r);this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,w);const T=this._normalizeFeatures(w,j.warnings,j.featureErrors);this._queryEngine.featureStore.addMany(T);const{fullExtent:x,timeExtent:q}=await this._queryEngine.fetchRecomputedExtents();if(j.layerDefinition.extent=x,q){const{start:e,end:t}=q;j.layerDefinition.timeInfo.timeExtent=[e,t]}return j}async applyEdits(e){const{spatialReference:t,geometryType:s}=this._queryEngine;return await Promise.all([w(t,s),m(e.adds,t),m(e.updates,t)]),await this._waitSnapshotComplete(),this._applyEdits(e)}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(e){this._loadOptions.customParameters=e,this._snapshotTask?.abort(),this._snapshotTask=t(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,e);const t=this._normalizeFeatures(e);t&&this._queryEngine.featureStore.addMany(t)}),(e=>{this._queryEngine.featureStore.clear(),n(e)||i.getLogger(\"esri.layers.GeoJSONLayer\").error(new s(\"geojson-layer:refresh\",\"An error occurred during refresh\",{error:e}))})),await this._waitSnapshotComplete();const{fullExtent:r,timeExtent:a}=await this._queryEngine.fetchRecomputedExtents();return{extent:r,timeExtent:a}}async _createFeatures(e){if(null==e)return[];const{geometryType:t,hasZ:s,objectIdField:i}=this._queryEngine,n=I(e,{geometryType:t,hasZ:s,objectIdField:i});if(!u(this._queryEngine.spatialReference,o))for(const a of n)r(a.geometry)&&(a.geometry=l(f(d(a.geometry,this._queryEngine.geometryType,this._queryEngine.hasZ,!1),o,this._queryEngine.spatialReference)));return n}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _fetch(t){const{url:s,customParameters:i}=this._loadOptions,r=(await e(s,{responseType:\"json\",query:{...i},signal:t})).data;return await j(r),r}_normalizeFeatures(e,t,s){const{objectIdField:i}=this._queryEngine,r=[];for(const n of e){const e=this._createDefaultAttributes(),a=T(this._fieldsIndex,e,n.attributes,!0,t);a?s?.push(a):(this._assignObjectId(e,n.attributes,!0),n.attributes=e,n.objectId=e[i],r.push(n))}return r}async _applyEdits(e){const{adds:t,updates:s,deletes:i}=e,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(t&&t.length&&this._applyAddEdits(r,t),s&&s.length&&this._applyUpdateEdits(r,s),i&&i.length){for(const e of i)r.deleteResults.push(x(e));this._queryEngine.featureStore.removeManyById(i)}const{fullExtent:n,timeExtent:a}=await this._queryEngine.fetchRecomputedExtents();return{extent:n,timeExtent:a,featureEditResults:r}}_applyAddEdits(e,t){const{addResults:s}=e,{geometryType:i,hasM:n,hasZ:o,objectIdField:u,spatialReference:l,featureStore:d}=this._queryEngine,c=[];for(const p of t){if(p.geometry&&i!==a(p.geometry)){s.push(q(\"Incorrect geometry type.\"));continue}const t=this._createDefaultAttributes(),n=T(this._fieldsIndex,t,p.attributes);if(n)s.push(n);else{if(this._assignObjectId(t,p.attributes),p.attributes=t,null!=p.uid){const t=p.attributes[u];e.uidToObjectId[p.uid]=t}if(r(p.geometry)){const e=p.geometry.spatialReference??l;p.geometry=f(S(p.geometry,e),e,l)}c.push(p),s.push(x(p.attributes[u]))}}d.addMany(p([],c,i,o,n,u))}_applyUpdateEdits({updateResults:e},t){const{geometryType:s,hasM:i,hasZ:n,objectIdField:o,spatialReference:u,featureStore:l}=this._queryEngine;for(const d of t){const{attributes:t,geometry:p}=d,y=t&&t[o];if(null==y){e.push(q(`Identifier field ${o} missing`));continue}if(!l.has(y)){e.push(q(`Feature with object id ${y} missing`));continue}const m=c(l.getFeature(y),s,n,i);if(r(p)){if(s!==a(p)){e.push(q(\"Incorrect geometry type.\"));continue}const t=p.spatialReference??u;m.geometry=f(S(p,t),t,u)}if(t){const s=T(this._fieldsIndex,m.attributes,t);if(s){e.push(s);continue}}l.add(h(m,s,n,i,o)),e.push(x(y))}}_createObjectIdGenerator(e,t){const s=e.fieldsIndex.get(e.objectIdField);if(\"esriFieldTypeString\"===s.type)return()=>s.name+\"-\"+Date.now().toString(16);let i=Number.NEGATIVE_INFINITY;for(const r of t)r.objectId&&(i=Math.max(i,r.objectId));return i=Math.max(0,i)+1,()=>i++}_assignObjectId(e,t,s=!1){const i=this._queryEngine.objectIdField;e[i]=s&&i in t?t[i]:this._objectIdGenerator()}async _checkProjection(e){try{await m(o,e)}catch{throw new s(\"geojson-layer\",\"Projection not supported\")}}}export{D as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import{OptimizedFeature as t}from\"../../OptimizedFeature.js\";import n from\"../../OptimizedGeometry.js\";import{normalizeFieldName as o,isNumericField as r}from\"../../../support/fieldUtils.js\";const i={LineString:\"esriGeometryPolyline\",MultiLineString:\"esriGeometryPolyline\",MultiPoint:\"esriGeometryMultipoint\",Point:\"esriGeometryPoint\",Polygon:\"esriGeometryPolygon\",MultiPolygon:\"esriGeometryPolygon\"};function s(e){return i[e]}function*c(e){switch(e.type){case\"Feature\":yield e;break;case\"FeatureCollection\":for(const t of e.features)t&&(yield t)}}function*u(e){if(e)switch(e.type){case\"Point\":yield e.coordinates;break;case\"LineString\":case\"MultiPoint\":yield*e.coordinates;break;case\"MultiLineString\":case\"Polygon\":for(const t of e.coordinates)yield*t;break;case\"MultiPolygon\":for(const t of e.coordinates)for(const e of t)yield*e}}function*l(e,o={}){const{geometryType:r,objectIdField:i}=o;for(const c of e){const{geometry:e,properties:u,id:l}=c;if(e&&s(e.type)!==r)continue;const f=u||{};let a;i&&(a=f[i],null==l||a||(f[i]=a=l));const y=new t(e?g(new n,e,o):null,f,null,a??void 0);yield y}}function f(e){for(const t of e)if(t.length>2)return!0;return!1}function a(e){return!p(e)}function y(e){return p(e)}function p(e){let t=0;for(let n=0;n<e.length;n++){const o=e[n],r=e[(n+1)%e.length];t+=o[0]*r[1]-r[0]*o[1]}return t<=0}function d(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function g(e,t,n){switch(t.type){case\"LineString\":return m(e,t,n);case\"MultiLineString\":return h(e,t,n);case\"MultiPoint\":return w(e,t,n);case\"MultiPolygon\":return P(e,t,n);case\"Point\":return b(e,t,n);case\"Polygon\":return j(e,t,n)}}function m(e,t,n){return G(e,t.coordinates,n),e}function h(e,t,n){for(const o of t.coordinates)G(e,o,n);return e}function w(e,t,n){return G(e,t.coordinates,n),e}function P(e,t,n){for(const o of t.coordinates){S(e,o[0],n);for(let t=1;t<o.length;t++)F(e,o[t],n)}return e}function b(e,t,n){return k(e,t.coordinates,n),e}function j(e,t,n){const o=t.coordinates;S(e,o[0],n);for(let r=1;r<o.length;r++)F(e,o[r],n);return e}function S(e,t,n){const o=d(t);a(o)?M(e,o,n):G(e,o,n)}function F(e,t,n){const o=d(t);y(o)?M(e,o,n):G(e,o,n)}function G(e,t,n){for(const o of t)k(e,o,n);e.lengths.push(t.length)}function M(e,t,n){for(let o=t.length-1;o>=0;o--)k(e,t[o],n);e.lengths.push(t.length)}function k(e,t,n){const[o,r,i]=t;e.coords.push(o,r),n.hasZ&&e.coords.push(i||0)}function O(e){switch(typeof e){case\"string\":return\"esriFieldTypeString\";case\"number\":return\"esriFieldTypeDouble\";default:return\"unknown\"}}function T(t){if(!t)throw new e(\"geojson-layer:empty\",\"GeoJSON data is empty\");if(\"Feature\"!==t.type&&\"FeatureCollection\"!==t.type)throw new e(\"geojson-layer:unsupported-geojson-object\",\"missing or not supported GeoJSON object type\",{data:t});const{crs:n}=t;if(!n)return;const o=\"string\"==typeof n?n:\"name\"===n.type?n.properties.name:\"EPSG\"===n.type?n.properties.code:null,r=new RegExp(\".*(CRS84H?|4326)$\",\"i\");if(!o||!r.test(o))throw new e(\"geojson-layer:unsupported-crs\",\"unsupported GeoJSON 'crs' member\",{crs:n})}function L(e,t={}){const n=[],i=new Set,l=new Set;let a,y=!1,p=null,d=!1,{geometryType:g=null}=t,m=!1;for(const r of c(e)){const{geometry:e,properties:t,id:c}=r;if(!e||(g||(g=s(e.type)),s(e.type)===g)){if(!y){y=f(u(e))}if(d||(d=null!=c,d&&(a=typeof c,t&&(p=Object.keys(t).filter((e=>t[e]===c))))),t&&p&&d&&null!=c&&(p.length>1?p=p.filter((e=>t[e]===c)):1===p.length&&(p=t[p[0]]===c?p:[])),!m&&t){let e=!0;for(const r in t){if(i.has(r))continue;const s=t[r];if(null==s){e=!1,l.add(r);continue}const c=O(s);if(\"unknown\"===c){l.add(r);continue}l.delete(r),i.add(r);const u=o(r);u&&n.push({name:u,alias:r,type:c})}m=e}}}const h=o(1===p?.length&&p[0]||null)??void 0;if(h)for(const o of n)if(o.name===h&&r(o)){o.type=\"esriFieldTypeOID\";break}return{fields:n,geometryType:g,hasZ:y,objectIdFieldName:h,objectIdFieldType:a,unknownFields:Array.from(l)}}function I(e,t){return Array.from(l(c(e),t))}export{I as createOptimizedFeatures,s as getGeometryType,L as inferLayerProperties,T as validateGeoJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{queryCapabilities as s}from\"../../data/QueryEngineCapabilities.js\";import{defaultPointSymbolJSON as e,defaultPolylineSymbolJSON as r,defaultPolygonSymbolJSON as p}from\"../../../../symbols/support/defaultsJSON.js\";function o(t){return{renderer:{type:\"simple\",symbol:\"esriGeometryPoint\"===t||\"esriGeometryMultipoint\"===t?e:\"esriGeometryPolyline\"===t?r:p}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let n=1;function i(t,s){if(has(\"esri-csp-restrictions\"))return()=>({[s]:null,...t});try{let e=`this.${s} = null;`;for(const s in t){e+=`this${u.test(s)?`.${s}`:`[\"${s}\"]`} = ${JSON.stringify(t[s])};`}const r=new Function(`\\n      return class AttributesClass$${n++} {\\n        constructor() {\\n          ${e};\\n        }\\n      }\\n    `)();return()=>new r}catch(e){return()=>({[s]:null,...t})}}function a(s={}){return[{name:\"New Feature\",description:\"\",prototype:{attributes:t(s)}}]}function l(t,e){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:e,supportsDelete:e,supportsEditing:e,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:e,supportsExceedsLimitStatistics:!0},query:s,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:e,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}export{l as createCapabilities,i as createDefaultAttributesFunction,a as createDefaultTemplate,o as createDrawingInfo};\n"],"x_google_ignoreList":[0,1,2]}