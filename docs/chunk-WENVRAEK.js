import"./chunk-NUSI2DU5.js";import{a as Ke}from"./chunk-4MBYNTGL.js";import{e as $e,f as He}from"./chunk-K4YWFBVI.js";import{a as $,c as H,d as je}from"./chunk-R7V53CEE.js";import"./chunk-5TVGHEO5.js";import"./chunk-IJTEU5B7.js";import"./chunk-PSWJZLWW.js";import"./chunk-2L7WIVZ3.js";import{a as j}from"./chunk-Z76A6HPR.js";import{a as Le}from"./chunk-ZFUNNH2G.js";import"./chunk-PLUZN74Z.js";import{$c as we,Ab as me,Bb as A,Db as de,Fb as S,Gb as R,Sc as Se,Tb as q,Tc as xe,Ub as V,Uc as ye,Vc as Me,Wc as Pe,Zc as Ge,_c as Oe,ed as Ee,fd as Te,g as ie,gd as ke,hd as Ie,i as b,id as De,jc as ce,jd as Ne,kc as fe,kd as Ae,lb as I,lc as ue,ld as Re,md as qe,nb as f,nd as Ve,oc as ge,pb as D,pc as he,qb as _,qc as Ce,qd as B,rd as L,sb as N,tb as d,tc as z,uc as U,v as ae,vb as pe,vc as ve,vd as ze,w as le,wc as be,wd as Ue,x as se,xc as _e,xd as Be,yb as F,yc as Fe}from"./chunk-J2NQVBDA.js";import{Ab as E,Bb as Z,Cb as J,Db as W,Eb as m,Fb as e,Gb as o,Hb as p,Ib as X,Jb as Y,Lb as T,Ob as g,Pb as v,Va as oe,Xa as s,ac as l,cc as y,d as te,da as M,hb as C,hc as re,ia as c,lc as Q,mc as k,na as P,nc as ne,oa as G,oc as ee,ra as O,zb as w}from"./chunk-XKIGUEIR.js";import"./chunk-OY7QI42D.js";var Ze=(()=>{let t=class t{constructor(){this.toastService=c(ze)}show(a){let r=this.toastService.show({message:`${a}`,actionHandler:()=>r.close(),placement:"bottom",duration:3e3})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var h=(()=>{let t=class t{constructor(){this.formGroup=new N({personalFormGroup:new N({firstName:new d(null,{validators:[f.required]}),lastName:new d(null,{validators:[f.required]}),gender:new d(null),email:new d(null,{validators:[f.required]}),phone:new d(null,{validators:[f.required]}),dateOfBirth:new d(null),comment:new d(null),rank:new d(5),size:new d(null),citizen:new d(!1),entryDate:new d(null),friends:new de([])}),addressFormGroup:new N({name:new d(null,{validators:[f.required]}),street:new d(null,{validators:[f.required]}),city:new d(null,{validators:[f.required]}),state:new d(null,{validators:[f.required]}),zip:new d(null,{validators:[f.required]})})})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=M({token:t,factory:t.\u0275fac});let i=t;return i})();var Je=(i,t)=>[i,t];function tt(i,t){if(i&1){let u=T();e(0,"img",14),g("error",function(r){P(u);let n=v();return G(n.onImageError(r))}),o()}if(i&2){let u=v();m("src",u.imageUrl,oe)}}function ot(i,t){i&1&&p(0,"forge-icon",8)}function rt(i,t){i&1&&p(0,"forge-icon",8)}var Ye=(()=>{let t=class t{constructor(){this.destroyRef=c(O),this.router=c(se),this.route=c(ae),this.appDataService=c(j),this.dialogService=c(ge),this.appToastService=c(Ze),this.cache=c(h),this.noImageUrl="mock-data/no-image.png",this.activeTab=0}get personalFormGroup(){return this.cache.formGroup.controls.personalFormGroup}get addressFormGroup(){return this.cache.formGroup.controls.addressFormGroup}ngOnInit(){this.cache.profile&&this.loadForm(this.cache.profile),this.route.snapshot.children.map(a=>a.url.map(r=>r.path)).flat().includes("address")&&(this.activeTab=1)}canDeactivate(){return this.cache.formGroup.dirty?new te(a=>{this.dialogService.open($e,{options:{persistent:!0},data:{title:"Unsaved changes",message:"You have unsaved changes which will be lost, do you want to continue?"}}).afterClosed.subscribe({next:r=>{r&&this.cache.formGroup.reset(),a.next(r)}})}):!0}onLoadProfile(){this.appDataService.getProfile().pipe(R(this.destroyRef)).subscribe({next:a=>{this.cache.formGroup.reset(),this.cache.profile=a,this.loadForm(this.cache.profile)}})}onTabSelected(a){switch(this.activeTab){case 0:this.personalFormGroup.markAsTouched();break;case 1:this.addressFormGroup.markAsTouched();break}switch(a){case"personal":this.activeTab=0;break;case"address":this.activeTab=1;break}this.router.navigate([`profile/${a}`])}onSave(){this.cache.formGroup.invalid||(this.cache.profile=this.parseForm(this.cache.profile?.id),this.cache.formGroup.markAsPristine(),this.appToastService.show("Profile saved."))}onCancel(){this.cache.formGroup.reset(),this.cache.formGroup.markAsPristine(),this.imageUrl=void 0,this.cache.profile=void 0}onImageError(a){let r=a.target;r.src.includes(this.noImageUrl)||(r.src=this.noImageUrl,r.onerror=null)}isInvalid(a){return a.every(r=>r===!0)}loadForm(a){this.imageUrl=`mock-data/${Le.formatNumber(this.cache.profile?.id,"2.0-0")}-small.png`,this.personalFormGroup.controls.friends?.clear(),this.personalFormGroup.patchValue(a),this.addressFormGroup.patchValue(a.address)}parseForm(a){return{id:a||-1,firstName:this.personalFormGroup.value.firstName,lastName:this.personalFormGroup.value.lastName,gender:this.personalFormGroup.value.gender,email:this.personalFormGroup.value.email,phone:this.personalFormGroup.value.phone,dateOfBirth:this.personalFormGroup.value.dateOfBirth,address:this.addressFormGroup.value}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=C({type:t,selectors:[["app-profile"]],decls:29,vars:21,consts:[[1,"header"],["slot","start"],[1,"forge-typography--subheading4"],["alt","",3,"src"],["slot","end"],["variant","outlined",3,"click"],["secondary","",3,"activeTab"],["aria-controls","app--profile--personal",3,"forge-tab-select"],["slot","end","name","error"],["aria-controls","app--profile--address",3,"forge-tab-select"],[1,"body"],["novalidate","","autocomplete","off",3,"formGroup"],["inverted","",1,"footer"],["variant","filled",3,"click","disabled"],["alt","",3,"error","src"]],template:function(r,n){r&1&&(e(0,"forge-toolbar",0)(1,"div",1)(2,"h2",2),l(3,"Profile"),o(),w(4,tt,1,1,"img",3),o(),e(5,"div",4)(6,"forge-button",5),g("click",function(){return n.onLoadProfile()}),l(7," Load profile "),o()()(),e(8,"forge-tab-bar",6)(9,"forge-tab",7),g("forge-tab-select",function(){return n.onTabSelected("personal")}),l(10," Personal "),w(11,ot,1,0,"forge-icon",8),k(12,"appCallback"),o(),e(13,"forge-tab",9),g("forge-tab-select",function(){return n.onTabSelected("address")}),l(14," Address "),w(15,rt,1,0,"forge-icon",8),k(16,"appCallback"),o()(),e(17,"div",10)(18,"form",11),p(19,"router-outlet"),e(20,"p"),l(21),k(22,"json"),o()()(),e(23,"forge-toolbar",12)(24,"div",4)(25,"forge-button",5),g("click",function(){return n.onCancel()}),l(26,"Cancel"),o(),e(27,"forge-button",13),g("click",function(){return n.onSave()}),l(28," Save "),o()()()),r&2&&(s(4),E(n.imageUrl?4:-1),s(4),m("activeTab",n.activeTab),s(3),E(ee(12,7,Q(15,Je,n.personalFormGroup.invalid,n.personalFormGroup.touched),n.isInvalid)?11:-1),s(4),E(ee(16,10,Q(18,Je,n.addressFormGroup.invalid,n.addressFormGroup.touched),n.isInvalid)?15:-1),s(3),m("formGroup",n.cache.formGroup),s(3),y(" ",ne(22,13,n.cache.formGroup.getRawValue())," "),s(6),m("disabled",n.cache.formGroup.invalid||!n.cache.formGroup.dirty))},dependencies:[b,ie,le,S,pe,_,F,V,q,U,z,Ve,qe,Ae,Re,Be,Ue,Ke],styles:[`[_nghost-%COMP%]{display:grid;grid-template-rows:auto auto 1fr auto;overflow:hidden;background-color:var(--forge-theme-surface)}.header[_ngcontent-%COMP%]{overflow:hidden;--forge-toolbar-border-bottom: none}.header[_ngcontent-%COMP%]   [slot=end][_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center}.header[_ngcontent-%COMP%]   [slot=end][_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   [slot=start][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin:0 16px}forge-tab-bar[_ngcontent-%COMP%]::part(container){justify-items:flex-start}forge-tab-bar[_ngcontent-%COMP%]   forge-tab[_ngcontent-%COMP%]{min-width:240px}forge-tab-bar[_ngcontent-%COMP%]   forge-tab[_ngcontent-%COMP%]   forge-icon[_ngcontent-%COMP%]{color:var(--forge-theme-error)}.body[_ngcontent-%COMP%]{padding:24px;overflow:auto}.footer[_ngcontent-%COMP%]   [slot=end][_ngcontent-%COMP%]   forge-button[_ngcontent-%COMP%]{margin-left:16px}






/*# sourceMappingURL=profile.component-TKDIKGHP.css.map */`]});let i=t;return i})();var Qe=(()=>{let t=class t{constructor(){this.cache=c(h)}get formGroup(){return this.cache.formGroup.controls.addressFormGroup}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=C({type:t,selectors:[["app-profile-address"]],hostAttrs:["role","tabpanel","id","app--profile--address"],decls:32,vars:6,consts:[[1,"form-grid",3,"formGroup"],["required","",1,"form-grid--row-break",3,"appFormControlInvalid"],["type","text","id","profile--address--name","formControlName","name","appAutoFocus",""],["for","profile--address--name","slot","label"],["slot","support-text",1,"app--form-control-invalid"],["type","text","id","profile--address--street","formControlName","street"],["for","profile--address--street","slot","label"],["required","",3,"appFormControlInvalid"],["type","text","id","profile--address-city","formControlName","city"],["for","profile--address--city","slot","label"],[1,"form-grid__state-zip"],["type","text","id","profile--address--state","formControlName","state"],["for","profile--address--state","slot","label"],["type","text","id","profile--address--zip","formControlName","zip"],["for","profile--address--zip","slot","label"]],template:function(r,n){r&1&&(e(0,"div",0)(1,"forge-text-field",1),p(2,"input",2),e(3,"label",3),l(4,"Name"),o(),e(5,"span",4),l(6,"Name is required"),o()(),e(7,"forge-text-field",1),p(8,"input",5),e(9,"label",6),l(10,"Street"),o(),e(11,"span",4),l(12,"Street is required"),o()(),e(13,"forge-text-field",7),p(14,"input",8),e(15,"label",9),l(16,"City"),o(),e(17,"span",4),l(18,"City is required"),o()(),e(19,"div",10)(20,"forge-text-field",7),p(21,"input",11),e(22,"label",12),l(23,"State"),o(),e(24,"span",4),l(25,"State is required"),o()(),e(26,"forge-text-field",7),p(27,"input",13),e(28,"label",14),l(29,"Zip code"),o(),e(30,"span",4),l(31,"Zip code is required"),o()()()()),r&2&&(m("formGroup",n.formGroup),s(),m("appFormControlInvalid",n.formGroup.controls.name),s(6),m("appFormControlInvalid",n.formGroup.controls.street),s(6),m("appFormControlInvalid",n.formGroup.controls.city),s(7),m("appFormControlInvalid",n.formGroup.controls.state),s(6),m("appFormControlInvalid",n.formGroup.controls.zip))},dependencies:[b,S,I,D,_,F,A,L,B,H,$],styles:[`[_nghost-%COMP%]{display:block}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,320px);gap:16px}.form-grid--row-break[_ngcontent-%COMP%]{grid-column-start:1}.form-grid--col-span[_ngcontent-%COMP%]{grid-column:1/-1}.form-grid--col-span.form-grid--col-span[_ngcontent-%COMP%]{width:auto}.form-grid--col-span2[_ngcontent-%COMP%]{grid-column:span 2}.form-grid--col-span2.form-grid--col-span2[_ngcontent-%COMP%]{width:656px}.form-grid--col-span3[_ngcontent-%COMP%]{grid-column:span 3}.form-grid--col-span3.form-grid--col-span3[_ngcontent-%COMP%]{width:992px}.form-grid[_ngcontent-%COMP%]   [slot=value][_ngcontent-%COMP%]:empty:before{content:"n/a";color:var(--forge-theme-text-medium);font-style:italic}.form-grid__name[_ngcontent-%COMP%], .form-grid__street[_ngcontent-%COMP%]{grid-column:1/-1}.form-grid__state-zip[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;column-gap:16px}






/*# sourceMappingURL=address.component-XDA7ANSV.css.map */`]});let i=t;return i})();function nt(i,t){if(i&1&&(e(0,"forge-radio",24),l(1),o()),i&2){let u=t.$implicit;m("value",re(u.value)),s(),y(" ",u.label," ")}}function it(i,t){if(i&1){let u=T();e(0,"div",29)(1,"forge-select",31)(2,"span",5),l(3,"A friend is required"),o()(),e(4,"forge-icon-button",32),g("click",function(){let r=P(u).$index,n=v();return G(n.onDeleteFriend(r))}),p(5,"forge-icon",33),o()()}if(i&2){let u=t.$index,a=v();s(),m("options",a.friendOptions)("formControlName",u)("appFormControlInvalid",a.formGroup.controls.friends.controls[u])}}var et=(()=>{let t=class t{constructor(){this.destroyRef=c(O),this.cache=c(h),this.appDataService=c(j),this.genderOptions=[{label:"",value:null},{label:"Male",value:"M"},{label:"Female",value:"F"},{label:"Undecided",value:"U"}],this.friendOptions=[],this.sizeOptions=[{label:"Small",value:"sm"},{label:"Medium",value:"md"},{label:"Large",value:"lg"}]}get formGroup(){return this.cache.formGroup.controls.personalFormGroup}get friendsFormArray(){return this.formGroup.controls.friends}ngOnInit(){this.appDataService.getPeople().pipe(R(this.destroyRef)).subscribe({next:a=>{this.friendOptions=a.data.map(r=>({label:`${r.firstName} ${r.lastName}`,value:r.id}))}})}onAddFriend(){this.friendsFormArray.push(new d(null,{validators:[f.required]}))}onDeleteFriend(a){this.friendsFormArray.removeAt(a)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=C({type:t,selectors:[["app-profile-personal"]],hostAttrs:["role","tabpanel","id","app--profile--personal"],decls:60,vars:8,consts:[[3,"formGroup"],[1,"form-grid"],["required","",3,"appFormControlInvalid"],["type","text","id","profile--personal--first-name","formControlName","firstName","appAutoFocus","",3,"appInputCasing"],["for","profile--personal--first-name","slot","label"],["slot","support-text",1,"app--form-control-invalid"],["type","text","id","profile--personal--last-name","formControlName","lastName"],["for","profile--personal--last-name","slot","label"],["label","Gender","formControlName","gender",3,"options"],["type","text","id","profile--personal--email","formControlName","email"],["for","profile--personal--email","slot","label"],["type","text","id","profile--personal--phone","formControlName","phone"],["for","profile--personal--phone","slot","label"],["formControlName","dateOfBirth"],["type","text","id","profile--personal--dob"],["for","profile--personal--dob"],[1,"form-grid__comment","form-grid--col-span"],["type","text","id","profile--personal--comment","formControlName","comment","rows","4"],["for","profile--personal--comment"],[2,"--forge-label-value-align","stretch"],["slot","label"],["slot","value"],["min","0","max","10","formControlName","rank"],["slot","value","aria-label","Choose a size option","name","profile--personal--size"],["name","profile--personal--size","formControlName","size",3,"value"],["formControlName","citizen"],["label","Entry date","formControlName","entryDate"],[1,"friends"],["formArrayName","friends"],[1,"friend"],["variant","filled",3,"click"],["label","Friend",3,"options","formControlName","appFormControlInvalid"],["aria-label","Delete",3,"click"],["name","delete"]],template:function(r,n){r&1&&(X(0,0),e(1,"div",1)(2,"forge-text-field",2),p(3,"input",3),e(4,"label",4),l(5,"First name"),o(),e(6,"span",5),l(7,"First name is required"),o()(),e(8,"forge-text-field",2),p(9,"input",6),e(10,"label",7),l(11,"Last name"),o(),e(12,"span",5),l(13,"Last name is required"),o()(),p(14,"forge-select",8),e(15,"forge-text-field",2),p(16,"input",9),e(17,"label",10),l(18,"Email"),o(),e(19,"span",5),l(20,"Email is required"),o()(),e(21,"forge-text-field",2),p(22,"input",11),e(23,"label",12),l(24,"Phone"),o(),e(25,"span",5),l(26,"Phone number is required"),o()(),e(27,"forge-date-picker",13)(28,"forge-text-field"),p(29,"input",14),e(30,"label",15),l(31,"Date of birth"),o()()(),e(32,"forge-text-field",16),p(33,"textarea",17),e(34,"label",18),l(35,"Comment"),o()(),e(36,"forge-label-value",19)(37,"span",20),l(38),o(),e(39,"div",21),p(40,"forge-slider",22),o()(),e(41,"forge-label-value")(42,"span",20),l(43,"Size"),o(),e(44,"forge-radio-group",23),J(45,nt,2,3,"forge-radio",24,Z),o()(),e(47,"forge-label-value")(48,"span",20),l(49,"Citizen"),o(),e(50,"div",21),p(51,"forge-switch",25),o()(),p(52,"app-date-time",26),o(),p(53,"forge-divider"),e(54,"div",27),X(55,28),J(56,it,6,3,"div",29,Z),e(58,"forge-button",30),g("click",function(){return n.onAddFriend()}),l(59," Add friend"),o(),Y(),o(),Y()),r&2&&(m("formGroup",n.formGroup),s(2),m("appFormControlInvalid",n.formGroup.controls.firstName),s(),m("appInputCasing","upper"),s(5),m("appFormControlInvalid",n.formGroup.controls.lastName),s(6),m("options",n.genderOptions),s(),m("appFormControlInvalid",n.formGroup.controls.email),s(6),m("appFormControlInvalid",n.formGroup.controls.phone),s(17),y("Rank ",n.formGroup.value.rank),s(7),W(n.sizeOptions),s(11),W(n.formGroup.controls.friends.controls))},dependencies:[b,S,I,D,_,F,A,me,V,q,ue,fe,ce,Ce,he,be,ve,z,U,Fe,_e,Pe,Me,xe,ye,Se,we,Oe,Ge,ke,Te,Ee,Ne,De,Ie,L,B,H,je,He,$],styles:[`[_nghost-%COMP%]{display:block}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,320px);gap:16px}.form-grid--row-break[_ngcontent-%COMP%]{grid-column-start:1}.form-grid--col-span[_ngcontent-%COMP%]{grid-column:1/-1}.form-grid--col-span.form-grid--col-span[_ngcontent-%COMP%]{width:auto}.form-grid--col-span2[_ngcontent-%COMP%]{grid-column:span 2}.form-grid--col-span2.form-grid--col-span2[_ngcontent-%COMP%]{width:656px}.form-grid--col-span3[_ngcontent-%COMP%]{grid-column:span 3}.form-grid--col-span3.form-grid--col-span3[_ngcontent-%COMP%]{width:992px}.form-grid[_ngcontent-%COMP%]   [slot=value][_ngcontent-%COMP%]:empty:before{content:"n/a";color:var(--forge-theme-text-medium);font-style:italic}.form-grid__comment[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none}forge-divider[_ngcontent-%COMP%]{margin:16px 0}.friends[_ngcontent-%COMP%]   .friend[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:flex-end;padding-bottom:16px}.friends[_ngcontent-%COMP%]   .friend[_ngcontent-%COMP%]   forge-select[_ngcontent-%COMP%]{min-width:320px}






/*# sourceMappingURL=personal.component-M6VCUE6W.css.map */`]});let i=t;return i})();var Xt=[{path:"",component:Ye,canDeactivate:[i=>i.canDeactivate()],providers:[h],children:[{path:"address",component:Qe},{path:"personal",component:et},{path:"",redirectTo:"personal",pathMatch:"full"}]}];export{Xt as PROFILE_ROUTES};
//# sourceMappingURL=chunk-WENVRAEK.js.map
