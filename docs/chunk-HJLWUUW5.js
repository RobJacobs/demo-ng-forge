import{o as h}from"./chunk-WNYBMKHL.js";import{da as a,g as i,ia as o,tb as p}from"./chunk-LKW6WE5H.js";var y=(()=>{let r=class r{constructor(){this.httpClient=o(h),this.ngZone=o(p)}initialize(c){let e=new i,t=()=>{window.grecaptcha.enterprise.ready(()=>{this.ngZone.run(()=>{e.next(),e.complete()})})};if(this.reCaptchaSiteKey=c,document.querySelector(`script[src="https://www.google.com/recaptcha/enterprise.js?render=${this.reCaptchaSiteKey}"`))t();else{let s=document.createElement("script");s.src=`https://www.google.com/recaptcha/enterprise.js?render=${this.reCaptchaSiteKey}`,s.async=!0,s.defer=!0,s.onload=()=>{t()},document.body.appendChild(s)}return e}executeChallenge(c){this.ngZone.runOutsideAngular(()=>{window.grecaptcha.enterprise.reset(this.reCaptchaSiteKey)});let e=new i;return window.grecaptcha.enterprise.ready(()=>{try{window.grecaptcha.enterprise.execute(this.reCaptchaSiteKey,{action:c}).then(t=>{e.next(t),e.complete()}).catch(t=>{e.error(t),e.complete()})}catch(t){e.error(t),e.complete()}}),e.asObservable()}assessToken(c,e,t){let s={event:{token:e,expectedAction:t,siteKey:this.reCaptchaSiteKey}};return this.httpClient.post(`https://recaptchaenterprise.googleapis.com/v1/projects/test-3844b/assessments?key=${c}`,s)}};r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a({token:r,factory:r.\u0275fac});let n=r;return n})();export{y as a};
//# sourceMappingURL=chunk-HJLWUUW5.js.map
