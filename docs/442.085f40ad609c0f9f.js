"use strict";(self.webpackChunkdemo_ng_forge=self.webpackChunkdemo_ng_forge||[]).push([[442],{4635:(O,M,u)=>{u.d(M,{U:()=>n});var e=u(2235),m=u(9736),h=u(4135),_=u(5162),d=u(1699),C=u(4860);let n=(()=>{class r{constructor(t){this.httpClient=t}getProfile(){return this.httpClient.get("mock-data/profile.json")}getPeople(t){return this.httpClient.get("mock-data/people.json").pipe((0,m.U)(a=>{let g=a.length;return t&&(t.filters?.length&&(g=(a=_.c.filterData(a,t.filters.map(p=>({key:p.property,value:p.value,strict:"gender"===p.property||"id"===p.property})))).length),t.sort&&(a=_.c.sortData(a,t.sort.property,"string",t.sort.direction)),(0,h.hj)(t.skip)&&(0,h.hj)(t.take)&&(a=a.slice(t.skip,t.skip+t.take))),{count:g,data:a}}))}getPerson(t){return this.httpClient.get("mock-data/people.json").pipe((0,m.U)(a=>a.find(g=>g.id.toString()===t.toString())))}getSearches(t){return new e.y(a=>{let g=localStorage.getItem(t);(0,h.$K)(g)&&(g=JSON.parse(g)),a.next(g),a.complete()})}saveSearches(t,a){return new e.y(g=>{localStorage.setItem(t,JSON.stringify(a)),g.next(!0),g.complete()})}getLongRequest(){return this.httpClient.get("http://localhost:5000/long-request")}}return r.\u0275fac=function(t){return new(t||r)(d.LFG(C.eN))},r.\u0275prov=d.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},4808:(O,M,u)=>{u.d(M,{v:()=>g});var e=u(1699),m=u(2024),h=u(4135),_=u(5162),d=u(6575);const C=["rangeAutocomplete"],n=["rangeTemplate"],r=["filterInput"];function s(p,f){if(1&p&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&p){const o=e.oxw(2);e.xp6(1),e.Oqu(o.rangeMessage)}}function t(p,f){if(1&p){const o=e.EpF();e.TgZ(0,"forge-list-item")(1,"forge-icon-button",18)(2,"button",19),e.NdJ("click",function(){const c=e.CHM(o).$implicit,v=e.oxw(2);return e.KtG(v.onDeleteRangeOption(c))}),e._UZ(3,"forge-icon",20),e.qZA()(),e._uU(4),e.qZA()}if(2&p){const o=f.$implicit;e.xp6(4),e.hij(" ",o.label," ")}}function a(p,f){if(1&p){const o=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"span",8),e._uU(3,"Enter a search range"),e.qZA(),e.TgZ(4,"div",9)(5,"forge-text-field")(6,"input",10),e.NdJ("ngModelChange",function(i){e.CHM(o);const c=e.oxw();return e.KtG(c.rangeMin=i)}),e.qZA()(),e.TgZ(7,"span"),e._uU(8,"to"),e.qZA(),e.TgZ(9,"forge-text-field")(10,"input",11),e.NdJ("ngModelChange",function(i){e.CHM(o);const c=e.oxw();return e.KtG(c.rangeMax=i)}),e.qZA()(),e.TgZ(11,"forge-icon-button")(12,"button",12),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.onAddRangeOption())}),e._UZ(13,"forge-icon",13),e.qZA()()(),e.YNc(14,s,2,1,"div",14),e.qZA(),e.TgZ(15,"forge-list",15),e.YNc(16,t,5,1,"forge-list-item",16),e.qZA(),e._UZ(17,"forge-divider"),e.qZA()}if(2&p){const o=e.oxw();e.xp6(6),e.Q6J("ngModel",o.rangeMin),e.uIk("maxlength",o.maxlength),e.xp6(4),e.Q6J("ngModel",o.rangeMax),e.uIk("maxlength",o.maxlength),e.xp6(4),e.Q6J("ngIf",o.rangeMessage),e.xp6(2),e.Q6J("ngForOf",o.rangeOptions)}}let g=(()=>{class p{set value(o){this.writeValue(o)}constructor(o,l){this.ngZone=o,this.viewContainerRef=l,this.valueChange=new e.vpe,this.maxlength=null,this.rangeOptions=[],this.elementId=_.c.uniqueId(),this.filter="",this.onChange=i=>{},this.onTouched=()=>{},this.onFilter=i=>(this.filter=i,new Promise((c,v)=>{this.optionFilter&&this.optionFilter(this.filter).subscribe({next:A=>{const E=[];A.forEach(x=>(0,h.kJ)(x.value)?this.rangeOptions.push(x):E.push(x)),c(E)},error:()=>v()})})),this.optionHeaderBuilder=()=>(this.ngZone.run(()=>{this.rangeMin=void 0,this.rangeMax=void 0,this.rangeMessage=void 0}),this.rangeRef?.rootNodes[0]),this.selectedTextBuilder=i=>{if(this.autocompleteRef?.nativeElement.open&&this.filter.length)return this.filter;const c=i?.length,v=this.rangeOptions?.length;return c>0&&v>0?`${c} option(s) selected, ${v} range(s)`:c>0?`${c} option(s) selected`:v>0?`${v} range(s)`:""}}writeValue(o){const l=[];this.rangeOptions.length=0,(0,h.kJ)(o)&&o.forEach(i=>{if((0,h.kJ)(i)||(0,h.kJ)(i.value)){const c=(0,h.$K)(i.value)?i.value:i;this.rangeOptions.push({label:`${c[0]} to ${c[1]}`,value:c})}else l.push(i)}),window.requestAnimationFrame(()=>{this.autocompleteRef.nativeElement.value=l})}ngAfterViewInit(){window.requestAnimationFrame(()=>{this.rangeRef=this.viewContainerRef.createEmbeddedView(this.rangeTemplateRef),this.rangeRef.rootNodes[0].remove()})}ngOnDestroy(){this.rangeRef?.destroy()}registerOnChange(o){this.onChange=o}registerOnTouched(o){this.onTouched=o}onAutocompleteChange(){this.emitChangeEvents()}autocompleteBlur(){this.onTouched()}onAddRangeOption(){if(this.rangeMin?.length||this.rangeMax?.length){if(this.rangeMin=(0,h.HD)(this.rangeMin)?this.rangeMin?.trim():this.rangeMin,this.rangeMax=(0,h.HD)(this.rangeMax)?this.rangeMax?.trim():this.rangeMax,this.rangeMin?.length&&this.rangeMax?.length){const i=_.c.comparator(this.rangeMin,this.rangeMax,"string");if(0===i)return void(this.rangeMessage="Min and Max cannot be the same value.");if(1===i)return void(this.rangeMessage="Min value cannot be greater than Max value.")}-1===this.rangeOptions.findIndex(i=>i.value[0]===this.rangeMin&&i.value[1]===this.rangeMax)?(this.rangeMessage=void 0,this.rangeOptions.push({label:this.rangeMin?.length&&this.rangeMax?.length?`${this.rangeMin} to ${this.rangeMax}`:this.rangeMin?.length?`Greater than ${this.rangeMin}`:`Less than ${this.rangeMax}`,value:[this.rangeMin,this.rangeMax]}),this.emitChangeEvents(),this.rangeMin=void 0,this.rangeMax=void 0,this.filterInputRef.nativeElement.value=this.selectedTextBuilder(this.autocompleteRef?.nativeElement.value)):this.rangeMessage="This range is already defined."}else this.rangeMessage="A min or max value is required."}onDeleteRangeOption(o){(this.rangeRef?.rootNodes[0]).focus();const l=this.rangeOptions.findIndex(i=>i.value===o.value);-1!==l&&(this.rangeOptions.splice(l,1),this.filterInputRef.nativeElement.value=this.selectedTextBuilder(this.autocompleteRef?.nativeElement.value),this.emitChangeEvents())}emitChangeEvents(){const o=[];(0,h.kJ)(this.rangeOptions)&&this.rangeOptions.length&&o.push(...this.rangeOptions.map(i=>i.value));const l=this.autocompleteRef?.nativeElement.value;(0,h.kJ)(l)&&l.length&&o.push(...l),this.onChange(o),this.valueChange.emit(o)}}return p.\u0275fac=function(o){return new(o||p)(e.Y36(e.R0b),e.Y36(e.s_b))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-autocomplete-range"]],viewQuery:function(o,l){if(1&o&&(e.Gf(C,5),e.Gf(n,5),e.Gf(r,5)),2&o){let i;e.iGM(i=e.CRH())&&(l.autocompleteRef=i.first),e.iGM(i=e.CRH())&&(l.rangeTemplateRef=i.first),e.iGM(i=e.CRH())&&(l.filterInputRef=i.first)}},hostBindings:function(o,l){1&o&&e.NdJ("focusout",function(c){return l.autocompleteBlur(c)})},inputs:{optionFilter:"optionFilter",value:"value",label:"label",maxlength:"maxlength"},outputs:{valueChange:"valueChange"},standalone:!0,features:[e._Bn([{provide:m.JU,useExisting:(0,e.Gpc)(()=>p),multi:!0}]),e.jDz],decls:10,vars:6,consts:[["multiple","",3,"filter","selectedTextBuilder","popupHeaderBuilder","forge-autocomplete-change"],["rangeAutocomplete",""],["type","text"],["filterInput",""],["slot","trailing","name","arrow_drop_down",1,"forge-dropdown-icon"],["rangeTemplate",""],["tabindex","-1",1,"range"],[1,"range__input"],[1,"forge-typography--subtitle1","range__input__header"],[1,"range__input__body"],["type","text","placeholder","min",3,"ngModel","ngModelChange"],["type","text","placeholder","max",3,"ngModel","ngModelChange"],["type","button","aria-label","add search range",3,"click"],["name","add"],["class","forge-typography--caption",4,"ngIf"],[1,"range__options"],[4,"ngFor","ngForOf"],[1,"forge-typography--caption"],["slot","leading"],["type","button","aria-label","delete search range",3,"click"],["name","delete"]],template:function(o,l){1&o&&(e.TgZ(0,"forge-autocomplete",0,1),e.NdJ("forge-autocomplete-change",function(){return l.onAutocompleteChange()}),e.TgZ(2,"forge-text-field"),e._UZ(3,"input",2,3),e.TgZ(5,"label"),e._uU(6),e.qZA(),e._UZ(7,"forge-icon",4),e.qZA()(),e.YNc(8,a,18,6,"ng-template",null,5,e.W1O)),2&o&&(e.Q6J("filter",l.onFilter)("selectedTextBuilder",l.selectedTextBuilder)("popupHeaderBuilder",l.optionHeaderBuilder),e.xp6(3),e.uIk("id",l.elementId),e.xp6(2),e.uIk("for",l.elementId),e.xp6(1),e.Oqu(l.label))},dependencies:[d.ez,d.sg,d.O5,m.u5,m.Fj,m.JJ,m.On],styles:["\n\n\n\n\n[_nghost-%COMP%]{display:block}.range[_ngcontent-%COMP%]{outline:none}.range__input[_ngcontent-%COMP%]{padding-left:16px}.range__input__header[_ngcontent-%COMP%]{font-size:14px}.range__input__body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto 1fr auto;column-gap:8px;align-items:center}.range__input[_ngcontent-%COMP%]   .forge-typography--caption[_ngcontent-%COMP%]{color:#b00020;color:var(--forge-theme-danger, #b00020)}.range__options[_ngcontent-%COMP%]{--forge-list-item-padding: 0 16px 0 4px;--forge-list-item-leading-margin-right: 4px}"]}),p})()},5162:(O,M,u)=>{u.d(M,{c:()=>d});var e=u(6575),m=u(4860),h=u(6907),_=u(4135);class d{static sortData(n,r,s,t){return n&&n.length?(s=s||"string","DESC"!==t&&(t="ASC"),n.slice().sort((a,g)=>(a=(0,h.SX)(a,r),g=(0,h.SX)(g,r),"DESC"===t?this.comparator(g,a,s):this.comparator(a,g,s)))):n}static groupData(n,r){return(0,_.kJ)(n)&&n.length&&r?.length?n.reduce((s,t)=>{const a=t[r];return s[a]||(s[a]=[]),s[a].push(t),s},{}):n}static filterData(n,r){if(!((0,_.kJ)(n)&&n.length&&(0,_.kJ)(r)&&r.length))return n;r=r.map(t=>{if((0,_.HD)(t.value)&&t.value.length){let a;if("<>"===t.value.substring(0,2)){if(2===t.value.length)return t.value="",t;a=t.value.substring(0,2),t.value=t.value.substring(2)}else if("<"===t.value.substring(0,1)||">"===t.value.substring(0,1)){if(1===t.value.length)return t.value="",t;a=t.value.substring(0,1),t.value=t.value.substring(1)}a&&Object.defineProperty(t,"operator",{value:a})}return t.value=(""+t.value).toLowerCase(),t});const s=t=>r.every(a=>{if(!a.value.length)return!0;const g=(""+(0,h.SX)(t,a.key)).toLowerCase();if(!g.length)return!1;if(a.strict)return g===a.value;switch(a.operator){case"<>":return 0!==this.comparator(g,a.value,a.type);case">":return this.comparator(g,a.value,a.type)>0;case"<":return this.comparator(g,a.value,a.type)<0;default:return g.indexOf(a.value)>-1}});return n.filter(t=>s(t))}static comparator(n,r,s="string"){if(n==r)return 0;if(!(0,_.$K)(n))return-1;if(!(0,_.$K)(r))return 1;switch(s){case"boolean":return n?-1:1;case"date":if(n=new Date(n).getTime(),isNaN(n))return-1;if(r=new Date(r).getTime(),isNaN(r))return 1;break;case"number":if(n=parseFloat(n),isNaN(n))return-1;if(r=parseFloat(r),isNaN(r))return 1;break;default:return isNaN(parseFloat(n))||isNaN(parseFloat(r))?(""+n).localeCompare(""+r):(""+n).localeCompare(""+r,navigator.language,{numeric:!0})}return n<r?-1:n>r?1:0}static navigateBack(n,r,s){1===n.getState()?.navigationId?r.navigate(s):n.back()}static elementId(n){return n+Math.random().toString(36).replace(/[^a-z]+/g,"")}static formatDate(n,r="MM/dd/yyyy"){return(0,_.$K)(n)?(0,e.p6)(n,r,navigator.language):""}static formatNumber(n,r="1.2-2"){return(0,e.uf)(n,navigator.language,r)}static uniqueId(){return Math.random().toString(36).substring(2)}static parseQueryStringParameters(){const n={};if(window.location.search.length){const r=new m.LE({fromString:window.location.search.substring(1)});r.keys().forEach(s=>{const t=r.getAll(s);t.length&&Object.defineProperty(n,s.toLowerCase(),{value:1===t.length?t[0]:t,enumerable:!0,writable:!0})})}return n}static reduceObject(n){const r={};return Object.keys(n).forEach(s=>{(0,_.$K)(n[s])&&((0,_.kJ)(n[s])?n[s].length&&(r[s]=n[s]):(n[s]+"").trim().length&&(r[s]="string"==typeof n[s]?n[s].trim():n[s]))}),r}}}}]);
//# sourceMappingURL=442.085f40ad609c0f9f.js.map