{"version":3,"file":"616.31062e9e5bcd77c2.js","mappings":"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","names":["i0","QueryBuilderComponent_For_3_ng_container_1_Template","filterFormTemplate_r4","_c0","filterGroup_r2","filterIndex_r3","QueryBuilderComponent_ng_template_10_Conditional_0_ng_container_0_Template","filterHeaderTemplate_r7","_c1","formGroup_r6","operator_r8","value","label","controls","minValue","index_r10","maxValue","errors","required","range","QueryBuilderComponent_ng_template_10_Conditional_24_For_2_ng_container_0_Template","QueryBuilderComponent_ng_template_10_Conditional_24_For_2_ng_container_2_Template","filter_r12","filterIndex_r13","QueryBuilderComponent_ng_template_10_Conditional_24_For_2_Template","filters","QueryBuilderComponent_ng_template_10_Conditional_0_Template","QueryBuilderComponent_ng_template_10_For_13_Template","QueryBuilderComponent_ng_template_10_Conditional_16_Template","QueryBuilderComponent_ng_template_10_Conditional_17_Template","$event","_r5","formGroup","ctx_r10","onAddFilter","detail","onDeleteFilter","QueryBuilderComponent_ng_template_10_Conditional_24_Template","propertyFilter","property","operator","operatorOptions","filterOptions","length","condition_r14","QueryBuilderComponent_ng_template_12_For_3_Template","formGroup_r15","get","conditionOptions","QueryBuilderComponent","constructor","this","FormGroup","FormArray","buildFilterFormGroup","propertyOptions","Utils","filterData","key","type","push","index","parent","indexOf","insert","formArray","removeAt","filter","FormControl","validators","Validators","condition","validateFilterValue","controlName","control","isDefined","toString","localeCompare","navigator","language","numeric","ignorePunctuation","setErrors","static","t","_angular_core__WEBPACK_IMPORTED_MODULE_2__","VBU","selectors","standalone","features","decls","vars","consts","template","rf","ctx","QueryBuilderComponent_For_3_Template","_r1","QueryBuilderComponent_ng_template_10_Template","QueryBuilderComponent_ng_template_12_Template","getRawValue","CommonModule","i1","ReactiveFormsModule","i2","ForgeAutocompleteModule","i3","ForgeButtonModule","ForgeIconButtonModule","ForgeIconModule","ForgeMenuModule","ForgeOptionModule","ForgeSelectModule","ForgeTextFieldModule","FormControlInvalidDirective","styles","destroyRef","inject","DestroyRef","elementRef","ElementRef","renderer","Renderer2","ngOnInit","blur$","fromEvent","nativeElement","pipe","delay","statusChanges$","statusChanges","startWith","status","combineLatest","event","map","touched","distinctUntilChanged","takeUntilDestroyed","subscribe","shouldMarkInvalid","setAttribute","addClass","removeAttribute","removeClass","_angular_core__WEBPACK_IMPORTED_MODULE_0__","FsC","inputs","None","sortData","data","direction","slice","sort","a","b","getPropertyValue","comparator","groupData","isArray","reduce","previousValue","currentValue","f","isString","substring","Object","defineProperty","toLowerCase","rec","every","strict","Date","getTime","isNaN","parseFloat","sensitivity","navigateBack","location","router","fallbackRoute","getState","navigationId","navigate","back","elementId","prefix","Math","random","replace","formatDate","format","formatNumber","uniqueId","parseQueryStringParameters","params","queryIndex","window","href","httpParams","HttpParams","fromString","keys","forEach","k","getAll","enumerable","writable","reduceObject","object","reduced","trim","nodeEventEmitterMethods","eventTargetMethods","jqueryMethods","target","eventName","options","resultSelector","isFunction","undefined","mapOneOrManyArgs","add","remove","isEventTarget","addEventListener","removeEventListener","methodName","handler","isNodeStyleEventEmitter","addListener","removeListener","toCommonHandlerRegistry","isJQueryStyleEventEmitter","on","off","isArrayLike","mergeMap","subTarget","innerFrom","TypeError","Observable","subscriber","args","next","timer","dueTime","intervalOrScheduler","scheduler","asyncScheduler","intervalDuration","isScheduler","due","isValidDate","now","n","schedule","closed","complete","delayWhen","delayDurationSelector","subscriptionDelay","source","concat","take","ignoreElements","operate","createOperatorSubscriber","noop","mapTo","duration","keySelector","identity","defaultCompare","previousKey","first","currentKey","Action","Subscription","work","super","state","intervalProvider","setInterval","timeout","delegate","clearInterval","handle","AsyncAction","pending","_a","id","recycleAsyncId","requestAsyncId","_id","flush","bind","_scheduler","execute","Error","error","_execute","_delay","errorValue","errored","e","unsubscribe","actions","arrRemove","Scheduler","schedulerActionCtor","dateTimestampProvider","AsyncScheduler","SchedulerAction","_active","action","shift","async"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./src/app/query-builder/query-builder.component.html","./src/app/query-builder/query-builder.component.ts","./src/app/shared/directives/form-control-invalid/form-control-invalid.directive.ts","./src/utils.ts","./node_modules/rxjs/dist/esm/internal/observable/fromEvent.js","./node_modules/rxjs/dist/esm/internal/observable/timer.js","./node_modules/rxjs/dist/esm/internal/util/isDate.js","./node_modules/rxjs/dist/esm/internal/operators/delayWhen.js","./node_modules/rxjs/dist/esm/internal/operators/ignoreElements.js","./node_modules/rxjs/dist/esm/internal/operators/delay.js","./node_modules/rxjs/dist/esm/internal/operators/distinctUntilChanged.js","./node_modules/rxjs/dist/esm/internal/scheduler/Action.js","./node_modules/rxjs/dist/esm/internal/scheduler/intervalProvider.js","./node_modules/rxjs/dist/esm/internal/scheduler/AsyncAction.js","./node_modules/rxjs/dist/esm/internal/Scheduler.js","./node_modules/rxjs/dist/esm/internal/scheduler/AsyncScheduler.js","./node_modules/rxjs/dist/esm/internal/scheduler/async.js","./node_modules/rxjs/dist/esm/internal/scheduler/dateTimestampProvider.js"],"sourcesContent":["<form [formGroup]=\"formGroup\" novalidate autocomplete=\"off\">\r\n  <div formArrayName=\"filters\">\r\n    @for (filterGroup of formGroup.controls.filters.controls; track filterIndex; let filterIndex = $index) {\r\n    <div class=\"filter__group\">\r\n      <ng-container *ngTemplateOutlet=\"filterFormTemplate, context: { formGroup: filterGroup, index: filterIndex }\"></ng-container>\r\n    </div>\r\n    }\r\n  </div>\r\n\r\n  <forge-button class=\"filter__group__add\" (click)=\"onAddFilter(formGroup, 'condition')\">\r\n    <forge-icon name=\"add_circle\"></forge-icon> Add a new condition\r\n  </forge-button>\r\n\r\n  <p>{{formGroup.getRawValue() | json}}</p>\r\n</form>\r\n\r\n<ng-template #filterFormTemplate let-formGroup=\"formGroup\" let-index=\"index\">\r\n  @if (index > 0) {\r\n  <ng-container *ngTemplateOutlet=\"filterHeaderTemplate, context: { formGroup: formGroup }\"></ng-container>\r\n  }\r\n\r\n  <ng-container [formGroup]=\"formGroup\">\r\n    <div class=\"filter__form\">\r\n      <forge-autocomplete formControlName=\"property\" [filter]=\"propertyFilter\">\r\n        <forge-text-field required [appFormControlInvalid]=\"formGroup.controls.property\">\r\n          <input type=\"text\" id=\"{{'query-builder--filter-property-' + index}}\">\r\n          <label for=\"{{'query-builder--filter-property-' + index}}\">Property</label>\r\n          <forge-icon slot=\"end\" class=\"forge-dropdown-icon\" name=\"arrow_drop_down\"></forge-icon>\r\n          <span slot=\"support-text\" class=\"app-form-control-invalid\">A property is required</span>\r\n        </forge-text-field>\r\n      </forge-autocomplete>\r\n\r\n      <forge-select formControlName=\"operator\" label=\"Operator\" required [appFormControlInvalid]=\"formGroup.controls.operator\">\r\n        @for (operator of operatorOptions; track i; let i = $index) {\r\n        <forge-option [value]=\"operator.value\">{{operator.label}}</forge-option>\r\n        }\r\n        <span slot=\"support-text\" class=\"app-form-control-invalid\">An operator is required</span>\r\n      </forge-select>\r\n\r\n      @if (formGroup.controls.operator.value === 6) {\r\n      <div class=\"filter__form__range\">\r\n        <forge-text-field required [appFormControlInvalid]=\"formGroup.controls.minValue\">\r\n          <input type=\"text\" id=\"{{'query-builder--filter-min-' + index}}\" formControlName=\"minValue\">\r\n          <label for=\"{{'query-builder--filter-min-' + index}}\" slot=\"label\">Minimum</label>\r\n          <span slot=\"support-text\" class=\"app-form-control-invalid\">A minimum value is required</span>\r\n        </forge-text-field>\r\n        <forge-text-field required [appFormControlInvalid]=\"formGroup.controls.maxValue\">\r\n          <input type=\"text\" id=\"{{'query-builder--filter-max-' + index}}\" formControlName=\"maxValue\">\r\n          <label for=\"{{'query-builder--filter-max-' + index}}\" slot=\"label\">Maximum</label>\r\n          <span slot=\"support-text\" class=\"app-form-control-invalid\">\r\n            {{formGroup.controls.maxValue.errors.required ? 'A maximum value is required' : formGroup.controls.maxValue.errors.range ? 'Max value must be greater or equal to min value' : ''}}\r\n          </span>\r\n        </forge-text-field>\r\n      </div>\r\n      } @else {\r\n      <forge-text-field required [appFormControlInvalid]=\"formGroup.controls.value\">\r\n        <input type=\"text\" id=\"{{'query-builder--filter-value-' + index}}\" formControlName=\"value\">\r\n        <label for=\"{{'query-builder--filter-value-' + index}}\" slot=\"label\">Value</label>\r\n        <span slot=\"support-text\" class=\"app-form-control-invalid\">A value is required</span>\r\n      </forge-text-field>\r\n      }\r\n\r\n      <div class=\"filter__form__action\">\r\n        <forge-menu [options]=\"filterOptions\" (forge-menu-select)=\"onAddFilter(formGroup, $event.detail.value)\">\r\n          <forge-icon-button aria-label=\"Add filter\">\r\n            <forge-icon name=\"add_circle\"></forge-icon>\r\n          </forge-icon-button>\r\n        </forge-menu>\r\n        <forge-icon-button (click)=\"onDeleteFilter(formGroup)\" aria-label=\"Delete filter\">\r\n          <forge-icon name=\"delete\"></forge-icon>\r\n        </forge-icon-button>\r\n      </div>\r\n    </div>\r\n\r\n    @if (formGroup.controls.filters.controls?.length) {\r\n    <ng-container formArrayName=\"filters\">\r\n      @for (filter of formGroup.controls.filters.controls; track filterIndex; let filterIndex = $index) {\r\n      <ng-container *ngTemplateOutlet=\"filterHeaderTemplate, context: { formGroup: filter }\"></ng-container>\r\n      <div class=\"filter__group\">\r\n        <ng-container *ngTemplateOutlet=\"filterFormTemplate, context: { formGroup: filter, index: filterIndex }\"></ng-container>\r\n      </div>\r\n      }\r\n    </ng-container>\r\n    }\r\n  </ng-container>\r\n\r\n</ng-template>\r\n\r\n<ng-template #filterHeaderTemplate let-formGroup=\"formGroup\">\r\n  <div class=\"filter__header\">\r\n    <forge-select [formControl]=\"formGroup.get('condition')\" class=\"filter__header__condition\">\r\n      @for (condition of conditionOptions; track i; let i = $index) {\r\n      <forge-option [value]=\"condition.value\">{{condition.label}}</forge-option>\r\n      }\r\n    </forge-select>\r\n  </div>\r\n</ng-template>","import { Component } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AbstractControl, FormArray, FormControl, FormGroup, ReactiveFormsModule, ValidationErrors, ValidatorFn, Validators } from '@angular/forms';\r\nimport { isDefined } from '@tylertech/forge-core';\r\nimport { ForgeAutocompleteModule, ForgeButtonModule, ForgeIconButtonModule, ForgeIconModule, ForgeMenuModule, ForgeOptionModule, ForgeSelectModule, ForgeTextFieldModule } from '@tylertech/forge-angular';\r\n\r\nimport { Utils } from 'src/utils';\r\nimport { IFilter } from 'src/app/shared/interfaces/filter.interface';\r\nimport { FormControlInvalidDirective } from 'src/app/shared/directives/form-control-invalid/form-control-invalid.directive';\r\n\r\n@Component({\r\n  selector: 'app-query-builder',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    ForgeAutocompleteModule,\r\n    ForgeButtonModule,\r\n    ForgeIconButtonModule,\r\n    ForgeIconModule,\r\n    ForgeMenuModule,\r\n    ForgeOptionModule,\r\n    ForgeSelectModule,\r\n    ForgeTextFieldModule,\r\n    FormControlInvalidDirective\r\n  ],\r\n  templateUrl: './query-builder.component.html',\r\n  styleUrls: ['./query-builder.component.scss']\r\n})\r\nexport class QueryBuilderComponent {\r\n  public formGroup = new FormGroup({\r\n    filters: new FormArray([this.buildFilterFormGroup()])\r\n  });\r\n\r\n  public conditionOptions = [\r\n    { value: 'and', label: 'And' },\r\n    { value: 'or', label: 'Or' }\r\n  ];\r\n\r\n  public propertyOptions = [\r\n    { value: 'firstName', label: 'First name' },\r\n    { value: 'lastName', label: 'Last name' },\r\n    { value: 'dateOfBirth', label: 'Date of birth' },\r\n    { value: 'gender', label: 'Gender' },\r\n    { value: 'occupation', label: 'Occupation' }\r\n  ];\r\n\r\n  public operatorOptions = [\r\n    { value: 0, label: 'Equal' },\r\n    { value: 1, label: 'Not equal' },\r\n    { value: 2, label: 'Greater than' },\r\n    { value: 3, label: 'Less than' },\r\n    { value: 4, label: 'Greater than equal to' },\r\n    { value: 5, label: 'Less than equal to' },\r\n    { value: 6, label: 'Range' },\r\n    { value: 7, label: 'Contains' },\r\n    { value: 8, label: 'Not contains' },\r\n    { value: 9, label: 'Empty' }\r\n  ];\r\n\r\n  public filterOptions = [\r\n    { value: 'condition', label: 'Add condition' },\r\n    { value: 'group', label: 'Add group' }\r\n  ];\r\n\r\n  public propertyFilter = (value: string) => Utils.filterData(this.propertyOptions, [{ key: 'label', value }]);\r\n\r\n  public onAddFilter(formGroup: FormGroup, type: 'condition' | 'group') {\r\n    if (formGroup === this.formGroup) {\r\n      this.formGroup.controls.filters.push(this.buildFilterFormGroup());\r\n    } else {\r\n      switch (type) {\r\n        case 'condition': {\r\n          const index = (formGroup.parent as FormArray).controls.indexOf(formGroup) + 1;\r\n          (formGroup.parent as FormArray).insert(index, this.buildFilterFormGroup());\r\n          break;\r\n        }\r\n        case 'group':\r\n          (formGroup.get('filters') as FormArray).push(this.buildFilterFormGroup());\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  public onDeleteFilter(formGroup: FormGroup) {\r\n    const formArray = formGroup.parent as FormArray;\r\n    const index = formArray.controls.indexOf(formGroup);\r\n    if (index !== -1) {\r\n      formArray.removeAt(index);\r\n    }\r\n  }\r\n\r\n  private buildFilterFormGroup(filter?: IFilter): FormGroup {\r\n    return new FormGroup({\r\n      property: new FormControl(filter?.property, { validators: [Validators.required] }),\r\n      condition: new FormControl(filter?.condition || 'and', { validators: [Validators.required] }),\r\n      operator: new FormControl(filter?.operator, { validators: [Validators.required] }),\r\n      value: new FormControl(filter?.value, { validators: [this.validateFilterValue('value')] }),\r\n      minValue: new FormControl(filter?.minValue, { validators: [this.validateFilterValue('minValue')] }),\r\n      maxValue: new FormControl(filter?.minValue, { validators: [this.validateFilterValue('maxValue')] }),\r\n      filters: new FormArray([])\r\n    });\r\n  }\r\n\r\n  private validateFilterValue(controlName: string): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      const formGroup = control.parent;\r\n      if (!formGroup) {\r\n        return null;\r\n      }\r\n\r\n      const operator = formGroup.value.operator;\r\n      if (!isDefined(operator)) {\r\n        return null;\r\n      }\r\n\r\n      switch (operator) {\r\n        case 6: {\r\n          if (controlName === 'value') {\r\n            return null;\r\n          }\r\n\r\n          if (!isDefined(control.value) || !control.value.toString().length) {\r\n            return { required: true };\r\n          }\r\n\r\n          const minValue = formGroup.value.minValue;\r\n          const maxValue = formGroup.value.maxValue;\r\n\r\n          if (controlName === 'minValue') {\r\n            if (isDefined(maxValue) && minValue.localeCompare(maxValue, navigator.language, { numeric: true, ignorePunctuation: true }) < 1) {\r\n              formGroup.get('maxValue')?.setErrors(null);\r\n            }\r\n          }\r\n\r\n          if (controlName === 'maxValue') {\r\n            if (!isDefined(minValue)) {\r\n              return null;\r\n            }\r\n\r\n            if (minValue.localeCompare(maxValue, navigator.language, { numeric: true, ignorePunctuation: true }) > 0) {\r\n              return { range: true };\r\n            }\r\n          }\r\n\r\n          return null;\r\n        }\r\n        default:\r\n          if (controlName === 'minValue' || controlName === 'maxValue') {\r\n            return null;\r\n          }\r\n\r\n          if (!isDefined(control.value) || !control.value.toString().length) {\r\n            return { required: true };\r\n          }\r\n\r\n          return null;\r\n      }\r\n    };\r\n  }\r\n}\r\n","\r\nimport { DestroyRef, Directive, ElementRef, Input, OnInit, Renderer2, inject } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\r\nimport { combineLatest, delay, distinctUntilChanged, fromEvent, map, startWith } from 'rxjs';\r\n\r\n@Directive({\r\n  selector: '[appFormControlInvalid]',\r\n  standalone: true\r\n})\r\nexport class FormControlInvalidDirective implements OnInit {\r\n  private destroyRef = inject(DestroyRef);\r\n  private elementRef = inject(ElementRef<HTMLElement>);\r\n  private renderer = inject(Renderer2);\r\n\r\n  @Input({ alias: 'appFormControlInvalid', required: true })\r\n  public control!: AbstractControl;\r\n\r\n  public ngOnInit() {\r\n    const blur$ = fromEvent<FocusEvent>(this.elementRef.nativeElement, 'focusout').pipe(delay(0));\r\n    const statusChanges$ = this.control.statusChanges.pipe(startWith(this.control.status));\r\n\r\n    combineLatest({ event: blur$, status: statusChanges$ }).pipe(\r\n      map(value => value.status === 'INVALID' && this.control.touched),\r\n      distinctUntilChanged(),\r\n      takeUntilDestroyed(this.destroyRef)\r\n    ).subscribe(shouldMarkInvalid => {\r\n      if (shouldMarkInvalid) {\r\n        this.renderer.setAttribute(this.elementRef.nativeElement, 'invalid', '');\r\n        this.renderer.addClass(this.elementRef.nativeElement, 'app-form-control-invalid');\r\n      } else {\r\n        this.renderer.removeAttribute(this.elementRef.nativeElement, 'invalid');\r\n        this.renderer.removeClass(this.elementRef.nativeElement, 'app-form-control-invalid');\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { formatDate, formatNumber, Location } from '@angular/common';\r\nimport { HttpParams } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { isArray, getPropertyValue, isDefined, isString } from '@tylertech/forge-core';\r\nimport { SortDirection } from '@tylertech/forge';\r\n\r\nexport class Utils {\r\n  public static sortData(data: any[], key: string, type: 'string' | 'number' | 'boolean' | 'date', direction: 'ASC' | 'DESC' | SortDirection): any[] {\r\n    if (!data || !data.length) {\r\n      return data;\r\n    }\r\n\r\n    type = type || 'string';\r\n\r\n    if (direction !== 'DESC') {\r\n      direction = 'ASC';\r\n    }\r\n\r\n    return data.slice().sort((a, b): number => {\r\n      a = getPropertyValue(a, key);\r\n      b = getPropertyValue(b, key);\r\n\r\n      if (direction === 'DESC') {\r\n        return this.comparator(b, a, type);\r\n      } else {\r\n        return this.comparator(a, b, type);\r\n      }\r\n    });\r\n  }\r\n\r\n  public static groupData(data: any[], property: string): any[] {\r\n    if (!isArray(data) || !data.length || !property?.length) {\r\n      return data;\r\n    }\r\n\r\n    return data.reduce((previousValue, currentValue) => {\r\n      const key = currentValue[property];\r\n      if (!previousValue[key]) {\r\n        previousValue[key] = [];\r\n      }\r\n      previousValue[key].push(currentValue);\r\n      return previousValue;\r\n    }, {});\r\n  }\r\n\r\n  public static filterData(data: any[], filters: { key: string; value: string; type?: 'string' | 'number' | 'boolean' | 'date'; strict?: boolean }[]): any[] {\r\n    if (!isArray(data) || !data.length || !isArray(filters) || !filters.length) {\r\n      return data;\r\n    }\r\n\r\n    filters = filters.map((f) => {\r\n      if (isString(f.value) && f.value.length) {\r\n        let operator;\r\n        if (f.value.substring(0, 2) === '<>') {\r\n          if (f.value.length === 2) {\r\n            f.value = '';\r\n            return f;\r\n          }\r\n          operator = f.value.substring(0, 2);\r\n          f.value = f.value.substring(2);\r\n        } else if (f.value.substring(0, 1) === '<' || f.value.substring(0, 1) === '>') {\r\n          if (f.value.length === 1) {\r\n            f.value = '';\r\n            return f;\r\n          }\r\n          operator = f.value.substring(0, 1);\r\n          f.value = f.value.substring(1);\r\n        }\r\n\r\n        if (operator) {\r\n          Object.defineProperty(f, 'operator', { value: operator });\r\n        }\r\n      }\r\n\r\n      f.value = ('' + f.value).toLowerCase();\r\n      return f;\r\n    });\r\n\r\n    const filter = (rec: any) =>\r\n      filters.every((f) => {\r\n        if (!f.value.length) {\r\n          return true;\r\n        }\r\n\r\n        const value = ('' + getPropertyValue(rec, f.key)).toLowerCase();\r\n        if (!value.length) {\r\n          return false;\r\n        }\r\n\r\n        if (f.strict) {\r\n          return value === f.value;\r\n        }\r\n\r\n        switch ((f as any).operator) {\r\n          case '<>':\r\n            return this.comparator(value, f.value, f.type) !== 0;\r\n          case '>':\r\n            return this.comparator(value, f.value, f.type) > 0;\r\n          case '<':\r\n            return this.comparator(value, f.value, f.type) < 0;\r\n          default:\r\n            return value.indexOf(f.value) > -1;\r\n        }\r\n      });\r\n\r\n    return data.filter((rec) => filter(rec));\r\n  }\r\n\r\n  public static comparator(a: any, b: any, type: 'string' | 'number' | 'boolean' | 'date' = 'string'): number {\r\n    // eslint-disable-next-line\r\n    if (a == b) {\r\n      return 0;\r\n    }\r\n    if (!isDefined(a)) {\r\n      return -1;\r\n    }\r\n    if (!isDefined(b)) {\r\n      return 1;\r\n    }\r\n\r\n    switch (type) {\r\n      case 'boolean':\r\n        return a ? -1 : 1;\r\n      case 'date':\r\n        a = new Date(a).getTime();\r\n        if (isNaN(a)) {\r\n          return -1;\r\n        }\r\n        b = new Date(b).getTime();\r\n        if (isNaN(b)) {\r\n          return 1;\r\n        }\r\n        break;\r\n      case 'number':\r\n        a = parseFloat(a);\r\n        if (isNaN(a)) {\r\n          return -1;\r\n        }\r\n        b = parseFloat(b);\r\n        if (isNaN(b)) {\r\n          return 1;\r\n        }\r\n        break;\r\n      default:\r\n        if (!isNaN(parseFloat(a)) && !isNaN(parseFloat(b))) {\r\n          return ('' + a).localeCompare('' + b, navigator.language, { numeric: true });\r\n        } else {\r\n          return ('' + a).localeCompare('' + b, navigator.language, { sensitivity: 'base' });\r\n        }\r\n    }\r\n\r\n    return a < b ? -1 : a > b ? 1 : 0;\r\n  }\r\n\r\n  public static navigateBack(location: Location, router: Router, fallbackRoute: any[]) {\r\n    if ((location.getState() as any)?.navigationId === 1) {\r\n      router.navigate(fallbackRoute);\r\n    } else {\r\n      location.back();\r\n    }\r\n  }\r\n\r\n  public static elementId(prefix: string): string {\r\n    return (\r\n      prefix +\r\n      Math.random()\r\n        .toString(36)\r\n        .replace(/[^a-z]+/g, '')\r\n    );\r\n  }\r\n\r\n  public static formatDate(value: Date, format = 'MM/dd/yyyy'): string {\r\n    if (!isDefined(value)) {\r\n      return '';\r\n    }\r\n    return formatDate(value, format, navigator.language);\r\n  }\r\n\r\n  public static formatNumber(value: number, format = '1.2-2'): string {\r\n    return formatNumber(value, navigator.language, format);\r\n  }\r\n\r\n  public static uniqueId(): string {\r\n    return Math.random().toString(36).substring(2);\r\n  }\r\n\r\n  public static parseQueryStringParameters(): any {\r\n    const params = {};\r\n    const queryIndex = window.location.href.indexOf('?');\r\n    if (queryIndex !== -1) {\r\n      const httpParams = new HttpParams({ fromString: window.location.href.substring(queryIndex) });\r\n      httpParams.keys().forEach(k => {\r\n        const value = httpParams.getAll(k) as string[];\r\n        if (value.length) {\r\n          Object.defineProperty(params, k.toLowerCase(), { value: value.length === 1 ? value[0] : value, enumerable: true, writable: true });\r\n        }\r\n      });\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  public static reduceObject(object: any): any {\r\n    const reduced: any = {};\r\n\r\n    Object.keys(object).forEach(key => {\r\n      if (isDefined(object[key])) {\r\n        if (isArray(object[key])) {\r\n          if (object[key].length) {\r\n            reduced[key] = object[key];\r\n          }\r\n        } else if ((object[key] + '').trim().length) {\r\n          reduced[key] = typeof object[key] === 'string' ? object[key].trim() : object[key];\r\n        }\r\n      }\r\n    });\r\n\r\n    return reduced;\r\n  }\r\n}\r\n","import { innerFrom } from '../observable/innerFrom';\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nconst nodeEventEmitterMethods = ['addListener', 'removeListener'];\nconst eventTargetMethods = ['addEventListener', 'removeEventListener'];\nconst jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n    }\n    const [add, remove] = isEventTarget(target)\n        ? eventTargetMethods.map((methodName) => (handler) => target[methodName](eventName, handler, options))\n        :\n            isNodeStyleEventEmitter(target)\n                ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n                : isJQueryStyleEventEmitter(target)\n                    ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n                    : [];\n    if (!add) {\n        if (isArrayLike(target)) {\n            return mergeMap((subTarget) => fromEvent(subTarget, eventName, options))(innerFrom(target));\n        }\n    }\n    if (!add) {\n        throw new TypeError('Invalid event target');\n    }\n    return new Observable((subscriber) => {\n        const handler = (...args) => subscriber.next(1 < args.length ? args : args[0]);\n        add(handler);\n        return () => remove(handler);\n    });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n    return (methodName) => (handler) => target[methodName](eventName, handler);\n}\nfunction isNodeStyleEventEmitter(target) {\n    return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n    return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n    return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n","import { Observable } from '../Observable';\nimport { async as asyncScheduler } from '../scheduler/async';\nimport { isScheduler } from '../util/isScheduler';\nimport { isValidDate } from '../util/isDate';\nexport function timer(dueTime = 0, intervalOrScheduler, scheduler = asyncScheduler) {\n    let intervalDuration = -1;\n    if (intervalOrScheduler != null) {\n        if (isScheduler(intervalOrScheduler)) {\n            scheduler = intervalOrScheduler;\n        }\n        else {\n            intervalDuration = intervalOrScheduler;\n        }\n    }\n    return new Observable((subscriber) => {\n        let due = isValidDate(dueTime) ? +dueTime - scheduler.now() : dueTime;\n        if (due < 0) {\n            due = 0;\n        }\n        let n = 0;\n        return scheduler.schedule(function () {\n            if (!subscriber.closed) {\n                subscriber.next(n++);\n                if (0 <= intervalDuration) {\n                    this.schedule(undefined, intervalDuration);\n                }\n                else {\n                    subscriber.complete();\n                }\n            }\n        }, due);\n    });\n}\n","export function isValidDate(value) {\n    return value instanceof Date && !isNaN(value);\n}\n","import { concat } from '../observable/concat';\nimport { take } from './take';\nimport { ignoreElements } from './ignoreElements';\nimport { mapTo } from './mapTo';\nimport { mergeMap } from './mergeMap';\nimport { innerFrom } from '../observable/innerFrom';\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n    if (subscriptionDelay) {\n        return (source) => concat(subscriptionDelay.pipe(take(1), ignoreElements()), source.pipe(delayWhen(delayDurationSelector)));\n    }\n    return mergeMap((value, index) => innerFrom(delayDurationSelector(value, index)).pipe(take(1), mapTo(value)));\n}\n","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { noop } from '../util/noop';\nexport function ignoreElements() {\n    return operate((source, subscriber) => {\n        source.subscribe(createOperatorSubscriber(subscriber, noop));\n    });\n}\n","import { asyncScheduler } from '../scheduler/async';\nimport { delayWhen } from './delayWhen';\nimport { timer } from '../observable/timer';\nexport function delay(due, scheduler = asyncScheduler) {\n    const duration = timer(due, scheduler);\n    return delayWhen(() => duration);\n}\n","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector = identity) {\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate((source, subscriber) => {\n        let previousKey;\n        let first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n","import { Subscription } from '../Subscription';\nexport class Action extends Subscription {\n    constructor(scheduler, work) {\n        super();\n    }\n    schedule(state, delay = 0) {\n        return this;\n    }\n}\n","export const intervalProvider = {\n    setInterval(handler, timeout, ...args) {\n        const { delegate } = intervalProvider;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) {\n            return delegate.setInterval(handler, timeout, ...args);\n        }\n        return setInterval(handler, timeout, ...args);\n    },\n    clearInterval(handle) {\n        const { delegate } = intervalProvider;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n    },\n    delegate: undefined,\n};\n","import { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nexport class AsyncAction extends Action {\n    constructor(scheduler, work) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    schedule(state, delay = 0) {\n        var _a;\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        const id = this.id;\n        const scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = (_a = this.id) !== null && _a !== void 0 ? _a : this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    }\n    requestAsyncId(scheduler, _id, delay = 0) {\n        return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    }\n    recycleAsyncId(_scheduler, id, delay = 0) {\n        if (delay != null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        if (id != null) {\n            intervalProvider.clearInterval(id);\n        }\n        return undefined;\n    }\n    execute(state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        const error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    }\n    _execute(state, _delay) {\n        let errored = false;\n        let errorValue;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = e ? e : new Error('Scheduled action threw falsy error');\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            const { id, scheduler } = this;\n            const { actions } = scheduler;\n            this.work = this.state = this.scheduler = null;\n            this.pending = false;\n            arrRemove(actions, this);\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n            super.unsubscribe();\n        }\n    }\n}\n","import { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nexport class Scheduler {\n    constructor(schedulerActionCtor, now = Scheduler.now) {\n        this.schedulerActionCtor = schedulerActionCtor;\n        this.now = now;\n    }\n    schedule(work, delay = 0, state) {\n        return new this.schedulerActionCtor(this, work).schedule(state, delay);\n    }\n}\nScheduler.now = dateTimestampProvider.now;\n","import { Scheduler } from '../Scheduler';\nexport class AsyncScheduler extends Scheduler {\n    constructor(SchedulerAction, now = Scheduler.now) {\n        super(SchedulerAction, now);\n        this.actions = [];\n        this._active = false;\n    }\n    flush(action) {\n        const { actions } = this;\n        if (this._active) {\n            actions.push(action);\n            return;\n        }\n        let error;\n        this._active = true;\n        do {\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        } while ((action = actions.shift()));\n        this._active = false;\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport const asyncScheduler = new AsyncScheduler(AsyncAction);\nexport const async = asyncScheduler;\n","export const dateTimestampProvider = {\n    now() {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n"],"x_google_ignoreList":[4,5,6,7,8,9,10,11,12,13,14,15,16,17]}