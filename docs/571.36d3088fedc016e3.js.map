{"version":3,"file":"571.36d3088fedc016e3.js","mappings":"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","names":["AppDataService","constructor","this","httpClient","inject","HttpClient","getProfile","get","getPeople","filter","pipe","map","r","count","length","filters","Utils","filterData","f","key","property","value","strict","sort","sortData","direction","isNumber","skip","take","slice","data","getPerson","id","find","p","toString","getSearches","Observable","o","searches","localStorage","getItem","isDefined","JSON","parse","next","complete","saveSearches","setItem","stringify","getLongRequest","static","t","_angular_core__WEBPACK_IMPORTED_MODULE_2__","jDH","factory","Éµfac","providedIn","i0","DialogComponent","dialogRef","DialogRef","elementId","showFooter","nativeElement","setAttribute","onClose","close","_angular_core__WEBPACK_IMPORTED_MODULE_1__","VBU","selectors","inputs","dialogTitle","standalone","features","ngContentSelectors","_c1","decls","vars","consts","template","rf","ctx","DialogComponent_Conditional_9_Template","CommonModule","ForgeIconButtonModule","i1","ForgeIconModule","ForgeScaffoldModule","ForgeToolbarModule","styles","FormControlInvalidDirective","destroyRef","DestroyRef","elementRef","ElementRef","renderer","Renderer2","ngOnInit","blur$","fromEvent","delay","statusChanges$","control","statusChanges","startWith","status","combineLatest","event","touched","distinctUntilChanged","takeUntilDestroyed","subscribe","shouldMarkInvalid","addClass","removeAttribute","removeClass","_angular_core__WEBPACK_IMPORTED_MODULE_0__","FsC","None","type","a","b","getPropertyValue","comparator","groupData","isArray","reduce","previousValue","currentValue","push","isString","operator","substring","Object","defineProperty","toLowerCase","rec","every","indexOf","Date","getTime","isNaN","parseFloat","localeCompare","navigator","language","sensitivity","numeric","navigateBack","location","router","fallbackRoute","getState","navigationId","navigate","back","prefix","Math","random","replace","formatDate","format","formatNumber","uniqueId","parseQueryStringParameters","params","queryIndex","window","href","httpParams","HttpParams","fromString","keys","forEach","k","getAll","enumerable","writable","reduceObject","object","reduced","trim","nodeEventEmitterMethods","eventTargetMethods","jqueryMethods","target","eventName","options","resultSelector","isFunction","undefined","mapOneOrManyArgs","add","remove","isEventTarget","addEventListener","removeEventListener","methodName","handler","isNodeStyleEventEmitter","addListener","removeListener","toCommonHandlerRegistry","isJQueryStyleEventEmitter","on","off","isArrayLike","mergeMap","subTarget","innerFrom","TypeError","subscriber","args","timer","dueTime","intervalOrScheduler","scheduler","asyncScheduler","intervalDuration","isScheduler","due","isValidDate","now","n","schedule","closed","delayWhen","delayDurationSelector","subscriptionDelay","source","concat","ignoreElements","operate","createOperatorSubscriber","noop","index","mapTo","duration","keySelector","identity","defaultCompare","previousKey","first","currentKey","Action","Subscription","work","super","state","intervalProvider","setInterval","timeout","delegate","clearInterval","handle","AsyncAction","pending","_a","recycleAsyncId","requestAsyncId","_id","flush","bind","_scheduler","execute","Error","error","_execute","_delay","errorValue","errored","e","unsubscribe","actions","arrRemove","Scheduler","schedulerActionCtor","dateTimestampProvider","AsyncScheduler","SchedulerAction","_active","action","shift","async"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./src/app/app-data.service.ts","./src/app/shared/components/dialog/dialog.component.html","./src/app/shared/components/dialog/dialog.component.ts","./src/app/shared/directives/form-control-invalid/form-control-invalid.directive.ts","./src/utils.ts","./node_modules/rxjs/dist/esm/internal/observable/fromEvent.js","./node_modules/rxjs/dist/esm/internal/observable/timer.js","./node_modules/rxjs/dist/esm/internal/util/isDate.js","./node_modules/rxjs/dist/esm/internal/operators/delayWhen.js","./node_modules/rxjs/dist/esm/internal/operators/ignoreElements.js","./node_modules/rxjs/dist/esm/internal/operators/delay.js","./node_modules/rxjs/dist/esm/internal/operators/distinctUntilChanged.js","./node_modules/rxjs/dist/esm/internal/scheduler/Action.js","./node_modules/rxjs/dist/esm/internal/scheduler/intervalProvider.js","./node_modules/rxjs/dist/esm/internal/scheduler/AsyncAction.js","./node_modules/rxjs/dist/esm/internal/Scheduler.js","./node_modules/rxjs/dist/esm/internal/scheduler/AsyncScheduler.js","./node_modules/rxjs/dist/esm/internal/scheduler/async.js","./node_modules/rxjs/dist/esm/internal/scheduler/dateTimestampProvider.js"],"sourcesContent":["import { Injectable, inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { map, delay } from 'rxjs/operators';\r\nimport { isDefined, isNumber } from '@tylertech/forge-core';\r\nimport { IPerson, IProfile } from 'src/app/shared/interfaces/person.interface';\r\nimport { ISearch } from 'src/app/shared/interfaces/search.interface';\r\nimport { IFilterParameter } from 'src/app/shared/interfaces/filter.interface';\r\nimport { Utils } from 'src/utils';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AppDataService {\r\n  private httpClient = inject(HttpClient);\r\n\r\n  public getProfile(): Observable<IProfile> {\r\n    return this.httpClient.get<IProfile>('mock-data/profile.json');\r\n  }\r\n\r\n  public getPeople(filter?: IFilterParameter): Observable<{ count: number; data: Array<IPerson> }> {\r\n    return this.httpClient.get<Array<IPerson>>('mock-data/people.json').pipe(\r\n      // delay(2000),\r\n      map((r) => {\r\n        let count = r.length;\r\n        if (filter) {\r\n          if (filter.filters?.length) {\r\n            r = Utils.filterData(\r\n              r,\r\n              filter.filters.map((f) => ({ key: f.property, value: f.value, strict: f.property === 'gender' || f.property === 'id' }))\r\n            );\r\n            count = r.length;\r\n          }\r\n\r\n          if (filter.sort) {\r\n            r = Utils.sortData(r, filter.sort.property, 'string', filter.sort.direction);\r\n          }\r\n\r\n          if (isNumber(filter.skip) && isNumber(filter.take)) {\r\n            r = r.slice(filter.skip, filter.skip + filter.take);\r\n          }\r\n        }\r\n        return { count, data: r };\r\n      })\r\n    );\r\n  }\r\n\r\n  public getPerson(id: number): Observable<IPerson | undefined> {\r\n    return this.httpClient.get('mock-data/people.json').pipe(map((r) => (r as IPerson[]).find((p) => p.id.toString() === id.toString())));\r\n  }\r\n\r\n  public getSearches(key: string): Observable<ISearch[]> {\r\n    return new Observable<ISearch[]>((o) => {\r\n      let searches = localStorage.getItem(key);\r\n      if (isDefined(searches)) {\r\n        searches = JSON.parse(searches as string);\r\n      }\r\n      o.next(searches as any);\r\n      o.complete();\r\n    });\r\n  }\r\n\r\n  public saveSearches(key: string, searches: ISearch[]): Observable<boolean> {\r\n    return new Observable<boolean>((o) => {\r\n      localStorage.setItem(key, JSON.stringify(searches));\r\n      o.next(true);\r\n      o.complete();\r\n    });\r\n  }\r\n\r\n  public getLongRequest(): Observable<string> {\r\n    return this.httpClient.get<string>('http://localhost:5000/long-request');\r\n  }\r\n}\r\n","<forge-scaffold>\r\n  <forge-toolbar slot=\"header\" class=\"header\">\r\n    <h2 slot=\"start\" class=\"forge-typography--heading4\" [id]=\"id + '--title'\">{{dialogTitle}}</h2>\r\n    <ng-content select=\"[app-dialog-header]\"></ng-content>\r\n    <forge-icon-button class=\"header__close\" slot=\"end\" aria-label=\"Close\" (click)=\"onClose()\">\r\n      <forge-icon name=\"close\"></forge-icon>\r\n    </forge-icon-button>\r\n  </forge-toolbar>\r\n  <div slot=\"body\" class=\"body\">\r\n    <ng-content></ng-content>\r\n  </div>\r\n  @if (showFooter) {\r\n  <forge-toolbar slot=\"footer\" class=\"footer\" inverted=\"true\">\r\n    <ng-content select=\"[app-dialog-footer]\"></ng-content>\r\n  </forge-toolbar>\r\n  }\r\n</forge-scaffold>\r\n","import { CommonModule } from '@angular/common';\r\nimport { Component, Input, inject } from '@angular/core';\r\nimport { DialogRef, ForgeIconButtonModule, ForgeIconModule, ForgeScaffoldModule, ForgeToolbarModule } from '@tylertech/forge-angular';\r\nimport { Utils } from 'src/utils';\r\n\r\n@Component({\r\n  selector: 'app-dialog',\r\n  standalone: true,\r\n  imports: [\r\n    CommonModule,\r\n    ForgeIconButtonModule,\r\n    ForgeIconModule,\r\n    ForgeScaffoldModule,\r\n    ForgeToolbarModule\r\n  ],\r\n  templateUrl: './dialog.component.html',\r\n  styleUrl: './dialog.component.scss'\r\n})\r\nexport class DialogComponent {\r\n  private dialogRef = inject(DialogRef);\r\n\r\n  public id = Utils.elementId('app-');\r\n  @Input({ required: true })\r\n  public dialogTitle?: string;\r\n  @Input()\r\n  public showFooter = true;\r\n\r\n  constructor() {\r\n    this.dialogRef.nativeElement.setAttribute('aria-labelledby', `${this.id}--title`);\r\n  }\r\n\r\n  public onClose() {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","\r\nimport { DestroyRef, Directive, ElementRef, Input, OnInit, Renderer2, inject } from '@angular/core';\r\nimport { AbstractControl } from '@angular/forms';\r\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\r\nimport { combineLatest, delay, distinctUntilChanged, fromEvent, map, startWith } from 'rxjs';\r\n\r\n@Directive({\r\n  selector: '[appFormControlInvalid]',\r\n  standalone: true\r\n})\r\nexport class FormControlInvalidDirective implements OnInit {\r\n  private destroyRef = inject(DestroyRef);\r\n  private elementRef = inject(ElementRef<HTMLElement>);\r\n  private renderer = inject(Renderer2);\r\n\r\n  @Input({ alias: 'appFormControlInvalid', required: true })\r\n  public control!: AbstractControl;\r\n\r\n  public ngOnInit() {\r\n    const blur$ = fromEvent<FocusEvent>(this.elementRef.nativeElement, 'focusout').pipe(delay(0));\r\n    const statusChanges$ = this.control.statusChanges.pipe(startWith(this.control.status));\r\n\r\n    combineLatest({ event: blur$, status: statusChanges$ }).pipe(\r\n      map(value => value.status === 'INVALID' && this.control.touched),\r\n      distinctUntilChanged(),\r\n      takeUntilDestroyed(this.destroyRef)\r\n    ).subscribe(shouldMarkInvalid => {\r\n      if (shouldMarkInvalid) {\r\n        this.renderer.setAttribute(this.elementRef.nativeElement, 'invalid', '');\r\n        this.renderer.addClass(this.elementRef.nativeElement, 'app-form-control-invalid');\r\n      } else {\r\n        this.renderer.removeAttribute(this.elementRef.nativeElement, 'invalid');\r\n        this.renderer.removeClass(this.elementRef.nativeElement, 'app-form-control-invalid');\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { formatDate, formatNumber, Location } from '@angular/common';\r\nimport { HttpParams } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { isArray, getPropertyValue, isDefined, isString } from '@tylertech/forge-core';\r\nimport { SortDirection } from '@tylertech/forge';\r\n\r\nexport class Utils {\r\n  public static sortData(data: any[], key: string, type: 'string' | 'number' | 'boolean' | 'date', direction: 'ASC' | 'DESC' | SortDirection): any[] {\r\n    if (!data || !data.length) {\r\n      return data;\r\n    }\r\n\r\n    type = type || 'string';\r\n\r\n    if (direction !== 'DESC') {\r\n      direction = 'ASC';\r\n    }\r\n\r\n    return data.slice().sort((a, b): number => {\r\n      a = getPropertyValue(a, key);\r\n      b = getPropertyValue(b, key);\r\n\r\n      if (direction === 'DESC') {\r\n        return this.comparator(b, a, type);\r\n      } else {\r\n        return this.comparator(a, b, type);\r\n      }\r\n    });\r\n  }\r\n\r\n  public static groupData(data: any[], property: string): any[] {\r\n    if (!isArray(data) || !data.length || !property?.length) {\r\n      return data;\r\n    }\r\n\r\n    return data.reduce((previousValue, currentValue) => {\r\n      const key = currentValue[property];\r\n      if (!previousValue[key]) {\r\n        previousValue[key] = [];\r\n      }\r\n      previousValue[key].push(currentValue);\r\n      return previousValue;\r\n    }, {});\r\n  }\r\n\r\n  public static filterData(data: any[], filters: { key: string; value: string; type?: 'string' | 'number' | 'boolean' | 'date'; strict?: boolean }[]): any[] {\r\n    if (!isArray(data) || !data.length || !isArray(filters) || !filters.length) {\r\n      return data;\r\n    }\r\n\r\n    filters = filters.map((f) => {\r\n      if (isString(f.value) && f.value.length) {\r\n        let operator;\r\n        if (f.value.substring(0, 2) === '<>') {\r\n          if (f.value.length === 2) {\r\n            f.value = '';\r\n            return f;\r\n          }\r\n          operator = f.value.substring(0, 2);\r\n          f.value = f.value.substring(2);\r\n        } else if (f.value.substring(0, 1) === '<' || f.value.substring(0, 1) === '>') {\r\n          if (f.value.length === 1) {\r\n            f.value = '';\r\n            return f;\r\n          }\r\n          operator = f.value.substring(0, 1);\r\n          f.value = f.value.substring(1);\r\n        }\r\n\r\n        if (operator) {\r\n          Object.defineProperty(f, 'operator', { value: operator });\r\n        }\r\n      }\r\n\r\n      f.value = ('' + f.value).toLowerCase();\r\n      return f;\r\n    });\r\n\r\n    const filter = (rec: any) =>\r\n      filters.every((f) => {\r\n        if (!f.value.length) {\r\n          return true;\r\n        }\r\n\r\n        const value = ('' + getPropertyValue(rec, f.key)).toLowerCase();\r\n        if (!value.length) {\r\n          return false;\r\n        }\r\n\r\n        if (f.strict) {\r\n          return value === f.value;\r\n        }\r\n\r\n        switch ((f as any).operator) {\r\n          case '<>':\r\n            return this.comparator(value, f.value, f.type) !== 0;\r\n          case '>':\r\n            return this.comparator(value, f.value, f.type) > 0;\r\n          case '<':\r\n            return this.comparator(value, f.value, f.type) < 0;\r\n          default:\r\n            return value.indexOf(f.value) > -1;\r\n        }\r\n      });\r\n\r\n    return data.filter((rec) => filter(rec));\r\n  }\r\n\r\n  public static comparator(a: any, b: any, type: 'string' | 'number' | 'boolean' | 'date' = 'string'): number {\r\n    // eslint-disable-next-line\r\n    if (a == b) {\r\n      return 0;\r\n    }\r\n    if (!isDefined(a)) {\r\n      return -1;\r\n    }\r\n    if (!isDefined(b)) {\r\n      return 1;\r\n    }\r\n\r\n    switch (type) {\r\n      case 'boolean':\r\n        return a ? -1 : 1;\r\n      case 'date':\r\n        a = new Date(a).getTime();\r\n        if (isNaN(a)) {\r\n          return -1;\r\n        }\r\n        b = new Date(b).getTime();\r\n        if (isNaN(b)) {\r\n          return 1;\r\n        }\r\n        break;\r\n      case 'number':\r\n        a = parseFloat(a);\r\n        if (isNaN(a)) {\r\n          return -1;\r\n        }\r\n        b = parseFloat(b);\r\n        if (isNaN(b)) {\r\n          return 1;\r\n        }\r\n        break;\r\n      default:\r\n        if (!isNaN(parseFloat(a)) && !isNaN(parseFloat(b))) {\r\n          return ('' + a).localeCompare('' + b, navigator.language, { numeric: true });\r\n        } else {\r\n          return ('' + a).localeCompare('' + b, navigator.language, { sensitivity: 'base' });\r\n        }\r\n    }\r\n\r\n    return a < b ? -1 : a > b ? 1 : 0;\r\n  }\r\n\r\n  public static navigateBack(location: Location, router: Router, fallbackRoute: any[]) {\r\n    if ((location.getState() as any)?.navigationId === 1) {\r\n      router.navigate(fallbackRoute);\r\n    } else {\r\n      location.back();\r\n    }\r\n  }\r\n\r\n  public static elementId(prefix: string): string {\r\n    return (\r\n      prefix +\r\n      Math.random()\r\n        .toString(36)\r\n        .replace(/[^a-z]+/g, '')\r\n    );\r\n  }\r\n\r\n  public static formatDate(value: Date, format = 'MM/dd/yyyy'): string {\r\n    if (!isDefined(value)) {\r\n      return '';\r\n    }\r\n    return formatDate(value, format, navigator.language);\r\n  }\r\n\r\n  public static formatNumber(value: number, format = '1.2-2'): string {\r\n    return formatNumber(value, navigator.language, format);\r\n  }\r\n\r\n  public static uniqueId(): string {\r\n    return Math.random().toString(36).substring(2);\r\n  }\r\n\r\n  public static parseQueryStringParameters(): any {\r\n    const params = {};\r\n    const queryIndex = window.location.href.indexOf('?');\r\n    if (queryIndex !== -1) {\r\n      const httpParams = new HttpParams({ fromString: window.location.href.substring(queryIndex) });\r\n      httpParams.keys().forEach(k => {\r\n        const value = httpParams.getAll(k) as string[];\r\n        if (value.length) {\r\n          Object.defineProperty(params, k.toLowerCase(), { value: value.length === 1 ? value[0] : value, enumerable: true, writable: true });\r\n        }\r\n      });\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  public static reduceObject(object: any): any {\r\n    const reduced: any = {};\r\n\r\n    Object.keys(object).forEach(key => {\r\n      if (isDefined(object[key])) {\r\n        if (isArray(object[key])) {\r\n          if (object[key].length) {\r\n            reduced[key] = object[key];\r\n          }\r\n        } else if ((object[key] + '').trim().length) {\r\n          reduced[key] = typeof object[key] === 'string' ? object[key].trim() : object[key];\r\n        }\r\n      }\r\n    });\r\n\r\n    return reduced;\r\n  }\r\n}\r\n","import { innerFrom } from '../observable/innerFrom';\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nconst nodeEventEmitterMethods = ['addListener', 'removeListener'];\nconst eventTargetMethods = ['addEventListener', 'removeEventListener'];\nconst jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n    }\n    const [add, remove] = isEventTarget(target)\n        ? eventTargetMethods.map((methodName) => (handler) => target[methodName](eventName, handler, options))\n        :\n            isNodeStyleEventEmitter(target)\n                ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n                : isJQueryStyleEventEmitter(target)\n                    ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n                    : [];\n    if (!add) {\n        if (isArrayLike(target)) {\n            return mergeMap((subTarget) => fromEvent(subTarget, eventName, options))(innerFrom(target));\n        }\n    }\n    if (!add) {\n        throw new TypeError('Invalid event target');\n    }\n    return new Observable((subscriber) => {\n        const handler = (...args) => subscriber.next(1 < args.length ? args : args[0]);\n        add(handler);\n        return () => remove(handler);\n    });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n    return (methodName) => (handler) => target[methodName](eventName, handler);\n}\nfunction isNodeStyleEventEmitter(target) {\n    return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n    return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n    return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n","import { Observable } from '../Observable';\nimport { async as asyncScheduler } from '../scheduler/async';\nimport { isScheduler } from '../util/isScheduler';\nimport { isValidDate } from '../util/isDate';\nexport function timer(dueTime = 0, intervalOrScheduler, scheduler = asyncScheduler) {\n    let intervalDuration = -1;\n    if (intervalOrScheduler != null) {\n        if (isScheduler(intervalOrScheduler)) {\n            scheduler = intervalOrScheduler;\n        }\n        else {\n            intervalDuration = intervalOrScheduler;\n        }\n    }\n    return new Observable((subscriber) => {\n        let due = isValidDate(dueTime) ? +dueTime - scheduler.now() : dueTime;\n        if (due < 0) {\n            due = 0;\n        }\n        let n = 0;\n        return scheduler.schedule(function () {\n            if (!subscriber.closed) {\n                subscriber.next(n++);\n                if (0 <= intervalDuration) {\n                    this.schedule(undefined, intervalDuration);\n                }\n                else {\n                    subscriber.complete();\n                }\n            }\n        }, due);\n    });\n}\n","export function isValidDate(value) {\n    return value instanceof Date && !isNaN(value);\n}\n","import { concat } from '../observable/concat';\nimport { take } from './take';\nimport { ignoreElements } from './ignoreElements';\nimport { mapTo } from './mapTo';\nimport { mergeMap } from './mergeMap';\nimport { innerFrom } from '../observable/innerFrom';\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n    if (subscriptionDelay) {\n        return (source) => concat(subscriptionDelay.pipe(take(1), ignoreElements()), source.pipe(delayWhen(delayDurationSelector)));\n    }\n    return mergeMap((value, index) => innerFrom(delayDurationSelector(value, index)).pipe(take(1), mapTo(value)));\n}\n","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nimport { noop } from '../util/noop';\nexport function ignoreElements() {\n    return operate((source, subscriber) => {\n        source.subscribe(createOperatorSubscriber(subscriber, noop));\n    });\n}\n","import { asyncScheduler } from '../scheduler/async';\nimport { delayWhen } from './delayWhen';\nimport { timer } from '../observable/timer';\nexport function delay(due, scheduler = asyncScheduler) {\n    const duration = timer(due, scheduler);\n    return delayWhen(() => duration);\n}\n","import { identity } from '../util/identity';\nimport { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function distinctUntilChanged(comparator, keySelector = identity) {\n    comparator = comparator !== null && comparator !== void 0 ? comparator : defaultCompare;\n    return operate((source, subscriber) => {\n        let previousKey;\n        let first = true;\n        source.subscribe(createOperatorSubscriber(subscriber, (value) => {\n            const currentKey = keySelector(value);\n            if (first || !comparator(previousKey, currentKey)) {\n                first = false;\n                previousKey = currentKey;\n                subscriber.next(value);\n            }\n        }));\n    });\n}\nfunction defaultCompare(a, b) {\n    return a === b;\n}\n","import { Subscription } from '../Subscription';\nexport class Action extends Subscription {\n    constructor(scheduler, work) {\n        super();\n    }\n    schedule(state, delay = 0) {\n        return this;\n    }\n}\n","export const intervalProvider = {\n    setInterval(handler, timeout, ...args) {\n        const { delegate } = intervalProvider;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) {\n            return delegate.setInterval(handler, timeout, ...args);\n        }\n        return setInterval(handler, timeout, ...args);\n    },\n    clearInterval(handle) {\n        const { delegate } = intervalProvider;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n    },\n    delegate: undefined,\n};\n","import { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nexport class AsyncAction extends Action {\n    constructor(scheduler, work) {\n        super(scheduler, work);\n        this.scheduler = scheduler;\n        this.work = work;\n        this.pending = false;\n    }\n    schedule(state, delay = 0) {\n        var _a;\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        const id = this.id;\n        const scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = (_a = this.id) !== null && _a !== void 0 ? _a : this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    }\n    requestAsyncId(scheduler, _id, delay = 0) {\n        return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    }\n    recycleAsyncId(_scheduler, id, delay = 0) {\n        if (delay != null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        if (id != null) {\n            intervalProvider.clearInterval(id);\n        }\n        return undefined;\n    }\n    execute(state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        const error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    }\n    _execute(state, _delay) {\n        let errored = false;\n        let errorValue;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = e ? e : new Error('Scheduled action threw falsy error');\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    }\n    unsubscribe() {\n        if (!this.closed) {\n            const { id, scheduler } = this;\n            const { actions } = scheduler;\n            this.work = this.state = this.scheduler = null;\n            this.pending = false;\n            arrRemove(actions, this);\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n            super.unsubscribe();\n        }\n    }\n}\n","import { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nexport class Scheduler {\n    constructor(schedulerActionCtor, now = Scheduler.now) {\n        this.schedulerActionCtor = schedulerActionCtor;\n        this.now = now;\n    }\n    schedule(work, delay = 0, state) {\n        return new this.schedulerActionCtor(this, work).schedule(state, delay);\n    }\n}\nScheduler.now = dateTimestampProvider.now;\n","import { Scheduler } from '../Scheduler';\nexport class AsyncScheduler extends Scheduler {\n    constructor(SchedulerAction, now = Scheduler.now) {\n        super(SchedulerAction, now);\n        this.actions = [];\n        this._active = false;\n    }\n    flush(action) {\n        const { actions } = this;\n        if (this._active) {\n            actions.push(action);\n            return;\n        }\n        let error;\n        this._active = true;\n        do {\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        } while ((action = actions.shift()));\n        this._active = false;\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    }\n}\n","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport const asyncScheduler = new AsyncScheduler(AsyncAction);\nexport const async = asyncScheduler;\n","export const dateTimestampProvider = {\n    now() {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n"],"x_google_ignoreList":[5,6,7,8,9,10,11,12,13,14,15,16,17,18]}